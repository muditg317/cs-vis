{"version":3,"sources":["res/images/logo.svg","utils/ControlBuilder.js","utils/Colors.js","utils/Utils.js","components/visualizer/controlBar/controlBar.jsx","components/big-o-type/big-o-display/big-o-display.jsx","components/big-o-type/big-o-display/index.js","components/visualizer/bigOWindow/bigOWindow.jsx","components/visualizer/examplesWindow/examplesWindow.jsx","animation/AnimatedObjects/AnimatedObject.js","animation/AnimatedObjects/AttractedDraggableObject.js","animation/AnimatedObjects/AttractedHighlightableObject.js","animation/AnimatedObjects/TreeNode.js","animation/AnimatedObjects/TrackingHighlighter.js","animation/Animator.js","animation/Visualization.js","animation/Visualizations/DataStructure/List/ArrayList/ArrayList.js","animation/Visualizations/DataStructure/List/LinkedList/SinglyLinkedList/SinglyLinkedList.js","animation/Visualizations/DataStructure/List/LinkedList/DoublyLinkedList/DoublyLinkedList.js","animation/Visualizations/DataStructure/List/LinkedList/CircularSinglyLinkedList/CircularSinglyLinkedList.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Stack/StackArray/StackArray.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Stack/StackLinkedList/StackLinkedList.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Queue/QueueArray/QueueArray.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Queue/QueueLinkedList/QueueLinkedList.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Deque/DequeArray/DequeArray.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Deque/DequeLinkedList/DequeLinkedList.js","animation/Visualizations/DataStructure/Tree-SkipList/BinaryTree/BST/BST.js","animation/Visualizations/DataStructure/Tree-SkipList/BinaryTree/Heap/Heap.js","animation/Visualizations/DataStructure/Tree-SkipList/BinaryTree/AVL/AVL.js","animation/Visualizations/DataStructure/Tree-SkipList/BinaryTree/SplayTree/SplayTree.js","animation/Visualizations/DataStructure/Tree-SkipList/BTree/BTree.js","animation/Visualizations/DataStructure/Tree-SkipList/SkipList/SkipList.js","animation/Visualizations/DataStructure/HashMap/HashMapProbing/HashMapProbing.js","animation/Visualizations/DataStructure/HashMap/HashMapChaining/HashMapChaining.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/BubbleSort/BubbleSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/CocktailShakerSort/CocktailShakerSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/InsertionSort/InsertionSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/SelectionSort/SelectionSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/QuickSort/QuickSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/QuickSelect/QuickSelect.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/MergeSort/MergeSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/LSDRadixSort/LSDRadixSort.js","animation/Visualizations/Algorithm/StringSearching/BruteForce/BruteForce.js","animation/Visualizations/Algorithm/StringSearching/BoyerMoore/BoyerMoore.js","animation/Visualizations/Algorithm/StringSearching/KMP/KMP.js","animation/Visualizations/Algorithm/StringSearching/RabinKarp/RabinKarp.js","animation/Visualizations/Algorithm/GraphAlgorithms/BFS/BFS.js","animation/Visualizations/Algorithm/GraphAlgorithms/DFS/DFS.js","animation/Visualizations/Algorithm/GraphAlgorithms/Dijkstras/Dijkstras.js","animation/Visualizations/Algorithm/GraphAlgorithms/Prims/Prims.js","animation/Visualizations/Algorithm/GraphAlgorithms/Kruskals/Kruskals.js","animation/Visualizations/Algorithm/DynamicProgramming/LCS/LCS.js","animation/Visualizations/Algorithm/DynamicProgramming/FloydWarshall/FloydWarshall.js","components/visualizer/visualizer.jsx","components/lists/list-ADT.jsx","components/lists/arraylist/arraylist.jsx","components/lists/singly-linked-list/singly-linked-list.jsx","components/lists/doubly-linked-list/doubly-linked-list.jsx","components/lists/circular-singly-linked-list/circular-singly-linked-list.jsx","components/stacks-queues-deques/stack-ADT.jsx","components/stacks-queues-deques/queue-ADT.jsx","components/stacks-queues-deques/deque-ADT.jsx","components/stacks-queues-deques/stack-array/stack-array.jsx","components/stacks-queues-deques/stack-linked-list/stack-linked-list.jsx","components/stacks-queues-deques/queue-array/queue-array.jsx","components/stacks-queues-deques/queue-linked-list/queue-linked-list.jsx","components/stacks-queues-deques/deque-array/deque-array.jsx","components/stacks-queues-deques/deque-linked-list/deque-linked-list.jsx","components/trees-skiplist/tree-ADT.jsx","components/trees-skiplist/binary-searching-tree-ADT.jsx","components/trees-skiplist/heap-ADT.jsx","components/trees-skiplist/skiplist-ADT.jsx","components/trees-skiplist/bst/bst.jsx","components/trees-skiplist/heap/heap.jsx","components/trees-skiplist/avl/avl.jsx","components/trees-skiplist/splaytree/splaytree.jsx","components/trees-skiplist/btree/btree.jsx","components/trees-skiplist/skiplist/skiplist.jsx","components/hashmaps/hashmap-ADT.jsx","components/hashmaps/probing-ADT.jsx","components/hashmaps/hashmap-probing/hashmap-probing.jsx","components/hashmaps/hashmap-chaining/hashmap-chaining.jsx","components/sorting-quickselect/sort-ADT.jsx","components/sorting-quickselect/bubbling-ADT.jsx","components/sorting-quickselect/quick-ADT.jsx","components/sorting-quickselect/select-ADT.jsx","components/sorting-quickselect/bubble-sort/bubble-sort.jsx","components/sorting-quickselect/cocktail-shaker-sort/cocktail-shaker-sort.jsx","components/sorting-quickselect/insertion-sort/insertion-sort.jsx","components/sorting-quickselect/selection-sort/selection-sort.jsx","components/sorting-quickselect/quick-sort/quick-sort.jsx","components/sorting-quickselect/quick-select/quick-select.jsx","components/sorting-quickselect/merge-sort/merge-sort.jsx","components/sorting-quickselect/lsd-radix-sort/lsd-radix-sort.jsx","components/string-searching/search-ADT.jsx","components/string-searching/with-table-ADT.jsx","components/string-searching/brute-force/brute-force.jsx","components/string-searching/boyer-moore/boyer-moore.jsx","components/string-searching/kmp/kmp.jsx","components/string-searching/rabin-karp/rabin-karp.jsx","components/graph-algorithms/graph-ADT.jsx","components/graph-visualizer-controls/graph-visualizer-controls.jsx","components/graph-visualizer-controls/index.js","components/graph-algorithms/bfs/bfs.jsx","components/graph-algorithms/dfs/dfs.jsx","components/graph-algorithms/dijkstras/dijkstras.jsx","components/graph-algorithms/prims/prims.jsx","components/graph-algorithms/kruskals/kruskals.jsx","components/dynamic-programming/lcs/lcs.jsx","components/dynamic-programming/floyd-warshall/floyd-warshall.jsx","utils/SiteMap.js","components/app/nav-bar/nav-bar.jsx","components/app/app-header/app-header.jsx","components/app/app-footer/app-footer.jsx","components/visualizer-group/visualizer-type/visualizer-title/index.js","components/visualizer-group/visualizer-type/visualizer-title/visualizer-title.jsx","components/big-o-type/index.js","components/big-o-type/big-o-type.jsx","components/visualizer-group/visualizer-type/index.js","components/visualizer-group/visualizer-type/visualizer-type.jsx","components/visualizer-group/index.js","components/visualizer-group/visualizer-group.jsx","components/main/index.js","components/main/main.jsx","components/about/about.jsx","components/app/app.jsx","serviceWorker.js","index.js"],"names":["module","exports","newEmptyControl","emptyControl","document","createElement","applyStyle","createControl","type","value","newControl","classList","add","setAttribute","createButton","label","options","button","innerHTML","attr","tooltipText","attributes","addButtonSubmit","callback","fields","undefined","addEventListener","event","args","forEach","field","parse","push","f","clearOnSuccess","focus","length","console","log","applyNewCallbackButton","visualizer","name","longName","addAnimatorEnableDisable","animator","on","disabled","applyResetButton","prompt","fieldToFocus","property","endsWith","constructor","HTMLInputElement","createField","validators","inputValidators","parsers","map","validator","parser","i","validatorIntOnly","match","reduce","sum","char","val","parseInt","isNaN","validatorPositiveIntOnly","Math","abs","validatorIntList","numLength","maxNums","cursorPos","selectionStart","replace","substring","lastIndexOf","selectionEnd","values","ints","num","pow","intStr","arr","first","second","slice","validatorMaxLength","maxLength","String","validatorSkipListHeads","addFieldSubmit","secondaryRequired","secondary","isFirstParam","clear","key","success","secondaryValue","applyFieldWithOptions","classes","defaultArgs","size","createLabel","text","control","newLabel","id","createSlider","min","max","defaultValue","step","slider","createRadioButton","longText","buttonContainer","radioButton","tabindex","blur","appendChild","click","createRadio","radioContainer","option","radioButtonContainer","childNodes","checked","addRadioSubmit","createCheckButton","checkButton","target","createCheckBox","checkBoxContainer","checkButtonContainer","addCheckBoxSubmit","max1Checked","checkedButton","checkedValues","checkButtonBox","createControlGroup","controlGroup","controls","setTabControl","nextControl","window","shifted","preventDefault","styleType","style","RED","GREEN","BLUE","BLACK","WHITE","addArray","array","newArr","arrays","item","isDev","process","unfoldUndoRedo","object","properties","Set","currObj","Object","getOwnPropertyNames","getPrototypeOf","functions","keys","filter","includes","undo","redo","DOM_SELECORS_USING_MOBILE","isMobile","ontouchstart","addMobileClasses","selector","querySelectorAll","node","isReactComponent","component","prototype","windowWidth","documentElement","clientWidth","innerWidth","windowHeight","clientHeight","innerHeight","spannifyText","afterTheseString","split","toUpperCase","Fragment","RegExp","str","ControlBar","props","defaultContainer","React","createRef","defaults","mainContainer","controlBar","this","defaultsLabel","forceUpdate","mainLabel","current","all1","contains","transformed","getBoundingClientRect","width","parseFloat","getComputedStyle","getPropertyValue","remove","testCenterControls","testSize","className","ref","data-tooltip","tt-bottom","tt-right","onClick","showBigODisplay","icon","hasExamples","showExamplesDisplay","PureComponent","bigODatumToDivClass","bigODatum","BigODisplay","BIG_O_DATA","bigOSpecs","data","SiteMap","group","link","types","class","bigOData","__proto__","defaultConfig","DATA","headers","col1Name","cols","header","dataString","styleClass","explanation","rows","row","ROW","col","regexIgnoreSymbol","row_","search","col_","BIG_O_OP_INFO","extraConfigData","config","best","average","amortized","worst","unamortized","extraConfig","trim","newBigO","indexOf","tier","allSame","extractDataFromSpecs","useEffect","mouseEnterHandler","left","top","explanationNode","lastChild","tableCellBounds","explanationNodeBounds","right","Utils","bottom","height","cellsWithExplanations","explanationCell","removeEventListener","borderColor","cell","j","line","k","BigOWindow","forwardRef","closeBigODisplay","containerRef","useRef","documentClickHandler","escapeKeyHandler","useRouteMatch","path","title","params","visualizerGroup","visualizerType","visualizerClass","ExamplesDisplay","example","exampleText","bind","operationList","needsReset","tryItText","ExamplesWindow","closeExamplesDisplay","examples","AnimatedObject","xProgress","yProgress","direction","animationSpeed","inPosition","sign","AttractedDraggableObject","x","y","currentX","currentY","desiredX","desiredY","vx","vy","frozen","onStop","pinnedToMouse","mouseOffsetX","mouseOffsetY","stop","sqrt","shift","mouseX","mouseY","CAN_DRAG","p5","deltaX","deltaY","floor","Visualizer","maxAnimationSpeed","angle","atan","PI","magnitude","ATTRACTION","prevAngle","cos","sin","MIN_DISTANCE","AttractedHighlightableObject","highlighted","highlightColor","Colors","highlightShape","HIGHLIGHT_CIRCLE","entries","oldX","oldY","color","shape","unhighlight","highlight","stroke","noFill","strokeWeight","HIGHTLIGHT_WIDTH","diameter","highlightInnerRadius","highlightOuterRadius","circle","HIGHLIGHT_SQUARE","square","pop","textAlign","CENTER","fill","radius","toString","drawHighlight","drawValue","TreeNode","readyToFollow","SIZE","getCenterXY","centerX","centerY","containsMousePin","VSPACE","TrackingHighlighter","offset","locked","innerRadius","asRedSquare","trackTarget","Animator","events","Visualization","SET_BOUNDS","SUPPORTS_TEXT","showText","updateText","SUPPORTS_NO_LOOP","drawing","beginDrawLoop","endDrawLoop","SUPPORTS_ANIMATION_CONTROL","paused","playPause","play","pause","skipBack","stepBack","undoAnimation","undoText","skipForward","stepForward","redoAnimation","undoAction","doExample","SUPPORTS_STOP_ID","stopID","testAnimation","reset","made","howMany","animationHistory","animationSet","stepData","animation","method","isBackStep","isAnimationStep","isForwardStep","alsoForward","lastForward","displayText","displayTextColor","runningAnimation","animationQueue","animating","stopDrawing","noLoop","emit","enable","disable","isPauseTrigger","unshift","setPaused","noAnim","apply","canStepBack","canSkipBack","canStepForward","canSkipForward","textAnimation","getLastTextAnimation","previousAnimation","doDraw","scope","undoMethod","undoData","LOG_UNDO_REDO","customUndoEnd","ensureDrawn","lastUndo","unAnimate","popHistoryToRunningAnimation","nextAnimation","retVal","redoData","isAnimEnd","returnValue","customRedoEnd","testsWindowSize","processCompletedAnimation","SUPPORTS_INFREQUENT_RESIZE","testWindowSize","lastRedo","isEndDrawLoopTrigger","reAnimate","isAnimStart","previousAnimationSequence","containsAnimStart","noAnimStartsInQueue","canUndo","isUndoTrigger","wasPaused","splice","temp","methodName","TypeError","time","caller","LOG_DONE_ANIMATING","setTimeout","callForward","popAnimation","isPopNotStep","TEST_ANIMATION_STEPS","explanationUsesReturn","returnsUndoData","returnsRedoData","LOG_ANIMATIONS","SUPPORTS_CUSTOM_END","noAnimation","customEnd","doneAnimating","MAX_ANIM_TIME","quick","loop","force","LOG_DRAW","textSize","LEFT","TOP","getDisplayTextExtraLines","translate","textWidth","lines","ceil","numScrollbars","maxY","maxWidth","querySelector","resizeCanvas","e","INITIAL_SPEED","ArrayList","backingArray","INITIAL_CAPACITY","ArrayElement","index","doubleSize","shiftForIndex","setIndex","sizeIncr","addAnimation","addAtIndex","element","shiftIntoIndex","sizeDecr","removeFromIndex","resetElement","incrLength","shiftElement","shiftElementMovement","shiftElementIndex","ELEMENT_SIZE","update","foundAnimElement","maxPerRow","numElements","noStroke","rect","block","nextX","nextY","draw","USE_CANVAS","toX","toY","posX","posY","SinglyLinkedList","head","nodes","tempNode","pinnedNode","nextNode","moveHighlight","next","makeNode","setTempNodeBefore","setTempNodePrev","shiftForNode","insertTempNode","prev","toDelete","markNodeForDeletion","unmakeNode","shiftIntoNode","skipTempNode","SinglyLinkedListNode","getNodePosition","fromNode","toNode","unHighlight","nodeToDelete","markForDeletion","addOnStop","shiftNode","ELEMENT_HEIGHT","containsPos","pin","unpin","markBroken","highlightForDeletion","updateNode","ELEMENT_WIDTH","pressedNode","getNodeAtPos","POINTER_WIDTH","ITEM_WIDTH","SPACING","MAX_DIST_REMOVE","handBroken","displacement","dist","DoublyLinkedList","tail","skipTempNodePrev","skipTempNodeNext","DoublyLinkedListNode","ELEMENT_PADDED_WIDTH","CircularSinglyLinkedList","changeHeadData","customNodeShift","resetHead","CircularSinglyLinkedListNode","unfreeze","pointsToHead","curveTightness","beginShape","curveVertex","endShape","StackArray","Array","copyArray","tempElement","topPointerValue","topPointerHighlighter","TOP_LOCATION_X","TOP_LOCATION_Y","resizing","createCopyArray","makeElement","useTopPointer","highlightTemp","insertElement","updateTopPointer","extractElement","unmakeElement","initCopyArray","addItemToCopy","useCopyArr","pos","getElementPosition","StackArrayElement","customEndingElementShift","assignCopyArray","shiftElementToBackingArray","immediateHighlight","highlightForMovement","moveTopTracker","goTo","copy","changeTopPointerValue","moving","updateElement","allInPosition","StackLinkedList","skipDraw","maxNode","curr","setTempNodeBeforeHead","shiftHeadForNode","shiftHead","markHeadForDeletion","unmakeHead","StackLinkedListNode","oldData","QueueArray","headPointerValue","headPointerHighlighter","HEAD_LOCATION_X","HEAD_LOCATION_Y","tailPointerValue","tailPointerHighlighter","TAIL_LOCATION_X","TAIL_LOCATION_Y","furthestObject","useTailPointer","updateTailPointer","useHeadPointer","updateHeadPointer","arrIndex","QueueArrayElement","shiftElementToCopyArray","el","noAction","oldBacking","moveTailTracker","moveHeadTracker","oldTemp","newHead","changeHeadPointerValue","oldHead","newTail","changeTailPointerValue","oldTail","QueueLinkedList","setTempNodeAfterTail","shiftTail","QueueLinkedListNode","newTemp","arguments","noTail","HEAD_TAIL_SIZE","HEAD_TAIL_X","tailY","getTailY","shiftTemp","DequeArray","frontPointerValue","frontPointerHighlighter","FRONT_LOCATION_X","FRONT_LOCATION_Y","sizePointerHighlighter","SIZE_LOCATION_X","SIZE_LOCATION_Y","front","useFrontPointer","useFrontDecrementPointer","useFrontSizePointer","updateFrontPointer","updateSizePointer","getIndex","DequeArrayElement","end","moveFrontTracker","fromSize","changeFrontPointerValue","oldFront","changeSizePointerValue","oldSize","DequeLinkedList","setHeadAfterTempNode","setTailBeforeTempNode","shiftNewHead","shiftNewTail","DequeLinkedListNode","atHead","noData","furthest","BST","root","inOrder","predSuccMode","highlighter","rootPointerPos","getRootPointerX","ROOT_SIZE","ROOT_HIGHLIGHT_DIAMETER","ROOT_Y","mostDisplacedRecursive","sort","a","b","dataMover","furthestTreeNode","stopNodesRecursive","calledFromCallback","setHighlighter","insertRecursive","recurredAnimation","newRoot","nodeJustAdded","added","setRoot","shiftByInOrder","clearTemp","deleteRecursive","nodeJustDeleted","deleted","findRecursive","printInOrderRecursive","join","which","switchMode","oldRoot","parent","newLeft","oldLeft","newRight","oldRight","oldTarget","oldColor","setTarget","recalculate","getInOrderRecursive","depth","list","order","getInOrder","oldPositions","centerIndex","displaced","shiftX","HSPACE","setY","getNodeY","justAdded","nodeAdded","setLeft","setRight","BSTNode","justDeleted","newChild","justFoundPredSucc","predSuccValue","pullTempDataToCurr","nodeDeleted","justFound","predecessorValue","findPredecessorRecursive","predValue","successorValue","findSuccessorRecursive","succValue","oldPosition","nodePos","leftAnimation","rightAnimation","VERTICAL_SPACING","getTreeNodeAtPosRecursive","ROOT_X_OFFSET","ROOT_X_MIN","getHeightRecursive","getHeight","leftOffset","rightOffset","rootX","getMaxY","getMaxWidth","HAS_MIN_WIDTH","HORIZONTAL_SPACING","Heap","HeapElement","moveSizeTracker","AVL","SplayTree","BTree","SkipList","HashMapProbing","HashMapChaining","BubbleSort","CocktailShakerSort","InsertionSort","SelectionSort","QuickSort","QuickSelect","MergeSort","LSDRadixSort","BruteForce","BoyerMoore","KMP","RabinKarp","BFS","DFS","Dijkstras","Prims","Kruskals","LCS","FloydWarshall","ADT_NAME","currConstructor","VISUALIZATION_METHODS","preload","setup","mousePressed","touchMoved","mouseReleased","windowResized","controlBarRef","controlGroups","defaultControlGroups","onAnimStart","onAnimEnd","focusedElement","Proxy","get","propertyName","receiver","param","addControlLabel","NAME","addControls","addDefaultControls","state","showBigO","showExamples","disabledControls","bigOWindow","examplesWindow","MAX_SPEED","SPEED_SLIDER_DEGREE","speedSlider","ControlBuilder","sliderLabel","speedSliderGroup","extraGroups","VISUALIZATION_CLASS","playPauseButton","visualization","skipBackButton","stepBackButton","stepForwardButton","skipForwardButton","animationControls","registerControlGroup","child","disableUI","enableUI","activeElement","CONTROLS_ONLY_ACTIVE_UNPAUSED","controlPressed","shiftPressed","pressedDict","visEventHappened","vis","setMainLabel","setDefaultsLabel","defaultGroup","addDefaultGroup","addControlGroup","mounted","prevProps","prevState","disableFriendlyErrors","canvasParentRef","createCanvas","testVisualizationDimensions","background","controlWidth","from","labelWidth","mobile","setState","input","exampleParams","DIV_CLASS","touchStarted","touchEnded","ListVisualizer","valueField","addToBack","indexField","addToFrontButton","removeFromBackButton","addAtIndexButton","resetButton","addFrontBackGroup","addToBackButton","removeFrontBackGroup","removeFromFrontButton","valueFrontBackGroup","indexGroup","removeFromIndexButton","resetGroup","ArrayListVisualizer","SinglyLinkedListVisualizer","DoublyLinkedListVisualizer","CircularSinglyLinkedListVisualizer","StackVisualizer","interactionButtonGroup","pushButton","popButton","mainControlGroup","QueueVisualizer","enqueueButton","dequeueButton","DequeVisualizer","addButtonGroup","addFirstButton","addLastButton","removeButtonGroup","removeFirstButton","removeLastButton","interactionGroup","StackArrayVisualizer","StackLinkedListVisualizer","QueueArrayVisualizer","QueueLinkedListVisualizer","DequeArrayVisualizer","DequeLinkedListVisualizer","TreeVisualizer","insertField","deleteField","findField","insertGroup","insertButton","deleteGroup","deleteButton","findGroup","findButton","printGroup","printButton","BinarySearchingTreeVisualizer","togglePredecessorSuccessorRadio","togglePredecessorSuccessor","togglePredecessorSuccessorGroup","HeapVisualizer","buildHeapField","toggleMinMaxRadio","toggleMinMax","buildHeapGroup","buildHeapButton","toggleMinMaxGroup","SkipListADTVisualizer","addRandomly","headsField","addWithHeads","removeField","getField","addRandomlyGroup","addRandomlyButton","addWithHeadsGroup","addWithHeadsButton","removeGroup","removeButton","getGroup","getButton","BSTVisualizer","HeapPQVisualizer","AVLVisualizer","SplayTreeVisualizer","BTreeVisualizer","SkipListVisualizer","HashMapVisualizer","ProbingVisualizer","toggleProbingModeRadio","toggleProbingMode","toggleProbingModeGroup","HashMapProbingVisualizer","HashMapChainingVisualizer","SortVisualizer","sortField","sortFieldGroup","sortButtonGroup","sortButton","BubblingVisualizer","toggleLastSwapOptimizationCheckBox","toggleLastSwapOptimization","toggleLastSwapOptimizationGroup","QuickVisualizer","toggleSelectPivotElementCheckBox","toggleSelectPivotElement","toggleSelectPivotElementGroup","SelectVisualizer","listField","select","kthField","listFieldGroup","kthFieldGroup","selectButtonGroup","selectButton","BubbleSortVisualizer","CocktailShakerSortVisualizer","InsertionSortVisualizer","SelectionSortVisualizer","QuickSortVisualizer","QuickSelectVisualizer","MergeSortVisualizer","LSDRadixSortVisualizer","SearchVisualizer","offerTable","searchTextField","patternField","buildTable","searchTextFieldGroup","patternFieldGroup","searchButtonGroup","searchButton","buildTableGroup","buildTableButton","SearchWithTableVisualizer","TABLE_NAME","BruteForceVisualizer","BoyerMooreVisualizer","KMPVisualizer","RabinKarpVisualizer","GraphVisualizer","addStartVertexField_and_runButton","startVertexField","runGroup","runButton","addControlGroups","addRunButton","runButtonGroup","addDFStypeRadio","toggleDFStypeRadio","toggleDFStype","dfsTypeRadioGroup","addNewGraphButtons","newGraphButtonsGroup","newSmallGraphButton","newLargeGraphButton","addDirectedUndirectedRadio","toggleUndirectedDirectedRadio","toggleUndirectedDirected","directedUndirectedRadioGroup","addRepresentationRadio","toggleRepresentationRadio","toggleRepresentation","representationRadioGroup","GraphVisualizerControls","BFSVisualizer","GraphControls","DFSVisualizer","DijkstrasVisualizer","PrimsVisualizer","KruskalsVisualizer","LCSVisualizer","firstStringField","findLCS","secondStringField","findLCSButton","stringFieldGroup","lcsButtonGroup","FloydWarshallVisualizer","title_text","add_Front","add_AtIndex","add_Back","remove_Front","remove_AtIndex","remove_Back","get_Front","get_AtIndex","get_Back","withTailConfig","Back","bigOOverride","Array_push","Array_pop","Array_peek","LinkedList","Circular_enqueue","Circular_dequeue","Circular_peek","SinglyLinkedList_enqueue","SinglyLinkedList_dequeue","SinglyLinkedList_peek","DoublyLinkedList_enqueue","DoublyLinkedList_dequeue","DoublyLinkedList_peek","Circular_addFirst","Circular_addLast","Circular_removeFirst","Circular_removeLast","DLL","traversal","upHeap","downHeap","buildHeap","single","double","Space","put","LinkedList_put","LinkedList_remove","LinkedList_search","AVL_put","AVL_remove","AVL_search","Time","Stable","Adaptive","Extra","No","Single","All","General","insertEdge","removeEdge","AdjacencyMatrix","EdgeList","Space_AdjacencyList","Space_EdgeList","incidentEdges_AdjacencyList","incidentEdges_AdjacencyMatrix","areAdjacent_AdjacencyList","areAdjacent_AdjacencyMatrix","insertVertex_AdjacencyList","insertVertex_EdgeList","removeVertex_AdjacencyList","library","fas","far","fab","NavBar","responsive","selfRef","handleDocumentClick","body","scrollTop","scrollToTop","to","location","href","src","logo","alt","nav_items","nav_item","content","container","toggleResponsiveNav","fixedWidth","Component","NavBarItem","drop_down_items","showDropDown","show","setShowDropDown","parentRef","items","parentRoute","NavBarItemTitle","parentNavItem","onMouseDown","containingNavItemRef","nativeEvent","hash","NavBarDropDown","drop_down_item","NavBarDropDownItem","side_pane_items","showSidePane","toggleShowSidePane","setShowSidePane","NavBarDropDownItemTitle","parentDropDownItem","containingDropDownItemRef","NavBarSidePane","side_pane_item","NavBarSideItem","AppHeader","AppFooter","VisualizerTitle","BigOType","unalignedTables","bigOType","cls","currClass","colExplanations","extraTableData","VisualizerType","typeMatch","fullVisualizerClassMatch","foundClass","VisualizerComponent","VisualizerGroup","Main","About","App","basename","StrictMode","Boolean","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.4c60b9d7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.2d46fc74.svg\";","export function newEmptyControl() {\r\n    let emptyControl = document.createElement(\"input\");\r\n    applyStyle(emptyControl, \"visibility\", \"hidden\");\r\n    return emptyControl;\r\n}\r\n\r\nexport function createControl(type, value) {\r\n    let newControl = document.createElement(\"input\");\r\n    newControl.classList.add(\"visual-control\", type);\r\n\r\n    newControl.setAttribute(\"type\", type);\r\n    if (value) {\r\n        newControl.setAttribute(\"value\", value);\r\n    }\r\n\r\n    return newControl;\r\n};\r\n\r\nexport function createButton(label, options) {\r\n    // let button = createControl(\"button\", label);\r\n\r\n    let button = document.createElement(\"button\");\r\n    button.classList.add(\"visual-control\", \"button\");\r\n    button.setAttribute(\"type\", \"button\");\r\n    button.innerHTML = label;\r\n\r\n    if (options) {\r\n        if (options.tooltipText) {\r\n            button.setAttribute(\"data-tooltip\",options.tooltipText);\r\n        }\r\n        for (let attr in options.attributes) {\r\n            button.setAttribute(attr, options.attributes[attr]);\r\n        }\r\n    }\r\n\r\n    return button;\r\n};\r\n\r\nexport function addButtonSubmit(button, callback, ...fields) {\r\n    if (button.type !== \"button\") {\r\n        console.log(\"cannot add callback to nonbutton\");\r\n        return;\r\n    }\r\n    if (callback === undefined) {\r\n        console.log(button, \"cannot set button submit to undefined callback\");\r\n        return;\r\n    }\r\n    button.addEventListener(\"click\", (event) => {\r\n        let args = [];\r\n        fields.forEach((field) => {\r\n            if (args) {\r\n                let f = field.field || field;\r\n                let value = f.parse();\r\n                if (value !== null) {\r\n                    args.push(value);\r\n                } else {\r\n                    args = null;\r\n                }\r\n            }\r\n        });\r\n        if (args) {\r\n            callback(...args);\r\n            fields.forEach((field) => {\r\n                let f = field.field || field;\r\n                if (f.clearOnSuccess) {\r\n                    f.value = \"\";\r\n                }\r\n                if (field.focus === true || fields.length === 1) {\r\n                    f.focus();\r\n                }\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\nexport function applyNewCallbackButton(visualizer, name, ...fields) {\r\n    let longName = name.longName || name;\r\n    let options = name.options || undefined;\r\n    name = name.name || name;\r\n    visualizer[name + \"Button\"] = createButton(longName, options);\r\n    addButtonSubmit(visualizer[name + \"Button\"], visualizer[name], ...fields);\r\n    if (options && options.addAnimatorEnableDisable) {\r\n        visualizer.animator.on(`disable-${name}`, () => {\r\n            visualizer[name + \"Button\"].disabled = true;\r\n        });\r\n        visualizer.animator.on(`enable-${name}`, () => {\r\n            visualizer[name + \"Button\"].disabled = false;\r\n        });\r\n    }\r\n}\r\n\r\nexport function applyResetButton(visualizer, prompt, fieldToFocus) {\r\n    visualizer[prompt + \"Button\"] = createButton(prompt);\r\n    visualizer[prompt + \"Button\"].addEventListener(\"click\", (event) => {\r\n        for (let property in visualizer) {\r\n            if (property.endsWith(\"Field\") && visualizer[property].constructor === HTMLInputElement && visualizer[property].type === \"text\") {\r\n                visualizer[property].value = \"\";\r\n            }\r\n        }\r\n        if (fieldToFocus) {\r\n            fieldToFocus.focus();\r\n        }\r\n    });\r\n    addButtonSubmit(visualizer[prompt + \"Button\"], visualizer[prompt]);\r\n}\r\n\r\nexport function createField(prompt, ...validators) {\r\n    let field = createControl(\"text\");\r\n    field.setAttribute(\"placeHolder\", prompt);\r\n\r\n    field.inputValidators = validators;\r\n    field.parsers = validators.map(validator => validator.parser);\r\n\r\n    field.addEventListener(\"input\", () => {\r\n        field.inputValidators.forEach((validator) => {\r\n            validator(field);\r\n        });\r\n    });\r\n\r\n    field.parse = () => {\r\n        let value = field.value;\r\n        let i = 0;\r\n        while (value && i < field.parsers.length) {\r\n            value = field.parsers[i++](value);\r\n        }\r\n        return value || (value === 0 ? 0 : null);\r\n    }\r\n\r\n    return field;\r\n};\r\n\r\nexport function validatorIntOnly() {\r\n    let validator = (field) => {\r\n        let regex = /^[-+]?\\d*|\\d*/g;\r\n        field.value = field.value.match(regex).reduce((sum, char) => sum + char);\r\n    };\r\n    validator.parser = (value) => {\r\n        let val = parseInt(value);\r\n        if (isNaN(val)) {\r\n            return null;\r\n        } else {\r\n            return val;\r\n        }\r\n    };\r\n    return validator;\r\n};\r\n\r\nexport function validatorPositiveIntOnly() {\r\n    let validator = (field) => {\r\n        let regex = /^[+]?\\d*|\\d*/g;\r\n        field.value = field.value.match(regex).reduce((sum, char) => sum + char);\r\n    }\r\n    validator.parser = (value) => {\r\n        let val = Math.abs(parseInt(value));\r\n        if (isNaN(val)) {\r\n            return null;\r\n        } else {\r\n            return val;\r\n        }\r\n    };\r\n    return validator;\r\n};\r\n\r\nexport function validatorIntList(numLength, maxNums) {\r\n    let validator = (field) => {\r\n        // ^(((\\d+)|(\\d+-\\d+))(,((\\d+)|(\\d+-\\d+)))*)$\r\n        // let regex = /^(((\\d+)|(\\d+-\\d+))(,((\\d+)|(\\d+-\\d+)))*)$/g;\r\n        // let regex = /((\\d+)|(\\d+-\\d+))|(,(\\d+)|(\\d+-\\d+))/g;\r\n        let cursorPos = field.selectionStart;\r\n        let regex = /[+-\\d,]/g;\r\n        field.value = (field.value.match(regex) || [\"\"]).reduce((sum, char) => sum + char);\r\n        field.value = field.value.replace(/\\+{2,}/g,\"+\");\r\n        field.value = field.value.replace(/-{3,}/g,\"--\");\r\n        field.value = field.value.replace(/,{3,}/g,\",,\");\r\n        if ((field.value.match(/,/g) || []).length > maxNums) {\r\n            field.value = field.value.substring(0, field.value.lastIndexOf(\",\"));\r\n        }\r\n        field.selectionStart = field.selectionEnd = cursorPos;\r\n    };\r\n    validator.parser = (value) => {\r\n        // let regex = /^(((-?\\d+)|(-?\\d+--?\\d+))(,((-?\\d+)|(-?\\d+--?\\d+)))*)$/g;\r\n        let regex = /((-?\\d+(--?\\d+)*)|(-?\\d+))/g;\r\n        let values = value.match(regex);\r\n        let ints = [];\r\n        ints.add = ints.push;\r\n        ints.push = (num) => {\r\n            while (num >= Math.pow(10,numLength) || num <= -Math.pow(10,numLength-1)) {\r\n                num /= 10;\r\n            }\r\n            ints.add(parseInt(num));\r\n        };\r\n        values.forEach((intStr, i, arr) => {\r\n            if (intStr.match(/(-?\\d+(--?\\d+){2,})/g)) {\r\n                return null;\r\n            } else if (intStr.match(/(-?\\d+(--?\\d+))/g)) {\r\n                let match = intStr.match(/(-?\\d+)-(-?\\d+)/);\r\n                let [ first, second ] = [ parseInt(match[1]), parseInt(match[2]) ];\r\n                if (first === second) {\r\n                    ints.push(first);\r\n                } else {\r\n                    if (first < second) {\r\n                        for (let i = first; i <= second; i++) {\r\n                            ints.push(i);\r\n                        }\r\n                    } else {\r\n                        for (let i = first; i >= second; i--) {\r\n                            ints.push(i);\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                ints.push(parseInt(intStr));\r\n            }\r\n        });\r\n        return ints.slice(0, maxNums);\r\n    };\r\n    return validator;\r\n}\r\n\r\nexport function validatorMaxLength(maxLength) {\r\n    let validator = (field) => {\r\n        if (field.value.length > maxLength) {\r\n            field.value = field.value.substring(0, maxLength);\r\n        }\r\n    };\r\n    validator.parser = (value) => {\r\n        value = String(value);\r\n        if (value.length === 0) {\r\n            return null;\r\n        } else {\r\n            return value.substring(0, maxLength);\r\n        }\r\n    };;\r\n    return validator;\r\n};\r\n\r\nexport function validatorSkipListHeads() {\r\n    let validator = (field) => {\r\n        let regex = /([HT]+)/gi;\r\n        field.value = (field.value.match(regex) || [\"\"]).reduce((sum, char) => sum + char);\r\n    };\r\n    validator.parser = (value) => {\r\n        let regex = /(^H+T?)/i;\r\n        let val = (value.match(regex) || [\"\"])[0];\r\n        if (val.length === 0) {\r\n            return null;\r\n        } else {\r\n            return (val.match(/H/gi) || []).length;\r\n        }\r\n    };\r\n    return validator;\r\n}\r\n\r\nexport function addFieldSubmit(field, callback, {secondaryRequired = false, secondary = {field: undefined, isFirstParam: false, callback: undefined, clear: false}} = {}) {\r\n    if (field.type !== \"text\") {\r\n        console.log(\"cannot add callback to nontextfield\");\r\n        return;\r\n    }\r\n    if (callback === undefined) {\r\n        console.log(\"cannot set field submit to undefined callback\");\r\n        return;\r\n    }\r\n    field.addEventListener(\"keydown\", (event) => {\r\n        if (event.key === \"Enter\") {\r\n            let value = field.parse();\r\n            if (value !== null) {\r\n                let success;\r\n                let secondaryValue;\r\n                if (secondary.field && (secondaryValue = secondary.field.parse()) !== null) {\r\n                    if (secondaryRequired) {\r\n                        secondary.callback = callback;\r\n                    }\r\n                    if (secondary.isFirstParam) {\r\n                        success = secondary.callback(secondaryValue,value) !== false;\r\n                    } else {\r\n                        success = secondary.callback(value,secondaryValue) !== false;\r\n                    }\r\n                } else if (!secondaryRequired) {\r\n                    success = callback(value) !== false;\r\n                }\r\n                if (success) {\r\n                    if (field.clearOnSuccess) {\r\n                        field.value = \"\";\r\n                    }\r\n                    if (secondary.field && secondary.clear) {\r\n                        secondary.field.value = \"\";\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nexport function applyFieldWithOptions(visualizer, name, ...validators) {\r\n    let prompt = name.prompt || name.longName || name.name || name;\r\n    let args = name.args || {};\r\n    let classes = name.classes || [];\r\n    let callback = name.callback !== false ? (name.callback || name.name || name) : null;\r\n    name = name.name || name;\r\n    visualizer[name + \"Field\"] = createField(prompt, ...validators);\r\n    let defaultArgs = {clearOnSuccess: true, size: 20};\r\n    for (let property in defaultArgs) {\r\n        visualizer[name + \"Field\"][property] = defaultArgs[property];\r\n    }\r\n    for (let property in (args || {})) {\r\n        visualizer[name + \"Field\"][property] = args[property];\r\n    }\r\n    visualizer[name + \"Field\"].classList.add(...classes);\r\n    if (callback) {\r\n        addFieldSubmit(visualizer[name + \"Field\"], visualizer[callback]);\r\n    }\r\n}\r\n\r\nexport function createLabel(text, control) {\r\n    let newLabel = document.createElement(\"label\");\r\n    newLabel.classList.add(\"visual-control\",\"label\");\r\n\r\n    newLabel.setAttribute(\"for\", control.id);\r\n    newLabel.innerHTML = text;\r\n\r\n    return newLabel;\r\n}\r\n\r\nexport function createSlider(min, max, defaultValue, step) {\r\n    let slider = createControl(\"range\");\r\n\r\n    slider.setAttribute(\"min\", min);\r\n    slider.setAttribute(\"max\", max);\r\n    slider.setAttribute(\"step\", step === 0 ? \"1e-18\" : step);\r\n    slider.setAttribute(\"defaultValue\", defaultValue);\r\n    slider.value = defaultValue;\r\n\r\n    return slider;\r\n};\r\n\r\nfunction createRadioButton(name, value) {\r\n    let text = value.longText || value;\r\n    value = value.value || value;\r\n    let buttonContainer = document.createElement(\"div\");\r\n    buttonContainer.classList.add(\"radio-button-container\");\r\n    let radioButton = createControl(\"radio\", value);\r\n    radioButton.name = name;\r\n    radioButton.tabindex = 0;\r\n    radioButton.addEventListener(\"focus\", (event) => {\r\n        radioButton.blur();\r\n    });\r\n    let label = createLabel(text, radioButton);\r\n    buttonContainer.appendChild(radioButton);\r\n    buttonContainer.appendChild(label);\r\n    buttonContainer.addEventListener(\"click\", () => {\r\n        radioButton.click();\r\n        radioButton.focus();\r\n    });\r\n    return buttonContainer;\r\n}\r\n\r\nexport function createRadio(name, ...options) {\r\n    let radioContainer = document.createElement(\"div\");\r\n    radioContainer.classList.add(\"radio-container\", \"visual-control\")\r\n    radioContainer.id = name;\r\n    options.forEach((option) => {\r\n        let radioButtonContainer = createRadioButton(name, option);\r\n        radioContainer.appendChild(radioButtonContainer);\r\n    });\r\n    radioContainer.childNodes[0].childNodes[0].checked = true;\r\n    return radioContainer;\r\n}\r\n\r\nexport function addRadioSubmit(radioContainer, callback) {\r\n    radioContainer.childNodes.forEach((radioButtonContainer) => {\r\n        radioButtonContainer.childNodes[0].addEventListener(\"change\", () => {\r\n            callback(radioButtonContainer.childNodes[0].value);\r\n        });\r\n    });\r\n}\r\n\r\nfunction createCheckButton(name, value) {\r\n    let text = value.longText || value;\r\n    let checked = value.checked || false;\r\n    value = value.value || value;\r\n    let buttonContainer = document.createElement(\"div\");\r\n    buttonContainer.classList.add(\"check-button-container\");\r\n    let checkButton = createControl(\"checkbox\", value);\r\n    checkButton.name = name;\r\n    checkButton.tabindex = 0;\r\n    checkButton.addEventListener(\"focus\", (event) => {\r\n        checkButton.blur();\r\n    });\r\n    if (checked) {\r\n        checkButton.checked = true;\r\n    }\r\n    let label = createLabel(text, checkButton);\r\n    buttonContainer.appendChild(checkButton);\r\n    buttonContainer.appendChild(label);\r\n    buttonContainer.addEventListener(\"click\", (event) => {\r\n        if (event.target !== checkButton) {\r\n            checkButton.click();\r\n            checkButton.focus();\r\n        }\r\n    });\r\n    return buttonContainer;\r\n}\r\n\r\nexport function createCheckBox(name, ...options) {\r\n    let checkBoxContainer = document.createElement(\"div\");\r\n    checkBoxContainer.classList.add(\"checkbox-container\", \"visual-control\")\r\n    checkBoxContainer.id = name;\r\n    options.forEach((option) => {\r\n        let checkButtonContainer = createCheckButton(name, option);\r\n        checkBoxContainer.appendChild(checkButtonContainer);\r\n    });\r\n    return checkBoxContainer;\r\n}\r\n\r\nexport function addCheckBoxSubmit(checkBoxContainer, callback) {\r\n    let max1Checked = callback.max1Checked || false;\r\n    callback = callback.callback || callback;\r\n    checkBoxContainer.childNodes.forEach((checkButtonContainer) => {\r\n        checkButtonContainer.childNodes[0].addEventListener(\"click\", () => {\r\n            let checkedButton = checkButtonContainer.childNodes[0];\r\n            let checkedValues = {};\r\n            checkBoxContainer.childNodes.forEach((checkButtonBox) => {\r\n                let checkButton = checkButtonBox.childNodes[0];\r\n                checkedValues[checkButton.value] = checkButton.checked;\r\n                if (max1Checked && checkButton !== checkedButton) {\r\n                    checkButton.checked = false;\r\n                    checkedValues[checkButton.value] = false;\r\n                }\r\n            });\r\n            callback(checkedValues);\r\n        });\r\n    });\r\n}\r\n\r\n\r\nexport function createControlGroup(id, ...controls) {\r\n    let classes = id.classes || [];\r\n    id = id.id || id;\r\n    let controlGroup = document.createElement(\"div\");\r\n    controlGroup.classList.add(\"control-group\", ...classes);\r\n    controlGroup.id = id;\r\n\r\n    controls.forEach((control) => {\r\n        controlGroup.appendChild(control);\r\n    });\r\n\r\n    return controlGroup;\r\n};\r\n\r\nexport function setTabControl(control, nextControl) {\r\n    if (control === undefined || nextControl === undefined) {\r\n        console.log(\"cannot link undefined controls\");\r\n        return;\r\n    }\r\n    enableShift();\r\n    control.addEventListener(\"keydown\", (event) => {\r\n        if (event.key === \"Tab\" && (window.shifted !== undefined && !window.shifted)) {\r\n            event.preventDefault();\r\n            control.blur();\r\n            nextControl.focus();\r\n        }\r\n    });\r\n    nextControl.addEventListener(\"keydown\", (event) => {\r\n        if (event.key === \"Tab\" && window.shifted) {\r\n            event.preventDefault();\r\n            nextControl.blur();\r\n            control.focus();\r\n        }\r\n    });\r\n};\r\n\r\nfunction enableShift() {\r\n    if (window.shifted === undefined) {\r\n        window.shifted = false;\r\n        window.addEventListener(\"keydown\", (event) => {\r\n            if (event.key === \"Shift\") {\r\n                event.preventDefault();\r\n                window.shifted = true;\r\n            }\r\n        });\r\n        window.addEventListener(\"keyup\", (event) => {\r\n            if (event.key === \"Shift\") {\r\n                event.preventDefault();\r\n                window.shifted = false;\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nexport function applyStyle(control, styleType, value) {\r\n    control.style[styleType] = value;\r\n}\r\n","export const RED = [255,0,0];\r\nexport const GREEN = [60, 181, 60];\r\nexport const BLUE = [0,0,255];\r\nexport const BLACK = [0,0,0];\r\nexport const WHITE = [255,255,255];\r\n","import React from 'react';\r\n\r\nexport function addArray(array, ...arrays) {\r\n    let newArr = [...array];\r\n    arrays.forEach(array => {\r\n        array.forEach((item, i) => {\r\n            newArr[i] += item;\r\n        });\r\n    });\r\n    return newArr;\r\n}\r\n\r\nexport function isDev() {\r\n    return !process.env.NODE_ENV || process.env.NODE_ENV === 'development';\r\n}\r\n\r\nexport function unfoldUndoRedo(object) {\r\n    let properties = new Set();\r\n    let currObj = object;\r\n    do {\r\n        Object.getOwnPropertyNames(currObj).map(item => properties.add(item));\r\n    } while ((currObj = Object.getPrototypeOf(currObj)));\r\n    let functions = [...properties.keys()].filter(item => typeof object[item] === 'function');\r\n    for (const i in functions) {\r\n        let property = functions[i];\r\n        if (property.includes(\"undo_\")) {\r\n            object[property.substring(5)].undo = object[property];\r\n        }\r\n        if (property.includes(\"redo_\")) {\r\n            object[property.substring(5)].redo = object[property];\r\n        }\r\n    }\r\n}\r\n\r\nexport const DOM_SELECORS_USING_MOBILE = [\"[data-tooltip]\", \".canvas-container\", \".app\"];\r\n\r\nexport function isMobile() {\r\n    return window.ontouchstart !== undefined;\r\n}\r\n\r\nexport function addMobileClasses() {\r\n    if (isMobile()) {\r\n        DOM_SELECORS_USING_MOBILE.forEach((selector) => {\r\n            document.querySelectorAll(`${selector}`).forEach((node) => {\r\n                node.classList.add(\"mobile\");\r\n                console.log(node);\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\nexport function isReactComponent(component) {\r\n    (typeof component === 'function' &&\r\n                (!!component.prototype.isReactComponent\r\n                    || String(component).includes('return React.createElement')))\r\n}\r\n\r\nexport function windowWidth() {\r\n    return Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\r\n}\r\n\r\nexport function windowHeight() {\r\n    return Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\r\n}\r\n\r\nexport function spannifyText(text, afterTheseString) {\r\n    if (afterTheseString === \"CAPITALS\") {\r\n        return text.split(\"\").map((char, i) => {\r\n            if (i > 0 && char === char.toUpperCase()) {\r\n                return (\r\n                    <React.Fragment key={i}>\r\n                        <wbr />\r\n                        {char}\r\n                    </React.Fragment>\r\n                );\r\n            }\r\n            return char;\r\n        });\r\n    } else if (afterTheseString) {\r\n        return text.split(new RegExp(`([${afterTheseString}])`,\"g\")).map((str, i) => {\r\n            if (i > 0) {\r\n                return (\r\n                    <React.Fragment key={i}>\r\n                        <wbr />\r\n                        {str}\r\n                    </React.Fragment>\r\n                );\r\n            }\r\n            return str;\r\n        });\r\n    } else {\r\n        return text.split(\"\").map((char, i) => {\r\n            if (i > 0) {\r\n                return (\r\n                    <React.Fragment key={i}>\r\n                        <wbr />\r\n                        {char}\r\n                    </React.Fragment>\r\n                );\r\n            }\r\n            return char;\r\n        });\r\n    }\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport './controlBar.scss';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default class ControlBar extends PureComponent {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.defaultContainer = React.createRef();\r\n        this.defaults = React.createRef();\r\n        this.mainContainer = React.createRef();\r\n        this.controlBar = React.createRef();\r\n    }\r\n\r\n    setDefaultsLabel(label) {\r\n        this.defaultsLabel = label;\r\n        this.forceUpdate();\r\n    }\r\n\r\n    setMainLabel(label) {\r\n        this.mainLabel = label;\r\n        this.forceUpdate();\r\n    }\r\n\r\n    addDefaultGroup(controlGroup) {\r\n        this.defaults.current.appendChild(controlGroup);\r\n    }\r\n\r\n    addControlGroup(controlGroup) {\r\n        this.controlBar.current.appendChild(controlGroup);\r\n    }\r\n\r\n    testCenterControls() {\r\n        let all1 = true;\r\n        document.querySelectorAll(\"#main-control-label+.controls>.control-group\").forEach((controlGroup) => {\r\n            if (all1) {\r\n                if (!(controlGroup.childNodes[0].classList.contains(\"radio-container\") || controlGroup.childNodes[0].classList.contains(\"checkbox-container\"))) {\r\n                    if (controlGroup.childNodes.length > 1) {\r\n                        all1 = false;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        if (all1) {\r\n            document.querySelectorAll(\"#main-control-label+.controls>.control-group\").forEach((controlGroup) => {\r\n                if (!(controlGroup.childNodes[0].classList.contains(\"radio-container\") || controlGroup.childNodes[0].classList.contains(\"checkbox-container\"))) {\r\n                    controlGroup.style[\"justify-content\"] = \"center\";\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    testSize() {\r\n        let transformed = 0;\r\n        if (this.controlBar.current.getBoundingClientRect().width\r\n                > (this.mainContainer.current.getBoundingClientRect().width - 0*parseFloat(window.getComputedStyle(this.mainContainer.current).getPropertyValue(\"padding\")))) {\r\n            this.mainContainer.current.classList.add(\"overflow\");\r\n            transformed++;\r\n        } else {\r\n            this.mainContainer.current.classList.remove(\"overflow\");\r\n        }\r\n        if (this.defaults.current.getBoundingClientRect().width\r\n                > (this.defaultContainer.current.getBoundingClientRect().width - 0*parseFloat(window.getComputedStyle(this.defaultContainer.current).getPropertyValue(\"padding\")))) {\r\n            this.defaultContainer.current.classList.add(\"overflow\");\r\n            transformed++;\r\n        } else {\r\n            this.defaultContainer.current.classList.remove(\"overflow\");\r\n        }\r\n        return transformed;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.testCenterControls();\r\n        this.testSize();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.testCenterControls();\r\n        this.testSize();\r\n    }\r\n\r\n    windowResized() {\r\n        return this.testSize();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"control-bar\">\r\n                    <div className=\"control-container\" id=\"main-control\" ref={this.mainContainer}>\r\n                        <div className=\"control-wrapper\">\r\n                            {this.mainLabel &&\r\n                                <div id=\"main-control-label\" className=\"control-title\">\r\n                                    <p className=\"control-label\">\r\n                                        {this.mainLabel}\r\n                                    </p>\r\n                                    <div className=\"visualizer-icons-container\">\r\n                                        <div id=\"big-o-icon\" className=\"visualizer-icon\" data-tooltip=\"Big-O Info\" tt-bottom=\"\" tt-right=\"\" onClick={this.props.showBigODisplay}>\r\n                                            <FontAwesomeIcon icon={[\"far\",\"clock\"]} size=\"lg\" className=\"hoverable-icon\" />\r\n                                            {// <span id=\"big-o-tooltip\" className=\"tooltip tt-bottom tt-right\">Big-O Info</span>\r\n                                            }\r\n                                        </div>\r\n                                        {this.props.hasExamples &&\r\n                                            <div id=\"examples-icon\" className=\"visualizer-icon\" data-tooltip=\"Examples\" tt-bottom=\"\" tt-right=\"\" onClick={this.props.showExamplesDisplay}>\r\n                                                <FontAwesomeIcon icon={[\"far\",\"lightbulb\"]} size=\"lg\" className=\"hoverable-icon\" />\r\n                                                {// <span id=\"big-o-tooltip\" className=\"tooltip tt-bottom tt-right\">Big-O Info</span>\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                            <div className=\"controls control-group\"  ref={this.controlBar}></div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"control-container\" id=\"default-control\" ref={this.defaultContainer}>\r\n                        <div className=\"control-wrapper\">\r\n                            {// {this.defaultsLabel && <p className=\"control-label\" id=\"default-control-label\">{this.defaultsLabel}</p>}\r\n                            }\r\n                            <div className=\"controls default control-group\" ref={this.defaults}></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n    }\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport {StickyTable, Row, Cell} from 'react-sticky-table';\r\nimport './big-o-display.scss';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { SiteMap, Utils } from 'utils';\r\n\r\nconst bigODatumToDivClass = (bigODatum) => {\r\n    return bigODatum.replace(/[( ^+/]/g,\"-\").replace(/\\)/g,\"\") + \" data-cell\";\r\n}\r\n\r\nconst extractDataFromSpecs = (BIG_O_DATA, bigOSpecs) => {\r\n    // console.log(BIG_O_DATA, bigOSpecs);\r\n    const DATA = [];\r\n    let headers = [bigOSpecs.col1Name, ...bigOSpecs.cols].map(header => { return { dataString: header, styleClass: \"big-o-header col\"}});\r\n    headers[0].explanation = bigOSpecs.explanation;\r\n    DATA.push(headers);\r\n    for (let row of bigOSpecs.rows) {\r\n        const ROW = [{ dataString: row, styleClass: \"big-o-header row\"}];\r\n        for (let col of bigOSpecs.cols) {\r\n            let regexIgnoreSymbol = /[\\W]/;\r\n            let row_ = row.substring(0, row.search(regexIgnoreSymbol)) || row;\r\n            let col_ = col.substring(0, col.search(regexIgnoreSymbol)) || col;\r\n            // console.log([`${row_}_${col_}`] , [row_] , [col_]);\r\n            const BIG_O_OP_INFO = bigOSpecs[`${row_}_${col_}`] || bigOSpecs[row_] || bigOSpecs[col_];\r\n            let extraConfigData = [];\r\n            if (BIG_O_DATA) {\r\n                Object.keys(BIG_O_DATA).forEach(config => {\r\n                    if (config !== \"defaultConfig\" && (BIG_O_DATA[config][`${row_}_${col_}`] || BIG_O_DATA[config][row_] || BIG_O_DATA[config][col_])) {\r\n                        extraConfigData.push({name: BIG_O_DATA[config].name, data: BIG_O_DATA[config][`${row_}_${col_}`] || BIG_O_DATA[config][row_] || BIG_O_DATA[config][col_]});\r\n                    }\r\n                });\r\n            }\r\n            let dataString = \"\";\r\n            let styleClass = \"\";\r\n            if (BIG_O_OP_INFO && BIG_O_OP_INFO.__proto__.constructor.name !== \"Array\") {\r\n                if (BIG_O_OP_INFO.best) {\r\n                    dataString += `Best: ${BIG_O_OP_INFO.best}`;\r\n                    styleClass = bigODatumToDivClass(BIG_O_OP_INFO.best);\r\n                }\r\n                if (BIG_O_OP_INFO.average) {\r\n                    dataString += `\\nAverage: ${BIG_O_OP_INFO.average}`;\r\n                    styleClass = bigODatumToDivClass(BIG_O_OP_INFO.average);\r\n                }\r\n                if (BIG_O_OP_INFO.amortized) {\r\n                    dataString += `\\nAmortized: ${BIG_O_OP_INFO.amortized}`;\r\n                    if (!BIG_O_OP_INFO.average) {\r\n                        styleClass = bigODatumToDivClass(BIG_O_OP_INFO.amortized);\r\n                    }\r\n                }\r\n                if (BIG_O_OP_INFO.worst) {\r\n                    dataString += `\\nWorst: ${BIG_O_OP_INFO.worst}`;\r\n                    if (!styleClass) {\r\n                        styleClass = bigODatumToDivClass(BIG_O_OP_INFO.worst);\r\n                    }\r\n                }\r\n                if (BIG_O_OP_INFO.unamortized) {\r\n                    dataString += `\\nUnamortized: ${BIG_O_OP_INFO.unamortized}`;\r\n                    if (!styleClass) {\r\n                        styleClass = bigODatumToDivClass(BIG_O_OP_INFO.unamortized);\r\n                    }\r\n                }\r\n                // for (let bigOValue in BIG_O_OP_INFO) {\r\n                //     if (![\"best\",\"average\",\"amortized\",\"worst\",\"unamortized\"].includes(bigOValue)) {\r\n                //         dataString += `\\n${bigOValue}: ${BIG_O_OP_INFO[bigOValue]}`;\r\n                //     }\r\n                // }\r\n                if (extraConfigData.length > 0) {\r\n                    extraConfigData.forEach((extraConfig) => {\r\n                        dataString += `\\n${extraConfig.name.trim()}: ${extraConfig.data.newBigO}`;\r\n                    });\r\n                }\r\n                dataString = dataString.trim();\r\n                if (!dataString.includes(\"\\n\") && dataString.includes(\"Average\")) {\r\n                    dataString = dataString.substring(dataString.indexOf(\":\")+2);\r\n                }\r\n                if (BIG_O_OP_INFO.tier) {\r\n                    styleClass = bigODatumToDivClass(`tier-${BIG_O_OP_INFO.tier}`);\r\n                }\r\n            } else if (BIG_O_OP_INFO) {\r\n                dataString = <FontAwesomeIcon icon={BIG_O_OP_INFO} size=\"2x\" />;\r\n                styleClass = \"data-cell big-o-icon-cell\";\r\n            }\r\n            if (!styleClass) {\r\n                styleClass = bigODatumToDivClass(\"\");\r\n            }\r\n            let explanation = (!!BIG_O_OP_INFO && BIG_O_OP_INFO.explanation) || null;\r\n            ROW.push({ dataString, styleClass, explanation });\r\n        }\r\n        DATA.push(ROW);\r\n    }\r\n    if (DATA.length > 2) {\r\n        for (let col = 1; col < headers.length; col++) {\r\n            let allSame = true;\r\n            for (let row = 2; row < DATA.length; row++) {\r\n                if (DATA[row][col].explanation !== DATA[row-1][col].explanation) {\r\n                    allSame = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (allSame) {\r\n                headers[col].explanation = DATA[1][col].explanation;\r\n                for (let row = 1; row < DATA.length; row++) {\r\n                    DATA[row][col].explanation = \"\";\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (headers.length > 2) {\r\n        for (let row = 1; row < DATA.length; row++) {\r\n            let allSame = true;\r\n            for (let col = 2; col < DATA[row].length; col++) {\r\n                if (DATA[row][col].explanation !== DATA[row][col-1].explanation) {\r\n                    allSame = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (allSame) {\r\n                DATA[row][0].explanation = DATA[row][1].explanation;\r\n                for (let col = 1; col < DATA[row].length; col++) {\r\n                    DATA[row][col].explanation = \"\";\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return DATA;\r\n}\r\n\r\nexport const BigODisplay = (props) => {\r\n    let bigOSpecs = props.data;\r\n    let BIG_O_DATA;\r\n    if (!bigOSpecs) {\r\n        BIG_O_DATA = SiteMap.filter(group => group.link === props.group)[0]\r\n                .types.filter(type => type.link === props.type)[0]\r\n                .classes.filter(visualizer => visualizer.link === props.class)[0]\r\n                .bigOData;\r\n\r\n        if (BIG_O_DATA.__proto__.constructor.name === \"Array\") {\r\n            BIG_O_DATA = SiteMap.filter(group => group.link === BIG_O_DATA[0])[0]\r\n                    .types.filter(type => type.link === BIG_O_DATA[1])[0]\r\n                    .classes.filter(visualizer => visualizer.link === BIG_O_DATA[2])[0]\r\n                    .bigOData;\r\n        }\r\n\r\n        // console.log(BIG_O_DATA);\r\n\r\n        bigOSpecs = BIG_O_DATA.defaultConfig;\r\n    }\r\n\r\n    const DATA = extractDataFromSpecs(BIG_O_DATA, bigOSpecs);\r\n\r\n    useEffect(() => {\r\n        const mouseEnterHandler = (event) => {\r\n            let explanationNode = event.target.lastChild;\r\n            let tableCellBounds = event.target.getBoundingClientRect();\r\n            let explanationNodeBounds = explanationNode.getBoundingClientRect();\r\n            let left, top;\r\n            if (tableCellBounds.right + explanationNodeBounds.width <= Utils.windowWidth()) {\r\n                left = tableCellBounds.left + tableCellBounds.width / 2;\r\n            } else {\r\n                left = tableCellBounds.right - tableCellBounds.width / 2 - explanationNodeBounds.width;\r\n            }\r\n            if (tableCellBounds.bottom + explanationNodeBounds.height <= Utils.windowHeight()) {\r\n                top = tableCellBounds.top + tableCellBounds.height / 2;\r\n            } else {\r\n                top = tableCellBounds.bottom - tableCellBounds.height / 2 - explanationNodeBounds.height;\r\n            }\r\n            left = Math.max(5, Math.min(left, Utils.windowWidth() - explanationNodeBounds.width));\r\n            top = Math.max(5, Math.min(top, Utils.windowHeight() - explanationNodeBounds.height - 5));\r\n            explanationNode.style.left = `${left}px`;\r\n            explanationNode.style.top = `${top}px`;\r\n        };\r\n\r\n        let cellsWithExplanations = document.querySelectorAll(\".big-o-cell.big-o-has-explanation\");\r\n        cellsWithExplanations.forEach((explanationCell) => {\r\n            explanationCell.addEventListener(\"mouseenter\", mouseEnterHandler);\r\n        });\r\n\r\n        return () => {\r\n            cellsWithExplanations.forEach((explanationCell) => {\r\n                explanationCell.removeEventListener(\"mouseenter\", mouseEnterHandler);\r\n            });\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n            <div className=\"big-o-display\">\r\n                <StickyTable className=\"big-o-table\" borderColor={`#778bebcc`}>\r\n                    {DATA.map((row, i) =>\r\n                        <Row key={i} className={`big-o-row${i === 0 ? \" big-o-header-row\" : \"\"}`}>\r\n                            {row.map((cell, j) =>\r\n                                <Cell key={j} className={`big-o-cell ${cell.styleClass}${cell.explanation ? \" big-o-has-explanation\" : \"\"}`}>\r\n                                    {(typeof cell.dataString === \"string\")\r\n                                        ? cell.dataString.split(\"\\n\").map((line, k, arr) => {\r\n                                            return (\r\n                                                    <div key={k} className=\"big-o-datum\">\r\n                                                        {line.includes(\":\")\r\n                                                            ? <div className=\"big-o-datum-inner\">\r\n                                                                <span className=\"big-o-datum-label\">\r\n                                                                    {line.substring(0, line.indexOf(\":\"))}\r\n                                                                </span>\r\n                                                                <span className=\"big-o-datum-colon\">\r\n                                                                    :\r\n                                                                </span>\r\n                                                                <span className=\"big-o-datum-value\">\r\n                                                                    {line.substring(line.indexOf(\":\") + 1)}\r\n                                                                </span>\r\n                                                            </div>\r\n                                                            : line\r\n                                                        }\r\n                                                    </div>\r\n                                                );\r\n                                            })\r\n                                        : cell.dataString\r\n                                    }\r\n                                    {cell.explanation\r\n                                        ? <p className=\"big-o-explanation-container\">{cell.explanation}</p>\r\n                                        : null\r\n                                    }\r\n                                </Cell>\r\n                            )}\r\n                        </Row>\r\n                    )}\r\n                </StickyTable>\r\n            </div>\r\n        );\r\n}\r\n","import { BigODisplay } from './big-o-display';\r\nexport default BigODisplay;\r\n","import React, { useRef, useEffect } from 'react';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport './bigOWindow.scss';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport BigODisplay from 'components/big-o-type/big-o-display';\r\n\r\nconst BigOWindow = React.forwardRef((props, ref) => {\r\n    let { closeBigODisplay } = props;\r\n    const containerRef = useRef(null);\r\n    useEffect(() => {\r\n        const documentClickHandler = (event) => {\r\n            if (containerRef.current && !containerRef.current.contains(event.target)) {\r\n                closeBigODisplay();\r\n                event.preventDefault();\r\n            }\r\n        }\r\n        const escapeKeyHandler = (event) => {\r\n            if (event.key === \"Escape\") {\r\n                closeBigODisplay();\r\n                event.preventDefault();\r\n            }\r\n        };\r\n        document.addEventListener(\"click\", documentClickHandler);\r\n        document.addEventListener(\"keydown\", escapeKeyHandler);\r\n        // console.log(\"open big o\");\r\n        return () => {\r\n            document.removeEventListener(\"click\", documentClickHandler);\r\n            document.removeEventListener(\"keydown\", escapeKeyHandler);\r\n            // console.log(\"close big o\");\r\n        }\r\n    }, [closeBigODisplay]);\r\n    let match = useRouteMatch({\r\n        path: `/:visualizerGroup/:visualizerType/:visualizerClass`\r\n    });\r\n\r\n\r\n    return (\r\n            <div className=\"big-o-window-container\" ref={ref}>\r\n                <div className=\"big-o-window\" ref={containerRef}>\r\n                    <FontAwesomeIcon id=\"exit-big-o\" icon={[\"far\",\"times-circle\"]} className=\"hoverable-icon\" onClick={closeBigODisplay} />\r\n                    <p id=\"close-box-tip\">(Click outside or press Esc. to close.)</p>\r\n                    <h2 id=\"big-o-title\">\r\n                        {props.title.split(\"\").map((char, i) => {\r\n                            if (i > 0 && char === char.toUpperCase()) {\r\n                                return (\r\n                                    <span key={i}>\r\n                                        <wbr />{char}\r\n                                    </span>\r\n                                );\r\n                            }\r\n                            return char;\r\n                        })} Big-O\r\n                    </h2>\r\n                    <BigODisplay group={match.params.visualizerGroup} type={match.params.visualizerType} class={match.params.visualizerClass} title={props.title}/>\r\n                </div>\r\n            </div>\r\n        );\r\n});\r\n\r\nexport default BigOWindow;\r\n","import React, { useRef, useEffect } from 'react';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport './examplesWindow.scss';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { SiteMap } from 'utils';\r\n\r\nconst ExamplesDisplay = (props) => {\r\n    let { example, callback } = props;\r\n    return (\r\n            <li className={`example-display`}>\r\n                <p className={`example-text`}>{example.exampleText}</p>\r\n                <button className={`example-try-it-button`} onClick={callback.bind(null,example.operationList,example.needsReset)}>{example.tryItText}</button>\r\n            </li>\r\n        );\r\n}\r\n\r\nconst ExamplesWindow = React.forwardRef((props, ref) => {\r\n    let { closeExamplesDisplay } = props;\r\n    const containerRef = useRef(null);\r\n    useEffect(() => {\r\n        const documentClickHandler = (event) => {\r\n            if (containerRef.current && !containerRef.current.contains(event.target)) {\r\n                closeExamplesDisplay();\r\n                event.preventDefault();\r\n            }\r\n        }\r\n        const escapeKeyHandler = (event) => {\r\n            if (event.key === \"Escape\") {\r\n                closeExamplesDisplay();\r\n                event.preventDefault();\r\n            }\r\n        };\r\n        document.addEventListener(\"click\", documentClickHandler);\r\n        document.addEventListener(\"keydown\", escapeKeyHandler);\r\n        // console.log(\"open big o\");\r\n        return () => {\r\n            document.removeEventListener(\"click\", documentClickHandler);\r\n            document.removeEventListener(\"keydown\", escapeKeyHandler);\r\n            // console.log(\"close big o\");\r\n        }\r\n    }, [closeExamplesDisplay]);\r\n    let match = useRouteMatch({\r\n        path: `/:visualizerGroup/:visualizerType/:visualizerClass`\r\n    });\r\n\r\n    let visualizerClass = SiteMap.filter(group => group.link === match.params.visualizerGroup)[0]\r\n            .types.filter(type => type.link === match.params.visualizerType)[0]\r\n            .classes.filter(visualizer => visualizer.link === match.params.visualizerClass)[0];\r\n\r\n    let callback = (...exampleParams) => {\r\n        closeExamplesDisplay(...exampleParams);\r\n    };\r\n\r\n    return (\r\n            <div className=\"examples-window-container\" ref={ref}>\r\n                <div className=\"examples-window\" ref={containerRef}>\r\n                    <FontAwesomeIcon id=\"exit-examples\" icon={[\"far\",\"times-circle\"]} className=\"hoverable-icon\" onClick={closeExamplesDisplay} />\r\n                    <p id=\"close-box-tip\">(Click outside or press Esc. to close.)</p>\r\n                    <h2 id=\"examples-title\">\r\n                        {props.title.split(\"\").map((char, i) => {\r\n                            if (i > 0 && char === char.toUpperCase()) {\r\n                                return (\r\n                                    <span key={i}>\r\n                                        <wbr />{char}\r\n                                    </span>\r\n                                );\r\n                            }\r\n                            return char;\r\n                        })} Examples\r\n                    </h2>\r\n                    <ul className={`examples-display-list`}>\r\n                        {visualizerClass.examples.map((example,i) => {\r\n                            return <ExamplesDisplay key={i} example={example} callback={callback} />\r\n                        })}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        );\r\n});\r\n\r\nexport default ExamplesWindow;\r\n","export default class AnimatedObject {\r\n    constructor() {\r\n        this.xProgress = 1;\r\n        this.yProgress = 1;\r\n        // this.translationFrames = 0;\r\n\r\n        // this.animating = false;\r\n        this.direction = 0;\r\n    }\r\n\r\n    travel(direction) {\r\n        this.xProgress = 0;\r\n        this.yProgress = 0;\r\n        this.direction = direction;\r\n    }\r\n\r\n    inPosition() {\r\n        return this.direction >= 0\r\n                ? this.xProgress >= 1 && this.yProgress >= 1\r\n                : this.xProgress <= -1 && this.yProgress <= -1;\r\n    }\r\n\r\n    update(animationSpeed) {\r\n        if (!this.inPosition()) {\r\n            // this.animating = true;\r\n            this.xProgress += Math.sign(this.direction) * animationSpeed/200;\r\n            this.yProgress += Math.sign(this.direction) * animationSpeed/200;\r\n        } else {\r\n            // this.animating = false;\r\n        }\r\n    }\r\n\r\n\r\n}\r\n","import Visualizer from 'components/visualizer'\r\nexport default class AttractedDraggableObject {\r\n\r\n    static ATTRACTION = 0.3;\r\n    static MIN_DISTANCE = 5;\r\n\r\n    constructor(x,y) {\r\n        this.currentX = x;\r\n        this.currentY = y;\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n        this.vx = 0;\r\n        this.vy = 0;\r\n        this.frozen = false;\r\n        this.onStop = [];\r\n\r\n        this.pinnedToMouse = false;\r\n        this.mouseOffsetX = 0;\r\n        this.mouseOffsetY = 0;\r\n    }\r\n\r\n    shift(x,y) {\r\n        // console.log(this.data,\":\",x,y);\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n    }\r\n\r\n    goTo(x,y) {\r\n        // let oldX = this.desiredX;\r\n        // let oldY = this.desiredY;\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n        this.stop();\r\n        // return [oldX, oldY];\r\n    }\r\n\r\n    displacement() {\r\n        return Math.sqrt(Math.pow(this.desiredX - this.currentX,2) + Math.pow(this.desiredY - this.currentY,2));\r\n    }\r\n\r\n    addOnStop(callback) {\r\n        this.onStop.push(callback);\r\n    }\r\n\r\n    stop() {\r\n        this.currentX = this.desiredX;\r\n        this.vx = 0;\r\n        this.currentY = this.desiredY;\r\n        this.vy = 0;\r\n        while (this.onStop.length > 0) {\r\n            this.onStop.shift()(this);\r\n        }\r\n    }\r\n\r\n    pin(mouseX, mouseY) {\r\n        if (this.constructor.CAN_DRAG) {\r\n            if (!this.frozen) {\r\n                this.pinnedToMouse = true;\r\n                this.mouseOffsetX = mouseX - this.currentX;\r\n                this.mouseOffsetY = mouseY - this.currentY;\r\n            }\r\n        }\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedToMouse = false;\r\n        this.mouseOffsetX = 0;\r\n        this.mouseOffsetY = 0;\r\n        this.vx = 0;\r\n        this.vy = 0;\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        if (this.frozen) {\r\n            this.desiredX = this.currentX;\r\n            this.desiredY = this.currentY;\r\n        }\r\n        let deltaX = this.desiredX - this.currentX;\r\n        let deltaY = this.desiredY - this.currentY;\r\n        if (this.pinnedToMouse) {\r\n            this.currentX = p5.mouseX - this.mouseOffsetX;\r\n            this.currentY = p5.mouseY - this.mouseOffsetY;\r\n        } else if ((animationSpeed >= Math.floor(Visualizer.maxAnimationSpeed()))\r\n                || (isNaN(this.currentX) || isNaN(this.currentY) || isNaN(this.vx) || isNaN(this.vy))) {\r\n            this.stop();\r\n        } else {\r\n            // console.log(\"moving\", this.desiredY, this.currentY);\r\n            if (deltaY !== 0 || deltaX !== 0) {\r\n                let angle = Math.atan(deltaY/deltaX);\r\n                if (deltaX < 0) {\r\n                    angle += Math.PI;\r\n                }\r\n                let magnitude = AttractedDraggableObject.ATTRACTION * animationSpeed;\r\n                let prevAngle = Math.atan(this.vy/this.vx);\r\n                if (this.vx < 0) {\r\n                    prevAngle += Math.PI;\r\n                }\r\n                this.vx += magnitude * Math.cos(angle);\r\n                this.vy += magnitude * Math.sin(angle);\r\n\r\n                this.vx *= 0.75;\r\n                this.vy *= 0.75;\r\n\r\n                if (Math.abs(Math.abs(prevAngle - angle) - Math.PI) < (Math.PI/12)) {\r\n                    this.stop();\r\n                }\r\n                this.currentX += this.vx;\r\n                this.currentY += this.vy;\r\n            } else {\r\n                // console.log(\"stop\");\r\n                this.stop();\r\n            }\r\n        }\r\n        return Math.sqrt(Math.pow(deltaX,2) + Math.pow(deltaY,2));\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer'\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class AttractedHighlightableObject {\r\n    static ATTRACTION = 0.2;\r\n    static MIN_DISTANCE = 5;\r\n\r\n    static HIGHTLIGHT_WIDTH = 5;\r\n    static HIGHLIGHT_CIRCLE = 0;\r\n    static HIGHLIGHT_SQUARE = 1;\r\n\r\n    constructor(x,y, options = {}) {\r\n        this.value = options.value || null;\r\n\r\n        this.currentX = x;\r\n        this.currentY = y;\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n        this.vx = 0;\r\n        this.vy = 0;\r\n        this.frozen = false;\r\n        this.onStop = [];\r\n\r\n        this.highlighted = false;\r\n        this.highlightColor = Colors.BLUE;\r\n        this.highlightShape = AttractedHighlightableObject.HIGHLIGHT_CIRCLE;\r\n\r\n        Object.entries(options).forEach((option) => {\r\n            this[option[0]] = option[1];\r\n        });\r\n        Utils.unfoldUndoRedo(this);\r\n    }\r\n\r\n    shift(x,y) {\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n    }\r\n\r\n    goTo(x,y) {\r\n        let oldX = this.desiredX;\r\n        let oldY = this.desiredY;\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n        this.stop();\r\n        return [oldX, oldY];\r\n    }\r\n    undo_goTo(oldX,oldY) {\r\n        this.desiredX = oldX;\r\n        this.desiredY = oldY;\r\n        this.stop();\r\n    }\r\n\r\n    displacement() {\r\n        return Math.sqrt(Math.pow(this.desiredX - this.currentX,2) + Math.pow(this.desiredY - this.currentY,2));\r\n    }\r\n\r\n    addOnStop(callback) {\r\n        this.onStop.push(callback);\r\n    }\r\n\r\n    stop() {\r\n        this.currentX = this.desiredX;\r\n        this.vx = 0;\r\n        this.currentY = this.desiredY;\r\n        this.vy = 0;\r\n        while (this.onStop.length > 0) {\r\n            this.onStop.shift()(this);\r\n        }\r\n    }\r\n\r\n    highlight(color = Colors.BLUE, shape = AttractedHighlightableObject.HIGHLIGHT_CIRCLE) {\r\n        this.highlightColor = color;\r\n        this.highlightShape = shape;\r\n        this.highlighted = true;\r\n    }\r\n    undo_highlight() {\r\n        this.unhighlight();\r\n    }\r\n\r\n    unhighlight() {\r\n        this.highlighted = false;\r\n    }\r\n    undo_unhighlight(color, shape) {\r\n        this.highlight(color, shape);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        if (this.frozen) {\r\n            this.desiredX = this.currentX;\r\n            this.desiredY = this.currentY;\r\n        }\r\n        let deltaX = this.desiredX - this.currentX;\r\n        let deltaY = this.desiredY - this.currentY;\r\n        if ((animationSpeed >= Math.floor(Visualizer.maxAnimationSpeed()))\r\n                || (isNaN(this.currentX) || isNaN(this.currentY) || isNaN(this.vx) || isNaN(this.vy))) {\r\n            this.stop();\r\n        } else {\r\n            if (deltaY !== 0 || deltaX !== 0) {\r\n                let angle = Math.atan(deltaY/deltaX);\r\n                if (deltaX < 0) {\r\n                    angle += Math.PI;\r\n                }\r\n                let magnitude = AttractedHighlightableObject.ATTRACTION * animationSpeed;\r\n                let prevAngle = Math.atan(this.vy/this.vx);\r\n                if (this.vx < 0) {\r\n                    prevAngle += Math.PI;\r\n                }\r\n                this.vx = magnitude * Math.cos(angle);\r\n                this.vy = magnitude * Math.sin(angle);\r\n\r\n                // this.vx *= 0.75;\r\n                // this.vy *= 0.75;\r\n\r\n                if (Math.abs(Math.abs(prevAngle - angle) - Math.PI) < (Math.PI/12)) {\r\n                    this.stop();\r\n                }\r\n                this.currentX += this.vx;\r\n                this.currentY += this.vy;\r\n            } else {\r\n                this.stop();\r\n            }\r\n        }\r\n        return Math.sqrt(Math.pow(deltaX,2) + Math.pow(deltaY,2));\r\n    }\r\n\r\n    drawHighlight(p5) {\r\n        p5.push();\r\n        p5.stroke(...this.highlightColor);\r\n        p5.noFill();\r\n        p5.strokeWeight(AttractedHighlightableObject.HIGHTLIGHT_WIDTH);\r\n        let diameter = 2 * (this.highlightInnerRadius || this.highlightOuterRadius) + (this.highlightInnerRadius ? 1 : -1) * AttractedHighlightableObject.HIGHTLIGHT_WIDTH;\r\n        if (this.highlightShape === AttractedHighlightableObject.HIGHLIGHT_CIRCLE) {\r\n            p5.circle(this.currentX, this.currentY, diameter);\r\n        } else if (this.highlightShape === AttractedHighlightableObject.HIGHLIGHT_SQUARE) {\r\n            p5.square(this.currentX - diameter/2, this.currentY - diameter/2, diameter);\r\n        }\r\n        p5.pop();\r\n    }\r\n\r\n    drawValue(p5) {\r\n        if (this.value) {\r\n            p5.textAlign(p5.CENTER, p5.CENTER);\r\n            p5.fill(0);\r\n            p5.stroke(0);\r\n            let radius = 2 * (this.highlightInnerRadius || this.highlightOuterRadius) + (this.highlightInnerRadius ? 1 : -1) * AttractedHighlightableObject.HIGHTLIGHT_WIDTH;\r\n            p5.text(this.value.toString(), this.currentX - radius,this.currentY - radius, 2*radius, 2*radius);\r\n        }\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        if (this.highlighted) {\r\n            this.drawHighlight(p5);\r\n        }\r\n        this.drawValue(p5);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { AttractedDraggableObject } from './';\r\nimport { Colors, Utils } from 'utils';\r\n\r\nexport default class TreeNode extends AttractedDraggableObject {\r\n    static SIZE = 50;\r\n\r\n    constructor(x,y, data) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n\r\n        this.left = null;\r\n        this.right = null;\r\n\r\n        this.readyToFollow = true;\r\n    }\r\n\r\n    getCenterXY() {\r\n        let centerX = this.currentX + this.constructor.SIZE/2;\r\n        let centerY = this.currentY + this.constructor.SIZE/2;\r\n        return [centerX, centerY];\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        let [centerX, centerY] = this.getCenterXY();\r\n        return Math.pow(Math.pow(centerX - x, 2) + Math.pow(centerY - y, 2), 0.5) <= this.constructor.SIZE/2;\r\n    }\r\n\r\n    containsMousePin() {\r\n        return this.pinnedToMouse || (this.left && this.left.containsMousePin()) || (this.right && this.right.containsMousePin());\r\n    }\r\n\r\n    shiftDown() {\r\n        super.shift(this.desiredX, this.desiredY + this.constructor.VSPACE);\r\n    }\r\n\r\n    shiftUp() {\r\n        super.shift(this.desiredX, this.desiredY - this.constructor.VSPACE);\r\n    }\r\n\r\n    shiftX(x) {\r\n        super.shift(x, this.desiredY);\r\n    }\r\n\r\n    setY(y) {\r\n        super.shift(this.desiredX, y);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5)\r\n        // if (this.left) {\r\n        //     this.left.update(animationSpeed, p5);\r\n        // }\r\n        // if (this.right) {\r\n        //     this.right.update(animationSpeed, p5);\r\n        // }\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.circle(...this.getCenterXY(), this.constructor.SIZE);\r\n        // p5.rect(this.currentX, this.currentY, this.constructor.SIZE, this.constructor.SIZE);\r\n        // p5.line(this.currentX + this.constructor.SIZE, this.currentY, this.currentX + this.constructor.SIZE, this.currentY + this.constructor.SIZE);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, this.constructor.SIZE,this.constructor.SIZE);\r\n        if (this.left) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            let deltaX = this.left.currentX - this.currentX;\r\n            let deltaY = this.left.currentY - this.currentY;\r\n            let angle = Math.atan(deltaY/deltaX);\r\n            if (deltaX < 0) {\r\n                angle += Math.PI;\r\n            }\r\n            p5.line(...Utils.addArray(this.getCenterXY(),[Math.cos(angle)*this.constructor.SIZE/2,Math.sin(angle)*this.constructor.SIZE/2]),...Utils.addArray(this.left.getCenterXY(),[-Math.cos(angle)*this.constructor.SIZE/2,-Math.sin(angle)*this.constructor.SIZE/2]));\r\n        } else {\r\n            // p5.line(this.currentX + this.constructor.SIZE, this.currentY, this.currentX + this.constructor.SIZE, this.currentY + this.constructor.SIZE);\r\n        }\r\n        if (this.right) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            let deltaX = this.right.currentX - this.currentX;\r\n            let deltaY = this.right.currentY - this.currentY;\r\n            let angle = Math.atan(deltaY/deltaX);\r\n            if (deltaX < 0) {\r\n                angle += Math.PI;\r\n            }\r\n            p5.line(...Utils.addArray(this.getCenterXY(),[Math.cos(angle)*this.constructor.SIZE/2,Math.sin(angle)*this.constructor.SIZE/2]),...Utils.addArray(this.right.getCenterXY(),[-Math.cos(angle)*this.constructor.SIZE/2,-Math.sin(angle)*this.constructor.SIZE/2]));\r\n        } else {\r\n            // p5.line(this.currentX + this.constructor.SIZE, this.currentY, this.currentX + this.constructor.SIZE, this.currentY + this.constructor.SIZE);\r\n        }\r\n        p5.pop();\r\n        // if (this.left) {\r\n        //     this.left.draw(p5);\r\n        // }\r\n        // if (this.right) {\r\n        //     this.right.draw(p5);\r\n        // }\r\n    }\r\n}\r\n","import { AttractedHighlightableObject } from './';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class TrackingHighlighter extends AttractedHighlightableObject {\r\n    constructor(target, offset, options = {}) {\r\n        super(0,0, options);\r\n\r\n        this.highlightInnerRadius = offset;\r\n\r\n        this.target = target;\r\n        this.locked = false;\r\n    }\r\n\r\n    stop() {\r\n        super.stop();\r\n        this.locked = true;\r\n    }\r\n\r\n    setTarget(target, innerRadius, asRedSquare) {\r\n        this.locked = this.target === null;\r\n        this.target = target;\r\n        if (innerRadius) {\r\n            this.highlightInnerRadius = innerRadius;\r\n        }\r\n        if (target) {\r\n            this.highlight(asRedSquare ? Colors.RED : undefined, asRedSquare ? AttractedHighlightableObject.HIGHLIGHT_SQUARE : undefined);\r\n        } else {\r\n            this.unhighlight();\r\n        }\r\n        // console.log(this.highlightInnerRadius);\r\n    }\r\n\r\n    trackTarget() {\r\n        if (this.target) {\r\n            // console.log(\"tracking\");\r\n            this.desiredX = this.target.currentX + this.highlightInnerRadius;\r\n            this.desiredY = this.target.currentY + this.highlightInnerRadius;\r\n            if (this.locked) {\r\n                this.currentX = this.desiredX;\r\n                this.currentY = this.desiredY;\r\n            }\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        this.trackTarget();\r\n        super.update(animationSpeed, p5)\r\n    }\r\n}\r\n","export default class Animator {\r\n    constructor() {\r\n        this.events = [];\r\n    }\r\n\r\n    on(type, callback) {\r\n        if (!this.events[type]) {\r\n            this.events[type] = [];\r\n        }\r\n        this.events[type].push(callback);\r\n    }\r\n\r\n    off(type, callback) {\r\n        if (this.events[type]) {\r\n            this.events[type] = this.events[type].filter( event => {\r\n                return event !== callback;\r\n            });\r\n        }\r\n    }\r\n\r\n    emit(type) {\r\n        if (this.events[type]) {\r\n            this.events[type].forEach( event => {\r\n                event();\r\n            });\r\n        }\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class Visualization {\r\n\r\n    static INITIAL_SPEED = 50;\r\n\r\n    static LOG_UNDO_REDO = false;\r\n    static LOG_ANIMATIONS = false;\r\n    static LOG_DONE_ANIMATING = false;\r\n    static LOG_DRAW = false;\r\n    static TEST_ANIMATION_STEPS = false;\r\n\r\n    testAnimation(howMany = 1) {\r\n        this.animationHistory.slice(-howMany).forEach(animationSet => {\r\n            let stepData = animationSet.map(animation => {\r\n                return {\r\n                    method: animation.method.name,\r\n                    isBackStep: animation.isBackStep || animation.isAnimationStep,\r\n                    isForwardStep: animation.isForwardStep || animation.isAnimationStep\r\n                };\r\n            });\r\n            let success = true;\r\n            let i = 0;\r\n            let alsoForward = false;\r\n            while (i < stepData.length) {\r\n                let lastForward = alsoForward ? i - 1 : null;\r\n                while (i < stepData.length && !stepData[i].isBackStep) {\r\n                    console.log(stepData[i]);\r\n                    if (stepData[i].isForwardStep) {\r\n                        if (lastForward !== null) {\r\n                            console.log(\"EARLY FORWARD\");\r\n                            success = false;\r\n                        }\r\n                        lastForward = i;\r\n                    }\r\n                    i++;\r\n                }\r\n                if (i < stepData.length) {\r\n                    console.log(stepData[i]);\r\n                    if (lastForward === null) {\r\n                        console.log(\"EARLY BACK\");\r\n                        success = false;\r\n                    }\r\n                    alsoForward = stepData[i].isForwardStep;\r\n                }\r\n                i++;\r\n            }\r\n            if (success) {\r\n                console.log(\"ANIMATION PASSED\");\r\n            }\r\n        });\r\n    }\r\n\r\n    constructor(animator, width, height) {\r\n        this.x = 20;\r\n        this.y = 20;\r\n        if (this.constructor.SET_BOUNDS) {\r\n            this.width = width;\r\n            this.height = height;\r\n        }\r\n\r\n        if (this.constructor.SUPPORTS_TEXT) {\r\n            // this.displayText = \"Animation Ready\";\r\n            // if (this.constructor.CAN_DRAG) {\r\n            //     this.displayText += \" | Click and drag on a node to move it!\";\r\n            // }\r\n            // console.log(this.displayText);\r\n            // this.displayTextColor = [0,0,0];\r\n        } else {\r\n            delete this.showText;\r\n            delete this.updateText;\r\n        }\r\n\r\n        this.animator = animator;\r\n\r\n        // this.drawing = true;\r\n        if (this.constructor.SUPPORTS_NO_LOOP) {\r\n            this.drawing = false;\r\n        } else {\r\n            // this.drawing = true;\r\n            delete this.beginDrawLoop;\r\n            delete this.endDrawLoop;\r\n        }\r\n\r\n        if (this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n            this.paused = false;\r\n            Utils.unfoldUndoRedo(this);\r\n        } else {\r\n            delete this.playPause;\r\n            delete this.play;\r\n            delete this.pause;\r\n            delete this.skipBack;\r\n            delete this.stepBack;\r\n            delete this.undoAnimation;\r\n            delete this.undoText;\r\n            delete this.skipForward;\r\n            delete this.stepForward;\r\n            delete this.redoAnimation;\r\n\r\n            delete this.undo;\r\n            delete this.undoAction;\r\n            delete this.doExample;\r\n        }\r\n\r\n        if (this.constructor.SUPPORTS_STOP_ID) {\r\n            this.stopID = 0;\r\n        }\r\n\r\n        if (!Utils.isDev()) {\r\n            delete this.testAnimation;\r\n        }\r\n\r\n        this.reset();\r\n        this.made = true;\r\n    }\r\n\r\n    reset(callback) {\r\n        if (this.made) {\r\n            if (this.constructor.SUPPORTS_NO_LOOP) {\r\n                this.beginDrawLoop();\r\n            }\r\n        }\r\n\r\n        if (this.constructor.SUPPORTS_TEXT) {\r\n            this.displayText = \"Animation Ready\";\r\n            if (this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n                this.displayText += \" | Press ctrl-z to undo! (permanantly deletes action)\";\r\n            }\r\n            if (this.constructor.CAN_DRAG) {\r\n                this.displayText += \" | Click and drag on a node to move it!\";\r\n            }\r\n            this.displayTextColor = [0,0,0];\r\n        }\r\n\r\n        this.animationHistory = [];\r\n        this.runningAnimation = [];\r\n        this.animationQueue = [];\r\n        this.animating = false;\r\n\r\n        if (this.constructor.SUPPORTS_NO_LOOP) {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n        if (this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n            // this.paused = false;\r\n        }\r\n\r\n        if (callback) {\r\n            callback();\r\n        } else {\r\n            this.animator.noLoop();\r\n        }\r\n\r\n        if (this.made) {\r\n            if (this.constructor.SUPPORTS_NO_LOOP) {\r\n                this.endDrawLoop();\r\n                this.stepForward();\r\n            }\r\n        }\r\n    }\r\n\r\n    noAction() {}\r\n    undo_noAction() {}\r\n\r\n    playPause() {\r\n        if (this.paused) {\r\n            this.play();\r\n        } else {\r\n            this.pause();\r\n        }\r\n        return true;\r\n    }\r\n\r\n    play() {\r\n        this.paused = false;\r\n        if (this.animationQueue.length > 0) {\r\n            this.beginDrawLoop();\r\n        } else {\r\n            this.animator.emit(\"anim-end\");\r\n        }\r\n        this.animator.enable(\"playPause\");\r\n        this.animator.disable(\"stepBack\");\r\n        this.animator.disable(\"skipBack\");\r\n        this.animator.disable(\"stepForward\");\r\n        this.animator.disable(\"skipForward\");\r\n    }\r\n\r\n    pause() {\r\n        if (this.animationQueue.length === 0 || !this.isPauseTrigger(this.animationQueue[0])) {\r\n            this.animationQueue.unshift({method:this.setPaused,noAnim:true});\r\n        }\r\n        this.beginDrawLoop();\r\n        this.animator.disable(\"playPause\");\r\n    }\r\n\r\n    setPaused() {\r\n        this.stopDrawing.apply(this, (this.constructor.SUPPORTS_STOP_ID ? [++this.stopID,true] : []));\r\n        this.paused = true;\r\n        this.animator.emit(\"paused\");\r\n        this.animator.enable(\"playPause\");\r\n        if (this.canStepBack()) {\r\n            this.animator.enable(\"stepBack\");\r\n        }\r\n        if (this.canSkipBack()) {\r\n            this.animator.enable(\"skipBack\");\r\n        }\r\n        if (this.canStepForward()) {\r\n            this.animator.enable(\"stepForward\");\r\n        }\r\n        if (this.canSkipForward()) {\r\n            this.animator.enable(\"skipForward\");\r\n        }\r\n    }\r\n\r\n    getLastTextAnimation() {\r\n        if (this.runningAnimation) {\r\n            for (let i = this.runningAnimation.length-1; i >= 0; i--) {\r\n                if (this.runningAnimation[i].method === this.showText || this.runningAnimation[i].explanation) {\r\n                    return this.runningAnimation[i];\r\n                }\r\n            }\r\n        }\r\n        for (let i = this.animationHistory.length - 1; i >= 0; i--) {\r\n            for (let j = this.animationHistory[i].length - 1; j >= 0; j--) {\r\n                if (this.animationHistory[i][j]) {\r\n                    if (this.animationHistory[i][j].method === this.showText || this.animationHistory[i][j].explanation) {\r\n                        return this.animationHistory[i][j];\r\n                    }\r\n                } else {\r\n                    console.log(this.animationHistory, i, j, this.animationHistory[i], this.animationHistory[i][j]);\r\n                }\r\n            }\r\n        }\r\n        return {method:this.showText,params:[\"Animation Ready\"]};\r\n    }\r\n    undoText(explanation) {\r\n        if (explanation) {\r\n            this.showText(explanation);\r\n            return;\r\n        }\r\n        let textAnimation = this.getLastTextAnimation();\r\n        if (textAnimation) {\r\n            if (textAnimation.method === this.showText) {\r\n                this.showText(...textAnimation.params);\r\n            } else {\r\n                this.showText(textAnimation.explanation);\r\n            }\r\n        }\r\n    }\r\n\r\n    undoAnimation(previousAnimation, doDraw) {\r\n        let scope = previousAnimation.scope || this;\r\n        // let undo = scope.undo;\r\n        let undoMethod = previousAnimation.method.undo;\r\n        let params = previousAnimation.undoData || previousAnimation.params || [];\r\n        // console.log(require('util').inspect(previousAnimation, { depth: null }));\r\n        if (undoMethod) {\r\n            if (this.constructor.LOG_UNDO_REDO) {\r\n                console.log(\"undo\",params,undoMethod);\r\n            }\r\n            // if (previousAnimation.returnsUndoData) {\r\n            //     params = previousAnimation.returnValue;\r\n            // }\r\n            if (doDraw) {\r\n                this.beginDrawLoop();\r\n            }\r\n            undoMethod.apply(scope, params);\r\n            this.undoText();//previousAnimation.explanation);\r\n            if (!previousAnimation.customUndoEnd) {\r\n                this.stopDrawing(++this.stopID);\r\n                // console.log(this.stopID);\r\n            }\r\n        } else {\r\n            if (this.constructor.LOG_UNDO_REDO) {\r\n                console.log(\"failed\",previousAnimation);\r\n            }\r\n        }\r\n        this.animationQueue.unshift(previousAnimation);\r\n    }\r\n\r\n    unAnimate(doDraw) {\r\n        if (doDraw) {\r\n            this.ensureDrawn(true);\r\n        }\r\n        let previousAnimation = this.runningAnimation.pop();\r\n        let lastUndo = null;\r\n        while (!(previousAnimation.isAnimationStep || previousAnimation.isBackStep)) {\r\n            this.undoAnimation(previousAnimation,doDraw);\r\n            lastUndo = previousAnimation;\r\n            previousAnimation = this.runningAnimation.pop();\r\n            if (!previousAnimation) {\r\n                break;\r\n            }\r\n        }\r\n        if (previousAnimation) {\r\n            this.undoAnimation(previousAnimation,doDraw);\r\n            lastUndo = previousAnimation;\r\n        }\r\n        if (doDraw && !lastUndo.customUndoEnd) {\r\n            this.ensureDrawn();\r\n        }\r\n    }\r\n\r\n    canStepBack() {\r\n        return this.animationHistory.length > 0 || this.runningAnimation.length > 0;\r\n    }\r\n    stepBack(doDraw = true) {\r\n        if (this.paused) {\r\n            if (this.runningAnimation && this.runningAnimation.length > 0) {\r\n                this.unAnimate(doDraw);\r\n                this.animator.enable(\"stepForward\");\r\n                this.animator.enable(\"skipForward\");\r\n                if (this.runningAnimation.length === 0) {\r\n                    this.animationQueue.unshift({method:this.animator.emit,scope:this.animator,params:[\"anim-start\",],noAnim:true});\r\n                    this.runningAnimation = null;\r\n                    this.undoText();\r\n                    if (this.animationHistory.length === 0) {\r\n                        this.animator.disable(\"stepBack\");\r\n                        this.animator.disable(\"skipBack\");\r\n                    }\r\n                }\r\n                return true;\r\n            } else if (this.animationHistory.length > 0) {\r\n                this.popHistoryToRunningAnimation();\r\n                this.stepBack();\r\n            } else {\r\n                this.animator.disable(\"stepBack\");\r\n                this.animator.disable(\"skipBack\");\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    redoAnimation(nextAnimation,doDraw) {\r\n        let scope = nextAnimation.scope || this;\r\n        let method = nextAnimation.method;\r\n        method = method.redo || method;\r\n        let params = nextAnimation.redoData || nextAnimation.params || [];\r\n        if (doDraw) {\r\n            this.beginDrawLoop();\r\n        }\r\n        let retVal;\r\n        if (!this.isAnimEnd(nextAnimation)) {\r\n            if (this.constructor.LOG_UNDO_REDO) {\r\n                console.log(\"redo\",params,method);\r\n            }\r\n            retVal = method.apply(scope, params);\r\n        }\r\n        nextAnimation.returnValue = retVal;\r\n        if (!nextAnimation.customRedoEnd) {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n        let testsWindowSize = this.processCompletedAnimation(nextAnimation);\r\n        if (this.constructor.SUPPORTS_INFREQUENT_RESIZE && testsWindowSize) {\r\n            this.animator.testWindowSize();\r\n        }\r\n    }\r\n\r\n    reAnimate(doDraw) {\r\n        if (doDraw) {\r\n            this.ensureDrawn(true);\r\n        }\r\n        let nextAnimation = this.animationQueue.shift();\r\n        let lastRedo = null;\r\n        while (!(nextAnimation.isAnimationStep || nextAnimation.isForwardStep) && !this.isEndDrawLoopTrigger(nextAnimation)) {\r\n            this.redoAnimation(nextAnimation,doDraw);\r\n            lastRedo = nextAnimation;\r\n            nextAnimation = this.animationQueue.shift();\r\n            if (!nextAnimation) {\r\n                break;\r\n            }\r\n        }\r\n        if (nextAnimation) {\r\n            this.redoAnimation(nextAnimation,doDraw);\r\n            lastRedo = nextAnimation;\r\n        }\r\n        if (doDraw && !lastRedo.customRedoEnd) {\r\n            this.ensureDrawn();\r\n        }\r\n    }\r\n\r\n    canStepForward() {\r\n        return this.animationQueue.length > 0;\r\n    }\r\n    stepForward(doDraw = true) {\r\n        if (this.paused) {\r\n            if (this.animationQueue.length > 0) {\r\n                this.reAnimate(doDraw);\r\n                this.animator.enable(\"stepBack\");\r\n                this.animator.enable(\"skipBack\");\r\n                if (this.animationQueue.length === 0) {\r\n                    this.animator.emit(\"anim-end\");\r\n                    this.animator.disable(\"stepForward\");\r\n                    this.animator.disable(\"skipForward\");\r\n                } else {\r\n                    this.animator.enable(\"stepForward\");\r\n                    this.animator.enable(\"skipForward\");\r\n                }\r\n                return true;\r\n            } else {\r\n                this.animator.emit(\"anim-end\");\r\n                this.animator.disable(\"stepForward\");\r\n                this.animator.disable(\"skipForward\");\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    canSkipBack() {\r\n        return this.animationHistory.length > 0 || this.runningAnimation.length > 0;\r\n    }\r\n    skipBack() {\r\n        if (this.paused) {\r\n            if (this.runningAnimation) {\r\n                while (this.runningAnimation && this.runningAnimation.length > 0) {\r\n                    this.stepBack(false);\r\n                }\r\n                this.animator.enable(\"stepForward\");\r\n                this.animator.enable(\"skipForward\");\r\n                if (this.animationHistory.length === 0) {\r\n                    this.animator.disable(\"stepBack\");\r\n                    this.animator.disable(\"skipBack\");\r\n                }\r\n                this.ensureDrawn(true);\r\n                return true;\r\n            } else if (this.animationHistory.length > 0) {\r\n                this.popHistoryToRunningAnimation();\r\n                this.skipBack();\r\n            } else {\r\n                this.animator.disable(\"stepBack\");\r\n                this.animator.disable(\"skipBack\");\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    canSkipForward() {\r\n        return this.animationQueue.length > 0;\r\n    }\r\n    skipForward() {\r\n        if (this.paused) {\r\n            if (this.animationQueue.length > 0) {\r\n                if (this.isAnimStart(this.animationQueue[0])) {\r\n                    this.stepForward(false);\r\n                }\r\n                while (this.animationQueue.length > 0 && !this.isAnimStart(this.animationQueue[0])) {\r\n                    this.stepForward(false);\r\n                }\r\n                this.ensureDrawn(true);\r\n                this.animator.enable(\"stepBack\");\r\n                this.animator.enable(\"skipBack\");\r\n                if (this.animationQueue.length === 0) {\r\n                    this.animator.emit(\"anim-end\");\r\n                    this.animator.disable(\"stepForward\");\r\n                    this.animator.disable(\"skipForward\");\r\n                }\r\n                return true;\r\n            } else {\r\n                this.animator.emit(\"anim-end\");\r\n                this.animator.disable(\"stepForward\");\r\n                this.animator.disable(\"skipForward\");\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    popHistoryToRunningAnimation() {\r\n        let previousAnimationSequence = this.animationHistory.pop();\r\n        this.animator.emit(\"anim-start\");\r\n        this.animationQueue.unshift({method:this.stopDrawing,params:this.constructor.SUPPORTS_STOP_ID ? [++this.stopID,true] : [],noAnim:true});\r\n        this.animationQueue.unshift({method:this.animator.emit,scope:this.animator,params:[\"anim-end\",],noAnim:true});\r\n        this.runningAnimation = previousAnimationSequence;\r\n    }\r\n\r\n    noAnimStartsInQueue() {\r\n        let containsAnimStart = false;\r\n        for (let animation of this.animationQueue) {\r\n            if (this.isAnimStart(animation)) {\r\n                containsAnimStart = true;\r\n                break;\r\n            }\r\n        }\r\n        return !containsAnimStart;\r\n    }\r\n\r\n    canUndo() {\r\n        return this.noAnimStartsInQueue() && (this.animationHistory.length > 0 || (this.runningAnimation && this.runningAnimation.length > 0))\r\n    }\r\n    undo() {\r\n        if (this.canUndo()) {\r\n            if (!this.paused) {\r\n                this.ensureDrawn(true);\r\n                if (this.animationQueue.length === 0 || !this.isUndoTrigger(this.animationQueue[0])) {\r\n                    this.animationQueue.unshift({method:this.undoAction,params:[false],noAnim:true});\r\n                }\r\n                this.beginDrawLoop();\r\n                return true;\r\n            } else {\r\n                this.undoAction(true);\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    undoAction(wasPaused) {\r\n        if (!wasPaused) {\r\n            this.setPaused();\r\n        }\r\n        this.skipBack();\r\n        this.animationQueue.splice(0,this.animationQueue.length);\r\n        if (!wasPaused) {\r\n            this.play();\r\n        } else {\r\n            this.animator.emit(\"anim-end\");\r\n            this.animator.disable(\"stepForward\");\r\n            this.animator.disable(\"skipForward\");\r\n        }\r\n    }\r\n\r\n    doExample(operationList, needsReset) {\r\n        if (needsReset) {\r\n            this.reset();\r\n        }\r\n        let f;\r\n        for (let i = operationList.length - 1; i > 0; i--) {\r\n            let temp = f;\r\n            f = () => {\r\n                this[operationList[i].methodName](...operationList[i].params, temp, true);\r\n            }\r\n        }\r\n        this[operationList[0].methodName](...operationList[0].params, f);\r\n        this.play();\r\n    }\r\n\r\n    ensureDrawn() {\r\n        throw new TypeError(\"Need to implement ensure drawn in instance class\");\r\n    }\r\n\r\n\r\n    updateText(text, color = Colors.BLACK) {\r\n        this.animationQueue.push({method:this.showText,params:[text,color],});\r\n    }\r\n\r\n    showText(text, color = Colors.BLACK) {\r\n        this.displayText = text;\r\n        this.displayTextColor = color;\r\n    }\r\n    undo_showText(text, color) {\r\n        return this.showText(text, color);\r\n    }\r\n\r\n    addAnimation(animation) {\r\n        this.animationQueue.push({method:this.animator.emit,scope:this.animator,params:[\"anim-start\",],noAnim:true});\r\n        this.animationQueue.push(...animation);\r\n        this.animationQueue.push({method:this.animator.emit,scope:this.animator,params:[\"anim-end\",],noAnim:true});\r\n    }\r\n\r\n    doneAnimating(time = 250, caller = \"\") {\r\n        if (time === 0) {\r\n            this.animating = false;\r\n            if (this.constructor.LOG_DONE_ANIMATING) {\r\n                console.log(\"done\",caller);\r\n            }\r\n            return;\r\n        }\r\n        setTimeout(() => {\r\n            this.animating = false;\r\n            if (this.constructor.LOG_DONE_ANIMATING) {\r\n                console.log(\"done\",caller);\r\n            }\r\n        }, time);\r\n    }\r\n\r\n    update(animationSpeed, p5, callForward) {\r\n        if (this.constructor.SET_BOUNDS) {\r\n            this.width = p5.width - 2 * this.x;\r\n            this.height = p5.height - 2 * this.y;\r\n        }\r\n        if (callForward) {\r\n            callForward();\r\n        }\r\n        if (!this.constructor.SUPPORTS_ANIMATION_CONTROL || !this.paused) {\r\n            let testsWindowSize = this.popAnimation(animationSpeed);\r\n            if (this.constructor.SUPPORTS_INFREQUENT_RESIZE && testsWindowSize) {\r\n                this.animator.testWindowSize();\r\n            }\r\n        }\r\n        // if (!this.constructor.SUPPORTS_INFREQUENT_RESIZE) {\r\n        //     this.animator.testWindowSize();\r\n        // }\r\n    }\r\n\r\n    isAnimStart(animation) {\r\n        return animation.method === this.animator.emit && animation.params[0] === \"anim-start\";\r\n    }\r\n\r\n    isAnimEnd(animation) {\r\n        return animation.method === this.animator.emit && animation.params[0] === \"anim-end\";\r\n    }\r\n\r\n    isEndDrawLoopTrigger(animation) {\r\n        return animation.method === this.stopDrawing;\r\n    }\r\n\r\n    isPauseTrigger(animation) {\r\n        return animation.method === this.setPaused;\r\n    }\r\n\r\n    isUndoTrigger(animation) {\r\n        return animation.method === this.undoAction;\r\n    }\r\n\r\n    noAnimation(animation) {\r\n        return animation.noAnim\r\n                || (animation.method === this.animator.emit && (animation.params[0] === \"anim-start\" || animation.params[0] === \"anim-end\"))\r\n                || false;\r\n    }\r\n\r\n    processCompletedAnimation(animation,animationSpeed) {\r\n        let isPopNotStep = !isNaN(animationSpeed);\r\n        if (this.isAnimStart(animation)) {\r\n            this.runningAnimation = [];\r\n        } else if (this.isAnimEnd(animation)) {\r\n            this.animationHistory.push(this.runningAnimation);\r\n            if (this.constructor.TEST_ANIMATION_STEPS) {\r\n                this.testAnimation();\r\n            }\r\n            this.runningAnimation = null;\r\n        } else if (this.isEndDrawLoopTrigger(animation)) {\r\n            if (isPopNotStep) {\r\n                if (this.animationQueue.length > 0) {\r\n                    this.beginDrawLoop();\r\n                }\r\n            }\r\n        } else if (this.isPauseTrigger(animation)) {\r\n\r\n        } else if (this.isUndoTrigger(animation)) {\r\n\r\n        } else {\r\n            if (this.runningAnimation) {\r\n                this.runningAnimation.push(animation);\r\n            } else {\r\n                if (!this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n                    this.animationHistory.push(animation);\r\n                }\r\n            }\r\n        }\r\n        if (animation.explanation) {\r\n            if (animation.explanationUsesReturn) {\r\n                animation.explanation = animation.explanation.replace(\"|RETURN|\", animation.returnsUndoData ? animation.returnValue[0] : animation.returnValue);\r\n                if (animation.returnsUndoData) {\r\n                    // console.log(animation.returnValue);\r\n                }\r\n            }\r\n            this.showText(animation.explanation);\r\n        }\r\n        if (animation.returnsUndoData) {\r\n            animation.undoData = animation.explanationUsesReturn ? animation.returnValue[1] : animation.returnValue;\r\n        }\r\n        if (animation.returnsRedoData) {\r\n            animation.redoData = animation.explanationUsesReturn ? animation.returnValue[1] : animation.returnValue;\r\n        }\r\n        return animation.testsWindowSize;\r\n    }\r\n\r\n    popAnimation(animationSpeed) {\r\n        if (!this.animating) {\r\n            if (this.animationQueue.length > 0) {\r\n                let animation = this.animationQueue.shift();\r\n                this.animating = true;\r\n                if (this.constructor.LOG_ANIMATIONS) {\r\n                    console.log(\"animate\",animation.params,animation.method);\r\n                }\r\n                let retVal = animation.method.apply(animation.scope || this, animation.params);\r\n                animation.returnValue = retVal;\r\n                if (this.constructor.SUPPORTS_CUSTOM_END) {\r\n                    if (this.noAnimation(animation)) {\r\n                        this.animating = false;\r\n                    } else if (!animation.customEnd) {\r\n                        if (animationSpeed >= Math.floor(Visualizer.maxAnimationSpeed())) {\r\n                            this.doneAnimating(0, animation.method.name);\r\n                        } else {\r\n                            this.doneAnimating(this.constructor.MAX_ANIM_TIME / animationSpeed / (animation.quick ? 2 : 1), animation.method.name);\r\n                        }\r\n                    }\r\n                }\r\n                return this.processCompletedAnimation(animation, animationSpeed);\r\n            }\r\n        }\r\n    }\r\n\r\n    beginDrawLoop() {\r\n        this.animator.loop();\r\n        this.drawing = true;\r\n    }\r\n\r\n    endDrawLoop(callback) {\r\n        if (this.drawing) {\r\n            this.animationQueue.push({method:this.stopDrawing,params:this.constructor.SUPPORTS_STOP_ID ? [++this.stopID,true,callback] : [null,null,callback],noAnim:true});\r\n        }\r\n    }\r\n\r\n    stopDrawing(stopID,force,callback) {\r\n        if (!this.constructor.SUPPORTS_STOP_ID || force || stopID === this.stopID) {\r\n            this.animator.noLoop();\r\n            this.drawing = false;\r\n            if (callback) {\r\n                callback();\r\n            }\r\n        }\r\n    }\r\n\r\n    draw(p5) {\r\n        if (this.constructor.LOG_DRAW) {\r\n            console.log(\"draw\");\r\n        }\r\n        p5.push();\r\n        if (this.constructor.SUPPORTS_TEXT) {\r\n            p5.fill(...this.displayTextColor);\r\n            p5.textSize(15);\r\n            p5.textAlign(p5.LEFT, p5.TOP);\r\n            p5.text(this.displayText, 2.5,2.5, p5.width-2.5,(this.getDisplayTextExtraLines(p5) + 1)*20);\r\n        }\r\n        p5.pop();\r\n        if (this.constructor.SUPPORTS_TEXT) {\r\n            p5.translate(0,this.getDisplayTextExtraLines(p5)*20);\r\n        }\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        return true;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        return true;\r\n    }\r\n\r\n    getDisplayTextExtraLines(p5) {\r\n        p5.push();\r\n        p5.textSize(15);\r\n        let width = p5.textWidth(this.displayText);\r\n        let lines = Math.ceil(width / (p5.width - 10));\r\n        // console.log(width,lines);\r\n        p5.pop();\r\n        return lines - 1;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars, maxY, callback, maxWidth) {\r\n        maxY += this.getDisplayTextExtraLines(p5)*20;\r\n        if (!document.querySelector(\".canvas-container\").classList.contains(\"mobile\")) {\r\n            height -= numScrollbars * 16;\r\n        }\r\n        let width = p5.windowWidth;\r\n        if (maxY > (height - (2*this.y))) {\r\n            height = (maxY + (3*this.y));\r\n            if (!document.querySelector(\".canvas-container\").classList.contains(\"mobile\")) {\r\n                width -= 16;\r\n            }\r\n            document.querySelector(\".canvas-container\").classList.add(\"overflow-y\");\r\n        } else {\r\n            document.querySelector(\".canvas-container\").classList.remove(\"overflow-y\");\r\n        }\r\n        if (maxWidth) {\r\n            if (maxWidth > (width - (2*this.x))) {\r\n                width = (maxWidth + (4*this.x));\r\n                if (!document.querySelector(\".canvas-container\").classList.contains(\"mobile\")) {\r\n                    height -= 16;\r\n                    if (maxY > (height - (3*this.y))) {\r\n                        height = (maxY + (3*this.y));\r\n                        document.querySelector(\".canvas-container\").classList.add(\"overflow-y\");\r\n                    } else {\r\n                        document.querySelector(\".canvas-container\").classList.remove(\"overflow-y\");\r\n                    }\r\n                }\r\n                document.querySelector(\".canvas-container\").classList.add(\"overflow-x\");\r\n            } else {\r\n                document.querySelector(\".canvas-container\").classList.remove(\"overflow-x\");\r\n            }\r\n        }\r\n\r\n        height = Math.max(height, p5.height);\r\n        p5.resizeCanvas(width, height);\r\n\r\n        if (this.constructor.SET_BOUNDS) {\r\n            this.width = p5.width - 2 * this.x;\r\n            this.height = p5.height - 2 * this.y;\r\n        }\r\n\r\n\r\n        if (callback) {\r\n            callback();\r\n        }\r\n        try {\r\n            if (this.paused) {\r\n                this.ensureDrawn(this.animationQueue.length === 0);\r\n                if (this.animationQueue.length > 0 && !this.paused) {\r\n                    this.stopID++;\r\n                }\r\n            }\r\n        } catch (e) {\r\n\r\n        } finally {\r\n\r\n        }\r\n    }\r\n}\r\n","import { Visualization, AnimatedObject } from 'animation';\r\n\r\nexport default class ArrayList extends Visualization {\r\n    static USE_CANVAS = true;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.backingArray = {};\r\n            this.backingArray.length = ArrayList.INITIAL_CAPACITY;\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.backingArray[i] = new ArrayElement(\"\");\r\n            }\r\n            this.size = 0;\r\n        });\r\n    }\r\n\r\n\r\n    addAtIndex(index, data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index > this.size) {\r\n            //console.log(\"index out of bounds\");\r\n            return false;\r\n        }\r\n        if (data === null) {\r\n            //console.log(\"Cannot add null to ArrayList.\");\r\n            return false;\r\n        }\r\n        this.animating = true;\r\n        let animation = [];\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push(...this.doubleSize());\r\n        }\r\n        if (index < this.size) {\r\n            animation.push(...this.shiftForIndex(index));\r\n        }\r\n        animation.push({method:this.setIndex,params:[index,data,],});\r\n        animation.push({method:this.sizeIncr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation);\r\n        return true;\r\n    }\r\n\r\n    addToFront(data) {\r\n        return this.addAtIndex(0,data);\r\n    }\r\n\r\n    addToBack(data) {\r\n        return this.addAtIndex(this.size,data);\r\n    }\r\n\r\n\r\n    removeFromIndex(index) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index >= this.size) {\r\n            //console.log(`Index invalid: ${index} for ArrayList of length ${this.size}. Should be [0,${this.size-1}].`);\r\n            return false;\r\n        }\r\n        this.animating = true;\r\n        let animation = [];\r\n        let element = this.backingArray[index];\r\n        let data = element.data;\r\n        element.data = \"\";\r\n        if (index < this.size - 1) {\r\n            animation.push(...this.shiftIntoIndex(index));\r\n        }\r\n        animation.push({method:this.sizeDecr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    removeFromFront() {\r\n        return this.removeFromIndex(0);\r\n    }\r\n\r\n    removeFromBack() {\r\n        return this.removeFromIndex(this.size-1);\r\n    }\r\n\r\n\r\n    setIndex(index,data) {\r\n        this.backingArray[index].data = data;\r\n    }\r\n\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    doubleSize() {\r\n        let animation = []\r\n        let prevCapacity = this.backingArray.length;\r\n        for (let i = prevCapacity; i < this.backingArray.length * 2; i++) {\r\n            animation.push({method:this.resetElement,params:[i,],});\r\n        }\r\n        animation.push({method:this.incrLength,params:[],});\r\n        return animation;\r\n    }\r\n\r\n    incrLength() {\r\n        this.backingArray.length = 2 * this.backingArray.length;\r\n    }\r\n\r\n    shiftForIndex(index) {\r\n        let animation = []\r\n        for (let i = this.size - 1; i >= index; i--) {\r\n            animation.push(...this.shiftElement(i,1));\r\n        }\r\n        animation.push({method:this.resetElement,params:[index,],});\r\n        return animation;\r\n    }\r\n\r\n    shiftIntoIndex(index) {\r\n        let animation = [];\r\n        for (let i = index + 1; i < this.size; i++) {\r\n            animation.push(...this.shiftElement(i,-1));\r\n        }\r\n        animation.push({method:this.resetElement,params:[this.size-1,],});\r\n        return animation;\r\n    }\r\n\r\n    shiftElement(index, direction) {\r\n        let animation = [];\r\n        animation.push({method:this.shiftElementMovement,params:[index,direction,],});\r\n        animation.push({method:this.shiftElementIndex,params:[index,direction,],});\r\n        return animation;\r\n    }\r\n\r\n    shiftElementMovement(index, direction) {\r\n        this.backingArray[index].shift(direction);\r\n        // console.log(\"move\",index,JSON.stringify(this.backingArray));\r\n    }\r\n\r\n    shiftElementIndex(index, direction) {\r\n        // console.log(\"index\",index,JSON.stringify(this.backingArray));\r\n        // console.log(index+direction, this.backingArray[index].data);\r\n        this.backingArray[index+direction].data = this.backingArray[index].data;\r\n        this.backingArray[index].data = \"\";\r\n    }\r\n\r\n\r\n    resetElement(index) {\r\n        if (this.backingArray[index]) {\r\n            this.backingArray[index].data = \"\";\r\n        } else {\r\n            this.backingArray[index] = new ArrayElement(\"\", ArrayList.ELEMENT_SIZE);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                if (this.backingArray[i]) {\r\n                    this.backingArray[i].update(animationSpeed);\r\n                }\r\n            }\r\n            let foundAnimElement = false;\r\n            for (let i = 0; i < this.size; i++) {\r\n                if (!this.backingArray[i].inPosition()) {\r\n                    foundAnimElement = true;\r\n                    break;\r\n                }\r\n            }\r\n            this.animating = foundAnimElement;\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        let maxPerRow = Math.floor((p5.width - 2 * this.x) / ArrayList.ELEMENT_SIZE);\r\n        let rows = Math.ceil(this.backingArray.length / maxPerRow);\r\n\r\n        p5.push();\r\n        p5.translate(this.x,this.y);\r\n\r\n        for (let row = 0; row < rows; row++) {\r\n            let numElements = row !== rows-1 ? maxPerRow\r\n                    : (this.backingArray.length % maxPerRow === 0 ? maxPerRow : (this.backingArray.length % maxPerRow));\r\n            p5.noStroke();\r\n            p5.fill(200);\r\n            p5.rect(ArrayList.ELEMENT_SIZE/10,ArrayList.ELEMENT_SIZE/10 + (2 * ArrayList.ELEMENT_SIZE * row),ArrayList.ELEMENT_SIZE*numElements,ArrayList.ELEMENT_SIZE,ArrayList.ELEMENT_SIZE/20);\r\n\r\n            p5.stroke(0);\r\n            p5.fill(255);\r\n            p5.rect(0,(2 * ArrayList.ELEMENT_SIZE * row), ArrayList.ELEMENT_SIZE*numElements,ArrayList.ELEMENT_SIZE);\r\n        }\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(ArrayList.ELEMENT_SIZE/3 - 2);\r\n\r\n        let i = 0;\r\n        for (let row = 0; row < rows; row++) {\r\n            let numElements = row !== rows-1 ? maxPerRow\r\n                    : (this.backingArray.length % maxPerRow === 0 ? maxPerRow : (this.backingArray.length % maxPerRow));\r\n            let x = 0;\r\n            let y = 2 * row * ArrayList.ELEMENT_SIZE;\r\n            for (let block = 0; block < numElements; block++) {\r\n                p5.stroke(0);\r\n                p5.line(x,y, x, y+ArrayList.ELEMENT_SIZE);\r\n\r\n                p5.noStroke();\r\n                p5.fill(0,0,255);\r\n                p5.text(i.toString(), x,y+ArrayList.ELEMENT_SIZE, ArrayList.ELEMENT_SIZE,ArrayList.ELEMENT_SIZE);\r\n\r\n                let element = this.backingArray[i++];\r\n                let nextX = block < (numElements - 1) ? x + ArrayList.ELEMENT_SIZE : 0;\r\n                let nextY = block < (numElements - 1) ? y : (y + (ArrayList.ELEMENT_SIZE*2));\r\n                if (element.data) {\r\n                    element.draw(p5, x,y,nextX,nextY);\r\n                }\r\n                x = nextX;\r\n                y = nextY;\r\n                if (y >= document.querySelector(\".canvas-container\").getBoundingClientRect().height - ArrayList.ELEMENT_SIZE) {\r\n                    // this.windowResized(p5, document.querySelector(\".canvas-container\").getBoundingClientRect().height);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (Math.ceil(this.backingArray.length / (Math.floor((p5.width - 2 * this.x) / ArrayList.ELEMENT_SIZE))))*2*ArrayList.ELEMENT_SIZE);\r\n    }\r\n}\r\n\r\n\r\nclass ArrayElement extends AnimatedObject {\r\n    constructor(data) {\r\n        super();\r\n\r\n        this.data = data;\r\n    }\r\n\r\n    shift(direction) {\r\n        super.travel(direction);\r\n    }\r\n\r\n    draw(p5, x,y, toX,toY) {\r\n        p5.push();\r\n        p5.fill(0);\r\n        p5.stroke(50);\r\n        if (!this.inPosition()) {\r\n            let posX = (toX-x)*this.xProgress + x;\r\n            let posY = (toY-y)*this.yProgress + y;\r\n            p5.text(this.data.toString(), posX,posY, ArrayList.ELEMENT_SIZE,ArrayList.ELEMENT_SIZE);\r\n        } else {\r\n            p5.text(this.data.toString(), x,y, ArrayList.ELEMENT_SIZE,ArrayList.ELEMENT_SIZE)\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization, AttractedDraggableObject } from 'animation';\r\nimport { Utils } from 'utils';\r\n\r\nexport default class SinglyLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = SinglyLinkedList.ELEMENT_WIDTH + SinglyLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = SinglyLinkedList.ITEM_WIDTH + SinglyLinkedList.SPACING;\r\n\r\n    static MAX_DIST_REMOVE = 300;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.head = null;\r\n            this.size = 0;\r\n            this.nodes = [];\r\n            this.tempNode = null;\r\n            this.pinnedNode = null;\r\n        });\r\n    }\r\n\r\n\r\n    addAtIndex(index, data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index > this.size) {\r\n            //console.log(\"index out of bounds\");\r\n            return false;\r\n        }\r\n        if (data === null) {\r\n            //console.log(\"Cannot add null to SinglyLinkedList.\");\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let node = null;\r\n        let nextNode = this.head;\r\n        for (let i = 0; i < index; i++) {\r\n            animation.push({method:this.moveHighlight,params:[node,nextNode,],});\r\n            node = nextNode;\r\n            nextNode = nextNode.next;\r\n        }\r\n        animation.push({method:this.makeNode,params:[index,data,],});\r\n        animation.push({method:this.moveHighlight,params:[node,null,],});\r\n        animation.push({method:this.setTempNodeBefore,params:[nextNode,],});\r\n        animation.push({method:this.setTempNodePrev,params:[node,],});\r\n        if (index < this.size) {\r\n            animation.push({method:this.shiftForNode,params:[nextNode,],});\r\n        }\r\n        animation.push({method:this.insertTempNode,params:[index,],});\r\n        animation.push({method:this.sizeIncr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation);\r\n        return true;\r\n    }\r\n\r\n    addToFront(data) {\r\n        return this.addAtIndex(0,data);\r\n    }\r\n\r\n    addToBack(data) {\r\n        return this.addAtIndex(this.size,data);\r\n    }\r\n\r\n\r\n    removeFromIndex(index) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index >= this.size) {\r\n            //console.log(`Index invalid: ${index} for SinglyLinkedList of length ${this.size}. Should be [0,${this.size-1}].`);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let prev;\r\n        let toDelete;\r\n        let next;\r\n        if (index === 0) {\r\n            prev = null;\r\n            toDelete = this.head;\r\n            next = toDelete.next;\r\n        } else {\r\n            let node = this.head;\r\n            animation.push({method:this.moveHighlight,params:[null,node,],});\r\n            for (let i = 0; i < index - 1; i++) {\r\n                animation.push({method:this.moveHighlight,params:[node,node.next,],});\r\n                node = node.next;\r\n            }\r\n            prev = node;\r\n            toDelete = prev.next;\r\n            next = toDelete.next;\r\n        }\r\n        let data = toDelete.data;\r\n        animation.push({method:this.markNodeForDeletion,params:[prev,toDelete,],});\r\n        animation.push({method:this.unmakeNode,params:[toDelete,],customEnd:true,});\r\n        if (index < this.size - 1) {\r\n            animation.push({method:this.shiftIntoNode,params:[next,],});\r\n        }\r\n        animation.push({method:this.skipTempNode,params:[prev,],});\r\n        animation.push({method:this.sizeDecr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    removeFromFront() {\r\n        return this.removeFromIndex(0);\r\n    }\r\n\r\n    removeFromBack() {\r\n        return this.removeFromIndex(this.size-1);\r\n    }\r\n\r\n\r\n    makeNode(index, data) {\r\n        this.tempNode = new SinglyLinkedListNode({data: data, index: index, x:20,y:20,},);\r\n    }\r\n\r\n    setTempNodeBefore(next) {\r\n        this.tempNode.next = next;\r\n    }\r\n\r\n    setTempNodePrev(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode;\r\n        } else {\r\n            // this.head = this.tempNode;\r\n        }\r\n    }\r\n\r\n    insertTempNode(index) {\r\n        this.nodes.splice(index, 0, this.tempNode);\r\n        if (index === 0) {\r\n            this.head = this.tempNode;\r\n        }\r\n        this.tempNode.shift(...this.getNodePosition(index));\r\n        this.tempNode = null;\r\n    }\r\n\r\n    moveHighlight(fromNode, toNode) {\r\n        if (fromNode) {\r\n            fromNode.unHighlight();\r\n        }\r\n        if (toNode) {\r\n            toNode.highlight();\r\n        }\r\n    }\r\n\r\n    markNodeForDeletion(highlighted, nodeToDelete) {\r\n        if (highlighted) {\r\n            highlighted.unHighlight();\r\n        }\r\n        nodeToDelete.markForDeletion();\r\n    }\r\n\r\n    unmakeNode(node) {\r\n        this.tempNode = this.nodes.splice(node.index, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    skipTempNode(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode.next;\r\n        } else {\r\n            this.head = this.head.next;\r\n        }\r\n        this.tempNode = null;\r\n    }\r\n\r\n    shiftForNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftIntoNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    addAnimation(animation) {\r\n        this.animationQueue.push({method:this.animator.emit,scope:this.animator,params:[\"anim-start\",],});\r\n        this.animationQueue.push(...animation);\r\n        this.animationQueue.push({method:this.animator.emit,scope:this.animator,params:[\"anim-end\",],});\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / SinglyLinkedList.ELEMENT_SIZE));\r\n        let x = SinglyLinkedList.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * SinglyLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * SinglyLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        if (this.pinnedNode.unpin()) {\r\n            this.removeFromIndex(this.pinnedNode.index);\r\n            this.pinnedNode.markBroken();\r\n        }\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        if (node.update(animationSpeed, p5)) {\r\n            node.highlightForDeletion();\r\n        } else if (node.pinnedToMouse && !node.toDelete) {\r\n            node.unHighlight();\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        // let maxPerRow = Math.floor(this.width / SinglyLinkedList.ELEMENT_SIZE);\r\n        // let rows = Math.ceil(this.nodes.length / maxPerRow);\r\n\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return !pressedNode;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.unpin();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getNodePosition(this.size-1)[1] + SinglyLinkedList.ELEMENT_HEIGHT);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.shift(...this.getNodePosition(node.index));\r\n            node = node.next;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nclass SinglyLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + SinglyLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + SinglyLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unHighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    markBroken() {\r\n        this.markForDeletion();\r\n        this.frozen = true;\r\n        this.handBroken = true;\r\n    }\r\n\r\n    unpin() {\r\n        super.unpin();\r\n        return this.displacement() > SinglyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        let dist = super.update(animationSpeed, p5);\r\n        return this.pinnedToMouse && !this.handBroken && dist > SinglyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(this);\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, SinglyLinkedList.ITEM_WIDTH, SinglyLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + SinglyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + SinglyLinkedList.ELEMENT_WIDTH, this.currentY + SinglyLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, SinglyLinkedList.ELEMENT_WIDTH,SinglyLinkedList.ELEMENT_HEIGHT);\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.fill(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.circle(this.currentX + SinglyLinkedList.ELEMENT_WIDTH + SinglyLinkedList.POINTER_WIDTH / 2, this.currentY + SinglyLinkedList.ELEMENT_HEIGHT / 2, 5);\r\n            p5.line(this.currentX + SinglyLinkedList.ELEMENT_WIDTH + SinglyLinkedList.POINTER_WIDTH / 2, this.currentY + SinglyLinkedList.ELEMENT_HEIGHT / 2, this.next.currentX, this.next.currentY + SinglyLinkedList.ELEMENT_HEIGHT / 2)\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + SinglyLinkedList.ELEMENT_HEIGHT / 2 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX + SinglyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + SinglyLinkedList.ITEM_WIDTH, this.currentY + SinglyLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization , AttractedDraggableObject } from 'animation';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class DoublyLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = DoublyLinkedList.ELEMENT_WIDTH + 2 * DoublyLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_PADDED_WIDTH = DoublyLinkedList.ITEM_WIDTH + DoublyLinkedList.SPACING;\r\n\r\n    static MAX_DIST_REMOVE = 300;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.head = null;\r\n            this.tail = null;\r\n            this.size = 0;\r\n            this.nodes = [];\r\n            this.tempNode = null;\r\n            this.pinnedNode = null;\r\n        });\r\n    }\r\n\r\n\r\n    addAtIndex(index, data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index > this.size) {\r\n            //console.log(\"index out of bounds\");\r\n            return false;\r\n        }\r\n        if (data === null) {\r\n            //console.log(\"Cannot add null to DoublyLinkedList.\");\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let node;\r\n        let nextNode;\r\n        let highlighted;\r\n        if (index < this.size / 2) {\r\n            node = null;\r\n            nextNode = this.head;\r\n            for (let i = 0; i < index; i++) {\r\n                animation.push({method:this.moveHighlight,params:[node,nextNode,],});\r\n                node = nextNode;\r\n                nextNode = nextNode.next;\r\n            }\r\n            highlighted = node;\r\n        } else {\r\n            node = this.tail;\r\n            nextNode = null;\r\n            for (let i = this.size - 1; i > index-1; i--) {\r\n                animation.push({method:this.moveHighlight,params:[nextNode,node,],});\r\n                nextNode = node;\r\n                node = node.prev;\r\n            }\r\n            highlighted = nextNode;\r\n        }\r\n        animation.push({method:this.makeNode,params:[index,data,],});\r\n        animation.push({method:this.moveHighlight,params:[highlighted,null,],});\r\n        animation.push({method:this.setTempNodeBefore,params:[nextNode,],});\r\n        animation.push({method:this.setTempNodePrev,params:[node,],});\r\n        if (index < this.size) {\r\n            animation.push({method:this.shiftForNode,params:[nextNode,],});\r\n        }\r\n        animation.push({method:this.insertTempNode,params:[index,],});\r\n        animation.push({method:this.sizeIncr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation);\r\n        return true;\r\n    }\r\n\r\n    addToFront(data) {\r\n        return this.addAtIndex(0,data);\r\n    }\r\n\r\n    addToBack(data) {\r\n        return this.addAtIndex(this.size,data);\r\n    }\r\n\r\n\r\n    removeFromIndex(index) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index >= this.size) {\r\n            //console.log(`Index invalid: ${index} for DoublyLinkedList of length ${this.size}. Should be [0,${this.size-1}].`);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let prev;\r\n        let toDelete;\r\n        let next;\r\n        if (index === 0) {\r\n            prev = null;\r\n            toDelete = this.head;\r\n            next = toDelete.next;\r\n        } else if (index === this.size - 1) {\r\n            next = null;\r\n            toDelete = this.tail;\r\n            prev = toDelete.prev;\r\n        } else {\r\n            if (index < this.size / 2) {\r\n                let node = this.head;\r\n                animation.push({method:this.moveHighlight,params:[null,node,],});\r\n                for (let i = 0; i < index; i++) {\r\n                    animation.push({method:this.moveHighlight,params:[node,node.next,],});\r\n                    node = node.next;\r\n                }\r\n                prev = node.prev;\r\n                toDelete = node;\r\n                next = node.next;\r\n            } else {\r\n                let node = this.tail;\r\n                animation.push({method:this.moveHighlight,params:[null,node,],});\r\n                for (let i = this.size - 1; i > index; i--) {\r\n                    animation.push({method:this.moveHighlight,params:[node,node.prev,],});\r\n                    node = node.prev;\r\n                }\r\n                prev = node.prev;\r\n                toDelete = node;\r\n                next = node.next;\r\n            }\r\n        }\r\n        let data = toDelete.data;\r\n        animation.push({method:this.markNodeForDeletion,params:[toDelete,toDelete,],});\r\n        animation.push({method:this.unmakeNode,params:[toDelete,],customEnd:true,});\r\n        if (index < this.size - 1) {\r\n            animation.push({method:this.shiftIntoNode,params:[next,],});\r\n        }\r\n        animation.push({method:this.skipTempNodePrev,params:[prev,],});\r\n        animation.push({method:this.skipTempNodeNext,params:[next,],});\r\n        animation.push({method:this.sizeDecr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    removeFromFront() {\r\n        return this.removeFromIndex(0);\r\n    }\r\n\r\n    removeFromBack() {\r\n        return this.removeFromIndex(this.size-1);\r\n    }\r\n\r\n\r\n\r\n    makeNode(index, data) {\r\n        this.tempNode = new DoublyLinkedListNode({data: data, index: index, x:20,y:20,},);\r\n    }\r\n\r\n    setTempNodeBefore(next) {\r\n        this.tempNode.next = next;\r\n        if (next) {\r\n            next.prev = this.tempNode;\r\n        }\r\n    }\r\n\r\n    setTempNodePrev(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode;\r\n        }\r\n        this.tempNode.prev = prev;\r\n    }\r\n\r\n    insertTempNode(index) {\r\n        this.nodes.splice(index, 0, this.tempNode);\r\n        if (index === 0) {\r\n            this.head = this.tempNode;\r\n        }\r\n        if (index === this.size) {\r\n            this.tail = this.tempNode;\r\n        }\r\n        this.tempNode.shift(...this.getNodePosition(index));\r\n        this.tempNode = null;\r\n    }\r\n\r\n    moveHighlight(fromNode, toNode) {\r\n        if (fromNode) {\r\n            fromNode.unHighlight();\r\n        }\r\n        if (toNode) {\r\n            toNode.highlight();\r\n        }\r\n    }\r\n\r\n    markNodeForDeletion(highlighted, nodeToDelete) {\r\n        if (highlighted) {\r\n            highlighted.unHighlight();\r\n        }\r\n        nodeToDelete.markForDeletion();\r\n    }\r\n\r\n    unmakeNode(node) {\r\n        this.tempNode = this.nodes.splice(node.index, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    skipTempNodePrev(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode.next;\r\n        } else {\r\n            this.head = this.head.next;\r\n        }\r\n    }\r\n\r\n    skipTempNodeNext(next) {\r\n        if (next) {\r\n            next.prev = this.tempNode.prev;\r\n        } else {\r\n            this.tail = this.tail.prev;\r\n        }\r\n        this.tempNode = null;\r\n    }\r\n\r\n    shiftForNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftIntoNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / DoublyLinkedList.ELEMENT_PADDED_WIDTH));\r\n        let x = DoublyLinkedList.ELEMENT_PADDED_WIDTH * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * DoublyLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * DoublyLinkedList.ELEMENT_PADDED_WIDTH;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        if (this.pinnedNode.unpin()) {\r\n            this.removeFromIndex(this.pinnedNode.index);\r\n            this.pinnedNode.markBroken();\r\n        }\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        if (node.update(animationSpeed, p5)) {\r\n            node.highlightForDeletion();\r\n        } else if (node.pinnedToMouse && !node.toDelete) {\r\n            node.unHighlight();\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return !pressedNode;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.unpin();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getNodePosition(this.size-1)[1] + DoublyLinkedList.ELEMENT_HEIGHT);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.shift(...this.getNodePosition(node.index));\r\n            node = node.next;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nclass DoublyLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n        this.prev = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + DoublyLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + DoublyLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unHighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    markBroken() {\r\n        this.markForDeletion();\r\n        this.frozen = true;\r\n        this.handBroken = true;\r\n    }\r\n\r\n    unpin() {\r\n        super.unpin();\r\n        return this.displacement() > DoublyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        let dist = super.update(animationSpeed, p5);\r\n        return this.pinnedToMouse && !this.handBroken && dist > DoublyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(this);\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, DoublyLinkedList.ITEM_WIDTH, DoublyLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + DoublyLinkedList.POINTER_WIDTH, this.currentY, this.currentX + DoublyLinkedList.POINTER_WIDTH, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + DoublyLinkedList.POINTER_WIDTH + DoublyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + DoublyLinkedList.POINTER_WIDTH + DoublyLinkedList.ELEMENT_WIDTH, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX + DoublyLinkedList.POINTER_WIDTH,this.currentY, DoublyLinkedList.ELEMENT_WIDTH,DoublyLinkedList.ELEMENT_HEIGHT);\r\n        if (this.prev) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.circle(this.currentX + DoublyLinkedList.POINTER_WIDTH / 2, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT *2/3, 5);\r\n            p5.line(this.currentX + DoublyLinkedList.POINTER_WIDTH / 2, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT *2/3, this.prev.currentX + DoublyLinkedList.ITEM_WIDTH, this.prev.currentY + DoublyLinkedList.ELEMENT_HEIGHT *2/3)\r\n            p5.rect(this.prev.currentX + DoublyLinkedList.ITEM_WIDTH - 3, this.prev.currentY + DoublyLinkedList.ELEMENT_HEIGHT *2/3 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX, this.currentY, this.currentX + DoublyLinkedList.POINTER_WIDTH, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.circle(this.currentX + DoublyLinkedList.ITEM_WIDTH - DoublyLinkedList.POINTER_WIDTH / 2, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT / 3, 5);\r\n            p5.line(this.currentX + DoublyLinkedList.ITEM_WIDTH - DoublyLinkedList.POINTER_WIDTH / 2, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT / 3, this.next.currentX, this.next.currentY + DoublyLinkedList.ELEMENT_HEIGHT / 3)\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + DoublyLinkedList.ELEMENT_HEIGHT / 3 - 3, 6,6);\r\n        } else {\r\n            p5.stroke(...this.color);\r\n            p5.line(this.currentX + DoublyLinkedList.POINTER_WIDTH + DoublyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + DoublyLinkedList.ITEM_WIDTH, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization, AttractedDraggableObject } from 'animation';\r\nimport { Utils } from 'utils';\r\n\r\nexport default class CircularSinglyLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = CircularSinglyLinkedList.ITEM_WIDTH + CircularSinglyLinkedList.SPACING;\r\n\r\n    static MAX_DIST_REMOVE = 300;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.head = null;\r\n            this.size = 0;\r\n            this.nodes = [];\r\n            this.tempNode = null;\r\n            this.pinnedNode = null;\r\n        });\r\n    }\r\n\r\n\r\n    addAtIndex(index, data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index > this.size) {\r\n            //console.log(\"index out of bounds\");\r\n            return false;\r\n        }\r\n        if (data === null) {\r\n            //console.log(\"Cannot add null to CircularSinglyLinkedList.\");\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        if (this.size > 0 && (index === 0 || index === this.size)) {\r\n            animation.push({method:this.makeNode,params:[index === 0 ? 1 : index,this.head.data,],});\r\n            animation.push({method:this.setTempNodeBefore,params:[this.head.next,],});\r\n            animation.push({method:this.setTempNodePrev,params:[this.head,],});\r\n            animation.push({method:this.changeHeadData,params:[data],});\r\n            if (this.size >= 2) {\r\n                animation.push({method:this.shiftForNode,params:[this.head.next,],});\r\n            }\r\n            animation.push({method:this.insertTempNode,params:[1,],});\r\n            animation.push({method:this.sizeIncr,params:[],});\r\n            if (index === this.size) {\r\n                animation.push({method:this.customNodeShift,params:[this.head, this.head.currentX - 10, this.getNodePosition(this.size)[1] + CircularSinglyLinkedList.ELEMENT_HEIGHT * 2,],customEnd:true});\r\n                // animation.push({method:this.head.shift,scope:this.head,params:[this.head.currentX - 10, this.getNodePosition(this.size)[1] + CircularSinglyLinkedList.ELEMENT_HEIGHT * 2,],});\r\n                animation.push({method:this.resetHead,params:[],});\r\n            }\r\n        } else {\r\n            let node = null;\r\n            let nextNode = this.head;\r\n            for (let i = 0; i < index; i++) {\r\n                animation.push({method:this.moveHighlight,params:[node,nextNode,],});\r\n                node = nextNode;\r\n                nextNode = nextNode.next;\r\n            }\r\n            animation.push({method:this.makeNode,params:[index,data,],});\r\n            animation.push({method:this.moveHighlight,params:[node,null,],});\r\n            animation.push({method:this.setTempNodeBefore,params:[nextNode,],});\r\n            animation.push({method:this.setTempNodePrev,params:[node,],});\r\n            if (index < this.size) {\r\n                animation.push({method:this.shiftForNode,params:[nextNode,],});\r\n            }\r\n            animation.push({method:this.insertTempNode,params:[index,],});\r\n            animation.push({method:this.sizeIncr,params:[],});\r\n        }\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation);\r\n        return true;\r\n    }\r\n\r\n    addToFront(data) {\r\n        return this.addAtIndex(0,data);\r\n    }\r\n\r\n    addToBack(data) {\r\n        return this.addAtIndex(this.size,data);\r\n    }\r\n\r\n\r\n    removeFromIndex(index) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index >= this.size) {\r\n            //console.log(`Index invalid: ${index} for CircularSinglyLinkedList of length ${this.size}. Should be [0,${this.size-1}].`);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data;\r\n        if (index === 0) {\r\n            data = this.head.data;\r\n            animation.push({method:this.moveHighlight,params:[null,this.head,],});\r\n            animation.push({method:this.changeHeadData,params:[this.head.next.data],});\r\n            if (this.size > 1) {\r\n                index = 1;\r\n            }\r\n        }\r\n        let prev;\r\n        let toDelete;\r\n        let next;\r\n        let node = this.head;\r\n        animation.push({method:this.moveHighlight,params:[null,node,],});\r\n        for (let i = 0; i < index - 1; i++) {\r\n            animation.push({method:this.moveHighlight,params:[node,node.next,],});\r\n            node = node.next;\r\n        }\r\n        prev = node;\r\n        toDelete = prev.next;\r\n        next = toDelete.next;\r\n        if (!data) {\r\n            data = toDelete.data;\r\n        }\r\n        animation.push({method:this.markNodeForDeletion,params:[prev,toDelete,],});\r\n        animation.push({method:this.unmakeNode,params:[toDelete,],customEnd:true,});\r\n        if (index < this.size - 1) {\r\n            animation.push({method:this.shiftIntoNode,params:[next,],});\r\n        }\r\n        animation.push({method:this.skipTempNode,params:[prev,],});\r\n        animation.push({method:this.sizeDecr,params:[],});\r\n        if (index === 0) {\r\n            animation.push({method:this.reset,params:[],});\r\n        }\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    removeFromFront() {\r\n        return this.removeFromIndex(0);\r\n    }\r\n\r\n    removeFromBack() {\r\n        return this.removeFromIndex(this.size-1);\r\n    }\r\n\r\n\r\n    makeNode(index, data) {\r\n        this.tempNode = new CircularSinglyLinkedListNode({data: data, index: index, x:20,y:20,},);\r\n    }\r\n\r\n    setTempNodeBefore(next) {\r\n        if (next) {\r\n            this.tempNode.next = next;\r\n        } else {\r\n            if (this.head) {\r\n                this.tempNode.next = this.head;\r\n            } else {\r\n                this.tempNode.next = this.tempNode;\r\n            }\r\n        }\r\n    }\r\n\r\n    setTempNodePrev(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode;\r\n        } else {\r\n            // this.head = this.tempNode;\r\n        }\r\n    }\r\n\r\n    changeHeadData(data) {\r\n        this.head.data = data;\r\n    }\r\n\r\n    resetHead() {\r\n        this.head = this.head.next;\r\n        let node = this.head;\r\n        let i = 0;\r\n        while (node) {\r\n            node.index = i;\r\n            node.shift(...this.getNodePosition(i++));\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    insertTempNode(index) {\r\n        this.nodes.splice(index, 0, this.tempNode);\r\n        if (index === 0) {\r\n            this.head = this.tempNode;\r\n        }\r\n        this.tempNode.shift(...this.getNodePosition(index));\r\n        this.tempNode = null;\r\n    }\r\n\r\n    moveHighlight(fromNode, toNode) {\r\n        if (fromNode) {\r\n            fromNode.unHighlight();\r\n        }\r\n        if (toNode) {\r\n            toNode.highlight();\r\n        }\r\n    }\r\n\r\n    markNodeForDeletion(highlighted, nodeToDelete) {\r\n        if (highlighted) {\r\n            highlighted.unHighlight();\r\n        }\r\n        nodeToDelete.markForDeletion();\r\n    }\r\n\r\n    unmakeNode(node) {\r\n        this.tempNode = node;//this.nodes.splice(node.index, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    skipTempNode(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode.next;\r\n        } else {\r\n            this.head = this.head.next;\r\n        }\r\n        this.tempNode = null;\r\n    }\r\n\r\n    shiftForNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    shiftIntoNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction = 0) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n\r\n    customNodeShift(node, x, y) {\r\n        node.shift(x,y);\r\n        node.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / CircularSinglyLinkedList.ELEMENT_SIZE));\r\n        let x = CircularSinglyLinkedList.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * CircularSinglyLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * CircularSinglyLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        if (this.pinnedNode.unpin() && this.animationQueue.length === 0) {\r\n            this.pinnedNode.markBroken();\r\n            this.removeFromIndex(this.pinnedNode.index);\r\n            if (this.pinnedNode.index === 0 && this.size > 1) {\r\n                this.animationQueue.push({method:this.pinnedNode.unfreeze,scope:this.pinnedNode,params:[],});\r\n                this.animationQueue.push({method:this.shiftNode,params:[this.pinnedNode,],});\r\n            }\r\n        }\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        let update = node.update(animationSpeed, p5);\r\n        if (this.animationQueue.length === 0) {\r\n            if (update) {\r\n                node.highlightForDeletion();\r\n            } else if (node.pinnedToMouse && !node.toDelete) {\r\n                node.unHighlight();\r\n            }\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n                if (node === this.head) {\r\n                    break;\r\n                }\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5, node.next === this.head);\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return !pressedNode;\r\n    }\r\n\r\n    touchMoved(p5) {\r\n        return this.pinnedNode === null;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.unpin();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getNodePosition(this.size-1)[1] + CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.shift(...this.getNodePosition(node.index));\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nclass CircularSinglyLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + CircularSinglyLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unHighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    markBroken() {\r\n        this.markForDeletion();\r\n        this.frozen = true;\r\n        this.handBroken = true;\r\n    }\r\n\r\n    unfreeze() {\r\n        this.frozen = false;\r\n        this.handBroken = false;\r\n    }\r\n\r\n    unpin() {\r\n        super.unpin();\r\n        return this.displacement() > CircularSinglyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        let dist = super.update(animationSpeed, p5);\r\n        return this.pinnedToMouse && !this.handBroken && dist > CircularSinglyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    draw(p5, pointsToHead = false) {\r\n        // console.log(this);\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, CircularSinglyLinkedList.ITEM_WIDTH, CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, CircularSinglyLinkedList.ELEMENT_WIDTH,CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.fill(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.circle(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2, 5);\r\n            if (pointsToHead) {\r\n                p5.push();\r\n                p5.noFill();\r\n                p5.curveTightness(0.8);\r\n                p5.beginShape();\r\n                p5.curveVertex(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n                p5.curveVertex(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n\r\n                p5.curveVertex(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT * 2);\r\n                p5.curveVertex(15, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT * 2);\r\n\r\n                p5.curveVertex(this.next.currentX, this.next.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n                p5.curveVertex(this.next.currentX, this.next.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n                p5.endShape();\r\n                p5.pop();\r\n            } else {\r\n                p5.line(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2, this.next.currentX, this.next.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n            }\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + CircularSinglyLinkedList.ITEM_WIDTH, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class StackArray extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static TOP_LOCATION_X = 125;\r\n    static TOP_LOCATION_Y = 45;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.backingArray = new Array(StackArray.INITIAL_CAPACITY);\r\n            this.size = 0;\r\n            this.copyArray = null;\r\n            this.tempElement = null;\r\n            this.topPointerValue = 0;\r\n            this.topPointerHighlighter = new AttractedHighlightableObject(StackArray.TOP_LOCATION_X, StackArray.TOP_LOCATION_Y, {\r\n                highlightOuterRadius: 15//StackArray.ELEMENT_SIZE/2,\r\n            });\r\n\r\n            this.resizing = false;\r\n        });\r\n    }\r\n\r\n    push(data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Stack.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push({method:this.showText,params:[`Stack full, resizing to length ${this.backingArray.length*2}`,],});\r\n            animation.push(...this.createCopyArray());\r\n        }\r\n        animation.push({method:this.makeElement,params:[this.size,data],explanation:`Create value: ${data}`,});\r\n        animation.push(...this.useTopPointer());\r\n        animation.push({method:this.highlightTemp,params:[],noAnim:true});\r\n        animation.push({method:this.insertElement,params:[this.size],customEnd:true,explanation:`Added ${data} to backingArray`});\r\n        animation.push({method:this.sizeIncr,params:[],noAnim:true});\r\n        animation.push(...this.updateTopPointer());\r\n        animation.push({method:this.showText,params:[`Successfully pushed ${data} to stack.`,Colors.GREEN,],});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        return true;\r\n    }\r\n\r\n    pop() {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Stack\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.backingArray[this.size - 1].value;\r\n        animation.push({method:this.sizeDecr,params:[],noAnim:true});\r\n        animation.push(...this.updateTopPointer());\r\n        animation.push(...this.useTopPointer());\r\n        animation.push({method:this.extractElement,params:[],explanation:`Pop value: ${data} from stack`,customEnd:true});\r\n        animation.push({method:this.unmakeElement,params:[],noAnim:true});\r\n        // animation.push({method:this.highlightTemp,params:[],noAnim:true});\r\n        // animation.push({method:this.insertElement,params:[this.size],customEnd:true,explanation:`Added ${data} to backingArray`});\r\n        // animation.push({method:this.makeElement,params:[this.size,data],explanation:`Create value: ${data}`});\r\n\r\n        // if (index === 0) {\r\n        //     data = this.head.data;\r\n        //     animation.push({method:this.moveHighlight,params:[null,this.head,],});\r\n        //     animation.push({method:this.changeHeadData,params:[this.head.next.data],});\r\n        //     index = 1;\r\n        // }\r\n        // let prev;\r\n        // let toDelete;\r\n        // let next;\r\n        // let node = this.head;\r\n        // animation.push({method:this.moveHighlight,params:[null,node,],});\r\n        // for (let i = 0; i < index - 1; i++) {\r\n        //     animation.push({method:this.moveHighlight,params:[node,node.next,],});\r\n        //     node = node.next;\r\n        // }\r\n        // prev = node;\r\n        // toDelete = prev.next;\r\n        // next = toDelete.next;\r\n        // if (!data) {\r\n        //     data = toDelete.data;\r\n        // }\r\n        // animation.push({method:this.markNodeForDeletion,params:[prev,toDelete,],});\r\n        // animation.push({method:this.unmakeNode,params:[toDelete,],customEnd:true,});\r\n        // if (index < this.size - 1) {\r\n        //     animation.push({method:this.shiftIntoNode,params:[next,],});\r\n        // }\r\n        // animation.push({method:this.skipTempNode,params:[prev,],});\r\n        // animation.push({method:this.sizeDecr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.updateText(`Successfully popped ${data} from stack.`, Colors.GREEN);\r\n        this.endDrawLoop();\r\n        // this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    createCopyArray() {\r\n        let animation = [];\r\n        animation.push({method:this.initCopyArray,params:[],noAnim:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push(...this.addItemToCopy(i));\r\n        }\r\n        animation.push(...this.useCopyArr());\r\n        return animation;\r\n    }\r\n\r\n    initCopyArray() {\r\n        this.copyArray = new Array(this.backingArray.length * 2);\r\n        for (let i = 0; i < this.size; i++) {\r\n            let pos = this.getElementPosition(i);\r\n            this.copyArray[i] = new StackArrayElement({data: this.backingArray[i].value, index: i, x:pos[0],y:pos[1],},);\r\n        }\r\n    }\r\n\r\n    addItemToCopy(index) {\r\n        let animation = [];\r\n        animation.push({method:this.customEndingElementShift,params:[index,...this.getElementPosition(index,true),true],customEnd:true});\r\n        return animation;\r\n    }\r\n\r\n    useCopyArr() {\r\n        let animation = [];\r\n        animation.push({method:this.assignCopyArray,params:[],noAnim:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push({method:this.shiftElementToBackingArray,params:[i,],noAnim:true});\r\n        }\r\n        return animation;\r\n    }\r\n\r\n    assignCopyArray() {\r\n        this.backingArray = this.copyArray;\r\n        this.copyArray = null;\r\n    }\r\n\r\n    shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n    }\r\n\r\n    makeElement(index, data, immediateHighlight = false) {\r\n        this.tempElement = new StackArrayElement({data: data, index: index, x:45,y:45,},);\r\n        if (immediateHighlight) {\r\n            this.tempElement.highlightForMovement();\r\n        }\r\n    }\r\n\r\n    useTopPointer() {\r\n        let animation = [];\r\n        animation.push({method:this.topPointerHighlighter.highlight,scope:this.topPointerHighlighter,params:[],noAnim:true});\r\n        animation.push({method:this.moveTopTracker,params:[],customEnd:true,explanation:`Top points to index |RETURN|`,explanationUsesReturn:true});\r\n        animation.push({method:this.topPointerHighlighter.unhighlight,scope:this.topPointerHighlighter,params:[],noAnim:true});\r\n        animation.push({method:this.topPointerHighlighter.goTo,scope:this.topPointerHighlighter,params:[StackArray.TOP_LOCATION_X,StackArray.TOP_LOCATION_Y,],noAnim:true});\r\n        return animation;\r\n    }\r\n\r\n    moveTopTracker() {\r\n        let pos = this.getElementPosition(this.topPointerValue);\r\n        this.topPointerHighlighter.shift(pos[0], pos[1] + StackArray.ELEMENT_SIZE);\r\n        this.topPointerHighlighter.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n        return this.topPointerValue;\r\n    }\r\n\r\n    highlightTemp(color = Colors.BLUE) {\r\n        this.tempElement.highlight(color);\r\n    }\r\n\r\n    insertElement(index) {\r\n        this.backingArray[index] = this.tempElement;\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        this.tempElement = null;\r\n    }\r\n\r\n    extractElement() {\r\n        this.tempElement = this.backingArray[this.topPointerValue];\r\n        this.backingArray[this.topPointerValue] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        this.tempElement.addOnStop(() => {\r\n            this.tempElement.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    unmakeElement(index) {\r\n        this.tempElement = null;\r\n    }\r\n\r\n    shiftElement(element, direction = 0) {\r\n        element.shift(...this.getElementPosition(element.index + direction), direction);\r\n    }\r\n\r\n    customEndingElementShift(index, x, y, copy = false) {\r\n        let element = (copy ? this.copyArray : this.backingArray)[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        element.addOnStop(() => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    updateTopPointer() {\r\n        let animation = [];\r\n        animation.push({method:this.topPointerHighlighter.highlight,scope:this.topPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE]});\r\n        animation.push({method:this.changeTopPointerValue,params:[],explanation:`Update top pointer to |RETURN|`,explanationUsesReturn:true});\r\n        animation.push({method:this.topPointerHighlighter.unhighlight,scope:this.topPointerHighlighter,params:[],noAnim:true});\r\n        return animation;\r\n    }\r\n\r\n    changeTopPointerValue() {\r\n        this.topPointerValue = this.size;\r\n        return this.size;\r\n    }\r\n\r\n    getElementPosition(index, copy = false) {\r\n        let maxPerRow = Math.floor(this.width / StackArray.ELEMENT_SIZE);\r\n        let x = StackArray.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * StackArray.ELEMENT_SIZE;\r\n        x = (index % maxPerRow) * StackArray.ELEMENT_SIZE;\r\n        return [x + StackArray.ELEMENT_SIZE/2 + this.x,y + StackArray.ELEMENT_SIZE/2 + this.y + (copy ? (Math.ceil(this.backingArray.length / maxPerRow)*StackArray.ELEMENT_SIZE*2) : 0)];\r\n    }\r\n\r\n    allInPosition() {\r\n        let moving = false;\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i] && this.backingArray[i].displacement() > 0) {\r\n                moving = true;\r\n            }\r\n        }\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i] && this.copyArray[i].displacement() > 0) {\r\n                    moving = true;\r\n                }\r\n            }\r\n        }\r\n        return !moving;\r\n    }\r\n\r\n    updateElement(element, animationSpeed, p5) {\r\n        if (element) {\r\n            element.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.updateElement(this.backingArray[i], animationSpeed, p5);\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    this.updateElement(this.copyArray[i], animationSpeed, p5);\r\n                }\r\n            }\r\n            if (this.tempElement) {\r\n                this.updateElement(this.tempElement, animationSpeed, p5);\r\n            }\r\n            this.topPointerHighlighter.update(animationSpeed, p5);\r\n            if (this.resizing && this.allInPosition()) {\r\n                if (!this.animating && this.animationQueue.length === 0) {\r\n                    this.animator.noLoop();\r\n                }\r\n                this.resizing = false;\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        super.draw(p5);\r\n        // console.log(\"draw\");\r\n        p5.push();\r\n        // let maxPerRow = Math.max(1, Math.floor((p5.width - 2 * this.x) / StackArray.ELEMENT_SIZE));\r\n        // let rows = Math.ceil(this.backingArray.length / maxPerRow);\r\n\r\n        // p5.translate(this.x,this.y+50);\r\n        //\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n        //\r\n        // for (let row = 0; row < rows; row++) {\r\n        //     let numElements = row !== rows-1 ? maxPerRow\r\n        //             : (this.backingArray.length % maxPerRow === 0 ? maxPerRow : (this.backingArray.length % maxPerRow));\r\n        //     p5.noStroke();\r\n        //     p5.fill(200);\r\n        //     p5.rect(StackArray.ELEMENT_SIZE/10,StackArray.ELEMENT_SIZE/10 + (2 * StackArray.ELEMENT_SIZE * row),StackArray.ELEMENT_SIZE*numElements,StackArray.ELEMENT_SIZE,StackArray.ELEMENT_SIZE/20);\r\n        //\r\n        //     p5.stroke(0);\r\n        //     p5.fill(255);\r\n        //     p5.rect(0,(2 * StackArray.ELEMENT_SIZE * row), StackArray.ELEMENT_SIZE*numElements,StackArray.ELEMENT_SIZE);\r\n        // }\r\n        //\r\n        // let i = 0;\r\n        // for (let row = 0; row < rows; row++) {\r\n        //     let numElements = row !== rows-1 ? maxPerRow\r\n        //             : (this.backingArray.length % maxPerRow === 0 ? maxPerRow : (this.backingArray.length % maxPerRow));\r\n        //     let x = 0;\r\n        //     let y = 2 * row * StackArray.ELEMENT_SIZE;\r\n        //     for (let block = 0; block < numElements; block++) {\r\n        //         p5.stroke(0);\r\n        //         p5.line(x,y, x, y+StackArray.ELEMENT_SIZE);\r\n        //\r\n        //         p5.noStroke();\r\n        //         p5.fill(0,0,255);\r\n        //         p5.text(i.toString(), x,y+StackArray.ELEMENT_SIZE, StackArray.ELEMENT_SIZE,StackArray.ELEMENT_SIZE);\r\n        //         //\r\n        //         // let element = this.backingArray[i++];\r\n        //         i++;\r\n        //         let nextX = block < (numElements - 1) ? x + StackArray.ELEMENT_SIZE : 0;\r\n        //         let nextY = block < (numElements - 1) ? y : (y + (StackArray.ELEMENT_SIZE*2));\r\n        //         // if (element.data) {\r\n        //         //     element.draw(p5, x,y,nextX,nextY);\r\n        //         // }\r\n        //         x = nextX;\r\n        //         y = nextY;\r\n        //         // if (y >= document.querySelector(\".canvas-container\").getBoundingClientRect().height - StackArray.ELEMENT_SIZE) {\r\n        //         //     // this.windowResized(p5, document.querySelector(\".canvas-container\").getBoundingClientRect().height);\r\n        //         // }\r\n        //     }\r\n        // }\r\n        //\r\n        // p5.translate(-this.x, -this.y - 50);\r\n\r\n        p5.fill(0);\r\n        p5.text(\"Top: \", StackArray.TOP_LOCATION_X - 50, StackArray.TOP_LOCATION_Y, StackArray.ELEMENT_SIZE);\r\n\r\n        p5.text(this.topPointerValue.toString(), StackArray.TOP_LOCATION_X-25, StackArray.TOP_LOCATION_Y, StackArray.ELEMENT_SIZE);\r\n\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].draw(p5);\r\n            }\r\n            let pos = this.getElementPosition(i);\r\n            p5.noFill();\r\n            p5.stroke(0);\r\n            p5.square(pos[0] - StackArray.ELEMENT_SIZE/2,pos[1] - StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE);\r\n            p5.fill(...Colors.BLUE);\r\n            p5.stroke(...Colors.BLUE);\r\n            p5.text(i.toString(), pos[0] - StackArray.ELEMENT_SIZE/2,pos[1] + StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE, StackArray.ELEMENT_SIZE);\r\n        }\r\n\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i]) {\r\n                    this.copyArray[i].draw(p5);\r\n                }\r\n                let pos = this.getElementPosition(i, true);\r\n                p5.noFill();\r\n                p5.stroke(0);\r\n                p5.square(pos[0] - StackArray.ELEMENT_SIZE/2,pos[1] - StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE);\r\n                p5.fill(...Colors.BLUE);\r\n                p5.stroke(...Colors.BLUE);\r\n                p5.text(i.toString(), pos[0] - StackArray.ELEMENT_SIZE/2,pos[1] + StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE, StackArray.ELEMENT_SIZE);\r\n            }\r\n        }\r\n        if (this.tempElement) {\r\n            this.tempElement.draw(p5);\r\n        }\r\n        this.topPointerHighlighter.draw(p5);\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (this.copyArray ? this.getElementPosition(this.copyArray.length-1, true)[1] : this.getElementPosition(this.backingArray.length-1)[1]) + StackArray.ELEMENT_SIZE);\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].shift(...this.getElementPosition(i));\r\n            }\r\n        }\r\n        this.resizing = true;\r\n        this.animator.loop();\r\n    }\r\n}\r\n\r\n\r\nclass StackArrayElement extends AttractedHighlightableObject {\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        // this.highlightInnerRadius = StackArray.ELEMENT_SIZE/2 - 5;\r\n        this.highlightOuterRadius = StackArray.ELEMENT_SIZE/2;\r\n\r\n        this.value = data;\r\n        this.index = index;\r\n\r\n        this.toDelete = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    highlightForMovement() {\r\n        super.highlight(Colors.BLUE);\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        super.highlight(Colors.RED);\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5);\r\n    }\r\n\r\n    drawValue(p5) {\r\n        p5.push();\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.stroke(...this.color);\r\n        p5.text(this.value.toString(), this.currentX - StackArray.ELEMENT_SIZE/2,this.currentY - StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE, StackArray.ELEMENT_SIZE);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedDraggableObject } from 'animation';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class StackLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static CAN_DRAG = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = StackLinkedList.ELEMENT_WIDTH + StackLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = StackLinkedList.ITEM_WIDTH + StackLinkedList.SPACING;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.head = null;\r\n            this.size = 0;\r\n            this.nodes = [];\r\n            this.tempNode = null;\r\n            this.pinnedNode = null;\r\n\r\n            this.resizing = false;\r\n        });\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let maxNode = this.head;\r\n        let curr = this.head;\r\n        while (curr) {\r\n            if (curr.displacement() > maxNode.displacement()) {\r\n                maxNode = curr;\r\n            }\r\n            curr = curr.next;\r\n        }\r\n        if (maxNode && maxNode.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            maxNode.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                let curr = this.head;\r\n                while (curr) {\r\n                    curr.stop();\r\n                    curr = curr.next;\r\n                }\r\n            }\r\n        } else {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n    }\r\n\r\n\r\n    push(data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Stack.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.makeNode,params:[data,],explanation:`Create value: ${data}`,isAnimationStep:true,});\r\n        if (this.size > 0) {\r\n            animation.push({method:this.setTempNodeBeforeHead,explanation:`Assign next pointer`,isAnimationStep:true,});\r\n            animation.push({method:this.shiftHeadForNode,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.insertTempNode,explanation:`Reset top pointer to new head`,isAnimationStep:true,});\r\n        animation.push({method:this.shiftHead,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.sizeIncr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully pushed ${data} to stack.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n\r\n    pop() {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Stack\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.head.data;\r\n        animation.push({method:this.markHeadForDeletion,noAnim:true,});\r\n        animation.push({method:this.unmakeHead,explanation:`Extract data`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (this.size > 1) {\r\n            animation.push({method:this.shiftIntoNode,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.skipTempNode,explanation:`Reset top pointer to new head`,isAnimationStep:true,undoData:[this.head.data,],});\r\n        animation.push({method:this.sizeDecr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully popped ${data} from stack.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n\r\n    makeNode(data) {\r\n        this.tempNode = new StackLinkedListNode({data: data, index: 0, x:20,y:20,});\r\n    }\r\n    undo_makeNode(data) {\r\n        this.tempNode = null;\r\n    }\r\n\r\n    setTempNodeBeforeHead() {\r\n        this.tempNode.next = this.head;\r\n    }\r\n    undo_setTempNodeBeforeHead() {\r\n        this.tempNode.next = null;\r\n    }\r\n\r\n    insertTempNode() {\r\n        this.nodes.splice(0, 0, this.tempNode);\r\n        this.head = this.tempNode;\r\n    }\r\n    undo_insertTempNode() {\r\n        this.head = this.tempNode.next;\r\n        this.nodes.splice(0, 1);\r\n    }\r\n\r\n    shiftHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        this.tempNode = null;\r\n    }\r\n    undo_shiftHead() {\r\n        this.tempNode = this.nodes[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_shiftHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        let temp = this.tempNode;\r\n        let stopID = ++this.stopID;\r\n        temp.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n\r\n    markHeadForDeletion() {\r\n        this.head.markForDeletion();\r\n    }\r\n    undo_markHeadForDeletion() {\r\n        this.head.unhighlight();\r\n    }\r\n\r\n    unmakeHead() {\r\n        this.tempNode = this.nodes.splice(0, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_unmakeHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        this.nodes.splice(0, 0, this.tempNode);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    redo_unmakeHead() {\r\n        this.tempNode = this.nodes.splice(0, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    skipTempNode() {\r\n        this.head = this.head.next;\r\n        this.tempNode = null;\r\n    }\r\n    undo_skipTempNode(oldData) {\r\n        this.tempNode = new StackLinkedListNode({data: oldData, index: 0, x:20,y:20,});\r\n        this.tempNode.next = this.head;\r\n        this.tempNode.markForDeletion();\r\n        this.head = this.tempNode;\r\n    }\r\n\r\n    shiftHeadForNode() {\r\n        let node = this.head;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            node = node.next;\r\n        }\r\n    }\r\n    undo_shiftHeadForNode() {\r\n        let node = this.head;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n    redo_shiftHeadForNode() {\r\n        let node = this.head;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n        }\r\n    }\r\n    undo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n    redo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n    undo_shiftNode(node, direction) {\r\n        // console.log(\"undo_shiftNode\");\r\n        this.shiftNode(node, -direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / StackLinkedList.ELEMENT_SIZE));\r\n        let x = StackLinkedList.ELEMENT_SIZE * index;\r\n        let y = 75 + Math.floor(index / maxPerRow) * 2 * StackLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * StackLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedNode.unpin();\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        node.update(animationSpeed, p5);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(\"draw\");\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        // p5.noFill();\r\n        p5.stroke(0);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.text(\"Top:\",95,20,35,35);\r\n        p5.square(130,20,35);\r\n        if (this.head) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(130 + 35 / 2, 20 + 35 / 2, 5);\r\n            p5.line(130 + 35 / 2, 20 + 35 / 2, this.head.currentX + StackLinkedList.ITEM_WIDTH / 2, this.head.currentY);\r\n            p5.rect(this.head.currentX + StackLinkedList.ITEM_WIDTH / 2 - 3, this.head.currentY - 3, 6,6);\r\n        } else {\r\n            p5.line(130,20,165,55);\r\n        }\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5, node.next === this.head);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        // this.drawingBeforeMouseDown = this.drawing;\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.animator.loop();\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.pinnedNode.addOnStop(() => {\r\n                this.ensureDrawn();\r\n            });\r\n            this.unpin();\r\n        } else {\r\n            // this.ensureDrawn();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getNodePosition(this.size-1)[1] + StackLinkedList.ELEMENT_HEIGHT,() => {\r\n            let node = this.head;\r\n            while (node) {\r\n                node.shift(...this.getNodePosition(node.index));\r\n                node = node.next;\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass StackLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + StackLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + StackLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unhighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, StackLinkedList.ITEM_WIDTH, StackLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + StackLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + StackLinkedList.ELEMENT_WIDTH, this.currentY + StackLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, StackLinkedList.ELEMENT_WIDTH,StackLinkedList.ELEMENT_HEIGHT);\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.fill(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.circle(this.currentX + StackLinkedList.ELEMENT_WIDTH + StackLinkedList.POINTER_WIDTH / 2, this.currentY + StackLinkedList.ELEMENT_HEIGHT / 2, 5);\r\n            p5.line(this.currentX + StackLinkedList.ELEMENT_WIDTH + StackLinkedList.POINTER_WIDTH / 2, this.currentY + StackLinkedList.ELEMENT_HEIGHT / 2, this.next.currentX, this.next.currentY + StackLinkedList.ELEMENT_HEIGHT / 2);\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + StackLinkedList.ELEMENT_HEIGHT / 2 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX + StackLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + StackLinkedList.ITEM_WIDTH, this.currentY + StackLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class QueueArray extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static HEAD_LOCATION_X = 125;\r\n    static HEAD_LOCATION_Y = 35;\r\n    static TAIL_LOCATION_X = 125;\r\n    static TAIL_LOCATION_Y = 55;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.backingArray = new Array(QueueArray.INITIAL_CAPACITY);\r\n            this.size = 0;\r\n            this.copyArray = null;\r\n            this.tempElement = null;\r\n            this.headPointerValue = 0;\r\n            this.headPointerHighlighter = new AttractedHighlightableObject(QueueArray.HEAD_LOCATION_X, QueueArray.HEAD_LOCATION_Y, {\r\n                highlightOuterRadius: 15\r\n            });\r\n            this.tailPointerValue = 0;\r\n            this.tailPointerHighlighter = new AttractedHighlightableObject(QueueArray.TAIL_LOCATION_X, QueueArray.TAIL_LOCATION_Y, {\r\n                highlightOuterRadius: 15\r\n            });\r\n        });\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let furthestObject = this.headPointerHighlighter;\r\n        if (this.tailPointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.tailPointerHighlighter;\r\n        }\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i] && this.backingArray[i].displacement() > furthestObject.displacement()) {\r\n                furthestObject = this.backingArray[i];\r\n            }\r\n        }\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i] && this.copyArray[i].displacement() > furthestObject.displacement()) {\r\n                    furthestObject = this.copyArray[i];\r\n                }\r\n            }\r\n        }\r\n        if (furthestObject.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            furthestObject.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                this.headPointerHighlighter.stop();\r\n                this.tailPointerHighlighter.stop();\r\n                for (let i = 0; i < this.backingArray.length; i++) {\r\n                    if (this.backingArray[i]) {\r\n                        this.backingArray[i].stop();\r\n                    }\r\n                }\r\n                if (this.copyArray) {\r\n                    for (let i = 0; i < this.copyArray.length; i++) {\r\n                        if (this.copyArray[i]) {\r\n                            this.copyArray[i].stop();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n    }\r\n\r\n\r\n    enqueue(data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Queue.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.showText,params:[`Enqueuing at index ${this.tailPointerValue}.`]});\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push(...this.createCopyArray());\r\n        }\r\n        animation.push({method:this.createElement,params:[data],explanation:`Create value: ${data}`,isAnimationStep:true,});\r\n        animation.push(...this.useTailPointer());\r\n        // animation.push({method:this.highlightTemp,params:[],noAnim:true});\r\n        animation.push({method:this.insertElement,params:[],customEnd:true,explanation:`Added ${data} to backingArray`,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push(...this.updateTailPointer());\r\n        animation.push({method:this.sizeIncr,params:[],noAnim:true});\r\n        animation.push({method:this.showText,params:[`Successfully pushed ${data} to queue.`,Colors.GREEN,],});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    dequeue() {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Queue\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.backingArray[this.headPointerValue].value;\r\n        animation.push({method:this.showText,params:[`Dequeuing from index ${this.headPointerValue}.`]});\r\n        animation.push(...this.useHeadPointer());\r\n        animation.push({method:this.extractElement,params:[],explanation:`Pop value: ${data} from queue`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.unmakeElement,params:[],noAnim:true,returnsUndoData:true});\r\n        animation.push(...this.updateHeadPointer());\r\n        animation.push({method:this.sizeDecr,params:[],noAnim:true});\r\n        animation.push({method:this.showText,params:[`Successfully popped ${data} from queue.`,Colors.GREEN],noAnim:true});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n    createCopyArray() {\r\n        let animation = [];\r\n        animation.push({method:this.initCopyArray,params:[],noAnim:true,explanation:`Queue full, resizing to length ${this.backingArray.length*2}`,isForwardStep:true,});\r\n        animation.push(...this.useHeadPointer());\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push(...this.addItemToCopy(i));\r\n        }\r\n        animation.push(...this.useCopyArr());\r\n        animation.push(...this.updateHeadPointer(0));\r\n        animation.push(...this.updateTailPointer(this.size));\r\n        return animation;\r\n    }\r\n\r\n    initCopyArray() {\r\n        this.copyArray = new Array(this.backingArray.length * 2);\r\n        for (let i = 0; i < this.size; i++) {\r\n            let arrIndex = (i + this.headPointerValue) % this.backingArray.length;\r\n            let pos = this.getElementPosition(arrIndex);\r\n            this.copyArray[i] = new QueueArrayElement({data: this.backingArray[arrIndex].value, index: i, x:pos[0],y:pos[1],},);\r\n        }\r\n    }\r\n    undo_initCopyArray() {\r\n        this.copyArray = null;\r\n    }\r\n\r\n    addItemToCopy(index) {\r\n        let animation = [];\r\n        // animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isBackStep:(index === 0),isForwardStep:(index === this.size - 1),customUndoEnd:(index === 0),customRedoEnd:(index === this.size - 1),});\r\n        animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n\r\n    shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        let oldX = element.desiredX;\r\n        let oldY = element.desiredY;\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        element.addOnStop((el) => {\r\n            el.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, oldX, oldY];\r\n    }\r\n    undo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === 0) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n    redo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        let oldX = element.desiredX;\r\n        let oldY = element.desiredY;\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === this.size - 1) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n        return [index, oldX, oldY];\r\n    }\r\n\r\n    useCopyArr() {\r\n        let animation = [];\r\n        animation.push({method:this.assignCopyArray,params:[],noAnim:true,isBackStep:true,customUndoEnd:true,returnsUndoData:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push({method:this.shiftElementToBackingArray,params:[i,],noAnim:true,isForwardStep:(i === this.size - 1),customUndoEnd:true,customRedoEnd:true});\r\n        }\r\n        animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n        return animation;\r\n    }\r\n\r\n    assignCopyArray() {\r\n        let oldBacking = this.backingArray;\r\n        this.backingArray = this.copyArray;\r\n        this.copyArray = null;\r\n        return [oldBacking];\r\n    }\r\n    undo_assignCopyArray(oldBacking) {\r\n        this.copyArray = this.backingArray;\r\n        this.backingArray = oldBacking;\r\n    }\r\n\r\n    shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n    }\r\n    undo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(index,true));\r\n        if (index === 0) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n    redo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n        if (index === this.size - 1) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n\r\n    createElement(data) {\r\n        this.tempElement = new QueueArrayElement({data: data, index: this.tailPointerValue, x:45,y:45,},);\r\n    }\r\n    undo_createElement(data) {\r\n        this.tempElement = null;\r\n    }\r\n\r\n    useTailPointer() {\r\n        let animation = [];\r\n        animation.push({method:this.tailPointerHighlighter.highlight,scope:this.tailPointerHighlighter,params:[],noAnim:true,});\r\n        animation.push({method:this.moveTailTracker,params:[],customEnd:true,explanation:`Tail points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.tailPointerHighlighter.unhighlight,scope:this.tailPointerHighlighter,params:[],noAnim:true,});\r\n        animation.push({method:this.tailPointerHighlighter.goTo,scope:this.tailPointerHighlighter,params:[QueueArray.TAIL_LOCATION_X,QueueArray.TAIL_LOCATION_Y,],noAnim:true,returnsUndoData:true});\r\n        return animation;\r\n    }\r\n\r\n    moveTailTracker() {\r\n        let pos = this.getElementPosition(this.tailPointerValue);\r\n        this.tailPointerHighlighter.highlight();\r\n        this.tailPointerHighlighter.shift(pos[0], pos[1] + QueueArray.ELEMENT_SIZE);\r\n        this.tailPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return this.tailPointerValue;\r\n    }\r\n    undo_moveTailTracker() {\r\n        this.tailPointerHighlighter.shift(QueueArray.TAIL_LOCATION_X,QueueArray.TAIL_LOCATION_Y);\r\n        this.tailPointerHighlighter.highlight();\r\n        let stopID = ++this.stopID;\r\n        this.tailPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_moveTailTracker() {\r\n        let pos = this.getElementPosition(this.tailPointerValue);\r\n        this.tailPointerHighlighter.highlight();\r\n        this.tailPointerHighlighter.shift(pos[0], pos[1] + QueueArray.ELEMENT_SIZE);\r\n        let stopID = ++this.stopID;\r\n        this.tailPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        return this.tailPointerValue;\r\n    }\r\n\r\n    highlightTemp(color = Colors.BLUE) {\r\n        this.tempElement.highlight(color);\r\n    }\r\n    undo_highlightTemp() {\r\n        this.tempElement.unhighlight();\r\n    }\r\n\r\n    insertElement() {\r\n        let index = this.tailPointerValue;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        this.tempElement = null;\r\n    }\r\n    undo_insertElement() {\r\n        let index = this.tailPointerValue;// - 1;\r\n        // if (index < 0) {\r\n        //     index += this.backingArray.length;\r\n        // }\r\n        this.tempElement = this.backingArray[index];\r\n        this.highlightTemp();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = null;\r\n    }\r\n    redo_insertElement() {\r\n        let index = this.tailPointerValue;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempElement = null;\r\n    }\r\n\r\n    useHeadPointer() {\r\n        let animation = [];\r\n        animation.push({method:this.headPointerHighlighter.highlight,scope:this.headPointerHighlighter,params:[],noAnim:true,});\r\n        animation.push({method:this.moveHeadTracker,params:[],customEnd:true,explanation:`Head points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.headPointerHighlighter.unhighlight,scope:this.headPointerHighlighter,params:[],noAnim:true,});\r\n        animation.push({method:this.headPointerHighlighter.goTo,scope:this.headPointerHighlighter,params:[QueueArray.HEAD_LOCATION_X,QueueArray.HEAD_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n\r\n    moveHeadTracker() {\r\n        let pos = this.getElementPosition(this.headPointerValue);\r\n        this.headPointerHighlighter.highlight();\r\n        this.headPointerHighlighter.shift(pos[0], pos[1] + QueueArray.ELEMENT_SIZE);\r\n        this.headPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return this.headPointerValue;\r\n    }\r\n    undo_moveHeadTracker() {\r\n        this.headPointerHighlighter.shift(QueueArray.HEAD_LOCATION_X,QueueArray.HEAD_LOCATION_Y);\r\n        this.headPointerHighlighter.highlight();\r\n        let stopID = ++this.stopID;\r\n        this.headPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_moveHeadTracker() {\r\n        let pos = this.getElementPosition(this.headPointerValue);\r\n        this.headPointerHighlighter.highlight();\r\n        this.headPointerHighlighter.shift(pos[0], pos[1] + QueueArray.ELEMENT_SIZE);\r\n        let stopID = ++this.stopID;\r\n        this.headPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        return this.headPointerValue;\r\n    }\r\n\r\n    extractElement() {\r\n        this.tempElement = this.backingArray[this.headPointerValue];\r\n        this.backingArray[this.headPointerValue] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_extractElement() {\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(...this.getElementPosition(this.headPointerValue));\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[this.headPointerValue] = this.tempElement;\r\n        this.tempElement = null;\r\n    }\r\n    redo_extractElement() {\r\n        this.tempElement = this.backingArray[this.headPointerValue];\r\n        this.backingArray[this.headPointerValue] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    unmakeElement(index) {\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_unmakeElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    updateHeadPointer(newHead) {\r\n        let animation = [];\r\n        animation.push({method:this.headPointerHighlighter.highlight,scope:this.headPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:true,});\r\n        animation.push({method:this.changeHeadPointerValue,params:[newHead],explanation:`Update head pointer to |RETURN|`,explanationUsesReturn:true,returnsUndoData:true,});\r\n        animation.push({method:this.headPointerHighlighter.unhighlight,scope:this.headPointerHighlighter,params:[],noAnim:true,isBackStep:true,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeHeadPointerValue(newHead) {\r\n        let oldHead = this.headPointerValue;\r\n        if (newHead !== undefined) {\r\n            this.headPointerValue = newHead;\r\n        } else {\r\n            this.headPointerValue++;\r\n            this.headPointerValue %= this.backingArray.length;\r\n        }\r\n        return [this.headPointerValue,[oldHead]];\r\n    }\r\n    undo_changeHeadPointerValue(oldHead) {\r\n        this.headPointerValue = oldHead;\r\n        return this.headPointerValue;\r\n    }\r\n\r\n    updateTailPointer(newTail) {\r\n        let animation = [];\r\n        animation.push({method:this.tailPointerHighlighter.highlight,scope:this.tailPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:true,});\r\n        animation.push({method:this.changeTailPointerValue,params:[newTail],explanation:`Update tail pointer to |RETURN|`,explanationUsesReturn:true,returnsUndoData:true,});\r\n        animation.push({method:this.tailPointerHighlighter.unhighlight,scope:this.tailPointerHighlighter,params:[],noAnim:true,isBackStep:true,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeTailPointerValue(newTail) {\r\n        let oldTail = this.tailPointerValue;\r\n        if (newTail) {\r\n            this.tailPointerValue = newTail;\r\n        } else {\r\n            this.tailPointerValue++;\r\n            this.tailPointerValue %= this.backingArray.length;\r\n        }\r\n        return [this.tailPointerValue,[oldTail]];\r\n    }\r\n    undo_changeTailPointerValue(oldTail) {\r\n        this.tailPointerValue = oldTail;\r\n        return this.tailPointerValue;\r\n    }\r\n\r\n    getElementPosition(index, copy = false) {\r\n        let maxPerRow = Math.floor(this.width / QueueArray.ELEMENT_SIZE);\r\n        let x = QueueArray.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * QueueArray.ELEMENT_SIZE;\r\n        x = (index % maxPerRow) * QueueArray.ELEMENT_SIZE;\r\n        return [x + QueueArray.ELEMENT_SIZE/2 + this.x,y + QueueArray.ELEMENT_SIZE/2 + this.y + (copy ? (Math.ceil(this.backingArray.length / maxPerRow)*QueueArray.ELEMENT_SIZE*2) : 0)];\r\n    }\r\n\r\n    updateElement(element, animationSpeed, p5) {\r\n        if (element) {\r\n            element.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.updateElement(this.backingArray[i], animationSpeed, p5);\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    this.updateElement(this.copyArray[i], animationSpeed, p5);\r\n                }\r\n            }\r\n            if (this.tempElement) {\r\n                this.updateElement(this.tempElement, animationSpeed, p5);\r\n            }\r\n            this.headPointerHighlighter.update(animationSpeed, p5);\r\n            this.tailPointerHighlighter.update(animationSpeed, p5);\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n\r\n        p5.fill(0);\r\n        p5.text(\"Head: \", QueueArray.HEAD_LOCATION_X - 50, QueueArray.HEAD_LOCATION_Y, QueueArray.ELEMENT_SIZE);\r\n        p5.text(this.headPointerValue.toString(), QueueArray.HEAD_LOCATION_X-25, QueueArray.HEAD_LOCATION_Y, QueueArray.ELEMENT_SIZE);\r\n        p5.text(\"Tail: \", QueueArray.TAIL_LOCATION_X - 50, QueueArray.TAIL_LOCATION_Y, QueueArray.ELEMENT_SIZE);\r\n        p5.text(this.tailPointerValue.toString(), QueueArray.TAIL_LOCATION_X-25, QueueArray.TAIL_LOCATION_Y, QueueArray.ELEMENT_SIZE);\r\n\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].draw(p5);\r\n            }\r\n            let pos = this.getElementPosition(i);\r\n            p5.noFill();\r\n            p5.stroke(0);\r\n            p5.square(pos[0] - QueueArray.ELEMENT_SIZE/2,pos[1] - QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE);\r\n            p5.fill(...Colors.BLUE);\r\n            p5.stroke(...Colors.BLUE);\r\n            p5.text(i.toString(), pos[0] - QueueArray.ELEMENT_SIZE/2,pos[1] + QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE, QueueArray.ELEMENT_SIZE);\r\n        }\r\n\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i]) {\r\n                    this.copyArray[i].draw(p5);\r\n                }\r\n                let pos = this.getElementPosition(i, true);\r\n                p5.noFill();\r\n                p5.stroke(0);\r\n                p5.square(pos[0] - QueueArray.ELEMENT_SIZE/2,pos[1] - QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE);\r\n                p5.fill(...Colors.BLUE);\r\n                p5.stroke(...Colors.BLUE);\r\n                p5.text(i.toString(), pos[0] - QueueArray.ELEMENT_SIZE/2,pos[1] + QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE, QueueArray.ELEMENT_SIZE);\r\n            }\r\n        }\r\n        if (this.tempElement) {\r\n            this.tempElement.draw(p5);\r\n        }\r\n        this.headPointerHighlighter.draw(p5);\r\n        this.tailPointerHighlighter.draw(p5);\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (this.copyArray ? this.getElementPosition(this.copyArray.length-1, true)[1] : this.getElementPosition(this.backingArray.length-1)[1]) + QueueArray.ELEMENT_SIZE, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                if (this.backingArray[i]) {\r\n                    this.backingArray[i].shift(...this.getElementPosition(i));\r\n                }\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    if (this.copyArray[i]) {\r\n                        this.copyArray[i].shift(...this.getElementPosition(i,true));\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass QueueArrayElement extends AttractedHighlightableObject {\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        // this.highlightInnerRadius = QueueArray.ELEMENT_SIZE/2 - 5;\r\n        this.highlightOuterRadius = QueueArray.ELEMENT_SIZE/2;\r\n\r\n        this.value = data;\r\n        this.index = index;\r\n\r\n        this.toDelete = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    highlightForMovement() {\r\n        super.highlight(Colors.BLUE);\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        super.highlight(Colors.RED);\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5);\r\n    }\r\n\r\n    drawValue(p5) {\r\n        p5.push();\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.stroke(...this.color);\r\n        p5.text(this.value.toString(), this.currentX - QueueArray.ELEMENT_SIZE/2,this.currentY - QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE, QueueArray.ELEMENT_SIZE);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedDraggableObject } from 'animation';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class QueueLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static CAN_DRAG = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = QueueLinkedList.ELEMENT_WIDTH + QueueLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = QueueLinkedList.ITEM_WIDTH + QueueLinkedList.SPACING;\r\n\r\n    static HEAD_TAIL_SIZE = 35;\r\n    static HEAD_TAIL_X = 130;\r\n\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.head = null;\r\n            this.tail = null;\r\n            this.size = 0;\r\n            this.nodes = [];\r\n            this.tempNode = null;\r\n            this.pinnedNode = null;\r\n\r\n            this.resizing = false;\r\n        });\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let maxNode = this.tempNode || this.head;\r\n        let curr = this.head;\r\n        while (curr) {\r\n            if (curr.displacement() > maxNode.displacement()) {\r\n                maxNode = curr;\r\n            }\r\n            curr = curr.next;\r\n        }\r\n        if (maxNode && maxNode.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            maxNode.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                let curr = this.head;\r\n                while (curr) {\r\n                    curr.stop();\r\n                    curr = curr.next;\r\n                }\r\n                if (this.tempNode) {\r\n                    this.tempNode.stop();\r\n                }\r\n            }\r\n        } else {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n    }\r\n\r\n\r\n    enqueue(data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Queue.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.makeNode,params:[data,],explanation:`Create value: ${data}`,isAnimationStep:true,returnsRedoData:true});\r\n        if (this.size > 0) {\r\n            animation.push({method:this.setTempNodeAfterTail,explanation:`Assign next pointer`,isAnimationStep:true,});\r\n        }\r\n        animation.push({method:this.insertTempNode,explanation:`Reset tail pointer`,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.shiftTail,customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.sizeIncr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully enqueued ${data} to queue.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n\r\n    dequeue() {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot dequeue empty Queue\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.head.data;\r\n        animation.push({method:this.markHeadForDeletion,noAnim:true,});\r\n        animation.push({method:this.unmakeHead,explanation:`Extract data`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (this.size > 1) {\r\n            animation.push({method:this.shiftIntoNode,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.skipTempNode,explanation:`Reset head pointer to new head`,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.sizeDecr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully dequeued ${data} from queue.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n\r\n    makeNode(data) {\r\n        this.tempNode = new QueueLinkedListNode({data: data, index: this.size, x:20,y:20,});\r\n        return [this.tempNode];\r\n    }\r\n    undo_makeNode(data) {\r\n        this.tempNode = null;\r\n    }\r\n    redo_makeNode(newTemp) {\r\n        if (typeof newTemp !== \"object\") {\r\n            return this.makeNode(...arguments);\r\n        }\r\n        this.tempNode = newTemp;\r\n    }\r\n\r\n    setTempNodeAfterTail() {\r\n        this.tail.next = this.tempNode;\r\n    }\r\n    undo_setTempNodeAfterTail() {\r\n        this.tail.next = null;\r\n    }\r\n\r\n    insertTempNode() {\r\n        let oldTail = this.tail;\r\n        this.nodes.splice(this.size, 0, this.tempNode);\r\n        this.tail = this.tempNode;\r\n        if (!oldTail) {\r\n            this.head = this.tempNode;\r\n        }\r\n        return [oldTail];\r\n    }\r\n    undo_insertTempNode(oldTail) {\r\n        this.tail = oldTail;\r\n        if (!oldTail) {\r\n            this.head = null;\r\n        }\r\n        this.nodes.splice(this.size, 1);\r\n    }\r\n\r\n    shiftTail() {\r\n        this.tempNode.shift(...this.getNodePosition(this.size));\r\n        this.tempNode.addOnStop((element) => {\r\n            this.doneAnimating(0);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    undo_shiftTail() {\r\n        this.tempNode = this.tail;\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_shiftTail() {\r\n        this.tempNode.shift(...this.getNodePosition(this.size));\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n\r\n    markHeadForDeletion() {\r\n        this.head.markForDeletion();\r\n    }\r\n    undo_markHeadForDeletion() {\r\n        this.head.unhighlight();\r\n    }\r\n\r\n    unmakeHead() {\r\n        this.tempNode = this.nodes.splice(0, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_unmakeHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        this.nodes.splice(0, 0, this.tempNode);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    redo_unmakeHead() {\r\n        this.tempNode = this.nodes.splice(0, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    skipTempNode() {\r\n        let oldTemp = this.tempNode;\r\n        this.head = this.head.next;\r\n        this.tempNode = null;\r\n        if (!this.head) {\r\n            this.tail = null;\r\n        }\r\n        return [oldTemp, this.tail === null]\r\n    }\r\n    undo_skipTempNode(oldTemp, noTail) {\r\n        this.tempNode = oldTemp;\r\n        this.tempNode.next = this.head;\r\n        this.tempNode.markForDeletion();\r\n        this.head = this.tempNode;\r\n        if (noTail) {\r\n            this.tail = this.tempNode;\r\n        }\r\n    }\r\n\r\n    shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n        }\r\n    }\r\n    undo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n    redo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n    undo_shiftNode(node, direction) {\r\n        // console.log(\"undo_shiftNode\");\r\n        this.shiftNode(node, -direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / QueueLinkedList.ELEMENT_SIZE));\r\n        let x = QueueLinkedList.ELEMENT_SIZE * index;\r\n        let y = 75 + Math.floor(index / maxPerRow) * 2 * QueueLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * QueueLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getTailY() {\r\n        return this.getNodePosition(this.size-1)[1] + QueueLinkedList.ELEMENT_HEIGHT + QueueLinkedList.HEAD_TAIL_SIZE;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedNode.unpin();\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        node.update(animationSpeed, p5);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(\"draw\");\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        let headY = 20;\r\n        p5.text(\"Head:\",95-5,headY,QueueLinkedList.HEAD_TAIL_SIZE + 10,QueueLinkedList.HEAD_TAIL_SIZE);\r\n        p5.square(QueueLinkedList.HEAD_TAIL_X,headY,QueueLinkedList.HEAD_TAIL_SIZE);\r\n        if (this.head) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE / 2, headY + QueueLinkedList.HEAD_TAIL_SIZE / 2, 5);\r\n            p5.line(QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE / 2, headY + QueueLinkedList.HEAD_TAIL_SIZE / 2, this.head.currentX + QueueLinkedList.ITEM_WIDTH / 2, this.head.currentY);\r\n            p5.rect(this.head.currentX + QueueLinkedList.ITEM_WIDTH / 2 - 3, this.head.currentY - 3, 6,6);\r\n        } else {\r\n            p5.line(QueueLinkedList.HEAD_TAIL_X,headY,QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE,headY + QueueLinkedList.HEAD_TAIL_SIZE);\r\n        }\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        let tailY = this.getTailY();\r\n        p5.text(\"Tail:\",95,tailY,QueueLinkedList.HEAD_TAIL_SIZE,QueueLinkedList.HEAD_TAIL_SIZE);\r\n        p5.square(QueueLinkedList.HEAD_TAIL_X,tailY,QueueLinkedList.HEAD_TAIL_SIZE);\r\n        if (this.tail) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE / 2, tailY + QueueLinkedList.HEAD_TAIL_SIZE / 2, 5);\r\n            p5.line(QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE / 2, tailY + QueueLinkedList.HEAD_TAIL_SIZE / 2, this.tail.currentX + QueueLinkedList.ITEM_WIDTH / 2, this.tail.currentY + QueueLinkedList.ELEMENT_HEIGHT);\r\n            p5.rect(this.tail.currentX + QueueLinkedList.ITEM_WIDTH / 2 - 3, this.tail.currentY + QueueLinkedList.ELEMENT_HEIGHT - 3, 6,6);\r\n        } else {\r\n            p5.line(QueueLinkedList.HEAD_TAIL_X,tailY,QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE,tailY + QueueLinkedList.HEAD_TAIL_SIZE);\r\n        }\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5, node.next === this.head);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        // this.drawingBeforeMouseDown = this.drawing;\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.animator.loop();\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.pinnedNode.addOnStop(() => {\r\n                this.ensureDrawn();\r\n            });\r\n            this.unpin();\r\n        } else {\r\n            // this.ensureDrawn();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getTailY() + QueueLinkedList.HEAD_TAIL_SIZE + 20,() => {\r\n            let shiftTemp = this.tempNode && this.tempNode.desiredX === 20 && this.tempNode.desiredY === 20;\r\n            let node = this.head;\r\n            while (node) {\r\n                node.shift(...this.getNodePosition(node.index));\r\n                node = node.next;\r\n            }\r\n            if (shiftTemp) {\r\n                this.tempNode.shift(20,20);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass QueueLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + QueueLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + QueueLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unhighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, QueueLinkedList.ITEM_WIDTH, QueueLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + QueueLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + QueueLinkedList.ELEMENT_WIDTH, this.currentY + QueueLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, QueueLinkedList.ELEMENT_WIDTH,QueueLinkedList.ELEMENT_HEIGHT);\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.fill(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.circle(this.currentX + QueueLinkedList.ELEMENT_WIDTH + QueueLinkedList.POINTER_WIDTH / 2, this.currentY + QueueLinkedList.ELEMENT_HEIGHT / 2, 5);\r\n            p5.line(this.currentX + QueueLinkedList.ELEMENT_WIDTH + QueueLinkedList.POINTER_WIDTH / 2, this.currentY + QueueLinkedList.ELEMENT_HEIGHT / 2, this.next.currentX, this.next.currentY + QueueLinkedList.ELEMENT_HEIGHT / 2);\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + QueueLinkedList.ELEMENT_HEIGHT / 2 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX + QueueLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + QueueLinkedList.ITEM_WIDTH, this.currentY + QueueLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class DequeArray extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static FRONT_LOCATION_X = 125;\r\n    static FRONT_LOCATION_Y = 35;\r\n    static SIZE_LOCATION_X = 125;\r\n    static SIZE_LOCATION_Y = 55;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.backingArray = new Array(DequeArray.INITIAL_CAPACITY);\r\n            this.size = 0;\r\n            this.copyArray = null;\r\n            this.tempElement = null;\r\n            this.frontPointerValue = 0;\r\n            this.frontPointerHighlighter = new AttractedHighlightableObject(DequeArray.FRONT_LOCATION_X, DequeArray.FRONT_LOCATION_Y, {\r\n                highlightOuterRadius: 15\r\n            });\r\n            this.sizePointerHighlighter = new AttractedHighlightableObject(DequeArray.SIZE_LOCATION_X, DequeArray.SIZE_LOCATION_Y, {\r\n                highlightOuterRadius: 15\r\n            });\r\n        });\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let furthestObject = this.tempElement || this.frontPointerHighlighter;\r\n        if (this.frontPointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.frontPointerHighlighter;\r\n        }\r\n        if (this.sizePointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.sizePointerHighlighter;\r\n        }\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i] && this.backingArray[i].displacement() > furthestObject.displacement()) {\r\n                furthestObject = this.backingArray[i];\r\n            }\r\n        }\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i] && this.copyArray[i].displacement() > furthestObject.displacement()) {\r\n                    furthestObject = this.copyArray[i];\r\n                }\r\n            }\r\n        }\r\n        if (furthestObject.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            furthestObject.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                if (this.tempElement) {\r\n                    this.tempElement.stop();\r\n                }\r\n                this.frontPointerHighlighter.stop();\r\n                this.sizePointerHighlighter.stop();\r\n                for (let i = 0; i < this.backingArray.length; i++) {\r\n                    if (this.backingArray[i]) {\r\n                        this.backingArray[i].stop();\r\n                    }\r\n                }\r\n                if (this.copyArray) {\r\n                    for (let i = 0; i < this.copyArray.length; i++) {\r\n                        if (this.copyArray[i]) {\r\n                            this.copyArray[i].stop();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            let stopID = ++this.stopID;\r\n            this.stopDrawing(stopID);\r\n        }\r\n    }\r\n\r\n\r\n    add(data,front) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Deque.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push({method:this.showText,params:[`Deque full, resizing to length ${this.backingArray.length*2}`,Colors.GREEN,],});\r\n            animation.push(...this.createCopyArray());\r\n        }\r\n        animation.push({method:this.createElement,params:[data,front],explanation:`Create value: ${data}`,isAnimationStep:true,returnsRedoData:true,});\r\n        animation.push(...this.useFrontPointer());\r\n        if (front) {\r\n            animation.push(...this.useFrontDecrementPointer(true));\r\n        } else {\r\n            animation.push(...this.useFrontSizePointer(true));\r\n        }\r\n        animation.push({method:this.highlightTemp,noAnim:true});\r\n        animation.push({method:this.insertElement,customEnd:true,explanation:`Added ${data} to backingArray`,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (front) {\r\n            // animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n            animation.push(...this.updateFrontPointer(-1));\r\n        }\r\n        animation.push(...this.updateSizePointer(1));\r\n        animation.push({method:this.showText,params:[`Successfully added ${data} to ${front ? \"front\" : \"back\"} of deque.`,Colors.GREEN,],});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    addFirst(data) {\r\n        return this.add(data, true);\r\n    }\r\n\r\n    addLast(data) {\r\n        return this.add(data, false);\r\n    }\r\n\r\n    remove(front) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Deque\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.backingArray[front ? this.frontPointerValue : this.getIndex(this.frontPointerValue + this.size - 1)].value;\r\n        animation.push({method:this.showText,params:[`Dequeuing from index ${this.frontPointerValue}.`]});\r\n        animation.push(...this.useFrontPointer(front));\r\n        if (!front) {\r\n            animation.push(...this.useFrontSizePointer(false,false));\r\n            animation.push(...this.useFrontDecrementPointer(false));\r\n        }\r\n        animation.push({method:this.extractElement,params:[front],explanation:`Remove value: ${data} from deque`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.unmakeElement,noAnim:true,returnsUndoData:true});\r\n        if (front) {\r\n            animation.push(...this.updateFrontPointer(1));\r\n        }\r\n        animation.push(...this.updateSizePointer(-1));\r\n        animation.push({method:this.showText,params:[`Successfully removed ${data} from ${front ? \"front of \" : \"back of\"} deque.`,Colors.GREEN],noAnim:true});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n    removeFirst() {\r\n        return this.remove(true);\r\n    }\r\n\r\n    removeLast() {\r\n        return this.remove(false);\r\n    }\r\n\r\n    createCopyArray() {\r\n        let animation = [];\r\n        animation.push({method:this.initCopyArray,noAnim:true,explanation:`Deque full, resizing to length ${this.backingArray.length*2}`,isForwardStep:true,});\r\n        animation.push(...this.useFrontPointer(true));\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push(...this.addItemToCopy(i));\r\n        }\r\n        animation.push(...this.useCopyArr());\r\n        animation.push(...this.updateFrontPointer(0));\r\n        return animation;\r\n    }\r\n\r\n    initCopyArray() {\r\n        this.copyArray = new Array(this.backingArray.length * 2);\r\n        for (let i = 0; i < this.size; i++) {\r\n            let arrIndex = (i + this.frontPointerValue) % this.backingArray.length;\r\n            let pos = this.getElementPosition(arrIndex);\r\n            this.copyArray[i] = new DequeArrayElement({data: this.backingArray[arrIndex].value, index: i, x:pos[0],y:pos[1],},);\r\n        }\r\n    }\r\n    undo_initCopyArray() {\r\n        this.copyArray = null;\r\n    }\r\n\r\n    addItemToCopy(index) {\r\n        let animation = [];\r\n        // animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isBackStep:(index === 0),isForwardStep:(index === this.size - 1),customUndoEnd:(index === 0),customRedoEnd:(index === this.size - 1),});\r\n        animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n\r\n    shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        let oldX = element.desiredX;\r\n        let oldY = element.desiredY;\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        element.addOnStop((el) => {\r\n            el.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, oldX, oldY];\r\n    }\r\n    undo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === 0) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n    redo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        let oldX = element.desiredX;\r\n        let oldY = element.desiredY;\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === this.size - 1) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n        return [index, oldX, oldY];\r\n    }\r\n\r\n    useCopyArr() {\r\n        let animation = [];\r\n        animation.push({method:this.assignCopyArray,noAnim:true,isBackStep:true,customUndoEnd:true,returnsUndoData:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push({method:this.shiftElementToBackingArray,params:[i,],noAnim:true,isForwardStep:(i === this.size - 1),customUndoEnd:true,customRedoEnd:true});\r\n        }\r\n        animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n        return animation;\r\n    }\r\n\r\n    assignCopyArray() {\r\n        let oldBacking = this.backingArray;\r\n        this.backingArray = this.copyArray;\r\n        this.copyArray = null;\r\n        return [oldBacking];\r\n    }\r\n    undo_assignCopyArray(oldBacking) {\r\n        this.copyArray = this.backingArray;\r\n        this.backingArray = oldBacking;\r\n    }\r\n\r\n    shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n    }\r\n    undo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(index,true));\r\n        if (index === 0) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n    redo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n        if (index === this.size - 1) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n\r\n    createElement(data, front) {\r\n        this.tempElement = new DequeArrayElement({data: data, index: this.getIndex(front ? this.frontPointerValue - 1 : this.frontPointerValue + this.size), x:45,y:45,},);\r\n        return [this.tempElement];\r\n    }\r\n    undo_createElement() {\r\n        this.tempElement = null;\r\n    }\r\n    redo_createElement(newTemp) {\r\n        if (typeof newTemp !== \"object\") {\r\n            return this.createElement(...arguments);\r\n        }\r\n        this.tempElement = newTemp;\r\n        this.tempElement.goTo(45,45);\r\n    }\r\n\r\n    highlightTemp(color = Colors.BLUE) {\r\n        this.tempElement.highlight(color);\r\n    }\r\n    undo_highlightTemp() {\r\n        this.tempElement.unhighlight();\r\n    }\r\n\r\n    insertElement() {\r\n        let index = this.tempElement.index;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_insertElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n        let index = this.tempElement.index;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = null;\r\n    }\r\n    redo_insertElement() {\r\n        let index = this.tempElement.index;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n\r\n    useFrontPointer(end = false) {\r\n        let animation = [];\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[0,false],customEnd:true,explanation:`Front points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        if (end) {\r\n            animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[DequeArray.FRONT_LOCATION_X,DequeArray.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        }\r\n        return animation;\r\n    }\r\n    useFrontDecrementPointer(add) {\r\n        let animation = [];\r\n        // animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[...this.getElementPosition(this.frontPointerValue)],noAnim:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[-1,!add],customEnd:true,explanation:`${add ? \"Add at\" : \"Remove from\"} index (front${add ? \" \" : \" + size \"}- 1) % backingArray.length = |RETURN|`,explanationUsesReturn:true,isForwardStep:true,isBackStep:add,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[DequeArray.FRONT_LOCATION_X,DequeArray.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n    useFrontSizePointer(add, end = true) {\r\n        let animation = [];\r\n        // animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[...this.getElementPosition(this.frontPointerValue)],noAnim:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[0,true],customEnd:true,explanation:`${add ? \"Add at\" : \"Remove from\"} index (front + size${add ? \"\" : \" - 1\"}) % backingArray.length = |RETURN|`,explanationUsesReturn:true,isForwardStep:end,isBackStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        if (end) {\r\n            animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[DequeArray.FRONT_LOCATION_X,DequeArray.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        }\r\n        return animation;\r\n    }\r\n\r\n    moveFrontTracker(offset, fromSize) {\r\n        let oldX = this.frontPointerHighlighter.desiredX;\r\n        let oldY = this.frontPointerHighlighter.desiredY;\r\n        let index = this.getIndex(this.frontPointerValue + offset + (fromSize ? this.size : 0));\r\n        let pos = this.getElementPosition(index);\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(pos[0], pos[1] + DequeArray.ELEMENT_SIZE);\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, [oldX,oldY]];\r\n    }\r\n    undo_moveFrontTracker(oldX,oldY) {\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(oldX, oldY);\r\n        let stopID = ++this.stopID;\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_moveFrontTracker(offset, fromSize) {\r\n        let oldX = this.frontPointerHighlighter.desiredX;\r\n        let oldY = this.frontPointerHighlighter.desiredY;\r\n        let index = this.getIndex(this.frontPointerValue + offset + (fromSize ? this.size : 0));\r\n        let pos = this.getElementPosition(index);\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(pos[0], pos[1] + DequeArray.ELEMENT_SIZE);\r\n        let stopID = ++this.stopID;\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        return [index, [oldX,oldY]];\r\n    }\r\n\r\n    extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement = this.backingArray[index];\r\n        this.backingArray[index] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = this.tempElement;\r\n        this.tempElement = null;\r\n    }\r\n    redo_extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement = this.backingArray[index];\r\n        this.backingArray[index] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    unmakeElement() {\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_unmakeElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    updateFrontPointer(offset) {\r\n        let animation = [];\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:false,});\r\n        animation.push({method:this.changeFrontPointerValue,params:[offset],explanation:`Update front pointer to |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,isBackStep:false,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeFrontPointerValue(offset) {\r\n        let oldFront = this.frontPointerValue;\r\n        if (offset === 0) {\r\n            this.frontPointerValue = 0;\r\n        } else {\r\n            this.frontPointerValue = this.getIndex(this.frontPointerValue + offset);\r\n        }\r\n        return [this.frontPointerValue,[oldFront]];\r\n    }\r\n    undo_changeFrontPointerValue(oldFront) {\r\n        this.frontPointerValue = oldFront;\r\n        return this.frontPointerValue;\r\n    }\r\n\r\n    updateSizePointer(offset) {\r\n        let animation = [];\r\n        animation.push({method:this.sizePointerHighlighter.highlight,scope:this.sizePointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:false,});\r\n        animation.push({method:this.changeSizePointerValue,params:[offset],explanation:`Update size to |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.sizePointerHighlighter.unhighlight,scope:this.sizePointerHighlighter,noAnim:true,isBackStep:false,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeSizePointerValue(offset) {\r\n        let oldSize = this.size;\r\n        this.size += offset;\r\n        return [this.size,[oldSize]];\r\n    }\r\n    undo_changeSizePointerValue(oldSize) {\r\n        this.size = oldSize;\r\n        return this.size;\r\n    }\r\n\r\n\r\n    getIndex(index, copy = false) {\r\n        let array = copy ? this.copyArray : this.backingArray;\r\n        index %= array.length;\r\n        if (index < 0) {\r\n            index += array.length;\r\n        }\r\n        return index;\r\n    }\r\n\r\n    getElementPosition(index, copy = false) {\r\n        let maxPerRow = Math.floor(this.width / DequeArray.ELEMENT_SIZE);\r\n        let x = DequeArray.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * DequeArray.ELEMENT_SIZE;\r\n        x = (index % maxPerRow) * DequeArray.ELEMENT_SIZE;\r\n        return [x + DequeArray.ELEMENT_SIZE/2 + this.x,y + DequeArray.ELEMENT_SIZE/2 + this.y + (copy ? (Math.ceil(this.backingArray.length / maxPerRow)*DequeArray.ELEMENT_SIZE*2) : 0)];\r\n    }\r\n\r\n    updateElement(element, animationSpeed, p5) {\r\n        if (element) {\r\n            element.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.updateElement(this.backingArray[i], animationSpeed, p5);\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    this.updateElement(this.copyArray[i], animationSpeed, p5);\r\n                }\r\n            }\r\n            if (this.tempElement) {\r\n                this.updateElement(this.tempElement, animationSpeed, p5);\r\n            }\r\n            this.frontPointerHighlighter.update(animationSpeed, p5);\r\n            this.sizePointerHighlighter.update(animationSpeed, p5);\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n\r\n        p5.fill(0);\r\n        p5.text(\"Front: \", DequeArray.FRONT_LOCATION_X - 50, DequeArray.FRONT_LOCATION_Y, DequeArray.ELEMENT_SIZE);\r\n        p5.text(this.frontPointerValue.toString(), DequeArray.FRONT_LOCATION_X-25, DequeArray.FRONT_LOCATION_Y, DequeArray.ELEMENT_SIZE);\r\n        p5.text(\"Size: \", DequeArray.SIZE_LOCATION_X - 50, DequeArray.SIZE_LOCATION_Y, DequeArray.ELEMENT_SIZE);\r\n        p5.text(this.size.toString(), DequeArray.SIZE_LOCATION_X-25, DequeArray.SIZE_LOCATION_Y, DequeArray.ELEMENT_SIZE);\r\n\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].draw(p5);\r\n            }\r\n            let pos = this.getElementPosition(i);\r\n            p5.noFill();\r\n            p5.stroke(0);\r\n            p5.square(pos[0] - DequeArray.ELEMENT_SIZE/2,pos[1] - DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE);\r\n            p5.fill(...Colors.BLUE);\r\n            p5.stroke(...Colors.BLUE);\r\n            p5.text(i.toString(), pos[0] - DequeArray.ELEMENT_SIZE/2,pos[1] + DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE, DequeArray.ELEMENT_SIZE);\r\n        }\r\n\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i]) {\r\n                    this.copyArray[i].draw(p5);\r\n                }\r\n                let pos = this.getElementPosition(i, true);\r\n                p5.noFill();\r\n                p5.stroke(0);\r\n                p5.square(pos[0] - DequeArray.ELEMENT_SIZE/2,pos[1] - DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE);\r\n                p5.fill(...Colors.BLUE);\r\n                p5.stroke(...Colors.BLUE);\r\n                p5.text(i.toString(), pos[0] - DequeArray.ELEMENT_SIZE/2,pos[1] + DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE, DequeArray.ELEMENT_SIZE);\r\n            }\r\n        }\r\n        if (this.tempElement) {\r\n            this.tempElement.draw(p5);\r\n        }\r\n        this.frontPointerHighlighter.draw(p5);\r\n        this.sizePointerHighlighter.draw(p5);\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (this.copyArray ? this.getElementPosition(this.copyArray.length-1, true)[1] : this.getElementPosition(this.backingArray.length-1)[1]) + DequeArray.ELEMENT_SIZE, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                if (this.backingArray[i]) {\r\n                    this.backingArray[i].shift(...this.getElementPosition(i));\r\n                }\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    if (this.copyArray[i]) {\r\n                        this.copyArray[i].shift(...this.getElementPosition(i,true));\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass DequeArrayElement extends AttractedHighlightableObject {\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        // this.highlightInnerRadius = DequeArray.ELEMENT_SIZE/2 - 5;\r\n        this.highlightOuterRadius = DequeArray.ELEMENT_SIZE/2;\r\n\r\n        this.value = data;\r\n        this.index = index;\r\n\r\n        this.toDelete = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    highlightForMovement() {\r\n        super.highlight(Colors.BLUE);\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        super.highlight(Colors.RED);\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5);\r\n    }\r\n\r\n    drawValue(p5) {\r\n        p5.push();\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.stroke(...this.color);\r\n        p5.text(this.value.toString(), this.currentX - DequeArray.ELEMENT_SIZE/2,this.currentY - DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE, DequeArray.ELEMENT_SIZE);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedDraggableObject } from 'animation';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class DequeLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static CAN_DRAG = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = DequeLinkedList.ELEMENT_WIDTH + 2 * DequeLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = DequeLinkedList.ITEM_WIDTH + DequeLinkedList.SPACING;\r\n\r\n    static HEAD_TAIL_SIZE = 35;\r\n    static HEAD_TAIL_X = 130;\r\n\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.head = null;\r\n            this.tail = null;\r\n            this.size = 0;\r\n            this.nodes = [];\r\n            this.tempNode = null;\r\n            this.pinnedNode = null;\r\n\r\n            this.resizing = false;\r\n        });\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let maxNode = this.tempNode || this.head;\r\n        let curr = this.head;\r\n        while (curr) {\r\n            if (curr.displacement() > maxNode.displacement()) {\r\n                maxNode = curr;\r\n            }\r\n            curr = curr.next;\r\n        }\r\n        if (maxNode && maxNode.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            maxNode.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                let curr = this.head;\r\n                while (curr) {\r\n                    curr.stop();\r\n                    curr = curr.next;\r\n                }\r\n                if (this.tempNode) {\r\n                    this.tempNode.stop();\r\n                }\r\n            }\r\n        } else {\r\n            let stopID = ++this.stopID;\r\n            this.stopDrawing(stopID);\r\n        }\r\n    }\r\n\r\n\r\n    add(data,front) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Deque.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.makeNode,params:[data,front],explanation:`Create value: ${data}`,isAnimationStep:true,returnsRedoData:true,});\r\n        if (this.size > 0) {\r\n            if (front) {\r\n                animation.push({method:this.setTempNodeBeforeHead,explanation:`Assign next pointer`,isAnimationStep:true,});\r\n                animation.push({method:this.setHeadAfterTempNode,explanation:`Assign prev pointer`,isAnimationStep:true,});\r\n                animation.push({method:this.shiftHeadForNode,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n            } else {\r\n                animation.push({method:this.setTempNodeAfterTail,explanation:`Assign next pointer`,isAnimationStep:true,});\r\n                animation.push({method:this.setTailBeforeTempNode,explanation:`Assign prev pointer`,isAnimationStep:true,});\r\n            }\r\n        }\r\n        animation.push({method:this.insertTempNode,params:[front],explanation:`Reset ${front ? \"head\" : \"tail\"} pointer`,quick:true,isAnimationStep:true,returnsUndoData:true,});\r\n        if (front) {\r\n            animation.push({method:this.shiftNewHead,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        } else {\r\n            animation.push({method:this.shiftNewTail,customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.sizeIncr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully added ${data} to ${front ? \"front\" : \"back\"} of deque.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    addFirst(data) {\r\n        return this.add(data,true);\r\n    }\r\n\r\n    addLast(data) {\r\n        return this.add(data,false);\r\n    }\r\n\r\n    remove(front) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot dedeque empty Deque\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = (front ? this.head : this.tail).data;\r\n        animation.push({method:this.markNodeForDeletion,params:[front],quick:true,});\r\n        animation.push({method:this.unmakeNode,params:[front],explanation:`Extract data`,customEnd:true,isForwardStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (front && this.size > 1) {\r\n            animation.push({method:this.shiftIntoNode,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.skipTempNode,params:[front],explanation:`Reset ${front ? \"head\" : \"tail\"} pointer`,quick:true,isBackStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.sizeDecr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully removed ${data} from ${front ? \"front of \" : \"back of\"} deque.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n    removeFirst() {\r\n        return this.remove(true);\r\n    }\r\n\r\n    removeLast() {\r\n        return this.remove(false);\r\n    }\r\n\r\n    makeNode(data,front) {\r\n        this.tempNode = new DequeLinkedListNode({data: data, index: front ? 0 : this.size, x:20,y:20,});\r\n        return [this.tempNode];\r\n    }\r\n    undo_makeNode(data) {\r\n        this.tempNode = null;\r\n    }\r\n    redo_makeNode(newTemp) {\r\n        if (typeof newTemp !== \"object\") {\r\n            return this.makeNode(...arguments);\r\n        }\r\n        this.tempNode = newTemp;\r\n    }\r\n\r\n    setTempNodeBeforeHead() {\r\n        this.tempNode.next = this.head;\r\n    }\r\n    undo_setTempNodeBeforeHead() {\r\n        this.tempNode.next = null;\r\n    }\r\n\r\n    setHeadAfterTempNode() {\r\n        this.head.prev = this.tempNode;\r\n    }\r\n    undo_setHeadAfterTempNode() {\r\n        this.head.prev = null;\r\n    }\r\n\r\n    setTempNodeAfterTail() {\r\n        this.tail.next = this.tempNode;\r\n    }\r\n    undo_setTempNodeAfterTail() {\r\n        this.tail.next = null;\r\n    }\r\n\r\n    setTailBeforeTempNode() {\r\n        this.tempNode.prev = this.tail;\r\n    }\r\n    undo_setTailBeforeTempNode() {\r\n        this.tempNode.prev = null;\r\n    }\r\n\r\n    insertTempNode(atHead) {\r\n        let oldTail = this.tail;\r\n        if (atHead) {\r\n            this.nodes.splice(0, 0, this.tempNode);\r\n            if (!oldTail) {\r\n                this.tail = this.tempNode;\r\n            }\r\n            this.head = this.tempNode;\r\n        } else {\r\n            this.nodes.splice(this.size, 0, this.tempNode);\r\n            this.tail = this.tempNode;\r\n            if (!oldTail) {\r\n                this.head = this.tempNode;\r\n            }\r\n        }\r\n        return [atHead, oldTail];\r\n    }\r\n    undo_insertTempNode(atHead, oldTail) {\r\n        if (atHead) {\r\n            this.head = this.tempNode.next;\r\n            this.nodes.splice(0, 1);\r\n        } else {\r\n            this.tail = oldTail;\r\n            if (!oldTail) {\r\n                this.head = null;\r\n            }\r\n            this.nodes.splice(this.size, 1);\r\n        }\r\n    }\r\n\r\n    shiftNewHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        this.tempNode = null;\r\n    }\r\n    undo_shiftNewHead() {\r\n        this.tempNode = this.nodes[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_shiftNewHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        let temp = this.tempNode;\r\n        let stopID = ++this.stopID;\r\n        temp.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n\r\n    shiftNewTail() {\r\n        this.tempNode.shift(...this.getNodePosition(this.size));\r\n        this.tempNode.addOnStop((element) => {\r\n            this.doneAnimating(0);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    undo_shiftNewTail() {\r\n        this.tempNode = this.tail;\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_shiftNewTail() {\r\n        this.tempNode.shift(...this.getNodePosition(this.size));\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n\r\n    markNodeForDeletion(front) {\r\n        (front ? this.head : this.tail).markForDeletion();\r\n    }\r\n    undo_markNodeForDeletion(front) {\r\n        (front ? this.head : this.tail).unhighlight();\r\n    }\r\n\r\n    unmakeNode(front) {\r\n        this.tempNode = this.nodes.splice(front ? 0 : (this.size - 1), 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_unmakeNode(front) {\r\n        this.tempNode.shift(...this.getNodePosition(front ? 0 : (this.size - 1)));\r\n        this.nodes.splice(front ? 0 : (this.size - 1), 0, this.tempNode);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    redo_unmakeNode(front) {\r\n        this.tempNode = this.nodes.splice(front ? 0 : (this.size - 1), 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    skipTempNode(front) {\r\n        let oldTemp = this.tempNode;\r\n        if (front) {\r\n            this.head = this.head.next;\r\n            if (this.head) {\r\n                this.head.prev = null;\r\n            }\r\n        } else {\r\n            this.tail = this.tail.prev;\r\n            if (this.tail) {\r\n                this.tail.next = null;\r\n            }\r\n        }\r\n        if (!this.head || !this.tail) {\r\n            this.head = this.tail = null;\r\n        }\r\n        this.tempNode = null;\r\n        return [front,oldTemp, this.head === null || this.tail === null];\r\n    }\r\n    undo_skipTempNode(front,oldTemp, noData) {\r\n        this.tempNode = oldTemp;\r\n        if (front) {\r\n            this.tempNode.next = this.head;\r\n            if (this.head) {\r\n                this.head.prev = this.tempNode;\r\n            }\r\n            this.head = this.tempNode;\r\n        } else {\r\n            this.tempNode.prev = this.tail;\r\n            if (this.tail) {\r\n                this.tail.next = this.tempNode;\r\n            }\r\n            this.tail = this.tempNode;\r\n        }\r\n        if (noData) {\r\n            this.head = this.tail = this.tempNode;\r\n        }\r\n        this.tempNode.markForDeletion();\r\n    }\r\n\r\n    shiftHeadForNode() {\r\n        let node = this.head;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            furthest.addOnStop(() => {\r\n                this.doneAnimating(0);\r\n            });\r\n        }\r\n    }\r\n    undo_shiftHeadForNode() {\r\n        let node = this.head;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            let stopID = ++this.stopID;\r\n            furthest.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n    redo_shiftHeadForNode() {\r\n        let node = this.head;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            let stopID = ++this.stopID;\r\n            furthest.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n\r\n    shiftIntoNode() {\r\n        let node = this.head.next;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            furthest.addOnStop((element) => {\r\n                this.doneAnimating(0);\r\n            });\r\n        }\r\n    }\r\n    undo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            let stopID = ++this.stopID;\r\n            furthest.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n    redo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            let stopID = ++this.stopID;\r\n            furthest.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n    undo_shiftNode(node, direction) {\r\n        // console.log(\"undo_shiftNode\");\r\n        this.shiftNode(node, -direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / DequeLinkedList.ELEMENT_SIZE));\r\n        let x = DequeLinkedList.ELEMENT_SIZE * index;\r\n        let y = 75 + Math.floor(index / maxPerRow) * 2 * DequeLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * DequeLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getTailY() {\r\n        return this.getNodePosition(this.size)[1] + DequeLinkedList.ELEMENT_HEIGHT + DequeLinkedList.HEAD_TAIL_SIZE;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedNode.unpin();\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        node.update(animationSpeed, p5);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(\"draw\");\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        let headY = 20;\r\n        p5.text(\"Head:\",95-5,headY,DequeLinkedList.HEAD_TAIL_SIZE + 10,DequeLinkedList.HEAD_TAIL_SIZE);\r\n        p5.square(DequeLinkedList.HEAD_TAIL_X,headY,DequeLinkedList.HEAD_TAIL_SIZE);\r\n        if (this.head) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE / 2, headY + DequeLinkedList.HEAD_TAIL_SIZE / 2, 5);\r\n            p5.line(DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE / 2, headY + DequeLinkedList.HEAD_TAIL_SIZE / 2, this.head.currentX + DequeLinkedList.ITEM_WIDTH / 2, this.head.currentY);\r\n            p5.rect(this.head.currentX + DequeLinkedList.ITEM_WIDTH / 2 - 3, this.head.currentY - 3, 6,6);\r\n        } else {\r\n            p5.line(DequeLinkedList.HEAD_TAIL_X,headY,DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE,headY + DequeLinkedList.HEAD_TAIL_SIZE);\r\n        }\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        let tailY = this.getTailY();\r\n        p5.text(\"Tail:\",95,tailY,DequeLinkedList.HEAD_TAIL_SIZE,DequeLinkedList.HEAD_TAIL_SIZE);\r\n        p5.square(DequeLinkedList.HEAD_TAIL_X,tailY,DequeLinkedList.HEAD_TAIL_SIZE);\r\n        if (this.tail) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE / 2, tailY + DequeLinkedList.HEAD_TAIL_SIZE / 2, 5);\r\n            p5.line(DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE / 2, tailY + DequeLinkedList.HEAD_TAIL_SIZE / 2, this.tail.currentX + DequeLinkedList.ITEM_WIDTH / 2, this.tail.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n            p5.rect(this.tail.currentX + DequeLinkedList.ITEM_WIDTH / 2 - 3, this.tail.currentY + DequeLinkedList.ELEMENT_HEIGHT - 3, 6,6);\r\n        } else {\r\n            p5.line(DequeLinkedList.HEAD_TAIL_X,tailY,DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE,tailY + DequeLinkedList.HEAD_TAIL_SIZE);\r\n        }\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5, node.next === this.head);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        // this.drawingBeforeMouseDown = this.drawing;\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.animator.loop();\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.pinnedNode.addOnStop(() => {\r\n                this.ensureDrawn();\r\n            });\r\n            this.unpin();\r\n        } else {\r\n            // this.ensureDrawn();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getTailY() + DequeLinkedList.HEAD_TAIL_SIZE + 20,() => {\r\n            let shiftTemp = this.tempNode && this.tempNode.desiredX === 20 && this.tempNode.desiredY === 20;\r\n            let node = this.head;\r\n            while (node) {\r\n                node.shift(...this.getNodePosition(node.index));\r\n                node = node.next;\r\n            }\r\n            if (shiftTemp) {\r\n                this.tempNode.shift(20,20);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass DequeLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n        this.prev = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + DequeLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + DequeLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unhighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, DequeLinkedList.ITEM_WIDTH, DequeLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + DequeLinkedList.POINTER_WIDTH, this.currentY, this.currentX + DequeLinkedList.POINTER_WIDTH, this.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + DequeLinkedList.POINTER_WIDTH + DequeLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + DequeLinkedList.POINTER_WIDTH + DequeLinkedList.ELEMENT_WIDTH, this.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX + DequeLinkedList.POINTER_WIDTH,this.currentY, DequeLinkedList.ELEMENT_WIDTH,DequeLinkedList.ELEMENT_HEIGHT);\r\n        if (this.prev) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.circle(this.currentX + DequeLinkedList.POINTER_WIDTH / 2, this.currentY + DequeLinkedList.ELEMENT_HEIGHT *2/3, 5);\r\n            p5.line(this.currentX + DequeLinkedList.POINTER_WIDTH / 2, this.currentY + DequeLinkedList.ELEMENT_HEIGHT *2/3, this.prev.currentX + DequeLinkedList.ITEM_WIDTH, this.prev.currentY + DequeLinkedList.ELEMENT_HEIGHT *2/3)\r\n            p5.rect(this.prev.currentX + DequeLinkedList.ITEM_WIDTH - 3, this.prev.currentY + DequeLinkedList.ELEMENT_HEIGHT *2/3 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX, this.currentY, this.currentX + DequeLinkedList.POINTER_WIDTH, this.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.circle(this.currentX + DequeLinkedList.ITEM_WIDTH - DequeLinkedList.POINTER_WIDTH / 2, this.currentY + DequeLinkedList.ELEMENT_HEIGHT / 3, 5);\r\n            p5.line(this.currentX + DequeLinkedList.ITEM_WIDTH - DequeLinkedList.POINTER_WIDTH / 2, this.currentY + DequeLinkedList.ELEMENT_HEIGHT / 3, this.next.currentX, this.next.currentY + DequeLinkedList.ELEMENT_HEIGHT / 3)\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + DequeLinkedList.ELEMENT_HEIGHT / 3 - 3, 6,6);\r\n        } else {\r\n            p5.stroke(...this.color);\r\n            p5.line(this.currentX + DequeLinkedList.POINTER_WIDTH + DequeLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + DequeLinkedList.ITEM_WIDTH, this.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { TreeNode, TrackingHighlighter, AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class BST extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static CAN_DRAG = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n    static SUPPORTS_INFREQUENT_RESIZE = true;\r\n    static HAS_MIN_WIDTH = true;\r\n\r\n    static ELEMENT_SIZE = 40;\r\n    static VERTICAL_SPACING = 7.5;\r\n    static HORIZONTAL_SPACING = -17.5;\r\n\r\n    static ROOT_SIZE = 25;\r\n    static ROOT_X_MIN = 50;\r\n    static ROOT_X_OFFSET = 0;\r\n    static ROOT_Y = 20;\r\n    static ROOT_HIGHLIGHT_DIAMETER = 10;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.root = null;\r\n            this.inOrder = [];\r\n            this.size = 0;\r\n            this.predSuccMode = this.predSuccMode !== undefined ? this.predSuccMode : true;\r\n            this.tempNode = null;\r\n            this.pinnedNode = null;\r\n            this.highlighter = new TrackingHighlighter(null, this.constructor.ELEMENT_SIZE/2, {\r\n                highlightInnerRadius: this.constructor.ELEMENT_SIZE/2\r\n            });\r\n            this.rootPointerPos = {currentX: this.getRootPointerX() + this.constructor.ROOT_SIZE / 2 - this.constructor.ROOT_HIGHLIGHT_DIAMETER / 2, currentY: this.constructor.ROOT_Y + this.constructor.ROOT_SIZE / 2 - this.constructor.ROOT_HIGHLIGHT_DIAMETER / 2};\r\n        });\r\n\r\n    }\r\n\r\n    mostDisplacedRecursive(curr) {\r\n        if (curr) {\r\n            let left = this.mostDisplacedRecursive(curr.left) || curr;\r\n            let right = this.mostDisplacedRecursive(curr.right) || curr;\r\n            return [left, curr, right].sort((a,b) => b.displacement() - a.displacement())[0];\r\n        }\r\n        return null;\r\n    }\r\n\r\n    stopNodesRecursive(curr) {\r\n        if (curr) {\r\n            curr.stop();\r\n            curr.left && curr.left.stop();\r\n            curr.right && curr.right.stop();\r\n        }\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let maxNode = this.highlighter;\r\n        if (this.tempNode && this.tempNode.displacement() > maxNode.displacement()) {\r\n            maxNode = this.tempNode;\r\n        }\r\n        if (this.dataMover && this.dataMover.displacement() > maxNode.displacement()) {\r\n            maxNode = this.dataMover;\r\n        }\r\n        let furthestTreeNode = this.mostDisplacedRecursive(this.root);\r\n        if (furthestTreeNode && furthestTreeNode.displacement() > maxNode.displacement()) {\r\n            maxNode = furthestTreeNode;\r\n        }\r\n        if (maxNode && maxNode.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            maxNode.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                this.stopNodesRecursive(this.root);\r\n                if (this.tempNode) {\r\n                    this.tempNode.stop();\r\n                }\r\n                if (this.dataMover) {\r\n                    this.dataMover.stop();\r\n                }\r\n                this.highlighter.stop();\r\n            }\r\n        } else {\r\n            let stopID = ++this.stopID;\r\n            this.stopDrawing(stopID);\r\n        }\r\n    }\r\n\r\n\r\n    insert(data, callback, calledFromCallback) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to BST.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.showText,params:[`Attempt add: ${data} to BST`],noAnim:true});\r\n        animation.push({method:this.setHighlighter,params:[this.rootPointerPos],customEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        animation.push({method:this.showText,params:[`Searching tree for value: ${data}`],quick:true,isForwardStep:true,customRedoEnd:true});\r\n        let [ recurredAnimation, newRoot, nodeJustAdded, added ] = this.insertRecursive(this.root, data);\r\n        animation.push(...recurredAnimation);\r\n        animation.push({method:this.setHighlighter,params:[this.rootPointerPos],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        animation.push({method:this.setRoot,params:[newRoot],explanation:`${this.root ? \"Res\" : \"S\"}et root pointer to node containing ${newRoot.data}`,quick:true,isForwardStep:true,returnsUndoData:true,customRedoEnd:true});\r\n        if (nodeJustAdded) {\r\n            animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Add node:${data} to root of tree`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true});\r\n        }\r\n        animation.push({method:this.setHighlighter,params:[null],noAnim:true,isBackStep:true,customUndoEnd:true,returnsUndoData:true,});\r\n        animation.push({method:this.clearTemp,noAnim:true,returnsUndoData:true,});\r\n        if (added) {\r\n            animation.push({method:this.showText,params:[`Successfully inserted ${data} into BST.`, Colors.GREEN],noAnim:true});\r\n        } else {\r\n            animation.push({method:this.showText,params:[`Failed to insert duplicate ${data} into BST.`, Colors.RED],noAnim:true});\r\n        }\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop(callback);\r\n        if (!calledFromCallback || !this.paused) {\r\n            this.stepForward();\r\n        }\r\n        return true;\r\n    }\r\n\r\n    delete(data, callback, calledFromCallback) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot remove null from BST.\", Colors.RED);\r\n            return false;\r\n        }\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot delete from empty BST\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.showText,params:[`Attempt delete: ${data} to BST`],noAnim:true});\r\n        animation.push({method:this.setHighlighter,params:[this.rootPointerPos],customEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        animation.push({method:this.showText,params:[`Searching tree for value: ${data}`],quick:true,isForwardStep:true,customRedoEnd:true});\r\n        let [ recurredAnimation, newRoot, nodeJustDeleted, deleted ] = this.deleteRecursive(this.root, data);\r\n        animation.push(...recurredAnimation);\r\n        animation.push({method:this.setHighlighter,params:[this.rootPointerPos],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        animation.push({method:this.setRoot,params:[newRoot],explanation:`${this.root ? \"Res\" : \"S\"}et root pointer to ${newRoot ? `node containing ${newRoot.data}` : \"null\"}`,quick:true,isForwardStep:true,returnsUndoData:true,customRedoEnd:true});\r\n        if (nodeJustDeleted) {\r\n            animation.push({method:this.clearTemp,noAnim:true,returnsUndoData:true,});\r\n            animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Remove node:${data} from root of tree`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true});\r\n        }\r\n        animation.push({method:this.setHighlighter,params:[null],noAnim:true,isBackStep:true,customUndoEnd:true,returnsUndoData:true,});\r\n        if (deleted) {\r\n            animation.push({method:this.showText,params:[`Successfully deleted ${data} from BST.`, Colors.GREEN],noAnim:true});\r\n        } else {\r\n            animation.push({method:this.showText,params:[`Failed to delete ${data} from BST.`, Colors.RED],noAnim:true});\r\n        }\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop(callback);\r\n        if (!calledFromCallback || !this.paused) {\r\n            this.stepForward();\r\n        }\r\n        return true;\r\n    }\r\n\r\n    find(data, callback, calledFromCallback) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot search for null in BST.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.showText,params:[`Search for ${data} in BST`],noAnim:true});\r\n        animation.push({method:this.setHighlighter,params:[this.rootPointerPos],customEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        animation.push({method:this.showText,params:[`Searching tree for value: ${data}`],quick:true,isForwardStep:true,customRedoEnd:true});\r\n        let [ recurredAnimation ] = this.findRecursive(this.root, data);\r\n        animation.push(...recurredAnimation);\r\n        animation.push({method:this.setHighlighter,params:[null],noAnim:true,customUndoEnd:true,returnsUndoData:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop(callback);\r\n        if (!calledFromCallback || !this.paused) {\r\n            this.stepForward();\r\n        }\r\n        return true;\r\n    }\r\n\r\n    print(callback, calledFromCallback) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot print in order for empty BST.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.showText,params:[`Print BST in order`],noAnim:true});\r\n        animation.push({method:this.setHighlighter,params:[this.rootPointerPos],customEnd:true,customRedoEnd:true,returnsUndoData:true,isForwardStep:true});\r\n        let inOrder = [];\r\n        let [ recurredAnimation ] = this.printInOrderRecursive(this.root, inOrder);\r\n        animation.push(...recurredAnimation);\r\n        animation.push({method:this.setHighlighter,params:[null],noAnim:true,customUndoEnd:true,returnsUndoData:true,isBackStep:true,});\r\n        animation.push({method:this.showText,params:[`[${inOrder.join(\",    \")}]`],quick:true});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop(callback);\r\n        if (!calledFromCallback || !this.paused) {\r\n            this.stepForward();\r\n        }\r\n        return true;\r\n    }\r\n\r\n    togglePredecessorSuccessor(which, callback, calledFromCallback) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        let animation = [];\r\n        animation.push({method:this.switchMode,params:[which],explanation:`Switching BST modes`,quick:true});\r\n        animation.push({method:this.showText,params:[`Successfully changed to ${which} mode.`, Colors.GREEN],noAnim:true});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop(callback);\r\n        if (!calledFromCallback || !this.paused) {\r\n            this.stepForward();\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n    setRoot(newRoot) {\r\n        let oldRoot = this.root;\r\n        this.root = newRoot;\r\n        return [oldRoot];\r\n    }\r\n    undo_setRoot(oldRoot) {\r\n        this.root = oldRoot;\r\n    }\r\n\r\n    setLeft(parent, newLeft) {\r\n        let oldLeft = parent.left;\r\n        parent.left = newLeft;\r\n        return [parent, oldLeft];\r\n    }\r\n    undo_setLeft(parent, oldLeft) {\r\n        parent.left = oldLeft;\r\n    }\r\n\r\n    setRight(parent, newRight) {\r\n        let oldRight = parent.right;\r\n        parent.right = newRight;\r\n        return [parent, oldRight];\r\n    }\r\n    undo_setRight(parent, oldRight) {\r\n        parent.right = oldRight;\r\n    }\r\n\r\n    setHighlighter(node,color = Colors.BLUE) {\r\n        let oldTarget = this.highlighter.target;\r\n        let oldColor = this.highlighter.highlightColor;\r\n        this.highlighter.setTarget(node, node === this.rootPointerPos ? this.constructor.ROOT_HIGHLIGHT_DIAMETER/2 : this.constructor.ELEMENT_SIZE/2);\r\n        this.highlighter.highlightColor = color;\r\n        if (node) {\r\n            this.highlighter.addOnStop((highlighter) => {\r\n                this.doneAnimating(0, \"setHighlighter \"+(node ? node.data : \"\"));\r\n            });\r\n        }\r\n        return [oldTarget, oldColor];\r\n    }\r\n    undo_setHighlighter(oldTarget, oldColor) {\r\n        this.highlighter.setTarget(oldTarget, oldTarget === this.rootPointerPos ? this.constructor.ROOT_HIGHLIGHT_DIAMETER/2 : this.constructor.ELEMENT_SIZE/2);\r\n        this.highlighter.highlightColor = oldColor;\r\n        if (oldTarget) {\r\n            let stopID = ++this.stopID;\r\n            this.highlighter.addOnStop((highlighter) => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n    redo_setHighlighter(node, color = Colors.BLUE) {\r\n        let oldTarget = this.highlighter.target;\r\n        let oldColor = this.highlighter.highlightColor;\r\n        this.highlighter.setTarget(node, node === this.rootPointerPos ? this.constructor.ROOT_HIGHLIGHT_DIAMETER/2 : this.constructor.ELEMENT_SIZE/2);\r\n        this.highlighter.highlightColor = color;\r\n        if (node) {\r\n            let stopID = ++this.stopID;\r\n            this.highlighter.addOnStop((highlighter) => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n        return [oldTarget, oldColor];\r\n    }\r\n\r\n    getInOrder(recalculate) {\r\n        return this.inOrder = (recalculate ? this.getInOrderRecursive(this.root, 0, []) : this.inOrder);\r\n    }\r\n    getInOrderRecursive(curr, depth, list) {\r\n        if (curr) {\r\n            this.getInOrderRecursive(curr.left, depth + 1, list);\r\n            curr.depth = depth;\r\n            list.push(curr);\r\n            this.getInOrderRecursive(curr.right, depth + 1, list);\r\n        }\r\n        return list;\r\n    }\r\n\r\n    shiftByInOrder() {\r\n        let order = this.getInOrder(true);\r\n        let oldPositions = order.map(node => [node.desiredX - ((this.width - this.constructor.ELEMENT_SIZE)/2),node.desiredY]);\r\n        let centerIndex = order.indexOf(this.root);\r\n        let displaced = null;\r\n        // console.log(centerIndex);\r\n        order.forEach((node, i) => {\r\n            // console.log(node.data,\":\",i - centerIndex, ((this.width - this.constructor.ELEMENT_SIZE)/2), node.constructor.HSPACE);\r\n            node.shiftX(((this.width - this.constructor.ELEMENT_SIZE)/2) + (i - centerIndex) * node.constructor.HSPACE);\r\n            node.setY(this.getNodeY(node.depth));\r\n            if ((!displaced && node.displacement()) || (displaced && node.displacement() > displaced.displacement())) {\r\n                displaced = node;\r\n            }\r\n        });\r\n        if (!displaced) {\r\n            this.doneAnimating(0, \"shift by order none displaced\");\r\n        } else {\r\n            displaced.addOnStop((element) => {\r\n                this.doneAnimating(0, \"shift by order:end with \"+element.data);\r\n            });\r\n        }\r\n        return [order, oldPositions];\r\n    }\r\n    undo_shiftByInOrder(order, oldPositions) {\r\n        let stopID = ++this.stopID;\r\n        if (order) {\r\n            // console.log(oldPositions);\r\n            let displaced = null;\r\n            order.forEach((node, i) => {\r\n                node.shift(((this.width - this.constructor.ELEMENT_SIZE)/2) + oldPositions[i][0], oldPositions[i][1]);\r\n                if ((!displaced && node.displacement()) || (displaced && node.displacement() > displaced.displacement())) {\r\n                    node.addOnStop((element) => {\r\n                        this.stopDrawing(stopID);\r\n                    });\r\n                    displaced = node;\r\n                }\r\n            });\r\n            if (!displaced) {\r\n                this.stopDrawing(stopID);\r\n            }\r\n        } else {\r\n            this.stopDrawing(stopID);\r\n        }\r\n    }\r\n    redo_shiftByInOrder() {\r\n        let order = this.getInOrder(true);\r\n        let oldPositions = order.map(node => [node.desiredX - ((this.width - this.constructor.ELEMENT_SIZE)/2),node.desiredY]);\r\n        let centerIndex = order.indexOf(this.root);\r\n        let displaced = null;\r\n        // console.log(centerIndex);\r\n        order.forEach((node, i) => {\r\n            // console.log(node.data,\":\",i - centerIndex, ((this.width - this.constructor.ELEMENT_SIZE)/2), node.constructor.HSPACE);\r\n            node.shiftX(((this.width - this.constructor.ELEMENT_SIZE)/2) + (i - centerIndex) * node.constructor.HSPACE);\r\n            node.setY(this.getNodeY(node.depth));\r\n            if ((!displaced && node.displacement()) || (displaced && node.displacement() > displaced.displacement())) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop((element) => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n                displaced = node;\r\n            }\r\n        });\r\n        if (!displaced) {\r\n            let stopID = ++this.stopID;\r\n            this.stopDrawing(stopID);\r\n        }\r\n        return [order, oldPositions];\r\n    }\r\n\r\n    insertRecursive(curr, value) {\r\n        let animation = [];\r\n        let justAdded = false;\r\n        let added = false;\r\n        animation.push({method:this.setHighlighter,params:[curr],customEnd:curr!==null,noAnim:curr===null,isBackStep:true,customUndoEnd:true,customRedoEnd:curr!==null,returnsUndoData:true});\r\n        if (!curr) {\r\n            animation.push({method:this.showText,params:[`Reached null: ${value} not found in tree`],isForwardStep:true,});\r\n            curr = new BSTNode({data: value});\r\n            animation.push({method:this.makeNode,params:[curr],explanation:`Create value: ${value}`,isAnimationStep:true});\r\n            animation.push({method:this.sizeIncr,noAnim:true,});\r\n            justAdded = true;\r\n            added = true;\r\n        } else if (value === curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} == ${curr.data}: value found in tree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            animation.push({method:this.showText,params:[`${value} already in BST, failed to add.`],noAnim:true,isAnimationStep:true,});\r\n        } else if (value < curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} < ${curr.data}: look to left subtree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation, newLeft, nodeJustAdded, nodeAdded] = this.insertRecursive(curr.left, value);\r\n            animation.push(...recurredAnimation);\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.setLeft,params:[curr, newLeft],explanation:`${curr.left ? \"Res\" : \"S\"}et left pointer to node containing ${newLeft.data}`,quick:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true});\r\n            if (nodeJustAdded) {\r\n                animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Add node:${value} to left of node:${curr.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true});\r\n            }\r\n            added = nodeAdded;\r\n        } else if (value > curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} > ${curr.data}: look to right subtree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation, newRight, nodeJustAdded, nodeAdded] = this.insertRecursive(curr.right, value);\r\n            animation.push(...recurredAnimation);\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.setRight,params:[curr, newRight],explanation:`${curr.right ? \"Res\" : \"S\"}et right pointer to node containing ${newRight.data}`,quick:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true,});\r\n            if (nodeJustAdded) {\r\n                animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Add node:${value} to right of node:${curr.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true});\r\n            }\r\n            added = nodeAdded;\r\n        }\r\n        return [animation, curr, justAdded, added];\r\n    }\r\n\r\n    makeNode(newTemp) {\r\n        this.tempNode = newTemp;\r\n        this.tempNode.goTo(20,20);\r\n    }\r\n    undo_makeNode(data, parent) {\r\n        this.tempNode = null;\r\n    }\r\n\r\n    deleteRecursive(curr, value) {\r\n        let animation = [];\r\n        let justDeleted = false;\r\n        let deleted = false;\r\n        animation.push({method:this.setHighlighter,params:[curr],customEnd:curr!==null,noAnim:curr===null,isBackStep:true,customUndoEnd:true,customRedoEnd:curr!==null,returnsUndoData:true});\r\n        if (!curr) {\r\n            animation.push({method:this.showText,params:[`Reached null: ${value} not found in tree`],quick:true,isForwardStep:true,});\r\n        } else if (value === curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} == ${curr.data}: value found in tree`],isForwardStep:true,customRedoEnd:true,});\r\n            // animation.push({method:this.showText,params:[`Deleting ${value} from BST.`],noAnim:true,isAnimationStep:true,});\r\n            if (!curr.left || !curr.right) {\r\n                if (!curr.left && !curr.right) {\r\n                    animation.push({method:this.unmakeNode,params:[curr],explanation:`Remove leaf node:${value} from BST`,customEnd:true,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true});\r\n                    curr = null;\r\n                } else {\r\n                    animation.push({method:this.unmakeNode,params:[curr],explanation:`Replace node:${value} with single child:${curr.left ? curr.left.data : curr.right.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true});\r\n                    curr = curr.left || curr.right;\r\n                }\r\n                animation.push({method:this.setHighlighter,params:[null],customUndoEnd:true,returnsUndoData:true,});\r\n                justDeleted = true;\r\n            } else {\r\n                animation.push({method:this.showText,params:[`2 children: finding ${this.predSuccMode ? \"predecessor\" : \"successor\"}`],quick:true,customRedoEnd:true,});\r\n                // console.log([`find${this.predSuccMode ? \"Predecessor\" : \"Successor\"}Recursive`], this[`find${this.predSuccMode ? \"Predecessor\" : \"Successor\"}Recursive`], [`${this.predSuccMode ? \"left\" : \"right\"}`]);\r\n                let [recurredAnimation, newChild, justFoundPredSucc, predSuccValue] = this[`find${this.predSuccMode ? \"Predecessor\" : \"Successor\"}Recursive`](curr[`${this.predSuccMode ? \"left\" : \"right\"}`]);\r\n                animation.push(...recurredAnimation);\r\n                animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n                animation.push({method:this[`set${this.predSuccMode ? \"Left\" : \"Right\"}`],params:[curr,newChild],\r\n                        explanation:`${curr[`${this.predSuccMode ? \"left\" : \"right\"}`] ? \"Res\" : \"S\"}et ${this.predSuccMode ? \"left\" : \"right\"} pointer to ${newChild ? `node containing ${newChild.data}` : \"null\"}`,\r\n                        customEnd:false,quick:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true});\r\n                animation.push({method:this.pullTempDataToCurr,params:[curr],explanation:`Set curr data to dummy data from ${this.predSuccMode ? \"predecessor\" : \"successor\"}`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n                animation.push({method:this.clearTemp,noAnim:true,returnsUndoData:true,});\r\n                if (justFoundPredSucc) {\r\n                    animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Remove ${this.predSuccMode ? \"predecessor\" : \"successor\"}:${predSuccValue} of node:${curr.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true});\r\n                }\r\n            }\r\n            animation.push({method:this.sizeDecr,noAnim:true,});\r\n            deleted = true;\r\n        } else if (value < curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} < ${curr.data}: look to left subtree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation, newLeft, nodeJustDeleted, nodeDeleted] = this.deleteRecursive(curr.left, value);\r\n            animation.push(...recurredAnimation);\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.setLeft,params:[curr, newLeft],explanation:`${curr.left ? \"Res\" : \"S\"}et left pointer to ${newLeft ? `node containing ${newLeft.data}` : \"null\"}`,quick:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true});\r\n            if (nodeJustDeleted) {\r\n                animation.push({method:this.clearTemp,noAnim:true,returnsUndoData:true,});\r\n                animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Remove node:${value} from left of node:${curr.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true});\r\n            }\r\n            deleted = nodeDeleted;\r\n        } else if (value > curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} > ${curr.data}: look to right subtree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation, newRight, nodeJustDeleted, nodeDeleted] = this.deleteRecursive(curr.right, value);\r\n            animation.push(...recurredAnimation);\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.setRight,params:[curr, newRight],explanation:`${curr.right ? \"Res\" : \"S\"}et right pointer to ${newRight ? `node containing ${newRight.data}` : \"null\"}`,quick:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true,});\r\n            if (nodeJustDeleted) {\r\n                animation.push({method:this.clearTemp,noAnim:true,returnsUndoData:true,});\r\n                animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Remove node:${value} from right of node:${curr.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true});\r\n            }\r\n            deleted = nodeDeleted;\r\n        }\r\n        return [animation, curr, justDeleted, deleted];\r\n    }\r\n\r\n    findPredecessorRecursive(curr) {\r\n        let animation = [];\r\n        let justFound = false;\r\n        let predecessorValue = null;\r\n        animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true});\r\n        if (!curr.right) {\r\n            animation.push({method:this.showText,params:[`Predecessor found: ${curr.data}`],quick:true,isForwardStep:true,});\r\n            animation.push({method:this.unmakeNode,params:[curr],explanation:`${curr.left ? `Replace predecessor with left child:${curr.left.data}` : `Remove predecessor`}`,customEnd:true,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true});\r\n            animation.push({method:this.setHighlighter,params:[null],customUndoEnd:true,returnsUndoData:true,});\r\n            // animation.push({method:this.setRight,params:[curr, null],noAnim:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true,});\r\n            predecessorValue = curr.data;\r\n            curr = curr.left;\r\n            justFound = true;\r\n        } else {\r\n            animation.push({method:this.showText,params:[`Node ${curr.data} has right child, look right for successor`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation, newRight, justFoundPredSucc, predValue] = this.findPredecessorRecursive(curr.right);\r\n            animation.push(...recurredAnimation);\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.setRight,params:[curr,newRight],explanation:`Reset right pointer to ${newRight ? `node containing ${newRight.data}` : \"null\"}`,quick:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true});\r\n            // animation.push({method:this.pullTempDataToCurr,params:[curr],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            // animation.push({method:this.clearTemp,noAnim:true,returnsUndoData:true,});\r\n            if (justFoundPredSucc) {\r\n                animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Remove predecessor:${predValue} of node:${curr.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true});\r\n            }\r\n            predecessorValue = predValue;\r\n        }\r\n        return [animation, curr, justFound, predecessorValue];\r\n    }\r\n\r\n    findSuccessorRecursive(curr) {\r\n        let animation = [];\r\n        let justFound = false;\r\n        let successorValue = null;\r\n        animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true});\r\n        if (!curr.left) {\r\n            animation.push({method:this.showText,params:[`Successor found: ${curr.data}`],quick:true,isForwardStep:true,});\r\n            animation.push({method:this.unmakeNode,params:[curr],explanation:`${curr.right ? `Replace successor with right child:${curr.right.data}` : `Remove successor`}`,customEnd:true,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true});\r\n            animation.push({method:this.setHighlighter,params:[null],customUndoEnd:true,returnsUndoData:true,});\r\n            // animation.push({method:this.setRight,params:[curr, null],noAnim:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true,});\r\n            successorValue = curr.data;\r\n            curr = curr.right;\r\n            justFound = true;\r\n        } else {\r\n            animation.push({method:this.showText,params:[`Node ${curr.data} has left child, look left for successor`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation, newLeft, justFoundPredSucc, succValue] = this.findSuccessorRecursive(curr.left);\r\n            animation.push(...recurredAnimation);\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.setLeft,params:[curr,newLeft],explanation:`Reset left pointer to ${newLeft ? `node containing ${newLeft.data}` : \"null\"}`,quick:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true});\r\n            // animation.push({method:this.pullTempDataToCurr,params:[curr],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            // animation.push({method:this.clearTemp,noAnim:true,returnsUndoData:true,});\r\n            if (justFoundPredSucc) {\r\n                animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Remove successor:${succValue} of node:${curr.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true});\r\n            }\r\n            successorValue = succValue;\r\n        }\r\n        return [animation, curr, justFound, successorValue];\r\n    }\r\n\r\n    unmakeNode(node) {\r\n        this.tempNode = node;\r\n        let oldPosition = [node.desiredX, node.desiredY];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop((element) => {\r\n            // element.frozen = true;\r\n            this.doneAnimating(0, \"unmake\"+element.data);\r\n        });\r\n        return [oldPosition];\r\n    }\r\n    undo_unmakeNode(oldPosition) {\r\n        // this.tempNode.frozen = false;\r\n        this.tempNode.shift(...oldPosition);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    redo_unmakeNode(node) {\r\n        this.tempNode = node;\r\n        let oldPosition = [node.desiredX, node.desiredY];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop((element) => {\r\n            // element.frozen = true;\r\n            this.stopDrawing(stopID);\r\n        });\r\n        return [oldPosition];\r\n    }\r\n\r\n    pullTempDataToCurr(node) {\r\n        this.dataMover = new AttractedHighlightableObject(20+this.constructor.ELEMENT_SIZE/2,20+this.constructor.ELEMENT_SIZE/2,\r\n                {\r\n                    value:this.tempNode.data,\r\n                    highlightInnerRadius: this.constructor.ELEMENT_SIZE/2,\r\n                }\r\n            );\r\n        let oldData = node.data;\r\n        let nodePos = [node.currentX+this.constructor.ELEMENT_SIZE/2, node.currentY+this.constructor.ELEMENT_SIZE/2]\r\n        this.dataMover.shift(...nodePos);\r\n        this.dataMover.addOnStop((element) => {\r\n            this.doneAnimating(0,\"move data\"+element.value+\"to\"+oldData);\r\n            node.data = element.value;\r\n            this.dataMover = null;\r\n        });\r\n        return [node, oldData, nodePos];\r\n    }\r\n    undo_pullTempDataToCurr(node, oldData, nodePos) {\r\n        this.dataMover = new AttractedHighlightableObject(...nodePos,\r\n                {\r\n                    value:this.tempNode.data,\r\n                    highlightInnerRadius: this.constructor.ELEMENT_SIZE/2,\r\n                }\r\n            );\r\n        this.dataMover.shift(20+this.constructor.ELEMENT_SIZE/2,20+this.constructor.ELEMENT_SIZE/2);\r\n        node.data = oldData;\r\n        let stopID = ++this.stopID;\r\n        this.dataMover.addOnStop((element) => {\r\n            this.stopDrawing(stopID);\r\n            this.dataMover = null;\r\n        });\r\n    }\r\n    redo_pullTempDataToCurr(node) {\r\n        this.dataMover = new AttractedHighlightableObject(20+this.constructor.ELEMENT_SIZE/2,20+this.constructor.ELEMENT_SIZE/2,\r\n                {\r\n                    value:this.tempNode.data,\r\n                    highlightInnerRadius: this.constructor.ELEMENT_SIZE/2,\r\n                }\r\n            );\r\n        let oldData = node.data;\r\n        let nodePos = [node.currentX+this.constructor.ELEMENT_SIZE/2, node.currentY+this.constructor.ELEMENT_SIZE/2]\r\n        this.dataMover.shift(...nodePos);\r\n        let stopID = ++this.stopID;\r\n        this.dataMover.addOnStop((element) => {\r\n            this.stopDrawing(stopID);\r\n            node.data = element.value;\r\n            this.dataMover = null;\r\n        });\r\n        return [node, oldData, nodePos];\r\n    }\r\n\r\n    findRecursive(curr, value) {\r\n        let animation = [];\r\n        animation.push({method:this.setHighlighter,params:[curr],customEnd:curr!==null,noAnim:curr===null,isBackStep:true,customUndoEnd:true,customRedoEnd:curr!==null,returnsUndoData:true});\r\n        if (!curr) {\r\n            animation.push({method:this.showText,params:[`Reached null: ${value} not found in tree`],quick:true,isForwardStep:true,});\r\n            animation.push({method:this.showText,params:[`${value} is not in BST.`, Colors.RED],noAnim:true,isBackStep:true,});\r\n        } else if (value === curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} == ${curr.data}: value found in tree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            animation.push({method:this.showText,params:[`${value} was found in BST.`, Colors.GREEN],noAnim:true,isBackStep:true,});\r\n        } else if (value < curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} < ${curr.data}: look to left subtree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation] = this.findRecursive(curr.left, value);\r\n            animation.push(...recurredAnimation);\r\n        } else if (value > curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} > ${curr.data}: look to right subtree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation] = this.findRecursive(curr.right, value);\r\n            animation.push(...recurredAnimation);\r\n        }\r\n        return [animation];\r\n    }\r\n\r\n    printInOrderRecursive(curr, list) {\r\n        let animation = [];\r\n        if (curr) {\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true});\r\n            let [leftAnimation] = this.printInOrderRecursive(curr.left, list);\r\n            animation.push(...leftAnimation);\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:false,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            list.push(curr.data);\r\n            animation.push({method:this.setHighlighter,params:[curr, Colors.GREEN],explanation:`[${list.join(\",    \")}]`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.noAction,quick:true});\r\n            animation.push({method:this.setHighlighter,params:[curr, Colors.BLUE],customEnd:true,isBackStep:false,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            let [rightAnimation] = this.printInOrderRecursive(curr.right, list);\r\n            animation.push(...rightAnimation);\r\n        }\r\n        return [animation];\r\n    }\r\n\r\n    switchMode(which) {\r\n        this.predSuccMode = which === \"Predecessor\";\r\n    }\r\n    undo_switchMode(which) {\r\n        this.predSuccMode = which !== \"Predecessor\";\r\n    }\r\n\r\n    clearTemp() {\r\n        let oldTemp = this.tempNode;\r\n        this.tempNode = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_clearTemp(oldTemp) {\r\n        this.tempNode = oldTemp;\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    getNodeY(depth) {\r\n        let y = depth * (this.constructor.ELEMENT_SIZE + this.constructor.VERTICAL_SPACING);\r\n        return y + this.y + this.constructor.ROOT_SIZE+10;\r\n    }\r\n\r\n    getTreeNodeAtPosRecursive(curr, x,y) {\r\n        if (curr) {\r\n            if (curr.containsPos(x,y)) {\r\n                return curr;\r\n            }\r\n            return this.getTreeNodeAtPosRecursive(curr.left, x,y) || this.getTreeNodeAtPosRecursive(curr.right, x,y);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return this.getTreeNodeAtPosRecursive(this.root, x,y);\r\n    }\r\n\r\n    getRootPointerX() {\r\n        return Math.max(this.width / 2 - this.constructor.ROOT_SIZE/2 - this.constructor.ROOT_X_OFFSET, this.constructor.ROOT_X_MIN);\r\n    }\r\n\r\n    getHeight() {\r\n        return this.getHeightRecursive(this.root);\r\n    }\r\n    getHeightRecursive(curr) {\r\n        if (curr) {\r\n            return Math.max(this.getHeightRecursive(curr.left),this.getHeightRecursive(curr.right)) + 1;\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    getMaxY() {\r\n        return this.getNodeY(Math.max(this.getHeight(), 1)) + 20;\r\n    }\r\n\r\n    getMaxWidth() {\r\n        if (!this.root) {\r\n            return this.constructor.ROOT_SIZE + 80;\r\n        }\r\n        let order = this.getInOrder(true);\r\n        let centerIndex = order.indexOf(this.root);\r\n        let leftOffset = centerIndex * order[0].constructor.HSPACE;\r\n        let rightOffset = (order.length - 1 - centerIndex) * order[0].constructor.HSPACE;\r\n        return Math.max(leftOffset,rightOffset)*2+order[0].constructor.SIZE;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedNode.unpin();\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        if (node) {\r\n            node.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            this.getInOrder(true).forEach((node) => {\r\n                this.updateNode(node, animationSpeed, p5);\r\n            });\r\n            this.updateNode(this.tempNode, animationSpeed, p5);\r\n            this.highlighter.update(animationSpeed, p5);\r\n            this.updateNode(this.dataMover, animationSpeed, p5);\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(\"draw\");\r\n        super.draw(p5);\r\n        p5.push();\r\n        // p5.translate(this.x,this.y);\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        let rootX = this.getRootPointerX();\r\n        p5.text(\"Root:\",rootX - 40,this.constructor.ROOT_Y,this.constructor.ROOT_SIZE + 10,this.constructor.ROOT_SIZE);\r\n        p5.square(rootX,this.constructor.ROOT_Y,this.constructor.ROOT_SIZE);\r\n        if (this.root) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(rootX + this.constructor.ROOT_SIZE / 2, this.constructor.ROOT_Y + this.constructor.ROOT_SIZE / 2, 5);\r\n            p5.line(rootX + this.constructor.ROOT_SIZE / 2, this.constructor.ROOT_Y + this.constructor.ROOT_SIZE / 2, this.root.currentX + this.constructor.ELEMENT_SIZE / 2, this.root.currentY);\r\n            // p5.rect(this.root.currentX + this.constructor.ELEMENT_SIZE / 2 - 3, this.root.currentY - 3, 6,6);\r\n        } else {\r\n            p5.line(rootX,this.constructor.ROOT_Y,rootX + this.constructor.ROOT_SIZE,this.constructor.ROOT_Y + this.constructor.ROOT_SIZE);\r\n        }\r\n\r\n\r\n        this.getInOrder(true).forEach((node) => {\r\n            node.draw(p5);\r\n        });\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n        this.highlighter.draw(p5);\r\n        if (this.dataMover) {\r\n            this.dataMover.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        // this.drawingBeforeMouseDown = this.drawing;\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.animator.loop();\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n            //console.log(pressedNode,`\\nleft:`,pressedNode. && pressedNode..data,`\\nright:`,pressedNode. && pressedNode..data);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.pinnedNode.addOnStop((element) => {\r\n                if (!this.animating) {\r\n                    this.ensureDrawn();\r\n                }\r\n            });\r\n            this.unpin();\r\n        } else {\r\n            // this.ensureDrawn();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getMaxY(),() => {\r\n            this.rootPointerPos.currentX = this.getRootPointerX() + this.constructor.ROOT_SIZE / 2 - this.constructor.ROOT_HIGHLIGHT_DIAMETER / 2;\r\n            let shiftTemp = this.tempNode && this.tempNode.desiredX === 20 && this.tempNode.desiredY === 20;\r\n            if (this.root) {\r\n                let order = this.getInOrder(true);\r\n                let centerIndex = order.indexOf(this.root);\r\n                order.forEach((node, i) => {\r\n                    node.shiftX(((this.width - this.constructor.ELEMENT_SIZE)/2) + (i - centerIndex) * node.constructor.HSPACE);\r\n                    node.setY(this.getNodeY(node.depth));\r\n                });\r\n            }\r\n            if (shiftTemp) {\r\n                this.tempNode.shift(20,20);\r\n            }\r\n        }, this.getMaxWidth());\r\n    }\r\n}\r\n\r\n\r\nclass BSTNode extends TreeNode {\r\n    static CAN_DRAG = true;\r\n    static SIZE = BST.ELEMENT_SIZE;\r\n    static VSPACE = BST.ELEMENT_SIZE + BST.VERTICAL_SPACING;\r\n    static HSPACE = BST.ELEMENT_SIZE + BST.HORIZONTAL_SPACING;\r\n\r\n    constructor({x=20,y=20, data} = {}) {\r\n        super(x,y, data);\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class Heap extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static FRONT_LOCATION_X = 125;\r\n    static FRONT_LOCATION_Y = 35;\r\n    static SIZE_LOCATION_X = 125;\r\n    static SIZE_LOCATION_Y = 55;\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n        this.made = true;\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n        if (this.made) {\r\n            this.beginDrawLoop();\r\n        }\r\n\r\n        this.backingArray = new Array(Heap.INITIAL_CAPACITY);\r\n        this.size = 0;\r\n        this.copyArray = null;\r\n        this.tempElement = null;\r\n        this.frontPointerValue = 0;\r\n        this.frontPointerHighlighter = new AttractedHighlightableObject(Heap.FRONT_LOCATION_X, Heap.FRONT_LOCATION_Y, {\r\n            highlightOuterRadius: 15\r\n        });\r\n        this.sizePointerHighlighter = new AttractedHighlightableObject(Heap.SIZE_LOCATION_X, Heap.SIZE_LOCATION_Y, {\r\n            highlightOuterRadius: 15\r\n        });\r\n\r\n        if (this.made) {\r\n            // this.updateText(\"Animation Ready\");\r\n            this.endDrawLoop();\r\n        }\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let furthestObject = this.tempElement || this.frontPointerHighlighter;\r\n        if (this.frontPointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.frontPointerHighlighter;\r\n        }\r\n        if (this.sizePointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.sizePointerHighlighter;\r\n        }\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i] && this.backingArray[i].displacement() > furthestObject.displacement()) {\r\n                furthestObject = this.backingArray[i];\r\n            }\r\n        }\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i] && this.copyArray[i].displacement() > furthestObject.displacement()) {\r\n                    furthestObject = this.copyArray[i];\r\n                }\r\n            }\r\n        }\r\n        if (furthestObject.displacement() > 0) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            furthestObject.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                if (this.tempElement) {\r\n                    this.tempElement.stop();\r\n                }\r\n                this.frontPointerHighlighter.stop();\r\n                this.sizePointerHighlighter.stop();\r\n                for (let i = 0; i < this.backingArray.length; i++) {\r\n                    if (this.backingArray[i]) {\r\n                        this.backingArray[i].stop();\r\n                    }\r\n                }\r\n                if (this.copyArray) {\r\n                    for (let i = 0; i < this.copyArray.length; i++) {\r\n                        if (this.copyArray[i]) {\r\n                            this.copyArray[i].stop();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            this.stopDrawing(stopID);\r\n        }\r\n    }\r\n\r\n\r\n    add(data,front) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Deque.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push({method:this.showText,params:[`Deque full, resizing to length ${this.backingArray.length*2}`,Colors.GREEN,],});\r\n            animation.push(...this.createCopyArray());\r\n        }\r\n        animation.push({method:this.createElement,params:[data,front],explanation:`Create value: ${data}`,isAnimationStep:true,returnsRedoData:true,});\r\n        animation.push(...this.useFrontPointer());\r\n        if (front) {\r\n            animation.push(...this.useFrontDecrementPointer(true));\r\n        } else {\r\n            animation.push(...this.useFrontSizePointer(true));\r\n        }\r\n        animation.push({method:this.highlightTemp,noAnim:true});\r\n        animation.push({method:this.insertElement,customEnd:true,explanation:`Added ${data} to backingArray`,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (front) {\r\n            // animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n            animation.push(...this.updateFrontPointer(-1));\r\n        }\r\n        animation.push(...this.updateSizePointer(1));\r\n        animation.push({method:this.showText,params:[`Successfully added ${data} to ${front ? \"front\" : \"back\"} of deque.`,Colors.GREEN,],});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    addFirst(data) {\r\n        return this.add(data, true);\r\n    }\r\n\r\n    addLast(data) {\r\n        return this.add(data, false);\r\n    }\r\n\r\n    remove(front) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Deque\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.backingArray[front ? this.frontPointerValue : this.getIndex(this.frontPointerValue + this.size - 1)].value;\r\n        animation.push({method:this.showText,params:[`Dequeuing from index ${this.frontPointerValue}.`]});\r\n        animation.push(...this.useFrontPointer(front));\r\n        if (!front) {\r\n            animation.push(...this.useFrontSizePointer(false,false));\r\n            animation.push(...this.useFrontDecrementPointer(false));\r\n        }\r\n        animation.push({method:this.extractElement,params:[front],explanation:`Remove value: ${data} from deque`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.unmakeElement,noAnim:true,returnsUndoData:true});\r\n        if (front) {\r\n            animation.push(...this.updateFrontPointer(1));\r\n        }\r\n        animation.push(...this.updateSizePointer(-1));\r\n        animation.push({method:this.showText,params:[`Successfully removed ${data} from ${front ? \"front of \" : \"back of\"} deque.`,Colors.GREEN],noAnim:true});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n    removeFirst() {\r\n        return this.remove(true);\r\n    }\r\n\r\n    removeLast() {\r\n        return this.remove(false);\r\n    }\r\n\r\n    createCopyArray() {\r\n        let animation = [];\r\n        animation.push({method:this.initCopyArray,noAnim:true,explanation:`Deque full, resizing to length ${this.backingArray.length*2}`,isForwardStep:true,});\r\n        animation.push(...this.useFrontPointer(true));\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push(...this.addItemToCopy(i));\r\n        }\r\n        animation.push(...this.useCopyArr());\r\n        animation.push(...this.updateFrontPointer(0));\r\n        return animation;\r\n    }\r\n\r\n    initCopyArray() {\r\n        this.copyArray = new Array(this.backingArray.length * 2);\r\n        for (let i = 0; i < this.size; i++) {\r\n            let arrIndex = (i + this.frontPointerValue) % this.backingArray.length;\r\n            let pos = this.getElementPosition(arrIndex);\r\n            this.copyArray[i] = new HeapElement({data: this.backingArray[arrIndex].value, index: i, x:pos[0],y:pos[1],},);\r\n        }\r\n    }\r\n    undo_initCopyArray() {\r\n        this.copyArray = null;\r\n    }\r\n\r\n    addItemToCopy(index) {\r\n        let animation = [];\r\n        // animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isBackStep:(index === 0),isForwardStep:(index === this.size - 1),customUndoEnd:(index === 0),customRedoEnd:(index === this.size - 1),});\r\n        animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n\r\n    shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        let oldX = element.desiredX;\r\n        let oldY = element.desiredY;\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        element.addOnStop((el) => {\r\n            el.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, oldX, oldY];\r\n    }\r\n    undo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === 0) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n    redo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === this.size - 1) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n\r\n    useCopyArr() {\r\n        let animation = [];\r\n        animation.push({method:this.assignCopyArray,noAnim:true,isBackStep:true,customUndoEnd:true,returnsUndoData:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push({method:this.shiftElementToBackingArray,params:[i,],noAnim:true,isForwardStep:(i === this.size - 1),customUndoEnd:true,customRedoEnd:true});\r\n        }\r\n        animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n        return animation;\r\n    }\r\n\r\n    assignCopyArray() {\r\n        let oldBacking = this.backingArray;\r\n        this.backingArray = this.copyArray;\r\n        this.copyArray = null;\r\n        return [oldBacking];\r\n    }\r\n    undo_assignCopyArray(oldBacking) {\r\n        this.copyArray = this.backingArray;\r\n        this.backingArray = oldBacking;\r\n    }\r\n\r\n    shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n    }\r\n    undo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(index,true));\r\n        if (index === 0) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n    redo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n        if (index === this.size - 1) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n\r\n    createElement(data, front) {\r\n        this.tempElement = new HeapElement({data: data, index: this.getIndex(front ? this.frontPointerValue - 1 : this.frontPointerValue + this.size), x:45,y:45,},);\r\n        return [this.tempElement];\r\n    }\r\n    undo_createElement() {\r\n        this.tempElement = null;\r\n    }\r\n    redo_createElement(newTemp) {\r\n        if (typeof newTemp !== \"object\") {\r\n            return this.createElement(...arguments);\r\n        }\r\n        this.tempElement = newTemp;\r\n        this.tempElement.goTo(45,45);\r\n    }\r\n\r\n    useSizePointer() {\r\n        let animation = [];\r\n        animation.push({method:this.sizePointerHighlighter.highlight,scope:this.sizePointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveSizeTracker,customEnd:true,explanation:`Size points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.sizePointerHighlighter.unhighlight,scope:this.sizePointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.sizePointerHighlighter.goTo,scope:this.sizePointerHighlighter,params:[Heap.SIZE_LOCATION_X,Heap.SIZE_LOCATION_Y,],noAnim:true,returnsUndoData:true});\r\n        return animation;\r\n    }\r\n\r\n    // moveSizeTracker() {\r\n    //     let pos = this.getElementPosition(this.size);\r\n    //     this.sizePointerHighlighter.highlight();\r\n    //     this.sizePointerHighlighter.shift(pos[0], pos[1] + Heap.ELEMENT_SIZE);\r\n    //     this.sizePointerHighlighter.addOnStop((element) => {\r\n    //         element.unhighlight();\r\n    //         this.doneAnimating(0);\r\n    //     });\r\n    //     return this.size;\r\n    // }\r\n    // undo_moveSizeTracker() {\r\n    //     this.sizePointerHighlighter.shift(Heap.SIZE_LOCATION_X,Heap.SIZE_LOCATION_Y);\r\n    //     this.sizePointerHighlighter.highlight();\r\n    //     let stopID = ++this.stopID;console.log(stopID);\r\n    //     this.sizePointerHighlighter.addOnStop((element) => {\r\n    //         element.unhighlight();\r\n    //         this.stopDrawing(stopID);\r\n    //     });\r\n    //     return this.size;\r\n    // }\r\n    // redo_moveSizeTracker() {\r\n    //     let pos = this.getElementPosition(this.size);\r\n    //     this.sizePointerHighlighter.highlight();\r\n    //     this.sizePointerHighlighter.shift(pos[0], pos[1] + Heap.ELEMENT_SIZE);\r\n    //     let stopID = ++this.stopID;console.log(stopID);\r\n    //     this.sizePointerHighlighter.addOnStop((element) => {\r\n    //         element.unhighlight();\r\n    //         this.stopDrawing(stopID);\r\n    //     });\r\n    //     return this.size;\r\n    // }\r\n\r\n    highlightTemp(color = Colors.BLUE) {\r\n        this.tempElement.highlight(color);\r\n    }\r\n    undo_highlightTemp() {\r\n        this.tempElement.unhighlight();\r\n    }\r\n\r\n    insertElement() {\r\n        let index = this.tempElement.index;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_insertElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n        let index = this.tempElement.index;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = null;\r\n    }\r\n    redo_insertElement() {\r\n        let index = this.tempElement.index;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempElement = null;\r\n    }\r\n\r\n    useFrontPointer(end = false) {\r\n        let animation = [];\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[0,false],customEnd:true,explanation:`Front points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        if (end) {\r\n            animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[Heap.FRONT_LOCATION_X,Heap.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        }\r\n        return animation;\r\n    }\r\n    useFrontDecrementPointer(add) {\r\n        let animation = [];\r\n        // animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[...this.getElementPosition(this.frontPointerValue)],noAnim:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[-1,!add],customEnd:true,explanation:`${add ? \"Add at\" : \"Remove from\"} index (front${add ? \" \" : \" + size \"}- 1) % backingArray.length = |RETURN|`,explanationUsesReturn:true,isForwardStep:true,isBackStep:add,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[Heap.FRONT_LOCATION_X,Heap.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n    useFrontSizePointer(add, end = true) {\r\n        let animation = [];\r\n        // animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[...this.getElementPosition(this.frontPointerValue)],noAnim:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[0,true],customEnd:true,explanation:`${add ? \"Add at\" : \"Remove from\"} index (front + size${add ? \"\" : \" - 1\"}) % backingArray.length = |RETURN|`,explanationUsesReturn:true,isForwardStep:end,isBackStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        if (end) {\r\n            animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[Heap.FRONT_LOCATION_X,Heap.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        }\r\n        return animation;\r\n    }\r\n\r\n    moveFrontTracker(offset, fromSize) {\r\n        let oldX = this.frontPointerHighlighter.desiredX;\r\n        let oldY = this.frontPointerHighlighter.desiredY;\r\n        let index = this.getIndex(this.frontPointerValue + offset + (fromSize ? this.size : 0));\r\n        let pos = this.getElementPosition(index);\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(pos[0], pos[1] + Heap.ELEMENT_SIZE);\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, [oldX,oldY]];\r\n    }\r\n    undo_moveFrontTracker(oldX,oldY) {\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(oldX, oldY);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_moveFrontTracker(offset, fromSize) {\r\n        let index = this.getIndex(this.frontPointerValue + offset + (fromSize ? this.size : 0));\r\n        let pos = this.getElementPosition(index);\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(pos[0], pos[1] + Heap.ELEMENT_SIZE);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement = this.backingArray[index];\r\n        this.backingArray[index] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = this.tempElement;\r\n        this.tempElement = null;\r\n    }\r\n    redo_extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement = this.backingArray[index];\r\n        this.backingArray[index] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    unmakeElement() {\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_unmakeElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    updateFrontPointer(offset) {\r\n        let animation = [];\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:false,});\r\n        animation.push({method:this.changeFrontPointerValue,params:[offset],explanation:`Update front pointer to |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,isBackStep:false,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeFrontPointerValue(offset) {\r\n        let oldFront = this.frontPointerValue;\r\n        if (offset === 0) {\r\n            this.frontPointerValue = 0;\r\n        } else {\r\n            this.frontPointerValue = this.getIndex(this.frontPointerValue + offset);\r\n        }\r\n        return [this.frontPointerValue,[oldFront]];\r\n    }\r\n    undo_changeFrontPointerValue(oldFront) {\r\n        this.frontPointerValue = oldFront;\r\n        return this.frontPointerValue;\r\n    }\r\n\r\n    updateSizePointer(offset) {\r\n        let animation = [];\r\n        animation.push({method:this.sizePointerHighlighter.highlight,scope:this.sizePointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:false,});\r\n        animation.push({method:this.changeSizePointerValue,params:[offset],explanation:`Update size to |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.sizePointerHighlighter.unhighlight,scope:this.sizePointerHighlighter,noAnim:true,isBackStep:false,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeSizePointerValue(offset) {\r\n        let oldSize = this.size;\r\n        this.size += offset;\r\n        return [this.size,[oldSize]];\r\n    }\r\n    undo_changeSizePointerValue(oldSize) {\r\n        this.size = oldSize;\r\n        return this.size;\r\n    }\r\n\r\n\r\n    getIndex(index, copy = false) {\r\n        let array = copy ? this.copyArray : this.backingArray;\r\n        index %= array.length;\r\n        if (index < 0) {\r\n            index += array.length;\r\n        }\r\n        return index;\r\n    }\r\n\r\n    getElementPosition(index, copy = false) {\r\n        let maxPerRow = Math.floor(this.width / Heap.ELEMENT_SIZE);\r\n        let x = Heap.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * Heap.ELEMENT_SIZE;\r\n        x = (index % maxPerRow) * Heap.ELEMENT_SIZE;\r\n        return [x + Heap.ELEMENT_SIZE/2 + this.x,y + Heap.ELEMENT_SIZE/2 + this.y + (copy ? (Math.ceil(this.backingArray.length / maxPerRow)*Heap.ELEMENT_SIZE*2) : 0)];\r\n    }\r\n\r\n    updateElement(element, animationSpeed, p5) {\r\n        if (element) {\r\n            element.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.updateElement(this.backingArray[i], animationSpeed, p5);\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    this.updateElement(this.copyArray[i], animationSpeed, p5);\r\n                }\r\n            }\r\n            if (this.tempElement) {\r\n                this.updateElement(this.tempElement, animationSpeed, p5);\r\n            }\r\n            this.frontPointerHighlighter.update(animationSpeed, p5);\r\n            this.sizePointerHighlighter.update(animationSpeed, p5);\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n\r\n        p5.fill(0);\r\n        p5.text(\"Front: \", Heap.FRONT_LOCATION_X - 50, Heap.FRONT_LOCATION_Y, Heap.ELEMENT_SIZE);\r\n        p5.text(this.frontPointerValue.toString(), Heap.FRONT_LOCATION_X-25, Heap.FRONT_LOCATION_Y, Heap.ELEMENT_SIZE);\r\n        p5.text(\"Size: \", Heap.SIZE_LOCATION_X - 50, Heap.SIZE_LOCATION_Y, Heap.ELEMENT_SIZE);\r\n        p5.text(this.size.toString(), Heap.SIZE_LOCATION_X-25, Heap.SIZE_LOCATION_Y, Heap.ELEMENT_SIZE);\r\n\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].draw(p5);\r\n            }\r\n            let pos = this.getElementPosition(i);\r\n            p5.noFill();\r\n            p5.stroke(0);\r\n            p5.square(pos[0] - Heap.ELEMENT_SIZE/2,pos[1] - Heap.ELEMENT_SIZE/2, Heap.ELEMENT_SIZE);\r\n            p5.fill(...Colors.BLUE);\r\n            p5.stroke(...Colors.BLUE);\r\n            p5.text(i.toString(), pos[0] - Heap.ELEMENT_SIZE/2,pos[1] + Heap.ELEMENT_SIZE/2, Heap.ELEMENT_SIZE, Heap.ELEMENT_SIZE);\r\n        }\r\n\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i]) {\r\n                    this.copyArray[i].draw(p5);\r\n                }\r\n                let pos = this.getElementPosition(i, true);\r\n                p5.noFill();\r\n                p5.stroke(0);\r\n                p5.square(pos[0] - Heap.ELEMENT_SIZE/2,pos[1] - Heap.ELEMENT_SIZE/2, Heap.ELEMENT_SIZE);\r\n                p5.fill(...Colors.BLUE);\r\n                p5.stroke(...Colors.BLUE);\r\n                p5.text(i.toString(), pos[0] - Heap.ELEMENT_SIZE/2,pos[1] + Heap.ELEMENT_SIZE/2, Heap.ELEMENT_SIZE, Heap.ELEMENT_SIZE);\r\n            }\r\n        }\r\n        if (this.tempElement) {\r\n            this.tempElement.draw(p5);\r\n        }\r\n        this.frontPointerHighlighter.draw(p5);\r\n        this.sizePointerHighlighter.draw(p5);\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (this.copyArray ? this.getElementPosition(this.copyArray.length-1, true)[1] : this.getElementPosition(this.backingArray.length-1)[1]) + Heap.ELEMENT_SIZE, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                if (this.backingArray[i]) {\r\n                    this.backingArray[i].shift(...this.getElementPosition(i));\r\n                }\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    if (this.copyArray[i]) {\r\n                        this.copyArray[i].shift(...this.getElementPosition(i,true));\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass HeapElement extends AttractedHighlightableObject {\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        // this.highlightInnerRadius = Heap.ELEMENT_SIZE/2 - 5;\r\n        this.highlightOuterRadius = Heap.ELEMENT_SIZE/2;\r\n\r\n        this.value = data;\r\n        this.index = index;\r\n\r\n        this.toDelete = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    highlightForMovement() {\r\n        super.highlight(Colors.BLUE);\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        super.highlight(Colors.RED);\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5);\r\n    }\r\n\r\n    drawValue(p5) {\r\n        p5.push();\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.stroke(...this.color);\r\n        p5.text(this.value.toString(), this.currentX - Heap.ELEMENT_SIZE/2,this.currentY - Heap.ELEMENT_SIZE/2, Heap.ELEMENT_SIZE, Heap.ELEMENT_SIZE);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class AVL extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class SplayTree extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class BTree extends Visualization {\r\n    \r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class SkipList extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class HashMapProbing extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class HashMapChaining extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class BubbleSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class CocktailShakerSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class InsertionSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class SelectionSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class QuickSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class QuickSelect extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class MergeSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class LSDRadixSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class BruteForce extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class BoyerMoore extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class KMP extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class RabinKarp extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class BFS extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class DFS extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class Dijkstras extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class Prims extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class Kruskals extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class LCS extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class FloydWarshall extends Visualization {\r\n\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport Sketch from 'react-p5';\r\nimport './visualizer.scss';\r\n\r\nimport ControlBar from './controlBar';\r\nimport BigOWindow from './bigOWindow';\r\nimport ExamplesWindow from './examplesWindow';\r\n\r\nimport { ControlBuilder, Utils } from 'utils';\r\nimport { Animator } from 'animation';\r\n\r\nexport default class Visualizer extends PureComponent {\r\n    static VISUALIZATION_METHODS = [\"skipBack\",\"stepBack\",\"playPause\",\"stepForward\",\"skipForward\"];\r\n\r\n    static CONTROLS_ONLY_ACTIVE_UNPAUSED = [\"radio\",\"checkbox\"];\r\n\r\n    static MAX_SPEED = 20;\r\n    static SPEED_SLIDER_DEGREE = 1.5;\r\n\r\n    static maxAnimationSpeed() {\r\n        return Math.pow(this.constructor.MAX_SPEED, this.constructor.SPEED_SLIDER_DEGREE);\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this[this.constructor.ADT_NAME] = null;\r\n\r\n        //INHERIT METHODS FROM VISUALIZATION\r\n        let currConstructor = this.constructor;\r\n        while (currConstructor) {\r\n            (currConstructor.VISUALIZATION_METHODS || []).forEach((methodName) => {\r\n                this[methodName] = (...args) => {\r\n                    if (this[this.constructor.ADT_NAME][methodName]) {\r\n                        return this[this.constructor.ADT_NAME][methodName](...args);\r\n                    } else {\r\n                        if (Utils.isDev()) {\r\n                            console.log(this[this.constructor.ADT_NAME], methodName, ...args);\r\n                        }\r\n                    }\r\n                    // return this[this.constructor.ADT_NAME][methodName](...args);\r\n                };\r\n            });\r\n            currConstructor = currConstructor.__proto__;\r\n        }\r\n\r\n\r\n        //FUNCTION BINDING\r\n        this.preload = this.preload.bind(this);\r\n        this.setup = this.setup.bind(this);\r\n        this.draw = this.draw.bind(this);\r\n        this.mousePressed = this.mousePressed.bind(this);\r\n        this.touchMoved = this.touchMoved.bind(this);\r\n        this.mouseReleased = this.mouseReleased.bind(this);\r\n        this.windowResized = this.windowResized.bind(this);\r\n\r\n        this.controlBarRef = React.createRef();\r\n\r\n        this.controlGroups = [];\r\n        this.defaultControlGroups = [];\r\n        this.controls = [];\r\n\r\n        // this.animationSpeed = this.constructor.VISUALIZATION_CLASS.INITIAL_SPEED;\r\n\r\n        this.onAnimStart = this.onAnimStart.bind(this);\r\n        this.onAnimEnd = this.onAnimEnd.bind(this);\r\n        this.animating = false;\r\n\r\n        this.focusedElement = null;\r\n\r\n        this.animator = new Proxy(new Animator(), {\r\n            get: function (target, propertyName, receiver) {\r\n                if (target[propertyName]) {\r\n                    return target[propertyName];\r\n                } else {\r\n                    return (param) => target.emit(propertyName + (param ? (\"-\" + param) : \"\"));\r\n                }\r\n            }\r\n        });\r\n        this.animator.on(\"anim-start\", this.onAnimStart);\r\n        this.animator.on(\"anim-end\", this.onAnimEnd);\r\n\r\n        this.addControlLabel(this.constructor.NAME);\r\n        this.addControls();\r\n        this.addDefaultControls();\r\n\r\n        this.state = {\r\n            showBigO: false,\r\n            showExamples: false\r\n        };\r\n        this.disabledControls = [];\r\n        this.bigOWindow = React.createRef();\r\n        this.examplesWindow = React.createRef();\r\n    }\r\n\r\n    addDefaultControls() {\r\n        this.speedSlider = ControlBuilder.createSlider(1, this.constructor.MAX_SPEED, Math.pow(this.constructor.INITIAL_SPEED,1/this.constructor.SPEED_SLIDER_DEGREE), 0);\r\n        let sliderLabel = ControlBuilder.createLabel(\"Animation Speed\", this.speedSlider);\r\n        let speedSliderGroup = ControlBuilder.createControlGroup(\"speedSliderGroup\", this.speedSlider, sliderLabel);\r\n        let extraGroups = []\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_ANIMATION_CONTROL) {\r\n            ControlBuilder.applyNewCallbackButton(this, {name: \"skipBack\", longName: \"Skip Back\",\r\n                    options: {\r\n                        attributes: {\r\n                            \"data-tooltip\": \"Shift+\",\r\n                            \"tt-bottom-110\":true,\r\n                            \"tt-left-0\":true,\r\n                            disabled: true\r\n                        },\r\n                        addAnimatorEnableDisable: true\r\n                }});\r\n            ControlBuilder.applyNewCallbackButton(this, {name: \"stepBack\", longName: \"Step Back\",\r\n                    options: {\r\n                        attributes: {\r\n                            \"data-tooltip\": \"\",\r\n                            \"tt-bottom-110\":true,\r\n                            \"tt-left-0\":true,\r\n                            disabled: true\r\n                        },\r\n                        addAnimatorEnableDisable: true\r\n                }});\r\n            ControlBuilder.applyNewCallbackButton(this, {name: \"playPause\", longName: \"Pause\",\r\n                    options: {\r\n                        attributes: {\r\n                            \"data-tooltip\": \"SpaceBar\",\r\n                            \"tt-bottom-110\":true,\r\n                            \"tt-h-mid\":true\r\n                        },\r\n                }});\r\n            this.animator.on(\"enable-playPause\", () => {\r\n                this.playPauseButton.innerHTML = this.visualization.paused ? \"Play\" : \"Pause\";\r\n            });\r\n            ControlBuilder.applyNewCallbackButton(this, {name: \"stepForward\", longName: \"Step Forward\",\r\n                    options: {\r\n                        attributes: {\r\n                            \"data-tooltip\": \"\",\r\n                            \"tt-bottom-110\":true,\r\n                            \"tt-right-0\":true,\r\n                            disabled: true\r\n                        },\r\n                        addAnimatorEnableDisable: true\r\n                }});\r\n            ControlBuilder.applyNewCallbackButton(this, {name: \"skipForward\", longName: \"Skip Forward\",\r\n                    options: {\r\n                        attributes: {\r\n                            \"data-tooltip\": \"Shift+\",\r\n                            \"tt-bottom-110\":true,\r\n                            \"tt-right-0\":true,\r\n                            disabled: true\r\n                        },\r\n                        addAnimatorEnableDisable: true\r\n                }});\r\n\r\n            extraGroups.push(ControlBuilder.createControlGroup(\"stepButtonGroup\",this.skipBackButton,this.stepBackButton,this.playPauseButton,this.stepForwardButton,this.skipForwardButton));\r\n            let animationControls = ControlBuilder.createControlGroup(\"animationControls\",...extraGroups);\r\n            ControlBuilder.applyStyle(animationControls,\"width\",\"27.6em\");//needed to prevent overlap from slider?????????????\r\n            this.defaultControlGroups.push(animationControls);\r\n        }\r\n        this.defaultControlGroups.push(speedSliderGroup);\r\n        this.defaultsLabel = \"Animation controls\";\r\n    }\r\n\r\n    addControlLabel(label) {\r\n        this.mainLabel = label;\r\n    }\r\n\r\n    addControlGroups(...controlGroups) {\r\n        this.controlGroups.push(...controlGroups);\r\n        controlGroups.forEach((controlGroup) => {\r\n            if (!controlGroup.classList.contains(\"control-group\")) {\r\n                this.controls.push(controlGroup);\r\n            } else {\r\n                this.registerControlGroup(controlGroup);\r\n            }\r\n        });\r\n    }\r\n\r\n    registerControlGroup(controlGroup) {\r\n        controlGroup.childNodes.forEach((child) => {\r\n            if (!child.classList.contains(\"control-group\")) {\r\n                this.controls.push(child);\r\n            } else {\r\n                this.registerControlGroup(child);\r\n            }\r\n        });\r\n    }\r\n\r\n    onAnimStart() {\r\n        this.disableUI();\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_NO_LOOP) {\r\n            // this.animator.loop();\r\n        }\r\n        this.animating = true;\r\n    }\r\n\r\n    onAnimEnd() {\r\n        this.enableUI();\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_NO_LOOP) {\r\n            // this.animator.noLoop();\r\n        }\r\n        this.animating = false;\r\n    }\r\n\r\n    disableUI() {\r\n        // console.log(\"disable\");\r\n        this.controls.forEach((control) => {\r\n            if (control === document.activeElement) {\r\n                this.focusedElement = control;\r\n            }\r\n            control.disabled = true;\r\n        });\r\n    }\r\n\r\n    enableUI() {\r\n        // console.log(\"enable\");\r\n        this.controls.forEach((control) => {\r\n            control.disabled = this.visualization.paused && this.constructor.CONTROLS_ONLY_ACTIVE_UNPAUSED.includes(control.type);\r\n            if (control === this.focusedElement) {\r\n                control.focus();\r\n            }\r\n        });\r\n    }\r\n\r\n    testVisualizationDimensions(p5) {\r\n        let height = document.querySelector(\".canvas-container\").getBoundingClientRect().height;\r\n        let width = document.querySelector(\".canvas-container\").getBoundingClientRect().width;\r\n        // console.log(height);\r\n        // p5.resizeCanvas(p5.windowWidth, p5.height);\r\n\r\n        //objects\r\n        let numScrollbars = this.controlBar.windowResized();\r\n        this.visualization.windowResized(p5, height, numScrollbars, this.constructor.VISUALIZATION_CLASS.HAS_MIN_WIDTH ? width : undefined);\r\n    }\r\n\r\n    componentDidMount() {\r\n        let height = document.querySelector(\".canvas-container\").getBoundingClientRect().height;\r\n        let width = document.querySelector(\".canvas-container\").getBoundingClientRect().width;\r\n        this[this.constructor.ADT_NAME] = new this.constructor.VISUALIZATION_CLASS(this.animator, width, height);\r\n        this.visualization = this[this.constructor.ADT_NAME];\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_ANIMATION_CONTROL) {\r\n            this.controlPressed = false;\r\n            this.shiftPressed = false;\r\n            this.pressedDict = {};\r\n            document.addEventListener(\"keydown\", (event) => {\r\n                if (!this.pressedDict[event.key]) {\r\n                    this.pressedDict[event.key] = true;\r\n                    this.controlPressed = event.key === \"Control\" || this.controlPressed;\r\n                    this.shiftPressed = event.key === \"Shift\" || this.shiftPressed;\r\n                    let visEventHappened = false;\r\n                    if (event.key === \"z\" && this.controlPressed) {\r\n                        visEventHappened = this.visualization.undo();\r\n                    } else if (event.key === \"ArrowLeft\") {\r\n                        if (this.shiftPressed) {\r\n                            visEventHappened = this.visualization.skipBack();\r\n                        } else {\r\n                            visEventHappened = this.visualization.stepBack();\r\n                        }\r\n                    } else if (event.key === \"ArrowRight\") {\r\n                        if (this.shiftPressed) {\r\n                            visEventHappened = this.visualization.skipForward();\r\n                        } else {\r\n                            visEventHappened = this.visualization.stepForward();\r\n                        }\r\n                    } else if (event.key === \" \") {\r\n                        visEventHappened = this.visualization.playPause();\r\n                    }\r\n                    if (visEventHappened) {\r\n                        event.preventDefault();\r\n                    }\r\n                }\r\n            });\r\n            document.addEventListener(\"keyup\", (event) => {\r\n                if (this.pressedDict[event.key]) {\r\n                    this.pressedDict[event.key] = false;\r\n                    this.controlPressed = this.controlPressed && !(event.key === \"Control\");\r\n                    this.shiftPressed = this.shiftPressed && !(event.key === \"Shift\");\r\n                }\r\n            });\r\n        }\r\n        if (Utils.isDev()) {\r\n            window.vis = this.visualization;\r\n        } else {\r\n\r\n        }\r\n        this.controlBar = this.controlBarRef.current;\r\n        this.controlBar.setMainLabel(this.mainLabel);\r\n        this.controlBar.setDefaultsLabel(this.defaultsLabel);\r\n        this.defaultControlGroups.forEach((defaultGroup) => {\r\n            this.controlBar.addDefaultGroup(defaultGroup);\r\n        });\r\n        this.controlGroups.forEach((controlGroup) => {\r\n            this.controlBar.addControlGroup(controlGroup);\r\n        });\r\n        this.mounted = true;\r\n        this.forceUpdate();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        // console.log(\"update\");\r\n        Utils.addMobileClasses();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    preload(p5) {\r\n        if (Utils.isDev()) {\r\n            p5.disableFriendlyErrors = true;\r\n        }\r\n    }\r\n\r\n    setup(p5, canvasParentRef) {\r\n        // let width = this.controlBar.controlBar.current.getBoundingClientRect().width;\r\n        let height = document.querySelector(\".app-content\").getBoundingClientRect().height\r\n                - document.querySelector(\"#main-control\").getBoundingClientRect().height\r\n                - document.querySelector(\"#default-control\").getBoundingClientRect().height;\r\n\r\n        // this.mobile = window.ontouchstart !== undefined;\r\n        // if (this.mobile) {\r\n        //     height = 1000;\r\n        //     // document.querySelector(\".canvas-container\").style.height = height + \"px\";\r\n        //     document.querySelector(\".canvas-container\").classList.add(\"mobile\");\r\n        // }\r\n\r\n        //config\r\n        let canvas = p5.createCanvas(p5.windowWidth\r\n            ,height);\r\n        canvas.parent(canvasParentRef);\r\n        //\r\n        // canvas.touchStarted((event) => {\r\n        //     console.log(\"touchdown\");\r\n        //     if (!this.mousePressed(p5)) {\r\n        //         event.preventDefault();\r\n        //     }\r\n        //     // event.preventDefault();\r\n        // });\r\n        //\r\n        // canvas.touchMoved((event) => {\r\n        //     console.log(\"touchmove\");\r\n        //     if (!this.touchMoved(p5)) {\r\n        //         // event.preventDefault();\r\n        //     }\r\n        //     return true;\r\n        //     // event.preventDefault();\r\n        // });\r\n        //\r\n        // canvas.touchEnded(() => {\r\n        //     console.log(\"touchup\");\r\n        //     this.mouseReleased(p5);\r\n        //     // event.preventDefault();\r\n        // });\r\n        // canvas.mousePressed(() => {\r\n        //     console.log(\"mousedown\");\r\n        //     if (!this.mousePressed(p5)) {\r\n        //         // event.preventDefault();\r\n        //     }\r\n        // });\r\n        // canvas.mouseReleased(() => {\r\n        //     console.log(\"mouseup\");\r\n        //     this.mouseReleased(p5);\r\n        //     // event.preventDefault();\r\n        // });\r\n        // p5.background(200);\r\n        // p5.frameRate(8);\r\n\r\n        // document.addEventListener(\"resize\", (event) => {\r\n        //     console.log(\"resize\");\r\n        // });\r\n        this.animator.on(\"noLoop\", () => {\r\n            // console.log(\"noLoop\");\r\n            p5.noLoop();\r\n        });\r\n        this.animator.on(\"loop\", () => {\r\n            // console.log(\"loop\");\r\n            p5.loop();\r\n        });\r\n        // this.animator.on(\"paused\", () => {\r\n        //\r\n        // });\r\n        this.animator.on(\"testWindowSize\", () => {\r\n            // this.visualization.resizing = true;\r\n            this.testVisualizationDimensions(p5);\r\n        });\r\n        this.windowResized(p5);\r\n\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_NO_LOOP) {\r\n            this.animator.noLoop();\r\n        }\r\n    }\r\n    draw(p5) {\r\n        //inputs\r\n        let animationSpeed = Math.pow(this.speedSlider.value,this.constructor.SPEED_SLIDER_DEGREE);\r\n\r\n        p5.background(255);\r\n\r\n        //objects\r\n        this.visualization.update(animationSpeed, p5);\r\n        this.visualization.draw(p5);\r\n\r\n        // if (!this.animating) {\r\n        //     if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_NO_LOOP) {\r\n        //         this.animator.noLoop();\r\n        //     }\r\n        // }\r\n    }\r\n    mousePressed(p5) {\r\n        if (this.visualization.mousePressed) {\r\n            // console.log(\"down\");\r\n            //let pressed =\r\n            this.visualization.mousePressed(p5);\r\n            // console.log(pressed);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    touchMoved(p5) {\r\n        if (this.visualization.touchMoved) {\r\n            // console.log(\"move\");\r\n            return this.visualization.touchMoved();\r\n        }\r\n        return true;\r\n    }\r\n    mouseReleased(p5) {\r\n        if (this.visualization.mouseReleased) {\r\n            // console.log(\"up\");\r\n            //let released =\r\n            this.visualization.mouseReleased(p5);\r\n            // console.log(released);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    windowResized(p5) {\r\n        // console.log(\"resize\");\r\n\r\n        //cosmetics for visualizer label\r\n        let controlWidth = Array.from(document.querySelector(\"#main-control-label + .controls\").childNodes).map(node => node.getBoundingClientRect().width).reduce((sum,curr) => sum + curr);\r\n        controlWidth = Math.min(controlWidth, p5.windowWidth);\r\n        let label = document.querySelector(\"#main-control-label\");\r\n        let labelWidth = label.getBoundingClientRect().width;\r\n        label.style.left = Math.max(0, (controlWidth - labelWidth) / 2) + \"px\";\r\n\r\n        //config\r\n        let height = document.querySelector(\".app-content\").getBoundingClientRect().height\r\n                - document.querySelector(\"#main-control\").getBoundingClientRect().height\r\n                - document.querySelector(\"#default-control\").getBoundingClientRect().height;\r\n        if (this.mobile) {\r\n            // height = 1000;\r\n        }\r\n        // height = document.querySelector(\".react-p5\").getBoundingClientRect().height;\r\n        document.querySelector(\".canvas-container\").style.height = height+\"px\";\r\n        this.testVisualizationDimensions(p5);\r\n    }\r\n\r\n    showBigODisplay() {\r\n        if (!this.state.showBigO) {\r\n            this.setState({showBigO: true});\r\n            this.disabledControls = [];\r\n            document.querySelectorAll(\".control-bar input, .control-bar button\").forEach((input) => {\r\n                if (!input.disabled) {\r\n                    this.disabledControls.push(input);\r\n                    input.disabled = true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    closeBigODisplay() {\r\n        this.setState({showBigO: false});\r\n        while (this.disabledControls.length) {\r\n            this.disabledControls.pop().disabled = false;\r\n        }\r\n    }\r\n\r\n    showExamplesDisplay() {\r\n        if (!this.state.showExamples) {\r\n            this.setState({showExamples: true});\r\n            this.disabledControls = [];\r\n            document.querySelectorAll(\".control-bar input, .control-bar button\").forEach((input) => {\r\n                if (!input.disabled) {\r\n                    this.disabledControls.push(input);\r\n                    input.disabled = true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    closeExamplesDisplay(...exampleParams) {\r\n        this.setState({showExamples: false});\r\n        while (this.disabledControls.length) {\r\n            this.disabledControls.pop().disabled = false;\r\n        }\r\n        if (exampleParams && exampleParams.length) {\r\n            this.visualization.doExample(...exampleParams);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className={`visualizer ${this.constructor.DIV_CLASS}`}>\r\n                    <ControlBar ref={this.controlBarRef} showBigODisplay={this.showBigODisplay.bind(this)} showExamplesDisplay={this.showExamplesDisplay.bind(this)} hasExamples={this.props.visualizerClass.examples && this.props.visualizerClass.examples.length > 0}/>\r\n                    {this.state.showBigO &&\r\n                        <BigOWindow ref={this.bigOWindow} title={this.mainLabel} closeBigODisplay={this.closeBigODisplay.bind(this)}/>\r\n                    }\r\n                    {this.state.showExamples &&\r\n                        <ExamplesWindow ref={this.examplesWindow} title={this.mainLabel} closeExamplesDisplay={this.closeExamplesDisplay.bind(this)}/>\r\n                    }\r\n                    {\r\n                        !Utils.isReactComponent(this.constructor.VISUALIZATION_CLASS) ?\r\n                                <div className=\"canvas-container\">\r\n                                    {\r\n                                        this.mounted ?\r\n                                                <Sketch preload={this.preload} setup={this.setup} draw={this.draw} windowResized={this.windowResized} mousePressed={this.mousePressed} mouseReleased={this.mouseReleased} touchStarted={this.mousePressed} touchEnded={this.mouseReleased} touchMoved={this.touchMoved}/>\r\n                                            :\r\n                                                <p>Loading Sketch</p>\r\n                                    }\r\n                                </div>\r\n                            :\r\n                                <this.constructor.VISUALIZATION_CLASS />\r\n                    }\r\n                </div>\r\n            );\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class ListVisualizer extends Visualizer {\r\n    static ADT_NAME = \"list\";\r\n    static VISUALIZATION_METHODS = [\"addAtIndex\", \"addToFront\", \"addToBack\", \"removeFromIndex\", \"removeFromBack\", \"removeFromFront\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: false}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"index\", callback: false, args: {size: 10}}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorPositiveIntOnly());\r\n        ControlBuilder.addFieldSubmit(this.valueField, this.addToBack,\r\n                {\r\n                    secondary: {\r\n                        field: this.indexField,\r\n                        callback: this.addAtIndex,\r\n                        isFirstParam: true\r\n                    }\r\n                }\r\n            );\r\n        ControlBuilder.addFieldSubmit(this.indexField, this.addAtIndex,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.valueField\r\n                    }\r\n                }\r\n            );\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"addAtIndex\", this.indexField, {field: this.valueField, focus: true});\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"addToFront\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"addToBack\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"removeFromIndex\", this.indexField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"removeFromFront\");\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"removeFromBack\");\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.valueField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.valueField, this.indexField);\r\n        ControlBuilder.setTabControl(this.indexField, this.addToFrontButton);\r\n        ControlBuilder.setTabControl(this.removeFromBackButton, this.addAtIndexButton);\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        let addFrontBackGroup = ControlBuilder.createControlGroup(\"addFrontBack\", this.addToFrontButton, this.addToBackButton);\r\n        let removeFrontBackGroup = ControlBuilder.createControlGroup(\"removeFrontBack\", this.removeFromFrontButton, this.removeFromBackButton);\r\n        let valueFrontBackGroup = ControlBuilder.createControlGroup(\"valueFrontBack\", this.valueField, addFrontBackGroup, removeFrontBackGroup);\r\n\r\n        let indexGroup = ControlBuilder.createControlGroup(\"indexAddRemove\", this.indexField, this.addAtIndexButton, this.removeFromIndexButton);\r\n\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset\", this.resetButton);\r\n\r\n        super.addControlGroups(valueFrontBackGroup, indexGroup, resetGroup);\r\n    }\r\n}\r\n","import { ListVisualizer } from '../';\r\nimport { ArrayList } from 'animation';\r\nimport './arraylist.scss';\r\n\r\n\r\nexport default class ArrayListVisualizer extends ListVisualizer {\r\n    static VISUALIZATION_CLASS = ArrayList;\r\n    static DIV_CLASS = \"arraylist\";\r\n    static NAME = \"ArrayList\";\r\n}\r\n","import { ListVisualizer } from '../';\r\nimport { SinglyLinkedList } from 'animation';\r\nimport './singly-linked-list.scss';\r\n\r\n\r\nexport default class SinglyLinkedListVisualizer extends ListVisualizer {\r\n    static VISUALIZATION_CLASS = SinglyLinkedList;\r\n    static DIV_CLASS = \"singlylinkedlist\";\r\n    static NAME = \"SinglyLinkedList\";\r\n}\r\n","import { ListVisualizer } from '../';\r\nimport { DoublyLinkedList } from 'animation';\r\nimport './doubly-linked-list.scss';\r\n\r\n\r\nexport default class DoublyLinkedListVisualizer extends ListVisualizer {\r\n    static VISUALIZATION_CLASS = DoublyLinkedList;\r\n    static DIV_CLASS = \"doublylinkedlist\";\r\n    static NAME = \"DoublyLinkedList\";\r\n}\r\n","import { ListVisualizer } from '../';\r\nimport { CircularSinglyLinkedList } from 'animation';\r\nimport './circular-singly-linked-list.scss';\r\n\r\nexport default class CircularSinglyLinkedListVisualizer extends ListVisualizer {\r\n    static VISUALIZATION_CLASS = CircularSinglyLinkedList;\r\n    static DIV_CLASS = \"circularsinglylinkedlist\";\r\n    static NAME = \"CircularSinglyLinkedList\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class StackVisualizer extends Visualizer {\r\n    static ADT_NAME = \"stack\";\r\n    static VISUALIZATION_METHODS = [\"push\", \"pop\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: \"push\"}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"push\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"pop\");\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.valueField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        let interactionButtonGroup = ControlBuilder.createControlGroup(\"interactionButtons\", this.pushButton, this.popButton);\r\n        let mainControlGroup = ControlBuilder.createControlGroup(\"mainControl\", this.valueField, interactionButtonGroup);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"resetGroup\", this.resetButton);\r\n\r\n        super.addControlGroups(mainControlGroup, resetGroup);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class QueueVisualizer extends Visualizer {\r\n    static ADT_NAME = \"queue\";\r\n    static VISUALIZATION_METHODS = [\"enqueue\", \"dequeue\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: \"enqueue\"}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"enqueue\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"dequeue\");\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.valueField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        let interactionButtonGroup = ControlBuilder.createControlGroup(\"interactionButtons\", this.enqueueButton, this.dequeueButton);\r\n        let mainControlGroup = ControlBuilder.createControlGroup(\"mainControl\", this.valueField, interactionButtonGroup);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"resetGroup\", this.resetButton);\r\n\r\n        super.addControlGroups(mainControlGroup, resetGroup);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class DequeVisualizer extends Visualizer {\r\n    static ADT_NAME = \"deque\";\r\n    static VISUALIZATION_METHODS = [\"addFirst\", \"addLast\", \"removeFirst\", \"removeLast\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: \"addLast\"}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, {name: \"addFirst\", longName: \"addFirst (push)\"}, this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, {name: \"addLast\", longName: \"addLast (enqueue)\"}, this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, {name: \"removeFirst\", longName: \"removeFirst (dequeue/pop)\"});\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"removeLast\");\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.valueField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        let addButtonGroup = ControlBuilder.createControlGroup(\"addButtons\", this.addFirstButton, this.addLastButton);\r\n        let removeButtonGroup = ControlBuilder.createControlGroup(\"removeButtons\", this.removeFirstButton, this.removeLastButton);\r\n        let interactionGroup = ControlBuilder.createControlGroup(\"interactions\", this.valueField, addButtonGroup, removeButtonGroup);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"resetGroup\", this.resetButton);\r\n\r\n        super.addControlGroups(interactionGroup, resetGroup);\r\n    }\r\n}\r\n","import { StackVisualizer } from '../';\r\nimport { StackArray } from 'animation';\r\nimport './stack-array.scss';\r\n\r\n\r\nexport default class StackArrayVisualizer extends StackVisualizer {\r\n    static VISUALIZATION_CLASS = StackArray;\r\n    static DIV_CLASS = \"stack-array\";\r\n    static NAME = \"Stack (Array)\";\r\n}\r\n","import { StackVisualizer } from '../';\r\nimport { StackLinkedList } from 'animation';\r\nimport './stack-linked-list.scss';\r\n\r\n\r\nexport default class StackLinkedListVisualizer extends StackVisualizer {\r\n    static VISUALIZATION_CLASS = StackLinkedList;\r\n    static DIV_CLASS = \"stack-linkedlist\";\r\n    static NAME = \"Stack (LinkedList)\";\r\n}\r\n","import { QueueVisualizer } from '../';\r\nimport { QueueArray } from 'animation';\r\nimport './queue-array.scss';\r\n\r\nexport default class QueueArrayVisualizer extends QueueVisualizer {\r\n    static VISUALIZATION_CLASS = QueueArray;\r\n    static DIV_CLASS = \"queue-array\";\r\n    static NAME = \"Queue (Array)\";\r\n}\r\n","import { QueueVisualizer } from '../';\r\nimport { QueueLinkedList } from 'animation';\r\nimport './queue-linked-list.scss';\r\n\r\n\r\nexport default class QueueLinkedListVisualizer extends QueueVisualizer {\r\n    static VISUALIZATION_CLASS = QueueLinkedList;\r\n    static DIV_CLASS = \"queue-linkedlist\";\r\n    static NAME = \"Queue (LinkedList)\";\r\n}\r\n","import { DequeVisualizer } from '../';\r\nimport { DequeArray } from 'animation';\r\nimport './deque-array.scss';\r\n\r\n\r\nexport default class DequeArrayVisualizer extends DequeVisualizer {\r\n    static VISUALIZATION_CLASS = DequeArray;\r\n    static DIV_CLASS = \"deque-array\";\r\n    static NAME = \"Deque (Array)\";\r\n}\r\n","import { DequeVisualizer } from '../';\r\nimport { DequeLinkedList } from 'animation';\r\nimport './deque-linked-list.scss';\r\n\r\n\r\nexport default class DequeLinkedListVisualizer extends DequeVisualizer {\r\n    static VISUALIZATION_CLASS = DequeLinkedList;\r\n    static DIV_CLASS = \"deque-linkedlist\";\r\n    static NAME = \"Deque (Linked List)\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\nimport './tree-ADT.scss';\r\n\r\nexport default class TreeVisualizer extends Visualizer {\r\n    static ADT_NAME = \"tree\";\r\n    static VISUALIZATION_METHODS = [\"insert\", \"delete\", \"find\", \"print\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"insert\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"insert\", this.insertField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"delete\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"delete\", this.deleteField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"find\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"find\", this.findField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"print\");\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.insertField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.insertField);\r\n\r\n        // build groups\r\n        let insertGroup = ControlBuilder.createControlGroup(\"insert-group\", this.insertField, this.insertButton);\r\n        let deleteGroup = ControlBuilder.createControlGroup(\"delete-group\", this.deleteField, this.deleteButton);\r\n        let findGroup = ControlBuilder.createControlGroup(\"find-group\", this.findField, this.findButton);\r\n        let printGroup = ControlBuilder.createControlGroup(\"print-group\", this.printButton);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n\r\n        super.addControlGroups(insertGroup, deleteGroup, findGroup, printGroup, resetGroup);\r\n    }\r\n}\r\n","import { TreeVisualizer } from './';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class BinarySearchingTreeVisualizer extends TreeVisualizer {\r\n    static VISUALIZATION_METHODS = [\"togglePredecessorSuccessor\"];\r\n\r\n    addControls() {\r\n        super.addControls();\r\n\r\n        this.togglePredecessorSuccessorRadio = ControlBuilder.createRadio(\"togglePredecessorSuccessor\", \"Predecessor\", \"Successor\");\r\n        ControlBuilder.addRadioSubmit(this.togglePredecessorSuccessorRadio, this.togglePredecessorSuccessor);\r\n\r\n        // build groups\r\n        let togglePredecessorSuccessorGroup = ControlBuilder.createControlGroup(\"togglePredecessorSuccessor\", this.togglePredecessorSuccessorRadio);\r\n\r\n        super.addControlGroups(togglePredecessorSuccessorGroup);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class HeapVisualizer extends Visualizer {\r\n    static ADT_NAME = \"heap\";\r\n    static VISUALIZATION_METHODS = [\"enqueue\", \"dequeue\", \"reset\", \"buildHeap\", \"toggleMinMax\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: \"enqueue\"}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"enqueue\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"dequeue\");\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"buildHeap\", prompt: \"1,-4,23,3-8,... [max 50 elements]\"}, ControlBuilder.validatorIntList(4,50));\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"buildHeap\", this.buildHeapField);\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.valueField);\r\n\r\n        this.toggleMinMaxRadio = ControlBuilder.createRadio(\"toggleMinMax\", \"MinHeap\", \"MaxHeap\");\r\n        ControlBuilder.addRadioSubmit(this.toggleMinMaxRadio, this.toggleMinMax);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.insertField);\r\n\r\n        // build groups\r\n        let interactionButtonGroup = ControlBuilder.createControlGroup(\"interactionButtons\", this.enqueueButton, this.dequeueButton);\r\n        let mainControlGroup = ControlBuilder.createControlGroup(\"mainControl\", this.valueField, interactionButtonGroup);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"resetGroup\", this.resetButton);\r\n        let buildHeapGroup = ControlBuilder.createControlGroup({id: \"build-heap-group\", classes:[\"expanding-group\"]}, this.buildHeapField, this.buildHeapButton);\r\n        let toggleMinMaxGroup = ControlBuilder.createControlGroup(\"toggleMinMax\", this.toggleMinMaxRadio);\r\n\r\n        super.addControlGroups(mainControlGroup, resetGroup, buildHeapGroup, toggleMinMaxGroup);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class SkipListADTVisualizer extends Visualizer {\r\n    static ADT_NAME = \"skiplist\";\r\n    static VISUALIZATION_METHODS = [\"addRandomly\", \"addWithHeads\", \"remove\", \"get\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: false, args: {size: 10}}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"heads\", prompt: \"num heads\", callback: false, args: {size: 10}}, ControlBuilder.validatorMaxLength(2), ControlBuilder.validatorPositiveIntOnly());\r\n        ControlBuilder.addFieldSubmit(this.valueField, this.addRandomly,\r\n                {\r\n                    secondary: {\r\n                        field: this.headsField,\r\n                        callback: this.addWithHeads,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n        ControlBuilder.addFieldSubmit(this.headsField, this.addWithHeads,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.valueField,\r\n                        isFirstParam: true,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"addRandomly\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"addWithHeads\", {field: this.valueField, focus: true}, this.headsField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"remove\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"remove\", this.removeField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"get\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"get\", this.getField);\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.insertField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        // let addFieldGroup = ControlBuilder.createControlGroup(\"add-field-group\", this.valueField, this.headsField);\r\n        // let addButtonGroup = ControlBuilder.createControlGroup(\"add-button-group\", this.addRandomlyButton, this.addWithHeadsButton);\r\n        let addRandomlyGroup = ControlBuilder.createControlGroup(\"add-field-group\", this.valueField, this.addRandomlyButton);\r\n        let addWithHeadsGroup = ControlBuilder.createControlGroup(\"add-button-group\", this.headsField, this.addWithHeadsButton);\r\n        // let addGroup = ControlBuilder.createControlGroup(\"add-group\", this.valueField, this.addRandomlyButton, addWithHeadsGroup);\r\n        let removeGroup = ControlBuilder.createControlGroup(\"remove-group\", this.removeField, this.removeButton);\r\n        let getGroup = ControlBuilder.createControlGroup(\"get-group\", this.getField, this.getButton);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n\r\n        super.addControlGroups(addRandomlyGroup, addWithHeadsGroup, removeGroup, getGroup, resetGroup);\r\n    }\r\n}\r\n","import { BinarySearchingTreeVisualizer } from '../';\r\nimport { BST } from 'animation';\r\nimport './bst.scss';\r\n\r\n\r\nexport default class BSTVisualizer extends BinarySearchingTreeVisualizer {\r\n    static VISUALIZATION_CLASS = BST;\r\n    static DIV_CLASS = \"bst\";\r\n    static NAME = \"Binary Search Tree\";\r\n}\r\n","import { HeapVisualizer } from '../';\r\nimport { Heap } from 'animation';\r\nimport './heap.scss';\r\n\r\n\r\nexport default class HeapPQVisualizer extends HeapVisualizer {\r\n    static VISUALIZATION_CLASS = Heap;\r\n    static DIV_CLASS = \"heap-pq\";\r\n    static NAME = \"Heap / Priority Queue\";\r\n}\r\n","import { BinarySearchingTreeVisualizer } from '../';\r\nimport { AVL } from 'animation';\r\nimport './avl.scss';\r\n\r\n\r\nexport default class AVLVisualizer extends BinarySearchingTreeVisualizer {\r\n    static VISUALIZATION_CLASS = AVL;\r\n    static DIV_CLASS = \"avl\";\r\n    static NAME = \"AVL\";\r\n}\r\n","import { TreeVisualizer } from '../';\r\nimport { SplayTree } from 'animation';\r\nimport './splaytree.scss';\r\n\r\n\r\nexport default class SplayTreeVisualizer extends TreeVisualizer {\r\n    static VISUALIZATION_CLASS = SplayTree;\r\n    static DIV_CLASS = \"splaytree\";\r\n    static NAME = \"SplayTree\";\r\n}\r\n","import { TreeVisualizer } from '../';\r\nimport { BTree } from 'animation';\r\nimport './btree.scss';\r\n\r\n\r\nexport default class BTreeVisualizer extends TreeVisualizer {\r\n    static VISUALIZATION_CLASS = BTree;\r\n    static DIV_CLASS = \"btree\";\r\n    static NAME = \"2-4 Tree\";\r\n}\r\n","import { SkipListADTVisualizer } from '../';\r\nimport { SkipList } from 'animation';\r\nimport './skiplist.scss';\r\n\r\n\r\nexport default class SkipListVisualizer extends SkipListADTVisualizer {\r\n    static VISUALIZATION_CLASS = SkipList;\r\n    static DIV_CLASS = \"skiplist\";\r\n    static NAME = \"SkipList\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class HashMapVisualizer extends Visualizer {\r\n    static ADT_NAME = \"hashmap\";\r\n    static VISUALIZATION_METHODS = [\"insert\", \"delete\", \"find\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"insert\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"insert\", this.insertField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"delete\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"delete\", this.deleteField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"find\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"find\", this.findField);\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.insertField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.insertField);\r\n\r\n        // build groups\r\n        let insertGroup = ControlBuilder.createControlGroup(\"insert-group\", this.insertField, this.insertButton);\r\n        let deleteGroup = ControlBuilder.createControlGroup(\"delete-group\", this.deleteField, this.deleteButton);\r\n        let findGroup = ControlBuilder.createControlGroup(\"find-group\", this.findField, this.findButton);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n\r\n        super.addControlGroups(insertGroup, deleteGroup, findGroup, resetGroup);\r\n    }\r\n}\r\n","import { HashMapVisualizer } from './';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class ProbingVisualizer extends HashMapVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleProbingMode\"];\r\n\r\n    addControls() {\r\n        super.addControls();\r\n\r\n        this.toggleProbingModeRadio = ControlBuilder.createRadio(\"toggleProbingMode\",\r\n                {value: \"linear\", longText: \"Linear Probing: ind = hash(x) + i*1\"},\r\n                {value: \"linear\", longText: \"Quadratic Probing: ind = hash(x) + i*i\"},\r\n                {value: \"linear\", longText: \"Double Hashing: ind = hash(x) + i*hash2(x)\"});\r\n        ControlBuilder.addRadioSubmit(this.toggleProbingModeRadio, this.toggleProbingMode);\r\n\r\n        // build groups\r\n        let toggleProbingModeGroup = ControlBuilder.createControlGroup(\"toggleProbingMode\", this.toggleProbingModeRadio);\r\n\r\n        super.addControlGroups(toggleProbingModeGroup);\r\n    }\r\n}\r\n","import { ProbingVisualizer } from '../';\r\nimport { HashMapProbing } from 'animation';\r\nimport './hashmap-probing.scss';\r\n\r\n\r\nexport default class HashMapProbingVisualizer extends ProbingVisualizer {\r\n    static VISUALIZATION_CLASS = HashMapProbing;\r\n    static DIV_CLASS = \"hashmap-probing\";\r\n    static NAME = \"HashMap (Probing)\";\r\n}\r\n","import { HashMapVisualizer } from '../';\r\nimport { HashMapChaining } from 'animation';\r\nimport './hashmap-chaining.scss';\r\n\r\n\r\nexport default class HashMapChainingVisualizer extends HashMapVisualizer {\r\n    static VISUALIZATION_CLASS = HashMapChaining;\r\n    static DIV_CLASS = \"hashmap-chaining\";\r\n    static NAME = \"HashMap (Chaining)\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class SortVisualizer extends Visualizer {\r\n    static ADT_NAME = \"sort\";\r\n    static VISUALIZATION_METHODS = [\"sort\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"sort\", prompt: \"1,-4,23,3-8,... [max 50 elements]\"}, ControlBuilder.validatorIntList(4,50));\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"sort\", this.sortField);\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.sortField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.sortField);\r\n\r\n        // build groups\r\n        let sortFieldGroup = ControlBuilder.createControlGroup({id: \"sort-field-group\", classes:[\"expanding-group\",\"w50\"]}, this.sortField);\r\n        let sortButtonGroup = ControlBuilder.createControlGroup(\"sort-button-group\", this.sortButton);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n\r\n        super.addControlGroups(sortFieldGroup, sortButtonGroup, resetGroup);\r\n    }\r\n}\r\n","import { SortVisualizer } from './';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class BubblingVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleLastSwapOptimization\"];\r\n\r\n    addControls() {\r\n        super.addControls();\r\n\r\n        this.toggleLastSwapOptimizationCheckBox = ControlBuilder.createCheckBox(\"toggleLastSwapOptimization\",\r\n                {value: \"enableLastSwap\", longText: \"Enable last swap optimization\"});\r\n        ControlBuilder.addCheckBoxSubmit(this.toggleLastSwapOptimizationCheckBox, this.toggleLastSwapOptimization);\r\n\r\n        // build groups\r\n        let toggleLastSwapOptimizationGroup = ControlBuilder.createControlGroup(\"toggleLastSwapOptimization-group\", this.toggleLastSwapOptimizationCheckBox);\r\n\r\n        super.addControlGroups(toggleLastSwapOptimizationGroup);\r\n    }\r\n}\r\n","import { SortVisualizer } from './';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class QuickVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleSelectPivotElement\"];\r\n\r\n    addControls() {\r\n        super.addControls();\r\n\r\n        this.toggleSelectPivotElementCheckBox = ControlBuilder.createCheckBox(\"toggleSelectPivotElement\",\r\n                {value: \"selectMin\", longText: \"Pick min element as pivot\"},\r\n                {value: \"selectMax\", longText: \"Pick max element as pivot\"});\r\n        ControlBuilder.addCheckBoxSubmit(this.toggleSelectPivotElementCheckBox, {callback: this.toggleSelectPivotElement, max1Checked: true});\r\n\r\n        // build groups\r\n        let toggleSelectPivotElementGroup = ControlBuilder.createControlGroup(\"toggleSelectPivotElement-group\", this.toggleSelectPivotElementCheckBox);\r\n\r\n        super.addControlGroups(toggleSelectPivotElementGroup);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class SelectVisualizer extends Visualizer {\r\n    static ADT_NAME = \"quickselect\";\r\n    static VISUALIZATION_METHODS = [\"select\", \"reset\", \"toggleSelectPivotElement\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"list\", prompt: \"1,-4,23,3-8,... [max 50 elements]\", callback: false}, ControlBuilder.validatorIntList(4,50));\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"kth\", prompt: \"k (1-indexed)\", callback: false, args: {size: 8}}, ControlBuilder.validatorPositiveIntOnly());\r\n        ControlBuilder.addFieldSubmit(this.listField, this.select,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.kthField,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n        ControlBuilder.addFieldSubmit(this.kthField, this.select,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.listField,\r\n                        isFirstParam: true,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"select\", {field: this.listField, focus: true}, this.kthField);\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.listField);\r\n\r\n        this.toggleSelectPivotElementCheckBox = ControlBuilder.createCheckBox(\"toggleSelectPivotElement\",\r\n                {value: \"selectMin\", longText: \"Pick min element as pivot\"},\r\n                {value: \"selectMax\", longText: \"Pick max element as pivot\"});\r\n        ControlBuilder.addCheckBoxSubmit(this.toggleSelectPivotElementCheckBox, {callback: this.toggleSelectPivotElement, max1Checked: true});\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.listField);\r\n\r\n        // build groups\r\n        let listFieldGroup = ControlBuilder.createControlGroup({id: \"list-field-group\", classes:[\"expanding-group\",\"w50\"]}, this.listField);\r\n        let kthFieldGroup = ControlBuilder.createControlGroup(\"kth-field-group\", this.kthField);\r\n        let selectButtonGroup = ControlBuilder.createControlGroup(\"select-button-group\", this.selectButton);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n        let toggleSelectPivotElementGroup = ControlBuilder.createControlGroup(\"toggleSelectPivotElement-group\", this.toggleSelectPivotElementCheckBox);\r\n\r\n        super.addControlGroups(listFieldGroup, kthFieldGroup, selectButtonGroup, resetGroup, toggleSelectPivotElementGroup);\r\n    }\r\n}\r\n","import { BubblingVisualizer } from '../';\r\nimport { BubbleSort } from 'animation';\r\nimport './bubble-sort.scss';\r\n\r\n\r\nexport default class BubbleSortVisualizer extends BubblingVisualizer {\r\n    static VISUALIZATION_CLASS = BubbleSort;\r\n    static DIV_CLASS = \"bubble-sort\";\r\n    static NAME = \"Bubble Sort\";\r\n}\r\n","import { BubblingVisualizer } from '../';\r\nimport { CocktailShakerSort } from 'animation';\r\nimport './cocktail-shaker-sort.scss';\r\n\r\n\r\nexport default class CocktailShakerSortVisualizer extends BubblingVisualizer {\r\n    static VISUALIZATION_CLASS = CocktailShakerSort;\r\n    static DIV_CLASS = \"cocktail-shaker-sort\";\r\n    static NAME = \"Cocktail Shaker Sort\";\r\n}\r\n","import { SortVisualizer } from '../';\r\nimport { InsertionSort } from 'animation';\r\nimport './insertion-sort.scss';\r\n\r\n\r\nexport default class InsertionSortVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_CLASS = InsertionSort;\r\n    static DIV_CLASS = \"insertion-sort\";\r\n    static NAME = \"Insertion Sort\";\r\n}\r\n","import { SortVisualizer } from '../';\r\nimport { SelectionSort } from 'animation';\r\nimport './selection-sort.scss';\r\n\r\n\r\nexport default class SelectionSortVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_CLASS = SelectionSort;\r\n    static DIV_CLASS = \"selection-sort\";\r\n    static NAME = \"Selection Sort\";\r\n}\r\n","import { QuickVisualizer } from '../';\r\nimport { QuickSort } from 'animation';\r\nimport './quick-sort.scss';\r\n\r\n\r\nexport default class QuickSortVisualizer extends QuickVisualizer {\r\n    static VISUALIZATION_CLASS = QuickSort;\r\n    static DIV_CLASS = \"quick-sort\";\r\n    static NAME = \"Quick Sort\";\r\n}\r\n","import { SelectVisualizer } from '../';\r\nimport { QuickSelect } from 'animation';\r\nimport './quick-select.scss';\r\n\r\n\r\nexport default class QuickSelectVisualizer extends SelectVisualizer {\r\n    static VISUALIZATION_CLASS = QuickSelect;\r\n    static DIV_CLASS = \"quick-select\";\r\n    static NAME = \"k Select / Quick Select\";\r\n}\r\n","import { SortVisualizer } from '../';\r\nimport { MergeSort } from 'animation';\r\nimport './merge-sort.scss';\r\n\r\n\r\nexport default class MergeSortVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_CLASS = MergeSort;\r\n    static DIV_CLASS = \"merge-sort\";\r\n    static NAME = \"Merge Sort\";\r\n}\r\n","import { SortVisualizer } from '../';\r\nimport { LSDRadixSort } from 'animation';\r\nimport './lsd-radix-sort.scss';\r\n\r\n\r\nexport default class LSDRadixSortVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_CLASS = LSDRadixSort;\r\n    static DIV_CLASS = \"lsd-radix-sort\";\r\n    static NAME = \"LSD Radix Sort\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class SearchVisualizer extends Visualizer {\r\n    static ADT_NAME = \"search\";\r\n    static VISUALIZATION_METHODS = [\"search\", \"reset\"];\r\n\r\n    addControls(offerTable = false) {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"searchText\", prompt: \"text\", callback: false}, ControlBuilder.validatorMaxLength(100));\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"pattern\", callback: false, args: {size: 15}}, ControlBuilder.validatorMaxLength(100));\r\n        ControlBuilder.addFieldSubmit(this.searchTextField, this.search,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.patternField,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n        ControlBuilder.addFieldSubmit(this.patternField, offerTable ? this.buildTable : this.search,\r\n                {\r\n                    secondaryRequired: !offerTable,\r\n                    secondary: {\r\n                        field: this.searchTextField,\r\n                        callback: this.search,\r\n                        isFirstParam: true,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"search\", {field: this.searchTextField, focus: true}, this.patternField);\r\n\r\n        if (offerTable) {\r\n            ControlBuilder.applyNewCallbackButton(this, {name: \"buildTable\", longName: `build ${offerTable} table`}, this.patternField);\r\n        }\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.searchTextField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.searchTextField);\r\n\r\n        // build groups\r\n        let searchTextFieldGroup = ControlBuilder.createControlGroup({id: \"searchtext-field-group\", classes:[\"expanding-group\",\"w50\"]}, this.searchTextField);\r\n        let patternFieldGroup = ControlBuilder.createControlGroup(\"pattern-field-group\", this.patternField);\r\n        let searchButtonGroup = ControlBuilder.createControlGroup(\"search-button-group\", this.searchButton);\r\n        let buildTableGroup = offerTable ? ControlBuilder.createControlGroup(\"buildtable-button-group\", this.buildTableButton) : undefined;\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n\r\n        super.addControlGroups(searchTextFieldGroup, patternFieldGroup, searchButtonGroup);\r\n        if (offerTable) {\r\n            super.addControlGroups(buildTableGroup);\r\n        }\r\n        super.addControlGroups(resetGroup);\r\n    }\r\n}\r\n","import { SearchVisualizer } from './';\r\n\r\n\r\nexport default class SearchWithTableVisualizer extends SearchVisualizer {\r\n    static VISUALIZATION_METHODS = [\"buildTable\"];\r\n\r\n    addControls() {\r\n        super.addControls(this.constructor.TABLE_NAME);\r\n    }\r\n}\r\n","import { SearchVisualizer } from '../';\r\nimport { BruteForce } from 'animation';\r\nimport './brute-force.scss';\r\n\r\n\r\nexport default class BruteForceVisualizer extends SearchVisualizer {\r\n    static VISUALIZATION_CLASS = BruteForce;\r\n    static DIV_CLASS = \"brute-force\";\r\n    static NAME = \"Brute Force Search\";\r\n}\r\n","import { SearchWithTableVisualizer } from '../';\r\nimport { BoyerMoore } from 'animation';\r\nimport './boyer-moore.scss';\r\n\r\n\r\nexport default class BoyerMooreVisualizer extends SearchWithTableVisualizer {\r\n    static VISUALIZATION_CLASS = BoyerMoore;\r\n    static DIV_CLASS = \"boyer-moore\";\r\n    static NAME = \"Boyer-Moore Algorithm\";\r\n\r\n    static TABLE_NAME = \"last occurence\";\r\n}\r\n","import { SearchWithTableVisualizer } from '../';\r\nimport { KMP } from 'animation';\r\nimport './kmp.scss';\r\n\r\n\r\nexport default class KMPVisualizer extends SearchWithTableVisualizer {\r\n    static VISUALIZATION_CLASS = KMP;\r\n    static DIV_CLASS = \"kmp\";\r\n    static NAME = \"KnuthMorrisPratt Algorithm\";\r\n\r\n    static TABLE_NAME = \"failure\";\r\n}\r\n","import { SearchVisualizer } from '../';\r\nimport { RabinKarp } from 'animation';\r\nimport './rabin-karp.scss';\r\n\r\n\r\nexport default class RabinKarpVisualizer extends SearchVisualizer {\r\n    static VISUALIZATION_CLASS = RabinKarp;\r\n    static DIV_CLASS = \"rabin-karp\";\r\n    static NAME = \"Rabin Karp Algorithm\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\n\r\nimport './graph.scss';\r\n\r\nexport default class GraphVisualizer extends Visualizer {\r\n    static ADT_NAME = \"graph\";\r\n    static VISUALIZATION_METHODS = [\"run\", \"newSmallGraph\", \"newLargeGraph\", \"toggleRepresentation\"];\r\n}\r\n","import { ControlBuilder } from 'utils';\r\n\r\nexport function addStartVertexField_and_runButton(visualizer) {\r\n    ControlBuilder.applyFieldWithOptions(visualizer, {name: \"startVertex\", prompt: \"start vertex\", callback: \"run\", args: {size: 10}}, ControlBuilder.validatorMaxLength(2));\r\n    ControlBuilder.applyNewCallbackButton(visualizer, \"run\", visualizer.startVertexField);\r\n    let runGroup = ControlBuilder.createControlGroup(\"run-group\", visualizer.startVertexField, visualizer.runButton);\r\n    visualizer.addControlGroups(runGroup);\r\n}\r\n\r\nexport function addRunButton(visualizer) {\r\n    ControlBuilder.applyNewCallbackButton(visualizer, \"run\");\r\n    let runButtonGroup = ControlBuilder.createControlGroup(\"run-button-group\", visualizer.runButton);\r\n    visualizer.addControlGroups(runButtonGroup);\r\n}\r\n\r\nexport function addDFStypeRadio(visualizer) {\r\n    visualizer.toggleDFStypeRadio = ControlBuilder.createRadio(\"toggleDFStype\", \"Stack\", \"Recursion\");\r\n    ControlBuilder.addRadioSubmit(visualizer.toggleDFStypeRadio, visualizer.toggleDFStype);\r\n    let dfsTypeRadioGroup = ControlBuilder.createControlGroup(\"toggleDFStype\", visualizer.toggleDFStypeRadio);\r\n    visualizer.addControlGroups(dfsTypeRadioGroup);\r\n}\r\n\r\nexport function addNewGraphButtons(visualizer) {\r\n    ControlBuilder.applyNewCallbackButton(visualizer, \"newSmallGraph\");\r\n    ControlBuilder.applyNewCallbackButton(visualizer, \"newLargeGraph\");\r\n    let newGraphButtonsGroup = ControlBuilder.createControlGroup(\"new-graph-group\", visualizer.newSmallGraphButton, visualizer.newLargeGraphButton);\r\n    visualizer.addControlGroups(newGraphButtonsGroup);\r\n}\r\n\r\nexport function addDirectedUndirectedRadio(visualizer) {\r\n    visualizer.toggleUndirectedDirectedRadio = ControlBuilder.createRadio(\"toggleUndirectedDirected\", \"Undirected\", \"Directed\");\r\n    ControlBuilder.addRadioSubmit(visualizer.toggleUndirectedDirectedRadio, visualizer.toggleUndirectedDirected);\r\n    let directedUndirectedRadioGroup = ControlBuilder.createControlGroup(\"toggleUndirectedDirected\", visualizer.toggleUndirectedDirectedRadio);\r\n    visualizer.addControlGroups(directedUndirectedRadioGroup);\r\n}\r\n\r\nexport function addRepresentationRadio(visualizer) {\r\n    visualizer.toggleRepresentationRadio = ControlBuilder.createRadio(\"toggleRepresentation\",\r\n            {value: \"nodeEdge\", longText: \"Node/Edge Prepresentation\"},\r\n            {value: \"adjacencyList\", longText: \"Adjacency List Prepresentation\"},\r\n            {value: \"adjacencyMatrix\", longText: \"Adjacency Matrix Prepresentation\"},\r\n        );\r\n    ControlBuilder.addRadioSubmit(visualizer.toggleRepresentationRadio, visualizer.toggleRepresentation);\r\n    let representationRadioGroup = ControlBuilder.createControlGroup(\"toggleRepresentation\", visualizer.toggleRepresentationRadio);\r\n    visualizer.addControlGroups(representationRadioGroup);\r\n}\r\n","import * as GraphVisualizerControls from './graph-visualizer-controls';\r\n\r\nexport default GraphVisualizerControls;\r\n","import { GraphVisualizer } from '../';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { BFS } from 'animation';\r\nimport './bfs.scss';\r\n\r\n\r\nexport default class BFSVisualizer extends GraphVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleUndirectedDirected\"];\r\n\r\n    static VISUALIZATION_CLASS = BFS;\r\n    static DIV_CLASS = \"bfs\";\r\n    static NAME = \"Breadth-First Search\";\r\n\r\n    addControls() {\r\n        GraphControls.addStartVertexField_and_runButton(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addDirectedUndirectedRadio(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import { GraphVisualizer } from '../';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { DFS } from 'animation';\r\nimport './dfs.scss';\r\n\r\n\r\nexport default class DFSVisualizer extends GraphVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleDFStype\", \"toggleUndirectedDirected\"];\r\n\r\n    static VISUALIZATION_CLASS = DFS;\r\n    static DIV_CLASS = \"dfs\";\r\n    static NAME = \"Depth-First Search\";\r\n\r\n    addControls() {\r\n        GraphControls.addStartVertexField_and_runButton(this);\r\n        GraphControls.addDFStypeRadio(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addDirectedUndirectedRadio(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import { GraphVisualizer } from '../';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { Dijkstras } from 'animation';\r\nimport './dijkstras.scss';\r\n\r\n\r\nexport default class DijkstrasVisualizer extends GraphVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleUndirectedDirected\"];\r\n\r\n    static VISUALIZATION_CLASS = Dijkstras;\r\n    static DIV_CLASS = \"dijkstras\";\r\n    static NAME = \"Dijkstra's (Shortest Path) Algorithm\";\r\n\r\n    addControls() {\r\n        GraphControls.addStartVertexField_and_runButton(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addDirectedUndirectedRadio(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import { GraphVisualizer } from '../';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { Prims } from 'animation';\r\nimport './prims.scss';\r\n\r\n\r\nexport default class PrimsVisualizer extends GraphVisualizer {\r\n    static VISUALIZATION_CLASS = Prims;\r\n    static DIV_CLASS = \"prims\";\r\n    static NAME = \"Prim's (Minimum Spanning Tree) Algorithm\";\r\n\r\n    addControls() {\r\n        GraphControls.addStartVertexField_and_runButton(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import { GraphVisualizer } from '../';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { Kruskals } from 'animation';\r\nimport './kruskals.scss';\r\n\r\n\r\nexport default class KruskalsVisualizer extends GraphVisualizer {\r\n    static VISUALIZATION_CLASS = Kruskals;\r\n    static DIV_CLASS = \"kruskals\";\r\n    static NAME = \"Kruskal's (Minimum Spanning Tree) Algorithm\";\r\n\r\n    addControls() {\r\n        GraphControls.addRunButton(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\nimport { LCS } from 'animation';\r\nimport './lcs.scss';\r\n\r\n\r\nexport default class LCSVisualizer extends Visualizer {\r\n    static ADT_NAME = \"lcs\";\r\n    static VISUALIZATION_METHODS = [\"findLCS\"];\r\n\r\n    static VISUALIZATION_CLASS = LCS;\r\n    static DIV_CLASS = \"lcs\";\r\n    static NAME = \"Longest Common Subsequence\";\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"firstString\", prompt: \"first string\", callback: false}, ControlBuilder.validatorMaxLength(100));\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"secondString\", prompt: \"second string\", callback: false}, ControlBuilder.validatorMaxLength(100));\r\n        ControlBuilder.addFieldSubmit(this.firstStringField, this.findLCS,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.secondStringField,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n        ControlBuilder.addFieldSubmit(this.secondStringField, this.findLCS,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.firstStringField,\r\n                        isFirstParam: true,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, {name: \"findLCS\", longName: `Find LCS`}, {field: this.firstStringField, focus: true}, this.secondStringField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.findLCSButton, this.firstStringField);\r\n\r\n        // build groups\r\n        let stringFieldGroup = ControlBuilder.createControlGroup({id: \"findLCStext-field-group\", classes:[\"expanding-group\",\"w50\"]}, this.firstStringField, this.secondStringField);\r\n        let lcsButtonGroup = ControlBuilder.createControlGroup(\"lcs-button-group\", this.findLCSButton);\r\n\r\n        super.addControlGroups(stringFieldGroup, lcsButtonGroup);\r\n    }\r\n}\r\n","import { GraphVisualizer } from 'components/graph-algorithms';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { FloydWarshall } from 'animation';\r\nimport './floyd-warshall.scss';\r\n\r\n\r\nexport default class FloydWarshallVisualizer extends GraphVisualizer {\r\n    static ADT_NAME = \"graph\";\r\n    static VISUALIZATION_METHODS = [\"toggleUndirectedDirected\"];\r\n\r\n    static VISUALIZATION_CLASS = FloydWarshall;\r\n    static DIV_CLASS = \"floyd-warshall\";\r\n    static NAME = \"Floyd Warshall (Shortest Path) Algorithm\";\r\n\r\n    addControls() {\r\n        GraphControls.addRunButton(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addDirectedUndirectedRadio(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import { default as ArrayListVisualizer } from 'components/lists/arraylist';\r\nimport { default as SinglyLinkedListVisualizer } from 'components/lists/singly-linked-list';\r\nimport { default as DoublyLinkedListVisualizer } from 'components/lists/doubly-linked-list';\r\nimport { default as CircularSinglyLinkedListVisualizer } from 'components/lists/circular-singly-linked-list';\r\n\r\nimport { default as StackArrayVisualizer } from 'components/stacks-queues-deques/stack-array';\r\nimport { default as StackLinkedListVisualizer } from 'components/stacks-queues-deques/stack-linked-list';\r\nimport { default as QueueArrayVisualizer } from 'components/stacks-queues-deques/queue-array';\r\nimport { default as QueueLinkedListVisualizer } from 'components/stacks-queues-deques/queue-linked-list';\r\nimport { default as DequeArrayVisualizer } from 'components/stacks-queues-deques/deque-array';\r\nimport { default as DequeLinkedListVisualizer } from 'components/stacks-queues-deques/deque-linked-list';\r\n\r\nimport { default as BSTVisualizer } from 'components/trees-skiplist/bst';\r\nimport { default as HeapVisualizer } from 'components/trees-skiplist/heap';\r\nimport { default as AVLVisualizer } from 'components/trees-skiplist/avl';\r\nimport { default as SplayTreeVisualizer } from 'components/trees-skiplist/splaytree';\r\nimport { default as BTreeVisualizer } from 'components/trees-skiplist/btree';\r\nimport { default as SkipListVisualizer } from 'components/trees-skiplist/skiplist';\r\n\r\nimport { default as HashMapProbingVisualizer } from 'components/hashmaps/hashmap-probing';\r\nimport { default as HashMapChainingVisualizer } from 'components/hashmaps/hashmap-chaining';\r\n\r\nimport { default as BubbleSortVisualizer } from 'components/sorting-quickselect/bubble-sort';\r\nimport { default as CocktailShakerSortVisualizer } from 'components/sorting-quickselect/cocktail-shaker-sort';\r\nimport { default as InsertionSortVisualizer } from 'components/sorting-quickselect/insertion-sort';\r\nimport { default as SelectionSortVisualizer } from 'components/sorting-quickselect/selection-sort';\r\nimport { default as QuickSortVisualizer } from 'components/sorting-quickselect/quick-sort';\r\nimport { default as QuickSelectVisualizer } from 'components/sorting-quickselect/quick-select';\r\nimport { default as MergeSortVisualizer } from 'components/sorting-quickselect/merge-sort';\r\nimport { default as LSDRadixSortVisualizer } from 'components/sorting-quickselect/lsd-radix-sort';\r\n\r\nimport { default as BruteForceVisualizer } from 'components/string-searching/brute-force';\r\nimport { default as BoyerMooreVisualizer } from 'components/string-searching/boyer-moore';\r\nimport { default as KMPVisualizer } from 'components/string-searching/kmp';\r\nimport { default as RabinKarpVisualizer } from 'components/string-searching/rabin-karp';\r\n\r\nimport { default as BFSVisualizer } from 'components/graph-algorithms/bfs';\r\nimport { default as DFSVisualizer } from 'components/graph-algorithms/dfs';\r\nimport { default as DijkstrasVisualizer } from 'components/graph-algorithms/dijkstras';\r\nimport { default as PrimsVisualizer } from 'components/graph-algorithms/prims';\r\nimport { default as KruskalsVisualizer } from 'components/graph-algorithms/kruskals';\r\n\r\nimport { default as LCSVisualizer } from 'components/dynamic-programming/lcs';\r\nimport { default as FloydWarshallVisualizer } from 'components/dynamic-programming/floyd-warshall';\r\n\r\nexport const SiteMap =\r\n[\r\n    {\r\n        link: \"datastructures\",\r\n        icon: \"sitemap\",\r\n        title_text: \"Data Structures\",\r\n        types: [\r\n            {\r\n                link: \"lists\",\r\n                title_text: \"Lists\",\r\n                classes: [\r\n                    {\r\n                        link: \"arraylist\",\r\n                        title_text: \"ArrayList\",\r\n                        component: ArrayListVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"add\", \"remove\", \"get\"],\r\n                                cols: [\"Front\", \"AtIndex(i)\", \"Back\"],\r\n                                col1Name: \"Operation\",\r\n                                add_Front: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                add_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                add_Back: {\r\n                                    amortized: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                remove_Front: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                remove_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                remove_Back: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                get: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"sll\",\r\n                        title_text: \"Singly LinkedList\",\r\n                        component: SinglyLinkedListVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"add\", \"remove\", \"get\"],\r\n                                cols: [\"Front\", \"AtIndex(i)\", \"Back\"],\r\n                                col1Name: \"Operation\",\r\n                                add_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                add_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                add_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                remove_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                remove_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                remove_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                get_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                get_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                get_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                            },\r\n                            withTailConfig: {\r\n                                name: \"With Tail Pointer\",\r\n                                add_Back: {\r\n                                    newBigO: \"O(1)\",\r\n                                },\r\n                                get_Back: {\r\n                                    newBigO: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"dll\",\r\n                        title_text: \"Doubly LinkedList\",\r\n                        component: DoublyLinkedListVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"add\", \"remove\", \"get\"],\r\n                                cols: [\"Front\", \"AtIndex(i)\", \"Back\"],\r\n                                col1Name: \"Operation\",\r\n                                add_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                add_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                add_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                remove_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                remove_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                remove_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                get_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                get_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                get_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                            },\r\n                            withTailConfig: {\r\n                                name: \"With Tail Pointer\",\r\n                                Back: {\r\n                                    newBigO: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"c-sll\",\r\n                        title_text: \"Circular Singly LinkedList\",\r\n                        component: CircularSinglyLinkedListVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"add\", \"remove\", \"get\"],\r\n                                cols: [\"Front\", \"AtIndex(i)\", \"Back\"],\r\n                                col1Name: \"Operation\",\r\n                                add_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                add_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                add_Back: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                remove_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                remove_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                remove_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                get_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                get_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                get_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                            },\r\n                            withTailConfig: {\r\n                                name: \"With Tail Pointer\",\r\n                                get_Back: {\r\n                                    newBigO: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"stacks-queues-deques\",\r\n                title_text: \"Stacks/Queues/Deques\",\r\n                bigOOverride: \"ADT_INFOS\",\r\n                bigOData: [\r\n                    {\r\n                        title_text: \"Stack\",\r\n                        class: \"stack-array\"\r\n                    },\r\n                    {\r\n                        title_text: \"Queue\",\r\n                        class: \"queue-array\"\r\n                    },\r\n                    {\r\n                        title_text: \"Deque\",\r\n                        class: \"deque-array\"\r\n                    },\r\n                ],\r\n                classes: [\r\n                    {\r\n                        link: \"stack-array\",\r\n                        title_text: \"Stack (Array)\",\r\n                        component: StackArrayVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Array\", \"LinkedList\"],\r\n                                cols: [\"push\", \"pop\", \"peek\"],\r\n                                col1Name: \"Backing Structure\",\r\n                                Array_push: {\r\n                                    amortized: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                Array_pop: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                Array_peek: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                LinkedList: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"stack-linkedlist\",\r\n                        title_text: \"Stack (LinkedList)\",\r\n                        component: StackLinkedListVisualizer,\r\n                        bigOData: [\"datastructures\", \"stacks-queues-deques\", \"stack-array\"],\r\n                    },\r\n                    {\r\n                        link: \"queue-array\",\r\n                        title_text: \"Queue (Array)\",\r\n                        component: QueueArrayVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Circular Array\", \"SinglyLinkedList\", \"DoublyLinkedList\"],\r\n                                cols: [\"enqueue\", \"dequeue\", \"peek\"],\r\n                                col1Name: \"Backing Structure\",\r\n                                Circular_enqueue: {\r\n                                    amortized: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                Circular_dequeue: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                Circular_peek: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                SinglyLinkedList_enqueue: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                SinglyLinkedList_dequeue: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                SinglyLinkedList_peek: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                DoublyLinkedList_enqueue: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                DoublyLinkedList_dequeue: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                DoublyLinkedList_peek: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                            withTailConfig: {\r\n                                name: \"With Tail Pointer\",\r\n                                SinglyLinkedList_enqueue: {\r\n                                    newBigO: \"O(1)\",\r\n                                },\r\n                                DoublyLinkedList_enqueue: {\r\n                                    newBigO: \"O(1)\",\r\n                                },\r\n                            }\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"queue-linkedlist\",\r\n                        title_text: \"Queue (LinkedList)\",\r\n                        component: QueueLinkedListVisualizer,\r\n                        bigOData: [\"datastructures\", \"stacks-queues-deques\", \"queue-array\"],\r\n                    },\r\n                    {\r\n                        link: \"deque-array\",\r\n                        title_text: \"Deque (Array)\",\r\n                        component: DequeArrayVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Circular Array\", \"DLL w/ Tail Pointer\"],\r\n                                cols: [\"addFirst\", \"addLast\", \"removeFirst\", \"removeLast\"],\r\n                                col1Name: \"Backing Structure\",\r\n                                Circular_addFirst: {\r\n                                    amortized: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                Circular_addLast: {\r\n                                    amortized: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                Circular_removeFirst: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                Circular_removeLast: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                DLL: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"deque-linkedlist\",\r\n                        title_text: \"Deque (LinkedList)\",\r\n                        component: DequeLinkedListVisualizer,\r\n                        bigOData: [\"datastructures\", \"stacks-queues-deques\", \"deque-array\"],\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"trees-skiplist\",\r\n                title_text: \"Trees and SkipList\",\r\n                classes: [\r\n                    {\r\n                        link: \"bst\",\r\n                        title_text: \"Binary Search Tree\",\r\n                        component: BSTVisualizer,\r\n                        examples: [\r\n                            {\r\n                                exampleText: \"To get a degenerate BST, add ascending/descending data, such as 1,2,3,...\",\r\n                                tryItText: \"Add 100,200,300\",\r\n                                operationList: [\r\n                                    { methodName: \"insert\", params: [100], },\r\n                                    { methodName: \"insert\", params: [200], },\r\n                                    { methodName: \"insert\", params: [300], },\r\n                                ],\r\n                                needsReset: true,\r\n                            },\r\n                            {\r\n                                exampleText: \"To get a full BST, you can add 2,1,4,3,5, in that order\",\r\n                                tryItText: \"Add 200,100,400,300,500\",\r\n                                operationList: [\r\n                                    { methodName: \"insert\", params: [200], },\r\n                                    { methodName: \"insert\", params: [100], },\r\n                                    { methodName: \"insert\", params: [400], },\r\n                                    { methodName: \"insert\", params: [300], },\r\n                                    { methodName: \"insert\", params: [500], },\r\n                                ],\r\n                                needsReset: true,\r\n                            },\r\n                            {\r\n                                exampleText: \"To get a complete BST, you can add 3,2,4,1, in that order\",\r\n                                tryItText: \"Add 300,200,400,100\",\r\n                                operationList: [\r\n                                    { methodName: \"insert\", params: [300], },\r\n                                    { methodName: \"insert\", params: [200], },\r\n                                    { methodName: \"insert\", params: [400], },\r\n                                    { methodName: \"insert\", params: [100], },\r\n                                ],\r\n                                needsReset: true,\r\n                            },\r\n                            {\r\n                                exampleText: \"To get a full and complete BST, you can add 4,2,5,1,3, in that order\",\r\n                                tryItText: \"Add 400,200,500,100,300\",\r\n                                operationList: [\r\n                                    { methodName: \"insert\", params: [400], },\r\n                                    { methodName: \"insert\", params: [200], },\r\n                                    { methodName: \"insert\", params: [500], },\r\n                                    { methodName: \"insert\", params: [100], },\r\n                                    { methodName: \"insert\", params: [300], },\r\n                                ],\r\n                                needsReset: true,\r\n                            },\r\n                        ],\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Efficiency\"],\r\n                                cols: [\"add\", \"remove\", \"search\", \"height\", \"traversal\"],\r\n                                col1Name: \"\",\r\n                                add: {\r\n                                    average: \"O(log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                remove: {\r\n                                    average: \"O(log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                search: {\r\n                                    best: \"O(1)\",\r\n                                    average: \"O(log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                height: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                traversal: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"heap-pq\",\r\n                        title_text: \"Heap / Priority Queue\",\r\n                        component: HeapVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Efficiency\"],\r\n                                cols: [\"add\", \"remove\", \"search\", \"upHeap\", \"downHeap\", \"buildHeap\"],\r\n                                col1Name: \"\",\r\n                                add: {\r\n                                    best: \"O(1)\",\r\n                                    amortized: \"O(log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                remove: {\r\n                                    best: \"O(1)\",\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                search: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                upHeap: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                downHeap: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                buildHeap: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"avl\",\r\n                        title_text: \"AVL\",\r\n                        component: AVLVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Efficiency\"],\r\n                                cols: [\"add\", \"remove\", \"search\", \"single rotation\", \"double rotation\"],\r\n                                col1Name: \"\",\r\n                                add: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                remove: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                search: {\r\n                                    best: \"O(1)\",\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                single: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                double: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"24-tree\",\r\n                        title_text: \"2-4 Tree\",\r\n                        component: BTreeVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Efficiency\"],\r\n                                cols: [\"add\", \"remove\", \"search\"],\r\n                                col1Name: \"\",\r\n                                add: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                remove: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                search: {\r\n                                    best: \"O(1)\",\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"splaytree\",\r\n                        title_text: \"SplayTree\",\r\n                        component: SplayTreeVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Efficiency\"],\r\n                                cols: [\"add\", \"remove\", \"search\"],\r\n                                col1Name: \"\",\r\n                                add: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                remove: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                search: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"skiplist\",\r\n                        title_text: \"SkipList\",\r\n                        component: SkipListVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Efficiency\"],\r\n                                cols: [\"add\", \"remove\", \"search\", \"Space\"],\r\n                                col1Name: \"\",\r\n                                add: {\r\n                                    average: \"O(log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                remove: {\r\n                                    average: \"O(log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                search: {\r\n                                    best: \"O(1)\",\r\n                                    average: \"O(log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                Space: {\r\n                                    average: \"O(n)\",\r\n                                    worst: \"O(n log(n))\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"hashmaps\",\r\n                title_text: \"HashMaps\",\r\n                classes: [\r\n                    {\r\n                        link: \"hashmap-probing\",\r\n                        title_text: \"HashMap (Probing)\",\r\n                        component: HashMapProbingVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"linear/quadratic\", \"double hash\"],\r\n                                cols: [\"put\", \"remove\", \"search\"],\r\n                                col1Name: \"Probing Method\",\r\n                                explanation: \"requires good hash function and tolerant load factor\",\r\n                                put: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                    unamortized: \"O(n)\",\r\n                                },\r\n                                remove: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                search: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"hashmap-chaining\",\r\n                        title_text: \"HashMap (Chaining)\",\r\n                        component: HashMapChainingVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"LinkedList Chaining\", \"AVL Chaining\"],\r\n                                cols: [\"put\", \"remove\", \"search\"],\r\n                                col1Name: \"External Chain Type\",\r\n                                explanation: \"requires good hash function and tolerant load factor\",\r\n                                LinkedList_put: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                LinkedList_remove: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                LinkedList_search: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                AVL_put: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(log(n))\",\r\n                                },\r\n                                AVL_remove: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(log(n))\",\r\n                                },\r\n                                AVL_search: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(log(n))\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n        ],\r\n    },\r\n    {\r\n        link: \"algorithms\",\r\n        icon: [\"fas\",\"code-branch\"],\r\n        title_text: \"Algorithms\",\r\n        types: [\r\n            {\r\n                link: \"sorting-quickselect\",\r\n                title_text: \"Sorting and QuickSelect\",\r\n                bigOOverride: \"MERGE_ROWS\",\r\n                classes: [\r\n                    {\r\n                        link: \"bubble-sort\",\r\n                        title_text: \"Bubble Sort\",\r\n                        component: BubbleSortVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Adaptive\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    best: \"O(n)\",\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                Stable: [\"fas\", \"check-circle\"],\r\n                                Adaptive: [\"fas\", \"check-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"cocktail-shaker-sort\",\r\n                        title_text: \"Cocktail Shaker Sort\",\r\n                        component: CocktailShakerSortVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Adaptive\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    best: \"O(n)\",\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                Stable: [\"fas\", \"check-circle\"],\r\n                                Adaptive: [\"fas\", \"check-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"insertion-sort\",\r\n                        title_text: \"Insertion Sort\",\r\n                        component: InsertionSortVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Adaptive\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    best: \"O(n)\",\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                Stable: [\"fas\", \"check-circle\"],\r\n                                Adaptive: [\"fas\", \"check-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"selection-sort\",\r\n                        title_text: \"Selection Sort\",\r\n                        component: SelectionSortVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Adaptive\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                Stable: [\"fas\", \"times-circle\"],\r\n                                Adaptive: [\"fas\", \"times-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"quick-sort\",\r\n                        title_text: \"Quick Sort\",\r\n                        component: QuickSortVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Adaptive\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    average: \"O(n log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                    explanation: \"worst O(n): pivot always @ min/max\",\r\n                                },\r\n                                Stable: [\"fas\", \"times-circle\"],\r\n                                Adaptive: [\"fas\", \"times-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"kth-select\",\r\n                        title_text: \"k Select / Quick Select\",\r\n                        component: QuickSelectVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    average: \"O(n log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                    explanation: \"worst O(n): pivot always @ min/max\",\r\n                                },\r\n                                Stable: [\"fas\", \"times-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"merge-sort\",\r\n                        title_text: \"Merge Sort\",\r\n                        component: MergeSortVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Adaptive\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    average: \"O(n log(n))\",\r\n                                },\r\n                                Stable: [\"fas\", \"check-circle\"],\r\n                                Adaptive: [\"fas\", \"times-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"lsd-radix-sort\",\r\n                        title_text: \"LSD Radix Sort\",\r\n                        component: LSDRadixSortVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Adaptive\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    average: \"O(nk)\",\r\n                                },\r\n                                Stable: [\"fas\", \"check-circle\"],\r\n                                Adaptive: [\"fas\", \"times-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(n+k)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"string-searching\",\r\n                title_text: \"String Searching\",\r\n                bigOOverride: \"MERGE_ROWS\",\r\n                classes: [\r\n                    {\r\n                        link: \"brute-force\",\r\n                        title_text: \"Brute Force\",\r\n                        component: BruteForceVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"No Matches\", \"Single Occurrence\", \"All Occurrences\", \"General\"],\r\n                                col1Name: \"\",\r\n                                No: {\r\n                                    best: \"O(n)\",\r\n                                    explanation: \"mismatches always at first character of pattern\",\r\n                                },\r\n                                Single: {\r\n                                    best: \"O(m)\",\r\n                                    explanation: \"match at beginning of text\",\r\n                                },\r\n                                All: {\r\n                                    best: \"O(mn)\",\r\n                                },\r\n                                General: {\r\n                                    average: \"O(mn)\",\r\n                                    worst: \"O(mn)\",\r\n                                    explanation: \"mismatches always at last character of pattern\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"boyer-moore\",\r\n                        title_text: \"Boyer Moore\",\r\n                        component: BoyerMooreVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Single Occurrence\", \"All Occurrences\", \"General\"],\r\n                                col1Name: \"\",\r\n                                Single: {\r\n                                    best: \"O(m)\",\r\n                                    explanation: \"match at beginning of text\",\r\n                                },\r\n                                All: {\r\n                                    best: \"O(m+n/m)\",\r\n                                    explanation: \"O(m): building last occurrence table\\nO(n/m): best case tracing\",\r\n                                    tier: 3,\r\n                                },\r\n                                General: {\r\n                                    worst: \"O(mn)\",\r\n                                    explanation: \"average: implementation dependent\\nworst O(mn): mismatches always at first character of pattern\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"kmp\",\r\n                        title_text: \"KMP\",\r\n                        component: KMPVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Single Occurrence\", \"All Occurrences\", \"General\"],\r\n                                col1Name: \"\",\r\n                                Single: {\r\n                                    best: \"O(m)\",\r\n                                    explanation: \"match at beginning of text\",\r\n                                },\r\n                                All: {\r\n                                    best: \"O(m+n)\",\r\n                                },\r\n                                General: {\r\n                                    average: \"O(m+n)\",\r\n                                    worst: \"O(m+n)\",\r\n                                    explanation: \"O(m) creating failure table\\nO(n) tracing\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"rabin-karp\",\r\n                        title_text: \"Rabin Karp\",\r\n                        component: RabinKarpVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Single Occurrence\", \"All Occurrences\", \"General\"],\r\n                                col1Name: \"\",\r\n                                Single: {\r\n                                    best: \"O(m)\",\r\n                                    explanation: \"match at beginning of text\",\r\n                                },\r\n                                All: {\r\n                                    best: \"O(m+n)\",\r\n                                },\r\n                                General: {\r\n                                    average: \"O(m+n)\",\r\n                                    worst: \"O(mn)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"graphs\",\r\n                title_text: \"Graph Algorithms\",//do custom big o data ----- each gets time and space\r\n                bigOOverride: \"MERGE_COLS|EXTRA_TABLES\",\r\n                bigOData: [\r\n                    {\r\n                        title_text: \"Graph Structure Performance\",\r\n                        data: {\r\n                            rows: [\"Space\", \"incidentEdges(u)\", \"areAdjacent(u,w)\", \"insertVertex(data)\", \"insertEdge(u,w,f)\", \"removeVertex(u)\", \"removeEdge(f)\"],\r\n                            cols: [\"AdjacencyList\", \"AdjacencyMatrix\", \"EdgeList\"],\r\n                            col1Name: \"Operation\",\r\n                            insertEdge: {\r\n                                average: \"O(1)\",\r\n                            },\r\n                            removeEdge: {\r\n                                average: \"O(1)\",\r\n                            },\r\n                            AdjacencyMatrix: {\r\n                                average: \"O(v)\",\r\n                                tier: 5,\r\n                            },\r\n                            EdgeList: {\r\n                                average: \"O(e)\",\r\n                                tier: 3,\r\n                            },\r\n                            Space_AdjacencyList: {\r\n                                average: \"O(v+e)\",\r\n                                tier: 4,\r\n                            },\r\n                            Space_EdgeList: {\r\n                                average: \"O(v+e)\",\r\n                                tier: 4,\r\n                            },\r\n                            incidentEdges_AdjacencyList: {\r\n                                average: \"O(deg(u))\",\r\n                                tier: 2,\r\n                            },\r\n                            incidentEdges_AdjacencyMatrix: {\r\n                                average: \"O(v)\",\r\n                                tier: 3,\r\n                            },\r\n                            areAdjacent_AdjacencyList: {\r\n                                average: \"O(min(deg(u),deg(w)))\",\r\n                                tier: 2,\r\n                            },\r\n                            areAdjacent_AdjacencyMatrix: {\r\n                                average: \"O(1)\",\r\n                            },\r\n                            insertVertex_AdjacencyList: {\r\n                                average: \"O(1)\",\r\n                            },\r\n                            insertVertex_EdgeList: {\r\n                                average: \"O(1)\",\r\n                            },\r\n                            removeVertex_AdjacencyList: {\r\n                                average: \"O(deg(v))\",\r\n                                tier: 2,\r\n                            },\r\n                        }\r\n                    }\r\n                ],\r\n                classes: [\r\n                    {\r\n                        link: \"bfs\",\r\n                        title_text: \"Breadth-First Search\",\r\n                        component: BFSVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    worst: \"O(v+e)\",\r\n                                    tier: 3,\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"dfs\",\r\n                        title_text: \"Depth-First Search\",\r\n                        component: DFSVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    worst: \"O(v+e)\",\r\n                                    tier: 3,\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"dijkstras\",\r\n                        title_text: \"Dijkstra's\",\r\n                        component: DijkstrasVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    worst: \"O((v+e)log(v))\",\r\n                                    tier: 4,\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"prims\",\r\n                        title_text: \"Prim's\",\r\n                        component: PrimsVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    worst: \"O((v+e)log(v))\",\r\n                                    tier: 4,\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"kruskals\",\r\n                        title_text: \"Kruskal's\",\r\n                        component: KruskalsVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    worst: \"O(e log(v))\",\r\n                                    tier: 4,\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"dynamic\",\r\n                title_text: \"Dynamic Programming\",\r\n                classes: [\r\n                    {\r\n                        link: \"lcs\",\r\n                        title_text: \"LCS\",\r\n                        component: LCSVisualizer,\r\n                        bigOData: {//do time and space\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    average: \"O(mn)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"floyd-warshall\",\r\n                        title_text: \"Floyd-Warshall\",\r\n                        component: FloydWarshallVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    average: \"O(v)\",\r\n                                },\r\n                                Space: {\r\n                                    average: \"O(v)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n        ],\r\n    },\r\n    {\r\n        link: \"about\",\r\n        icon: \"user\",\r\n        title_text: \"About\",\r\n    },\r\n];\r\n","import React, { Component } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport './nav-bar.scss';\r\n\r\nimport logo from 'res/images/logo.svg';\r\n\r\nimport { Utils } from 'utils';\r\n\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { fas } from '@fortawesome/free-solid-svg-icons';\r\nimport { far } from '@fortawesome/free-regular-svg-icons';\r\nimport { fab } from '@fortawesome/free-brands-svg-icons';\r\n\r\nlibrary.add(fas, far, fab);\r\n\r\nexport default class NavBar extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            responsive: false,\r\n        };\r\n\r\n        this.selfRef = React.createRef();\r\n        this.handleDocumentClick = this.handleDocumentClick.bind(this);\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    scrollToTop() {\r\n        document.body.scrollTop = 0; // For Safari\r\n        document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera\r\n        // console.log(\"scrolltotop\");\r\n    }\r\n\r\n    toggleResponsiveNav() {\r\n        this.setState((state) => {\r\n                return {\r\n                    responsive: !state.responsive,\r\n                };\r\n            });\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        document.addEventListener(\"mousedown\", this.handleDocumentClick);\r\n        // console.log(this.state.parentNavItem);\r\n    }\r\n    componentWillUnmount() {\r\n        document.removeEventListener(\"mousedown\", this.handleDocumentClick);\r\n    }\r\n    handleDocumentClick(event) {\r\n        // console.log(\"doc clicked nav title\");\r\n        // console.log(this.state.containingNavItemRef);\r\n        // console.log(this.state.containingNavItemRef.current);\r\n        if (this.selfRef.current && !this.selfRef.current.contains(event.target)) {\r\n            // console.log(\"outside nav title\");\r\n            this.clear();\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.setState({responsive: false});\r\n        this.scrollToTop();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div id=\"top-nav\" className={`nav-bar ${this.state.responsive ? \"responsive\" : \"\"} nav-container`} ref={this.selfRef}>\r\n                    <Link className=\"not-a-button\" id=\"nav-logo\" to={window.location.href.substring(window.location.href.indexOf(\"/#/\")).length > 0 ? \"/\" : \"\" }><img src={logo} className=\"app-logo\" alt=\"logo\" /></Link>\r\n                    {this.props.nav_items.map( (nav_item) => {\r\n                        return (\r\n                                <NavBarItem key={`nav-${nav_item.link}`} content={nav_item} container={this}/>\r\n                            );\r\n                    })}\r\n                    <button className=\"not-a-button nav-bar-item nav-item nav-item-title\" id=\"top-nav-menu\" onClick={() => this.toggleResponsiveNav()}><FontAwesomeIcon icon={\"bars\"} fixedWidth size={\"sm\"} /></button>\r\n                </div>\r\n            );\r\n    }\r\n}\r\n\r\nclass NavBarItem extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            link: this.props.content.link,\r\n            icon: this.props.content.icon,\r\n            title_text: this.props.content.title_text,\r\n            drop_down_items: this.props.content.types,\r\n        };\r\n\r\n        this.selfRef = React.createRef();\r\n\r\n        if (this.state.drop_down_items) {\r\n            this.state.showDropDown = false;\r\n        }\r\n\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    setShowDropDown(show) {\r\n        if (this.state.drop_down_items) {\r\n            this.setState( (state) => {\r\n                return {\r\n                    showDropDown: show,\r\n                }\r\n            }, () => {\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    toggleShowDropDown(show) {\r\n        if (this.state.drop_down_items) {\r\n            this.setState( (state) => {\r\n                return {\r\n                    showDropDown: !state.showDropDown,\r\n                }\r\n            }, () => {\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.setShowDropDown(false);\r\n        this.props.container.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className={`nav-bar-item nav-item ${this.state.drop_down_items && this.state.showDropDown ? \"active\" : \"\"}`} ref={this.selfRef}>\r\n                    <NavBarItemTitle link={this.state.link} icon={this.state.icon} title_text={this.state.title_text} parentRef={this.selfRef} parent={this} />\r\n                    {this.state.drop_down_items && this.state.showDropDown ?\r\n                        <NavBarDropDown items={this.state.drop_down_items} parentRoute={`/${this.state.link}`} parent={this} />\r\n                    :\r\n                        null\r\n                    }\r\n                </div>\r\n            );\r\n    }\r\n\r\n}\r\n\r\nclass NavBarItemTitle extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            link: this.props.link,\r\n            icon: this.props.icon,\r\n            title_text: this.props.title_text,\r\n            parentNavItem: this.props.parent,\r\n        };\r\n\r\n        this.handleDocumentClick = this.handleDocumentClick.bind(this);\r\n        this.onMouseDown = this.onMouseDown.bind(this);\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({containingNavItemRef: this.props.parentRef}, () => {\r\n            // console.log(this.state.containingNavItemRef);\r\n        });\r\n        document.addEventListener(\"mousedown\", this.handleDocumentClick);\r\n        // console.log(this.state.parentNavItem);\r\n    }\r\n    componentWillUnmount() {\r\n        document.removeEventListener(\"mousedown\", this.handleDocumentClick);\r\n    }\r\n    handleDocumentClick(event) {\r\n        // console.log(\"doc clicked nav title\");\r\n        // console.log(this.state.containingNavItemRef);\r\n        // console.log(this.state.containingNavItemRef.current);\r\n        if (this.state.containingNavItemRef.current && !this.state.containingNavItemRef.current.contains(event.target)) {\r\n            // console.log(\"outside nav title\");\r\n            this.state.parentNavItem.setShowDropDown(false);\r\n        }\r\n    }\r\n\r\n    onMouseDown(e) {\r\n        if (e.nativeEvent.which === 1) {\r\n            if (this.state.parentNavItem.state.showDropDown || !this.state.parentNavItem.state.drop_down_items) {\r\n                window.location.hash = `#/${this.state.parentNavItem.state.link}`;\r\n                this.clear();\r\n            } else {\r\n                this.state.parentNavItem.setShowDropDown(true);\r\n            }\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.state.parentNavItem.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                this.state.parentNavItem.state.drop_down_items ?\r\n                    <div onMouseDown={this.onMouseDown} className=\"nav-bar-item-title nav-item-title\" id={`nav-${this.state.link}`}><FontAwesomeIcon icon={this.state.icon} fixedWidth size={this.state.icon.includes(\"stack-overflow\") ? \"1x\" : \"sm\"} /> {this.state.title_text}</div>\r\n                :\r\n                    <Link onMouseDown={this.onMouseDown} className=\"nav-bar-item-title nav-item-title\" id={`nav-${this.state.link}`} to={`/${this.state.link}`}><FontAwesomeIcon icon={this.state.icon} fixedWidth size={this.state.icon.includes(\"stack-overflow\") ? \"1x\" : \"sm\"} /> {this.state.title_text}</Link>\r\n            );\r\n    }\r\n}\r\n\r\nclass NavBarDropDown extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            drop_down_items: this.props.items,\r\n            parentNavItem: this.props.parent,\r\n        };\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    clear() {\r\n        this.state.parentNavItem.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"nav-bar-drop-down nav-container\"> {\r\n                    this.state.drop_down_items.map( (drop_down_item) => {\r\n                    return (\r\n                            <NavBarDropDownItem key={`nav-${drop_down_item.link}`} content={drop_down_item} parent={this} parentRoute={this.props.parentRoute} />\r\n                        );\r\n                })} </div>\r\n            );\r\n    }\r\n}\r\n\r\nclass NavBarDropDownItem extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            link: this.props.content.link,\r\n            title_text: this.props.content.title_text,\r\n            side_pane_items: this.props.content.classes,\r\n            parentRoute: this.props.parentRoute,\r\n            parent: this.props.parent,\r\n        };\r\n\r\n        this.selfRef = React.createRef();\r\n\r\n        if (this.state.side_pane_items) {\r\n            this.state.showSidePane = false;\r\n        }\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    setShowSidePane(show) {\r\n        if (this.state.side_pane_items) {\r\n            this.setState( (state) => {\r\n                return {\r\n                    showSidePane: show,\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    toggleShowSidePane(show) {\r\n        if (this.state.side_pane_items) {\r\n            this.setState( (state) => {\r\n                return {\r\n                    showSidePane: !state.showSidePane,\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    onMouseDown() {\r\n        this.toggleShowSidePane();\r\n    }\r\n\r\n    clear() {\r\n        this.setShowSidePane(false);\r\n        this.state.parent.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className={`nav-bar-drop-down-item nav-item ${this.state.side_pane_items && this.state.showSidePane ? \"active\": \"\"}`} ref={this.selfRef}>\r\n                    <NavBarDropDownItemTitle link={this.state.link} parentRoute={this.state.parentRoute} title_text={this.state.title_text} parentRef={this.selfRef} parent={this} />\r\n                    {this.state.side_pane_items && this.state.showSidePane ?\r\n                        <NavBarSidePane items={this.state.side_pane_items} parentRoute={`${this.props.parentRoute}/${this.state.link}`} parent={this}></NavBarSidePane>\r\n                    :\r\n                        null\r\n                    }\r\n                </div>\r\n            );\r\n    }\r\n\r\n}\r\n\r\nclass NavBarDropDownItemTitle extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            link: this.props.link,\r\n            parentRoute: this.props.parentRoute,\r\n            title_text: this.props.title_text,\r\n            // containingDropDownItemRef: this.props.parentRef,\r\n            parentDropDownItem: this.props.parent,\r\n        };\r\n\r\n        this.handleDocumentClick = this.handleDocumentClick.bind(this);\r\n        this.onMouseDown = this.onMouseDown.bind(this);\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({containingDropDownItemRef: this.props.parentRef}, () => {\r\n            // console.log(this.state.containingDropDownItemRef);\r\n        });\r\n        document.addEventListener(\"mousedown\", this.handleDocumentClick);\r\n        // console.log(this.state.parentDropDownItem);\r\n    }\r\n    componentWillUnmount() {\r\n        document.removeEventListener(\"mousedown\", this.handleDocumentClick);\r\n    }\r\n    handleDocumentClick(event) {\r\n        // console.log(\"doc clicked nav title\");\r\n        // console.log(this.state.containingDropDownItemRef);\r\n        // console.log(this.state.containingDropDownItemRef.current);\r\n        if (this.state.containingDropDownItemRef.current && !this.state.containingDropDownItemRef.current.contains(event.target)) {\r\n            // console.log(\"outside nav title\");\r\n            this.state.parentDropDownItem.setShowSidePane(false);\r\n        }\r\n    }\r\n\r\n    onMouseDown(e) {\r\n        if (e.nativeEvent.which === 1) {\r\n            if (this.state.parentDropDownItem.state.showSidePane) {\r\n                window.location.hash = `#${this.state.parentRoute}/${this.state.link}`;\r\n                this.clear();\r\n            } else {\r\n                this.state.parentDropDownItem.toggleShowSidePane();\r\n            }\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.state.parentDropDownItem.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                this.state.parentDropDownItem.state.side_pane_items ?\r\n                    <div onMouseDown={this.onMouseDown} className=\"nav-bar-drop-down-item-title nav-item-title\" id={`nav-${this.state.link}`}>\r\n                        {Utils.spannifyText(this.state.title_text,\"/\")}\r\n                    </div>\r\n                :\r\n                    <Link onMouseDown={this.clear} className=\"nav-bar-drop-down-item-title nav-item-title\" id={`nav-${this.state.link}`} to={`${this.state.parentRoute}/${this.state.link}`}>{this.state.title_text}</Link>\r\n            );\r\n    }\r\n}\r\n\r\nclass NavBarSidePane extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            side_pane_items: this.props.items,\r\n            parentDropDownItem: this.props.parent,\r\n        };\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    clear() {\r\n        this.state.parentDropDownItem.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"nav-bar-side-pane nav-container\"> {\r\n                    this.state.side_pane_items.map( (side_pane_item) => {\r\n                        return (\r\n                                <NavBarSideItem key={`nav-${side_pane_item.link}`} content={side_pane_item} parentRoute={this.props.parentRoute} parent={this} />\r\n                            );\r\n                })} </div>\r\n            );\r\n    }\r\n}\r\n\r\n\r\nclass NavBarSideItem extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            link: this.props.content.link,\r\n            title_text: this.props.content.title_text,\r\n            parentRoute: this.props.parentRoute,\r\n            parent: this.props.parent,\r\n        };\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    clear() {\r\n        window.location.hash = `#${this.state.parentRoute}/${this.state.link}`;\r\n        this.state.parent.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"nav-bar-side-item nav-item\">\r\n                    <Link onMouseDown={this.clear} className=\"nav-bar-side-pane-item-title nav-item-title\" id={`nav-${this.state.link}`} to={`${this.state.parentRoute}/${this.state.link}`}>{this.state.title_text}</Link>\r\n                </div>\r\n            );\r\n    }\r\n\r\n}\r\n","import React from 'react';\r\nimport './app-header.scss';\r\nimport NavBar from '../nav-bar';\r\nimport { SiteMap } from 'utils';\r\n\r\nexport default function AppHeader() {\r\n    return (\r\n            <header className=\"app-header\">\r\n                <NavBar nav_items={SiteMap} />\r\n            </header>\r\n        );\r\n}\r\n","import React from 'react';\r\nimport './app-footer.scss';\r\n\r\n\r\nexport default function AppFooter() {\r\n    return (\r\n            <footer className=\"app-footer\">\r\n                <div className=\"footer-message\">\r\n                    <p>Created using ReactJS by Mudit Gupta for The Georgia Institute of Technology. Updated Feb. 16, 2020.</p>\r\n                </div>\r\n            </footer>\r\n        );\r\n}\r\n","import { VisualizerTitle } from './visualizer-title';\r\nexport default VisualizerTitle;\r\n","import React from 'react';\r\nimport './visualizer-title.scss';\r\n\r\nimport { Utils } from 'utils';\r\n\r\nexport const VisualizerTitle = (props) => {\r\n    return (\r\n            <div className=\"visualizer-title\">\r\n                <p className=\"title-text\" onClick={() => {window.location.hash = `#/${props.group}/${props.type}/${props.link}`;}}>\r\n                    {Utils.spannifyText(props.title,\"CAPITALS\")}\r\n                </p>\r\n            </div>\r\n        );\r\n}\r\n","import { BigOType } from './big-o-type';\r\nexport default BigOType;\r\n","import React, { useEffect } from 'react';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport './big-o-type.scss';\r\n\r\nimport { SiteMap, Utils } from 'utils';\r\nimport { default as BigODisplay } from './big-o-display';\r\n\r\nexport const BigOType = (props) => {\r\n    let match = useRouteMatch({\r\n        path: `/${props.group}/${props.type}`\r\n    });\r\n    useEffect(() => {\r\n        document.querySelector(\".app-content\").style[\"overflow-y\"] = match ? \"\" : \"scroll\";\r\n    });\r\n    let type = SiteMap.filter(group => group.link === props.group)[0].types.filter(type => type.link === props.type)[0];\r\n    let classes = type.bigOOverride ? [] : type.classes;\r\n    let unalignedTables = false;\r\n    if (type.bigOOverride) {\r\n        if (type.bigOOverride.includes(\"ADT_INFOS\")) {\r\n            classes = type.bigOData.map(bigOType => {\r\n                let cls = type.classes.filter(cls => cls.link === bigOType.class)[0];\r\n                // console.log({ ...cls, title_text: bigOType.title_text });\r\n                return { ...cls, title_text: bigOType.title_text };\r\n            });\r\n        } else if (type.bigOOverride.includes(\"MERGE_ROWS\")) {\r\n            classes = [{\r\n                ...type.classes[0],\r\n                title_text: \"\",\r\n                data: type.classes.reduce((data, currClass) => {\r\n                    // console.log(data, currClass);\r\n                    data.rows.push(currClass.title_text);\r\n                    if (currClass.bigOData.defaultConfig.cols.length > data.cols.length) {\r\n                        data.cols = currClass.bigOData.defaultConfig.cols;\r\n                        data.colExplanations = currClass.bigOData.defaultConfig.colExplanations;\r\n                    }\r\n                    let title = currClass.title_text.substring(0, currClass.title_text.search(/\\W|$/));\r\n                    for (let col in currClass.bigOData.defaultConfig) {\r\n                        if (col !== \"rows\" && col !== \"cols\" && col !== \"col1Name\") {\r\n                            // console.log(col, currClass.title_text, title);\r\n                            data[`${title}_${col}`] = currClass.bigOData.defaultConfig[col];\r\n                        }\r\n                    }\r\n                    for (let config in currClass.bigOData) {\r\n                        if (config !== \"defaultConfig\") {\r\n                            console.log(config);\r\n                            for (let col in currClass.bigOData[config]) {\r\n                                if (col !== \"name\") {\r\n                                    console.log(col);\r\n                                    data[`${title}_${col}`][currClass.bigOData[config].name] = currClass.bigOData[config][col].newBigO;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    console.log(data);\r\n                    return data;\r\n                }, {\r\n                    rows: [],\r\n                    cols: [],\r\n                    col1Name: \"\",\r\n                })\r\n            }];\r\n            // console.log(classes);\r\n            unalignedTables = true;\r\n        } else if (type.bigOOverride.includes(\"MERGE_COLS\")) {\r\n            classes = [{\r\n                ...type.classes[0],\r\n                title_text: \"\",\r\n                data: type.classes.reduce((data, currClass) => {\r\n                    // console.log(data, currClass);\r\n                    data.cols.push(currClass.title_text);\r\n                    data.rows = currClass.bigOData.defaultConfig.cols;\r\n                    let title = currClass.title_text.substring(0, currClass.title_text.search(/\\W|$/));\r\n                    for (let col in currClass.bigOData.defaultConfig) {\r\n                        if (col !== \"rows\" && col !== \"cols\" && col !== \"col1Name\") {\r\n                            // console.log(col, currClass.title_text, title);\r\n                            data[`${col}_${title}`] = currClass.bigOData.defaultConfig[col];\r\n                        }\r\n                    }\r\n                    for (let config in currClass.bigOData) {\r\n                        if (config !== \"defaultConfig\") {\r\n                            console.log(config);\r\n                            for (let col in currClass.bigOData[config]) {\r\n                                if (col !== \"name\") {\r\n                                    data[`${col}_${title}`][currClass.bigOData[config].name] = currClass.bigOData[config][col].newBigO;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    return data;\r\n                }, {\r\n                    rows: [],\r\n                    cols: [],\r\n                    col1Name: \"\",\r\n                })\r\n            }];\r\n            unalignedTables = true;\r\n        }\r\n        if (type.bigOOverride.includes(\"EXTRA_TABLES\")) {\r\n            classes.push(...type.bigOData.map((extraTableData, i) => {\r\n                return { ...extraTableData, link: `fakeLink:${i}` };\r\n            }));\r\n            unalignedTables = true;\r\n        }\r\n    }\r\n    return (\r\n            <div className=\"big-o-type\">\r\n                    <h3 className=\"big-o-type-title\">\r\n                        {Utils.spannifyText(type.title_text,\"CAPITALS\")} Big-O Summary\r\n                    </h3>\r\n                    <div className=\"big-o-display-list-container\">\r\n                        {classes.map( (visualizer) => {\r\n                            return (\r\n                                    <div key={visualizer.link} className={`big-o-display-container${unalignedTables ? \" one-table\" : \"\"}`}>\r\n                                        <h4 className=\"big-o-display-title\">{visualizer.title_text}</h4>\r\n                                        <BigODisplay group={props.group} type={props.type} class={visualizer.link} data={visualizer.data}/>\r\n                                    </div>\r\n                                );\r\n                        })}\r\n                    </div>\r\n            </div>\r\n        );\r\n}\r\n","import { VisualizerType } from './visualizer-type';\r\nexport default VisualizerType;\r\n","import React, { useEffect } from 'react';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport './visualizer-type.scss';\r\n\r\nimport { SiteMap, Utils } from 'utils';\r\nimport VisualizerTitle from './visualizer-title';\r\nimport BigOType from 'components/big-o-type';\r\n\r\nexport const VisualizerType = (props) => {\r\n    let typeMatch = useRouteMatch({\r\n        path: `/${props.group}/${props.type}`\r\n    });\r\n    let fullVisualizerClassMatch = useRouteMatch({\r\n        path: `/${props.group}/${props.type}/:visualizerClass`\r\n    });\r\n    useEffect(() => {\r\n        document.querySelector(\".app-content\").style[\"overflow-y\"] = fullVisualizerClassMatch ? \"\" : \"scroll\";\r\n        return () => {\r\n            document.querySelector(\".app-content\").style[\"overflow-y\"] = \"\";\r\n        };\r\n    }, [fullVisualizerClassMatch]);\r\n    let type = SiteMap.filter(group => group.link === props.group)[0].types.filter(type => type.link === props.type)[0];\r\n    let foundClass = fullVisualizerClassMatch && type.classes.map(visualizer => visualizer.link).includes(fullVisualizerClassMatch.params.visualizerClass);\r\n    let visualizerClass = foundClass ? type.classes.filter(visualizer => visualizer.link === fullVisualizerClassMatch.params.visualizerClass)[0] : null;\r\n    let VisualizerComponent = visualizerClass && visualizerClass.component;\r\n    return (\r\n            foundClass\r\n                ? <VisualizerComponent visualizerClass={visualizerClass}/>\r\n                : <div className=\"visualizer-type\">\r\n                        <h4 className={`visualizer-type-title${typeMatch ? \"\" : \" clickable-type-title\"}`} onClick={typeMatch ? null : () => {window.location.hash = `#/${props.group}/${props.type}`;}}>\r\n                            {Utils.spannifyText(type.title_text,\"CAPITALS\")}\r\n                        </h4>\r\n                        <div className=\"visualizer-title-container\">\r\n                            {type.classes.map( (visualizer) => {\r\n                                return visualizer.component && (\r\n                                        <VisualizerTitle key={visualizer.link} group={props.group} type={props.type} title={visualizer.title_text} link={visualizer.link} />\r\n                                    );\r\n                            })}\r\n                        </div>\r\n                        {typeMatch && <BigOType group={props.group} type={props.type} />}\r\n                </div>\r\n        );\r\n}\r\n","import { VisualizerGroup } from './visualizer-group';\r\nexport default VisualizerGroup;\r\n","import React from 'react';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport './visualizer-group.scss';\r\n\r\nimport { SiteMap } from 'utils';\r\nimport { default as VisualizerType } from './visualizer-type';\r\n\r\nexport const VisualizerGroup = (props) => {\r\n    let match = useRouteMatch({\r\n        path: `/${props.group}/:visualizerType`\r\n    });\r\n    // console.log(\"group\",match,SiteMap.filter(group => group.link === props.group)[0].types.map(type => type.link));\r\n    return (\r\n            match && SiteMap.filter(group => group.link === props.group)[0].types.map(type => type.link).includes(match.params.visualizerType)\r\n                ? <VisualizerType group={props.group} type={match.params.visualizerType} />\r\n                : <div className=\"visualizer-group\">\r\n                    {SiteMap.filter(group => group.link === props.group)[0].types.map( (type) => {\r\n                        return (\r\n                                <VisualizerType key={type.link} group={props.group} type={type.link} />\r\n                            );\r\n                    })}\r\n                </div>\r\n        );\r\n}\r\n","import { Main } from './main';\r\nexport default Main;\r\n","import React from 'react';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport './main.scss';\r\n\r\nimport { SiteMap } from 'utils';\r\nimport { default as VisualizerGroup } from 'components/visualizer-group';\r\n\r\nexport const Main = () => {\r\n    let match = useRouteMatch({\r\n        path: `/:visualizerGroup`\r\n    });\r\n    // console.log(\"main\",match,SiteMap.slice(0,-1).map(group => group.link));\r\n    return (\r\n            match && SiteMap.slice(0,-1).map(group => group.link).includes(match.params.visualizerGroup)\r\n                ? <VisualizerGroup group={match.params.visualizerGroup} />\r\n                : <div className=\"main\">\r\n                    {SiteMap.slice(0,-1).map( (group) => {\r\n                        return (\r\n                                <VisualizerGroup key={group.link} group={group.link} />\r\n                            );\r\n                    })}\r\n                </div>\r\n        );\r\n}\r\n","import React from 'react';\r\nimport './about.scss';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default function About() {\r\n    return (\r\n            <div className=\"about\">\r\n                <h1>About CS Vis</h1>\r\n                <p>I created this tool to visualize some of the algorithms I've been learning in my classes.\r\n                Most of these visualizations are inspired by those found at <a href='https://csvistool.com'>csvistool.com</a>.\r\n                I tried to make the UX here as convenient as possible, but I'd love to hear your design input;\r\n                I'm not a front-end person, so I'm doing my best :).</p>\r\n                <p>Check out the <a href='https://github.com/muditg317/cs-vis'>Source Code here</a>!</p>\r\n                <h2>Tool Use</h2>\r\n                <p>All visualization pages have the same layout. The navigation bar can be used to access any of the visualizations.\r\n                Click the clock icon <FontAwesomeIcon icon={[\"far\",\"clock\"]} /> next to the visualization title to see the related Big-O data.\r\n                Use the <code>SpaceBar</code> in combination with <code>Shift</code> and the <code>ArrowKeys</code> to pause and step through the various animations.\r\n                Press <code>Ctrl-Z</code> to undo the most recent input.</p>\r\n                <h2>Me!</h2>\r\n                <p>This is something I wanted to make to learn more about these datastructures and algorithms while also learning how to use the ReactJS framework.\r\n                Check out some of my other projects at <a href='https://muditgupta.appspot.com'>muditgupta.appspot.com</a></p>\r\n            </div>\r\n        );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { HashRouter, Switch, Route } from \"react-router-dom\";\r\nimport './app.scss';\r\nimport './universal.scss';\r\n\r\nimport AppHeader from './app-header';\r\nimport AppFooter from './app-footer';\r\nimport Main from 'components/main';\r\nimport About from 'components/about';\r\n\r\nimport { Utils } from 'utils';\r\n\r\nexport default function App(props) {\r\n    useEffect(() => {\r\n        Utils.addMobileClasses();\r\n    }, []);\r\n    return (\r\n            <HashRouter basename='/'>\r\n                <React.StrictMode>\r\n                    <div className=\"app\">\r\n                        <AppHeader />\r\n                        <div className=\"app-content\">\r\n                            <Switch>\r\n                                <Route path=\"/about\">\r\n                                    <About />\r\n                                </Route>\r\n                                <Route path=\"/\">\r\n                                    <Main />\r\n                                </Route>\r\n                            </Switch>\r\n                        </div>\r\n                        <AppFooter />\r\n                    </div>\r\n                </React.StrictMode>\r\n            </HashRouter>\r\n        );\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport MainComponent from './components';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<MainComponent />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}