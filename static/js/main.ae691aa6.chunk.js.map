{"version":3,"sources":["res/images/logo.svg","utils/ControlBuilder.js","utils/Colors.js","utils/Utils.js","components/visualizer/controlBar/controlBar.jsx","components/big-o-type/big-o-display/big-o-display.jsx","components/big-o-type/big-o-display/index.js","components/visualizer/bigOWindow/bigOWindow.jsx","components/visualizer/examplesWindow/examplesWindow.jsx","animation/AnimatedObjects/AnimatedObject.js","animation/AnimatedObjects/AttractedDraggableObject.js","animation/AnimatedObjects/AttractedHighlightableObject.js","animation/AnimatedObjects/TreeNode.js","animation/AnimatedObjects/TrackingHighlighter.js","animation/Animator.js","animation/Visualization.js","animation/Visualizations/DataStructure/List/ArrayList/ArrayList.js","animation/Visualizations/DataStructure/List/LinkedList/SinglyLinkedList/SinglyLinkedList.js","animation/Visualizations/DataStructure/List/LinkedList/DoublyLinkedList/DoublyLinkedList.js","animation/Visualizations/DataStructure/List/LinkedList/CircularSinglyLinkedList/CircularSinglyLinkedList.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Stack/StackArray/StackArray.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Stack/StackLinkedList/StackLinkedList.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Queue/QueueArray/QueueArray.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Queue/QueueLinkedList/QueueLinkedList.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Deque/DequeArray/DequeArray.js","animation/Visualizations/DataStructure/Stack-Queue-Deque/Deque/DequeLinkedList/DequeLinkedList.js","animation/Visualizations/DataStructure/Tree-SkipList/BinaryTree/BST/BST.js","animation/Visualizations/DataStructure/Tree-SkipList/BinaryTree/Heap/Heap.js","animation/Visualizations/DataStructure/Tree-SkipList/BinaryTree/AVL/AVL.js","animation/Visualizations/DataStructure/Tree-SkipList/BinaryTree/SplayTree/SplayTree.js","animation/Visualizations/DataStructure/Tree-SkipList/BTree/BTree.js","animation/Visualizations/DataStructure/Tree-SkipList/SkipList/SkipList.js","animation/Visualizations/DataStructure/HashMap/HashMapProbing/HashMapProbing.js","animation/Visualizations/DataStructure/HashMap/HashMapChaining/HashMapChaining.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/BubbleSort/BubbleSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/CocktailShakerSort/CocktailShakerSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/InsertionSort/InsertionSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/SelectionSort/SelectionSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/QuickSort/QuickSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/QuickSelect/QuickSelect.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/MergeSort/MergeSort.js","animation/Visualizations/Algorithm/Sorting-QuickSelect/LSDRadixSort/LSDRadixSort.js","animation/Visualizations/Algorithm/StringSearching/BruteForce/BruteForce.js","animation/Visualizations/Algorithm/StringSearching/BoyerMoore/BoyerMoore.js","animation/Visualizations/Algorithm/StringSearching/KMP/KMP.js","animation/Visualizations/Algorithm/StringSearching/RabinKarp/RabinKarp.js","animation/Visualizations/Algorithm/GraphAlgorithms/BFS/BFS.js","animation/Visualizations/Algorithm/GraphAlgorithms/DFS/DFS.js","animation/Visualizations/Algorithm/GraphAlgorithms/Dijkstras/Dijkstras.js","animation/Visualizations/Algorithm/GraphAlgorithms/Prims/Prims.js","animation/Visualizations/Algorithm/GraphAlgorithms/Kruskals/Kruskals.js","animation/Visualizations/Algorithm/DynamicProgramming/LCS/LCS.js","animation/Visualizations/Algorithm/DynamicProgramming/FloydWarshall/FloydWarshall.js","components/visualizer/visualizer.jsx","components/lists/list-ADT.jsx","components/lists/arraylist/arraylist.jsx","components/lists/singly-linked-list/singly-linked-list.jsx","components/lists/doubly-linked-list/doubly-linked-list.jsx","components/lists/circular-singly-linked-list/circular-singly-linked-list.jsx","components/stacks-queues-deques/stack-ADT.jsx","components/stacks-queues-deques/queue-ADT.jsx","components/stacks-queues-deques/deque-ADT.jsx","components/stacks-queues-deques/stack-array/stack-array.jsx","components/stacks-queues-deques/stack-linked-list/stack-linked-list.jsx","components/stacks-queues-deques/queue-array/queue-array.jsx","components/stacks-queues-deques/queue-linked-list/queue-linked-list.jsx","components/stacks-queues-deques/deque-array/deque-array.jsx","components/stacks-queues-deques/deque-linked-list/deque-linked-list.jsx","components/trees-skiplist/tree-ADT.jsx","components/trees-skiplist/binary-searching-tree-ADT.jsx","components/trees-skiplist/heap-ADT.jsx","components/trees-skiplist/skiplist-ADT.jsx","components/trees-skiplist/bst/bst.jsx","components/trees-skiplist/heap/heap.jsx","components/trees-skiplist/avl/avl.jsx","components/trees-skiplist/splaytree/splaytree.jsx","components/trees-skiplist/btree/btree.jsx","components/trees-skiplist/skiplist/skiplist.jsx","components/hashmaps/hashmap-ADT.jsx","components/hashmaps/probing-ADT.jsx","components/hashmaps/hashmap-probing/hashmap-probing.jsx","components/hashmaps/hashmap-chaining/hashmap-chaining.jsx","components/sorting-quickselect/sort-ADT.jsx","components/sorting-quickselect/bubbling-ADT.jsx","components/sorting-quickselect/quick-ADT.jsx","components/sorting-quickselect/select-ADT.jsx","components/sorting-quickselect/bubble-sort/bubble-sort.jsx","components/sorting-quickselect/cocktail-shaker-sort/cocktail-shaker-sort.jsx","components/sorting-quickselect/insertion-sort/insertion-sort.jsx","components/sorting-quickselect/selection-sort/selection-sort.jsx","components/sorting-quickselect/quick-sort/quick-sort.jsx","components/sorting-quickselect/quick-select/quick-select.jsx","components/sorting-quickselect/merge-sort/merge-sort.jsx","components/sorting-quickselect/lsd-radix-sort/lsd-radix-sort.jsx","components/string-searching/search-ADT.jsx","components/string-searching/with-table-ADT.jsx","components/string-searching/brute-force/brute-force.jsx","components/string-searching/boyer-moore/boyer-moore.jsx","components/string-searching/kmp/kmp.jsx","components/string-searching/rabin-karp/rabin-karp.jsx","components/graph-algorithms/graph-ADT.jsx","components/graph-visualizer-controls/graph-visualizer-controls.jsx","components/graph-visualizer-controls/index.js","components/graph-algorithms/bfs/bfs.jsx","components/graph-algorithms/dfs/dfs.jsx","components/graph-algorithms/dijkstras/dijkstras.jsx","components/graph-algorithms/prims/prims.jsx","components/graph-algorithms/kruskals/kruskals.jsx","components/dynamic-programming/lcs/lcs.jsx","components/dynamic-programming/floyd-warshall/floyd-warshall.jsx","utils/SiteMap.js","components/app/nav-bar/nav-bar.jsx","components/app/app-header/app-header.jsx","components/app/app-footer/app-footer.jsx","components/visualizer-group/visualizer-type/visualizer-title/index.js","components/visualizer-group/visualizer-type/visualizer-title/visualizer-title.jsx","components/big-o-type/index.js","components/big-o-type/big-o-type.jsx","components/visualizer-group/visualizer-type/index.js","components/visualizer-group/visualizer-type/visualizer-type.jsx","components/visualizer-group/index.js","components/visualizer-group/visualizer-group.jsx","components/main/index.js","components/main/main.jsx","components/about/about.jsx","components/app/app.jsx","serviceWorker.js","index.js"],"names":["module","exports","newEmptyControl","emptyControl","document","createElement","applyStyle","createControl","type","value","newControl","classList","add","setAttribute","createButton","label","options","button","innerHTML","attr","tooltipText","attributes","addButtonSubmit","callback","fields","undefined","addEventListener","event","args","forEach","field","parse","push","f","clearOnSuccess","focus","length","console","log","applyNewCallbackButton","visualizer","name","longName","addAnimatorEnableDisable","animator","on","disabled","applyResetButton","prompt","fieldToFocus","property","endsWith","constructor","HTMLInputElement","createField","validators","inputValidators","parsers","map","validator","parser","i","validatorIntOnly","match","reduce","sum","char","val","parseInt","isNaN","validatorPositiveIntOnly","Math","abs","validatorIntList","numLength","maxNums","cursorPos","selectionStart","replace","substring","lastIndexOf","selectionEnd","values","ints","num","pow","intStr","arr","first","second","slice","validatorMaxLength","maxLength","String","validatorSkipListHeads","addFieldSubmit","secondaryRequired","secondary","isFirstParam","clear","key","success","secondaryValue","applyFieldWithOptions","classes","defaultArgs","size","createLabel","text","control","newLabel","id","createSlider","min","max","defaultValue","step","slider","createRadioButton","longText","buttonContainer","radioButton","tabindex","blur","appendChild","click","createRadio","radioContainer","option","radioButtonContainer","childNodes","checked","addRadioSubmit","createCheckButton","checkButton","target","createCheckBox","checkBoxContainer","checkButtonContainer","addCheckBoxSubmit","max1Checked","checkedButton","checkedValues","checkButtonBox","createControlGroup","controlGroup","controls","setTabControl","nextControl","window","shifted","preventDefault","styleType","style","RED","GREEN","BLUE","BLACK","WHITE","addArray","array","newArr","arrays","item","isDev","process","unfoldUndoRedo","object","properties","Set","currObj","Object","getOwnPropertyNames","getPrototypeOf","functions","keys","filter","includes","undo","redo","DOM_SELECORS_USING_MOBILE","isMobile","ontouchstart","addMobileClasses","selector","querySelectorAll","node","isReactComponent","component","prototype","windowWidth","documentElement","clientWidth","innerWidth","windowHeight","clientHeight","innerHeight","spannifyText","afterTheseString","split","toUpperCase","RegExp","str","ControlBar","props","defaultContainer","React","createRef","defaults","mainContainer","controlBar","this","defaultsLabel","forceUpdate","mainLabel","current","all1","contains","transformed","getBoundingClientRect","width","parseFloat","getComputedStyle","getPropertyValue","remove","testCenterControls","testSize","className","ref","data-tooltip","tt-bottom","tt-right","onClick","showBigODisplay","icon","hasExamples","showExamplesDisplay","PureComponent","bigODatumToDivClass","bigODatum","BigODisplay","BIG_O_DATA","bigOSpecs","data","SiteMap","group","link","types","class","bigOData","__proto__","defaultConfig","DATA","headers","col1Name","cols","header","dataString","styleClass","explanation","rows","row","ROW","col","regexIgnoreSymbol","row_","search","col_","BIG_O_OP_INFO","extraConfigData","config","best","average","amortized","worst","unamortized","extraConfig","trim","newBigO","indexOf","tier","allSame","extractDataFromSpecs","useEffect","mouseEnterHandler","left","top","explanationNode","lastChild","tableCellBounds","explanationNodeBounds","right","Utils","bottom","height","cellsWithExplanations","explanationCell","removeEventListener","borderColor","cell","j","line","k","BigOWindow","forwardRef","closeBigODisplay","containerRef","useRef","documentClickHandler","escapeKeyHandler","useRouteMatch","path","title","params","visualizerGroup","visualizerType","visualizerClass","ExamplesDisplay","example","exampleText","bind","operationList","needsReset","tryItText","ExamplesWindow","closeExamplesDisplay","examples","AnimatedObject","xProgress","yProgress","direction","animationSpeed","inPosition","sign","AttractedDraggableObject","x","y","currentX","currentY","desiredX","desiredY","vx","vy","frozen","onStop","pinnedToMouse","mouseOffsetX","mouseOffsetY","stop","sqrt","shift","mouseX","mouseY","CAN_DRAG","p5","deltaX","deltaY","floor","Visualizer","maxAnimationSpeed","angle","atan","PI","magnitude","ATTRACTION","prevAngle","cos","sin","MIN_DISTANCE","AttractedHighlightableObject","highlighted","highlightColor","Colors","highlightShape","HIGHLIGHT_CIRCLE","entries","oldX","oldY","color","shape","unhighlight","highlight","stroke","noFill","strokeWeight","HIGHTLIGHT_WIDTH","diameter","highlightInnerRadius","highlightOuterRadius","circle","HIGHLIGHT_SQUARE","square","pop","textAlign","CENTER","fill","radius","toString","drawHighlight","drawValue","TreeNode","readyToFollow","SIZE","getCenterXY","centerX","centerY","containsMousePin","VSPACE","TrackingHighlighter","offset","locked","innerRadius","asRedSquare","trackTarget","Animator","events","Visualization","SET_BOUNDS","SUPPORTS_TEXT","showText","updateText","SUPPORTS_NO_LOOP","drawing","beginDrawLoop","endDrawLoop","SUPPORTS_ANIMATION_CONTROL","paused","playPause","play","pause","skipBack","stepBack","undoAnimation","undoText","skipForward","stepForward","redoAnimation","undoAction","doExample","SUPPORTS_STOP_ID","stopID","testAnimation","reset","made","howMany","animationHistory","animationSet","stepData","animation","method","isBackStep","isAnimationStep","isForwardStep","alsoForward","lastForward","displayText","displayTextColor","runningAnimation","animationQueue","animating","stopDrawing","noLoop","emit","enable","disable","isPauseTrigger","unshift","setPaused","noAnim","apply","canStepBack","canSkipBack","canStepForward","canSkipForward","textAnimation","getLastTextAnimation","previousAnimation","doDraw","scope","undoMethod","undoData","LOG_UNDO_REDO","customUndoEnd","ensureDrawn","lastUndo","unAnimate","popHistoryToRunningAnimation","nextAnimation","retVal","redoData","isAnimEnd","isAnimStart","isEndDrawLoopTrigger","explanationUsesReturn","customRedoEnd","returnsUndoData","returnsRedoData","lastRedo","reAnimate","previousAnimationSequence","containsAnimStart","noAnimStartsInQueue","canUndo","isUndoTrigger","wasPaused","splice","temp","methodName","TypeError","time","caller","LOG_DONE_ANIMATING","setTimeout","callForward","testsWindowSize","popAnimation","SUPPORTS_INFREQUENT_RESIZE","testWindowSize","LOG_ANIMATIONS","returnValue","TEST_ANIMATION_STEPS","SUPPORTS_CUSTOM_END","noAnimation","customEnd","doneAnimating","MAX_ANIM_TIME","quick","loop","force","LOG_DRAW","textSize","LEFT","TOP","getDisplayTextExtraLines","translate","textWidth","lines","ceil","numScrollbars","maxY","maxWidth","querySelector","resizeCanvas","e","INITIAL_SPEED","ArrayList","backingArray","INITIAL_CAPACITY","ArrayElement","index","doubleSize","shiftForIndex","setIndex","sizeIncr","addAnimation","addAtIndex","element","shiftIntoIndex","sizeDecr","removeFromIndex","resetElement","incrLength","shiftElement","shiftElementMovement","shiftElementIndex","ELEMENT_SIZE","update","foundAnimElement","maxPerRow","numElements","noStroke","rect","block","nextX","nextY","draw","USE_CANVAS","toX","toY","posX","posY","SinglyLinkedList","head","nodes","tempNode","pinnedNode","nextNode","moveHighlight","next","makeNode","setTempNodeBefore","setTempNodePrev","shiftForNode","insertTempNode","prev","toDelete","markNodeForDeletion","unmakeNode","shiftIntoNode","skipTempNode","SinglyLinkedListNode","getNodePosition","fromNode","toNode","unHighlight","nodeToDelete","markForDeletion","addOnStop","shiftNode","ELEMENT_HEIGHT","containsPos","pin","unpin","markBroken","highlightForDeletion","updateNode","ELEMENT_WIDTH","pressedNode","getNodeAtPos","POINTER_WIDTH","ITEM_WIDTH","SPACING","MAX_DIST_REMOVE","handBroken","displacement","dist","DoublyLinkedList","tail","skipTempNodePrev","skipTempNodeNext","DoublyLinkedListNode","ELEMENT_PADDED_WIDTH","CircularSinglyLinkedList","changeHeadData","customNodeShift","resetHead","CircularSinglyLinkedListNode","unfreeze","pointsToHead","curveTightness","beginShape","curveVertex","endShape","StackArray","Array","copyArray","tempElement","topPointerValue","topPointerHighlighter","TOP_LOCATION_X","TOP_LOCATION_Y","resizing","createCopyArray","makeElement","useTopPointer","highlightTemp","insertElement","updateTopPointer","extractElement","unmakeElement","initCopyArray","addItemToCopy","useCopyArr","pos","getElementPosition","StackArrayElement","customEndingElementShift","assignCopyArray","shiftElementToBackingArray","immediateHighlight","highlightForMovement","moveTopTracker","goTo","copy","changeTopPointerValue","moving","updateElement","allInPosition","StackLinkedList","skipDraw","maxNode","curr","setTempNodeBeforeHead","shiftHeadForNode","shiftHead","markHeadForDeletion","unmakeHead","StackLinkedListNode","oldData","QueueArray","headPointerValue","headPointerHighlighter","HEAD_LOCATION_X","HEAD_LOCATION_Y","tailPointerValue","tailPointerHighlighter","TAIL_LOCATION_X","TAIL_LOCATION_Y","furthestObject","useTailPointer","updateTailPointer","useHeadPointer","updateHeadPointer","arrIndex","QueueArrayElement","shiftElementToCopyArray","el","noAction","oldBacking","moveTailTracker","moveHeadTracker","oldTemp","newHead","changeHeadPointerValue","oldHead","newTail","changeTailPointerValue","oldTail","QueueLinkedList","setTempNodeAfterTail","shiftTail","QueueLinkedListNode","newTemp","arguments","noTail","HEAD_TAIL_SIZE","HEAD_TAIL_X","tailY","getTailY","shiftTemp","DequeArray","frontPointerValue","frontPointerHighlighter","FRONT_LOCATION_X","FRONT_LOCATION_Y","sizePointerHighlighter","SIZE_LOCATION_X","SIZE_LOCATION_Y","front","useFrontPointer","useFrontDecrementPointer","useFrontSizePointer","updateFrontPointer","updateSizePointer","getIndex","DequeArrayElement","end","moveFrontTracker","fromSize","changeFrontPointerValue","oldFront","changeSizePointerValue","oldSize","DequeLinkedList","setHeadAfterTempNode","setTailBeforeTempNode","shiftNewHead","shiftNewTail","DequeLinkedListNode","atHead","noData","furthest","BST","root","inOrder","predSuccMode","highlighter","rootPointerPos","getRootPointerX","ROOT_SIZE","ROOT_HIGHLIGHT_DIAMETER","ROOT_Y","mostDisplacedRecursive","sort","a","b","dataMover","furthestTreeNode","stopNodesRecursive","calledFromCallback","setHighlighter","insertRecursive","recurredAnimation","newRoot","nodeJustAdded","added","setRoot","shiftByInOrder","clearTemp","deleteRecursive","nodeJustDeleted","deleted","findRecursive","printInOrderRecursive","join","which","switchMode","oldRoot","parent","newLeft","oldLeft","newRight","oldRight","oldTarget","oldColor","setTarget","recalculate","getInOrderRecursive","depth","list","order","getInOrder","oldPositions","centerIndex","displaced","shiftX","HSPACE","setY","getNodeY","justAdded","nodeAdded","setLeft","setRight","BSTNode","justDeleted","newChild","justFoundPredSucc","predSuccValue","pullTempDataToCurr","nodeDeleted","justFound","predecessorValue","findPredecessorRecursive","predValue","successorValue","findSuccessorRecursive","succValue","oldPosition","nodePos","leftAnimation","rightAnimation","VERTICAL_SPACING","getTreeNodeAtPosRecursive","ROOT_X_MIN","getHeightRecursive","getHeight","leftOffset","rightOffset","rootX","getMaxY","getMaxWidth","HAS_MIN_WIDTH","HORIZONTAL_SPACING","ROOT_X_OFFSET","Heap","HeapElement","moveSizeTracker","AVL","SplayTree","BTree","SkipList","HashMapProbing","HashMapChaining","BubbleSort","CocktailShakerSort","InsertionSort","SelectionSort","QuickSort","QuickSelect","MergeSort","LSDRadixSort","BruteForce","BoyerMoore","KMP","RabinKarp","BFS","DFS","Dijkstras","Prims","Kruskals","LCS","FloydWarshall","ADT_NAME","currConstructor","VISUALIZATION_METHODS","preload","setup","mousePressed","touchMoved","mouseReleased","windowResized","controlBarRef","controlGroups","defaultControlGroups","onAnimStart","onAnimEnd","focusedElement","Proxy","get","propertyName","receiver","param","addControlLabel","NAME","addControls","addDefaultControls","state","showBigO","showExamples","disabledControls","bigOWindow","examplesWindow","MAX_SPEED","SPEED_SLIDER_DEGREE","speedSlider","ControlBuilder","sliderLabel","speedSliderGroup","extraGroups","VISUALIZATION_CLASS","playPauseButton","visualization","skipBackButton","stepBackButton","stepForwardButton","skipForwardButton","animationControls","registerControlGroup","child","disableUI","enableUI","activeElement","CONTROLS_ONLY_ACTIVE_UNPAUSED","controlPressed","shiftPressed","pressedDict","visEventHappened","vis","setMainLabel","setDefaultsLabel","defaultGroup","addDefaultGroup","addControlGroup","mounted","prevProps","prevState","disableFriendlyErrors","canvasParentRef","createCanvas","testVisualizationDimensions","background","controlWidth","from","labelWidth","mobile","setState","input","exampleParams","DIV_CLASS","touchStarted","touchEnded","ListVisualizer","valueField","addToBack","indexField","addToFrontButton","removeFromBackButton","addAtIndexButton","resetButton","addFrontBackGroup","addToBackButton","removeFrontBackGroup","removeFromFrontButton","valueFrontBackGroup","indexGroup","removeFromIndexButton","resetGroup","ArrayListVisualizer","SinglyLinkedListVisualizer","DoublyLinkedListVisualizer","CircularSinglyLinkedListVisualizer","StackVisualizer","interactionButtonGroup","pushButton","popButton","mainControlGroup","QueueVisualizer","enqueueButton","dequeueButton","DequeVisualizer","addButtonGroup","addFirstButton","addLastButton","removeButtonGroup","removeFirstButton","removeLastButton","interactionGroup","StackArrayVisualizer","StackLinkedListVisualizer","QueueArrayVisualizer","QueueLinkedListVisualizer","DequeArrayVisualizer","DequeLinkedListVisualizer","TreeVisualizer","insertField","deleteField","findField","insertGroup","insertButton","deleteGroup","deleteButton","findGroup","findButton","printGroup","printButton","BinarySearchingTreeVisualizer","togglePredecessorSuccessorRadio","togglePredecessorSuccessor","togglePredecessorSuccessorGroup","HeapVisualizer","buildHeapField","toggleMinMaxRadio","toggleMinMax","buildHeapGroup","buildHeapButton","toggleMinMaxGroup","SkipListADTVisualizer","addRandomly","headsField","addWithHeads","removeField","getField","addRandomlyGroup","addRandomlyButton","addWithHeadsGroup","addWithHeadsButton","removeGroup","removeButton","getGroup","getButton","BSTVisualizer","HeapPQVisualizer","AVLVisualizer","SplayTreeVisualizer","BTreeVisualizer","SkipListVisualizer","HashMapVisualizer","ProbingVisualizer","toggleProbingModeRadio","toggleProbingMode","toggleProbingModeGroup","HashMapProbingVisualizer","HashMapChainingVisualizer","SortVisualizer","sortField","sortFieldGroup","sortButtonGroup","sortButton","BubblingVisualizer","toggleLastSwapOptimizationCheckBox","toggleLastSwapOptimization","toggleLastSwapOptimizationGroup","QuickVisualizer","toggleSelectPivotElementCheckBox","toggleSelectPivotElement","toggleSelectPivotElementGroup","SelectVisualizer","listField","select","kthField","listFieldGroup","kthFieldGroup","selectButtonGroup","selectButton","BubbleSortVisualizer","CocktailShakerSortVisualizer","InsertionSortVisualizer","SelectionSortVisualizer","QuickSortVisualizer","QuickSelectVisualizer","MergeSortVisualizer","LSDRadixSortVisualizer","SearchVisualizer","offerTable","searchTextField","patternField","buildTable","searchTextFieldGroup","patternFieldGroup","searchButtonGroup","searchButton","buildTableGroup","buildTableButton","SearchWithTableVisualizer","TABLE_NAME","BruteForceVisualizer","BoyerMooreVisualizer","KMPVisualizer","RabinKarpVisualizer","GraphVisualizer","addStartVertexField_and_runButton","startVertexField","runGroup","runButton","addControlGroups","addRunButton","runButtonGroup","addDFStypeRadio","toggleDFStypeRadio","toggleDFStype","dfsTypeRadioGroup","addNewGraphButtons","newGraphButtonsGroup","newSmallGraphButton","newLargeGraphButton","addDirectedUndirectedRadio","toggleUndirectedDirectedRadio","toggleUndirectedDirected","directedUndirectedRadioGroup","addRepresentationRadio","toggleRepresentationRadio","toggleRepresentation","representationRadioGroup","GraphVisualizerControls","BFSVisualizer","GraphControls","DFSVisualizer","DijkstrasVisualizer","PrimsVisualizer","KruskalsVisualizer","LCSVisualizer","firstStringField","findLCS","secondStringField","findLCSButton","stringFieldGroup","lcsButtonGroup","FloydWarshallVisualizer","title_text","add_Front","add_AtIndex","add_Back","remove_Front","remove_AtIndex","remove_Back","get_Front","get_AtIndex","get_Back","withTailConfig","Back","bigOOverride","Array_push","Array_pop","Array_peek","LinkedList","Circular_enqueue","Circular_dequeue","Circular_peek","SinglyLinkedList_enqueue","SinglyLinkedList_dequeue","SinglyLinkedList_peek","DoublyLinkedList_enqueue","DoublyLinkedList_dequeue","DoublyLinkedList_peek","Circular_addFirst","Circular_addLast","Circular_removeFirst","Circular_removeLast","DLL","traversal","upHeap","downHeap","buildHeap","single","double","Space","put","LinkedList_put","LinkedList_remove","LinkedList_search","AVL_put","AVL_remove","AVL_search","Time","Stable","Adaptive","Extra","No","Single","All","General","insertEdge","removeEdge","AdjacencyMatrix","EdgeList","Space_AdjacencyList","Space_EdgeList","incidentEdges_AdjacencyList","incidentEdges_AdjacencyMatrix","areAdjacent_AdjacencyList","areAdjacent_AdjacencyMatrix","insertVertex_AdjacencyList","insertVertex_EdgeList","removeVertex_AdjacencyList","library","fas","far","fab","NavBar","responsive","selfRef","handleDocumentClick","body","scrollTop","scrollToTop","to","location","href","src","logo","alt","nav_items","nav_item","content","container","toggleResponsiveNav","fixedWidth","Component","NavBarItem","drop_down_items","showDropDown","show","setShowDropDown","parentRef","items","parentRoute","NavBarItemTitle","parentNavItem","onMouseDown","containingNavItemRef","nativeEvent","hash","NavBarDropDown","drop_down_item","NavBarDropDownItem","side_pane_items","showSidePane","toggleShowSidePane","setShowSidePane","NavBarDropDownItemTitle","parentDropDownItem","containingDropDownItemRef","NavBarSidePane","side_pane_item","NavBarSideItem","AppHeader","AppFooter","VisualizerTitle","BigOType","unalignedTables","bigOType","cls","currClass","colExplanations","extraTableData","VisualizerType","typeMatch","fullVisualizerClassMatch","foundClass","VisualizerComponent","VisualizerGroup","Main","About","App","basename","StrictMode","Boolean","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"wGAAAA,EAAOC,QAAU,IAA0B,kC,40GCApC,SAASC,IACZ,IAAIC,EAAeC,SAASC,cAAc,SAE1C,OADAC,EAAWH,EAAc,aAAc,UAChCA,EAGJ,SAASI,EAAcC,EAAMC,GAChC,IAAIC,EAAaN,SAASC,cAAc,SAQxC,OAPAK,EAAWC,UAAUC,IAAI,iBAAkBJ,GAE3CE,EAAWG,aAAa,OAAQL,GAC5BC,GACAC,EAAWG,aAAa,QAASJ,GAG9BC,EAGJ,SAASI,EAAaC,EAAOC,GAGhC,IAAIC,EAASb,SAASC,cAAc,UAKpC,GAJAY,EAAON,UAAUC,IAAI,iBAAkB,UACvCK,EAAOJ,aAAa,OAAQ,UAC5BI,EAAOC,UAAYH,EAEfC,EAIA,IAAK,IAAIG,KAHLH,EAAQI,aACRH,EAAOJ,aAAa,eAAeG,EAAQI,aAE9BJ,EAAQK,WACrBJ,EAAOJ,aAAaM,EAAMH,EAAQK,WAAWF,IAIrD,OAAOF,EAGJ,SAASK,EAAgBL,EAAQM,GAAsB,IAAD,uBAARC,EAAQ,iCAARA,EAAQ,kBACrC,WAAhBP,EAAOT,UAIMiB,IAAbF,EAIJN,EAAOS,iBAAiB,SAAS,SAACC,GAC9B,IAAIC,EAAO,GACXJ,EAAOK,SAAQ,SAACC,GACZ,GAAIF,EAAM,CACN,IACInB,GADIqB,EAAMA,OAASA,GACTC,QACA,OAAVtB,EACAmB,EAAKI,KAAKvB,GAEVmB,EAAO,SAIfA,IACAL,EAAQ,WAAR,cAAYK,IACZJ,EAAOK,SAAQ,SAACC,GACZ,IAAIG,EAAIH,EAAMA,OAASA,EACnBG,EAAEC,iBACFD,EAAExB,MAAQ,KAEM,IAAhBqB,EAAMK,OAAoC,IAAlBX,EAAOY,QAC/BH,EAAEE,eAxBdE,QAAQC,IAAIrB,EAAQ,kDAJpBoB,QAAQC,IAAI,oCAmCb,SAASC,EAAuBC,EAAYC,GAC/C,IAAIC,EAAWD,EAAKC,UAAYD,EAC5BzB,EAAUyB,EAAKzB,cAAWS,EAC9BgB,EAAOA,EAAKA,MAAQA,EACpBD,EAAWC,EAAO,UAAY3B,EAAa4B,EAAU1B,GAJW,2BAARQ,EAAQ,iCAARA,EAAQ,kBAKhEF,EAAe,WAAf,GAAgBkB,EAAWC,EAAO,UAAWD,EAAWC,IAAxD,OAAkEjB,IAC9DR,GAAWA,EAAQ2B,2BACnBH,EAAWI,SAASC,GAApB,kBAAkCJ,IAAQ,WACtCD,EAAWC,EAAO,UAAUK,UAAW,KAE3CN,EAAWI,SAASC,GAApB,iBAAiCJ,IAAQ,WACrCD,EAAWC,EAAO,UAAUK,UAAW,MAK5C,SAASC,EAAiBP,EAAYQ,EAAQC,GACjDT,EAAWQ,EAAS,UAAYlC,EAAakC,GAC7CR,EAAWQ,EAAS,UAAUtB,iBAAiB,SAAS,SAACC,GACrD,IAAK,IAAIuB,KAAYV,EACbU,EAASC,SAAS,UAAYX,EAAWU,GAAUE,cAAgBC,kBAAkD,SAA9Bb,EAAWU,GAAU1C,OAC5GgC,EAAWU,GAAUzC,MAAQ,IAGjCwC,GACAA,EAAad,WAGrBb,EAAgBkB,EAAWQ,EAAS,UAAWR,EAAWQ,IAGvD,SAASM,EAAYN,GACxB,IAAIlB,EAAQvB,EAAc,QAC1BuB,EAAMjB,aAAa,cAAemC,GAFa,2BAAZO,EAAY,iCAAZA,EAAY,kBAsB/C,OAlBAzB,EAAM0B,gBAAkBD,EACxBzB,EAAM2B,QAAUF,EAAWG,KAAI,SAAAC,GAAS,OAAIA,EAAUC,UAEtD9B,EAAMJ,iBAAiB,SAAS,WAC5BI,EAAM0B,gBAAgB3B,SAAQ,SAAC8B,GAC3BA,EAAU7B,SAIlBA,EAAMC,MAAQ,WAGV,IAFA,IAAItB,EAAQqB,EAAMrB,MACdoD,EAAI,EACDpD,GAASoD,EAAI/B,EAAM2B,QAAQrB,QAC9B3B,EAAQqB,EAAM2B,QAAQI,KAAKpD,GAE/B,OAAOA,IAAoB,IAAVA,EAAc,EAAI,OAGhCqB,EAGJ,SAASgC,IACZ,IAAIH,EAAY,SAAC7B,GAEbA,EAAMrB,MAAQqB,EAAMrB,MAAMsD,MADd,kBAC2BC,QAAO,SAACC,EAAKC,GAAN,OAAeD,EAAMC,MAUvE,OARAP,EAAUC,OAAS,SAACnD,GAChB,IAAI0D,EAAMC,SAAS3D,GACnB,OAAI4D,MAAMF,GACC,KAEAA,GAGRR,EAGJ,SAASW,IACZ,IAAIX,EAAY,SAAC7B,GAEbA,EAAMrB,MAAQqB,EAAMrB,MAAMsD,MADd,iBAC2BC,QAAO,SAACC,EAAKC,GAAN,OAAeD,EAAMC,MAUvE,OARAP,EAAUC,OAAS,SAACnD,GAChB,IAAI0D,EAAMI,KAAKC,IAAIJ,SAAS3D,IAC5B,OAAI4D,MAAMF,GACC,KAEAA,GAGRR,EAGJ,SAASc,EAAiBC,EAAWC,GACxC,IAAIhB,EAAY,SAAC7B,GAIb,IAAI8C,EAAY9C,EAAM+C,eAEtB/C,EAAMrB,OAASqB,EAAMrB,MAAMsD,MADf,aAC+B,CAAC,KAAKC,QAAO,SAACC,EAAKC,GAAN,OAAeD,EAAMC,KAC7EpC,EAAMrB,MAAQqB,EAAMrB,MAAMqE,QAAQ,UAAU,KAC5ChD,EAAMrB,MAAQqB,EAAMrB,MAAMqE,QAAQ,SAAS,MAC3ChD,EAAMrB,MAAQqB,EAAMrB,MAAMqE,QAAQ,SAAS,OACtChD,EAAMrB,MAAMsD,MAAM,OAAS,IAAI3B,OAASuC,IACzC7C,EAAMrB,MAAQqB,EAAMrB,MAAMsE,UAAU,EAAGjD,EAAMrB,MAAMuE,YAAY,OAEnElD,EAAM+C,eAAiB/C,EAAMmD,aAAeL,GAuChD,OArCAjB,EAAUC,OAAS,SAACnD,GAEhB,IACIyE,EAASzE,EAAMsD,MADP,+BAERoB,EAAO,GA+BX,OA9BAA,EAAKvE,IAAMuE,EAAKnD,KAChBmD,EAAKnD,KAAO,SAACoD,GACT,KAAOA,GAAOb,KAAKc,IAAI,GAAGX,IAAcU,IAAQb,KAAKc,IAAI,GAAGX,EAAU,IAClEU,GAAO,GAEXD,EAAKvE,IAAIwD,SAASgB,KAEtBF,EAAOrD,SAAQ,SAACyD,EAAQzB,EAAG0B,GACvB,GAAID,EAAOvB,MAAM,wBACb,OAAO,KACJ,GAAIuB,EAAOvB,MAAM,oBAAqB,CACzC,IAAIA,EAAQuB,EAAOvB,MAAM,mBADgB,EAEjB,CAAEK,SAASL,EAAM,IAAKK,SAASL,EAAM,KAAvDyB,EAFmC,KAE5BC,EAF4B,KAGzC,GAAID,IAAUC,EACVN,EAAKnD,KAAKwD,QAEV,GAAIA,EAAQC,EACR,IAAK,IAAI5B,EAAI2B,EAAO3B,GAAK4B,EAAQ5B,IAC7BsB,EAAKnD,KAAK6B,QAGd,IAAK,IAAIA,EAAI2B,EAAO3B,GAAK4B,EAAQ5B,IAC7BsB,EAAKnD,KAAK6B,QAKtBsB,EAAKnD,KAAKoC,SAASkB,OAGpBH,EAAKO,MAAM,EAAGf,IAElBhB,EAGJ,SAASgC,EAAmBC,GAC/B,IAAIjC,EAAY,SAAC7B,GACTA,EAAMrB,MAAM2B,OAASwD,IACrB9D,EAAMrB,MAAQqB,EAAMrB,MAAMsE,UAAU,EAAGa,KAW/C,OARAjC,EAAUC,OAAS,SAACnD,GAEhB,OAAqB,KADrBA,EAAQoF,OAAOpF,IACL2B,OACC,KAEA3B,EAAMsE,UAAU,EAAGa,IAG3BjC,EAGJ,SAASmC,IACZ,IAAInC,EAAY,SAAC7B,GAEbA,EAAMrB,OAASqB,EAAMrB,MAAMsD,MADf,cAC+B,CAAC,KAAKC,QAAO,SAACC,EAAKC,GAAN,OAAeD,EAAMC,MAWjF,OATAP,EAAUC,OAAS,SAACnD,GAChB,IACI0D,GAAO1D,EAAMsD,MADL,aACqB,CAAC,KAAK,GACvC,OAAmB,IAAfI,EAAI/B,OACG,MAEC+B,EAAIJ,MAAM,QAAU,IAAI3B,QAGjCuB,EAGJ,SAASoC,EAAejE,EAAOP,GAAqI,IAAD,yDAAJ,GAAI,IAAzHyE,yBAAyH,aAA9FC,iBAA8F,MAAlF,CAACnE,WAAOL,EAAWyE,cAAc,EAAO3E,cAAUE,EAAW0E,OAAO,GAAc,EACnJ,SAAfrE,EAAMtB,UAIOiB,IAAbF,EAIJO,EAAMJ,iBAAiB,WAAW,SAACC,GAC/B,GAAkB,UAAdA,EAAMyE,IAAiB,CACvB,IAEQC,EACAC,EAHJ7F,EAAQqB,EAAMC,QAClB,GAAc,OAAVtB,EAGIwF,EAAUnE,OAAwD,QAA9CwE,EAAiBL,EAAUnE,MAAMC,UACjDiE,IACAC,EAAU1E,SAAWA,GAGrB8E,EADAJ,EAAUC,cAC6C,IAA7CD,EAAU1E,SAAS+E,EAAe7F,IAEW,IAA7CwF,EAAU1E,SAASd,EAAM6F,IAE/BN,IACRK,GAA8B,IAApB9E,EAASd,IAEnB4F,IACIvE,EAAMI,iBACNJ,EAAMrB,MAAQ,IAEdwF,EAAUnE,OAASmE,EAAUE,QAC7BF,EAAUnE,MAAMrB,MAAQ,SA1BxC4B,QAAQC,IAAI,iDAJZD,QAAQC,IAAI,uCAsCb,SAASiE,EAAsB/D,EAAYC,GAAsB,IAAD,EAC/DO,EAASP,EAAKO,QAAUP,EAAKC,UAAYD,EAAKA,MAAQA,EACtDb,EAAOa,EAAKb,MAAQ,GACpB4E,EAAU/D,EAAK+D,SAAW,GAC1BjF,GAA6B,IAAlBkB,EAAKlB,SAAsBkB,EAAKlB,UAAYkB,EAAKA,MAAQA,EAAQ,KAChFA,EAAOA,EAAKA,MAAQA,EAL+C,2BAAZc,EAAY,iCAAZA,EAAY,kBAMnEf,EAAWC,EAAO,SAAWa,EAAW,WAAX,GAAYN,GAAZ,OAAuBO,IACpD,IAAIkD,EAAc,CAACvE,gBAAgB,EAAMwE,KAAM,IAC/C,IAAK,IAAIxD,KAAYuD,EACjBjE,EAAWC,EAAO,SAASS,GAAYuD,EAAYvD,GAEvD,IAAK,IAAIA,KAAatB,GAAQ,GAC1BY,EAAWC,EAAO,SAASS,GAAYtB,EAAKsB,IAEhD,EAAAV,EAAWC,EAAO,SAAS9B,WAAUC,IAArC,oBAA4C4F,IACxCjF,GACAwE,EAAevD,EAAWC,EAAO,SAAUD,EAAWjB,IAIvD,SAASoF,EAAYC,EAAMC,GAC9B,IAAIC,EAAW1G,SAASC,cAAc,SAMtC,OALAyG,EAASnG,UAAUC,IAAI,iBAAiB,SAExCkG,EAASjG,aAAa,MAAOgG,EAAQE,IACrCD,EAAS5F,UAAY0F,EAEdE,EAGJ,SAASE,EAAaC,EAAKC,EAAKC,EAAcC,GACjD,IAAIC,EAAS9G,EAAc,SAQ3B,OANA8G,EAAOxG,aAAa,MAAOoG,GAC3BI,EAAOxG,aAAa,MAAOqG,GAC3BG,EAAOxG,aAAa,OAAiB,IAATuG,EAAa,QAAUA,GACnDC,EAAOxG,aAAa,eAAgBsG,GACpCE,EAAO5G,MAAQ0G,EAERE,EAGX,SAASC,EAAkB7E,EAAMhC,GAC7B,IAAImG,EAAOnG,EAAM8G,UAAY9G,EAC7BA,EAAQA,EAAMA,OAASA,EACvB,IAAI+G,EAAkBpH,SAASC,cAAc,OAC7CmH,EAAgB7G,UAAUC,IAAI,0BAC9B,IAAI6G,EAAclH,EAAc,QAASE,GACzCgH,EAAYhF,KAAOA,EACnBgF,EAAYC,SAAW,EACvBD,EAAY/F,iBAAiB,SAAS,SAACC,GACnC8F,EAAYE,UAEhB,IAAI5G,EAAQ4F,EAAYC,EAAMa,GAO9B,OANAD,EAAgBI,YAAYH,GAC5BD,EAAgBI,YAAY7G,GAC5ByG,EAAgB9F,iBAAiB,SAAS,WACtC+F,EAAYI,QACZJ,EAAYtF,WAETqF,EAGJ,SAASM,EAAYrF,GACxB,IAAIsF,EAAiB3H,SAASC,cAAc,OAC5C0H,EAAepH,UAAUC,IAAI,kBAAmB,kBAChDmH,EAAehB,GAAKtE,EAHsB,2BAATzB,EAAS,iCAATA,EAAS,kBAS1C,OALAA,EAAQa,SAAQ,SAACmG,GACb,IAAIC,EAAuBX,EAAkB7E,EAAMuF,GACnDD,EAAeH,YAAYK,MAE/BF,EAAeG,WAAW,GAAGA,WAAW,GAAGC,SAAU,EAC9CJ,EAGJ,SAASK,EAAeL,EAAgBxG,GAC3CwG,EAAeG,WAAWrG,SAAQ,SAACoG,GAC/BA,EAAqBC,WAAW,GAAGxG,iBAAiB,UAAU,WAC1DH,EAAS0G,EAAqBC,WAAW,GAAGzH,aAKxD,SAAS4H,EAAkB5F,EAAMhC,GAC7B,IAAImG,EAAOnG,EAAM8G,UAAY9G,EACzB0H,EAAU1H,EAAM0H,UAAW,EAC/B1H,EAAQA,EAAMA,OAASA,EACvB,IAAI+G,EAAkBpH,SAASC,cAAc,OAC7CmH,EAAgB7G,UAAUC,IAAI,0BAC9B,IAAI0H,EAAc/H,EAAc,WAAYE,GAC5C6H,EAAY7F,KAAOA,EACnB6F,EAAYZ,SAAW,EACvBY,EAAY5G,iBAAiB,SAAS,SAACC,GACnC2G,EAAYX,UAEZQ,IACAG,EAAYH,SAAU,GAE1B,IAAIpH,EAAQ4F,EAAYC,EAAM0B,GAS9B,OARAd,EAAgBI,YAAYU,GAC5Bd,EAAgBI,YAAY7G,GAC5ByG,EAAgB9F,iBAAiB,SAAS,SAACC,GACnCA,EAAM4G,SAAWD,IACjBA,EAAYT,QACZS,EAAYnG,YAGbqF,EAGJ,SAASgB,EAAe/F,GAC3B,IAAIgG,EAAoBrI,SAASC,cAAc,OAC/CoI,EAAkB9H,UAAUC,IAAI,qBAAsB,kBACtD6H,EAAkB1B,GAAKtE,EAHsB,2BAATzB,EAAS,iCAATA,EAAS,kBAQ7C,OAJAA,EAAQa,SAAQ,SAACmG,GACb,IAAIU,EAAuBL,EAAkB5F,EAAMuF,GACnDS,EAAkBb,YAAYc,MAE3BD,EAGJ,SAASE,EAAkBF,EAAmBlH,GACjD,IAAIqH,EAAcrH,EAASqH,cAAe,EAC1CrH,EAAWA,EAASA,UAAYA,EAChCkH,EAAkBP,WAAWrG,SAAQ,SAAC6G,GAClCA,EAAqBR,WAAW,GAAGxG,iBAAiB,SAAS,WACzD,IAAImH,EAAgBH,EAAqBR,WAAW,GAChDY,EAAgB,GACpBL,EAAkBP,WAAWrG,SAAQ,SAACkH,GAClC,IAAIT,EAAcS,EAAeb,WAAW,GAC5CY,EAAcR,EAAY7H,OAAS6H,EAAYH,QAC3CS,GAAeN,IAAgBO,IAC/BP,EAAYH,SAAU,EACtBW,EAAcR,EAAY7H,QAAS,MAG3Cc,EAASuH,SAMd,SAASE,EAAmBjC,GAAkB,IAAD,EAC5CP,EAAUO,EAAGP,SAAW,GAC5BO,EAAKA,EAAGA,IAAMA,EACd,IAAIkC,EAAe7I,SAASC,cAAc,QAC1C,EAAA4I,EAAatI,WAAUC,IAAvB,SAA2B,iBAA3B,mBAA+C4F,KAC/CyC,EAAalC,GAAKA,EAL8B,2BAAVmC,EAAU,iCAAVA,EAAU,kBAWhD,OAJAA,EAASrH,SAAQ,SAACgF,GACdoC,EAAarB,YAAYf,MAGtBoC,EAGJ,SAASE,EAActC,EAASuC,QACnB3H,IAAZoF,QAAyCpF,IAAhB2H,QAsBN3H,IAAnB4H,OAAOC,UACPD,OAAOC,SAAU,EACjBD,OAAO3H,iBAAiB,WAAW,SAACC,GACd,UAAdA,EAAMyE,MACNzE,EAAM4H,iBACNF,OAAOC,SAAU,MAGzBD,OAAO3H,iBAAiB,SAAS,SAACC,GACZ,UAAdA,EAAMyE,MACNzE,EAAM4H,iBACNF,OAAOC,SAAU,OA5B7BzC,EAAQnF,iBAAiB,WAAW,SAACC,GACf,QAAdA,EAAMyE,UAAqC3E,IAAnB4H,OAAOC,SAA0BD,OAAOC,UAChE3H,EAAM4H,iBACN1C,EAAQc,OACRyB,EAAYjH,YAGpBiH,EAAY1H,iBAAiB,WAAW,SAACC,GACnB,QAAdA,EAAMyE,KAAiBiD,OAAOC,UAC9B3H,EAAM4H,iBACNH,EAAYzB,OACZd,EAAQ1E,aAfZE,QAAQC,IAAI,kCAsCb,SAAShC,EAAWuG,EAAS2C,EAAW/I,GAC3CoG,EAAQ4C,MAAMD,GAAa/I,EC1exB,IAAMiJ,EAAM,CAAC,IAAI,EAAE,GACbC,EAAQ,CAAC,GAAI,IAAK,IAClBC,EAAO,CAAC,EAAE,EAAE,KACZC,EAAQ,CAAC,EAAE,EAAE,GACbC,EAAQ,CAAC,IAAI,IAAI,KCFvB,SAASC,EAASC,GAAkB,IACvC,IAAIC,EAAM,YAAOD,GADsB,mBAARE,EAAQ,iCAARA,EAAQ,kBAOvC,OALAA,EAAOrI,SAAQ,SAAAmI,GACXA,EAAMnI,SAAQ,SAACsI,EAAMtG,GACjBoG,EAAOpG,IAAMsG,QAGdF,EAGJ,SAASG,IACZ,OAAgCC,EAG7B,SAASC,EAAeC,GAC3B,IAAIC,EAAa,IAAIC,IACjBC,EAAUH,EACd,GACII,OAAOC,oBAAoBF,GAAShH,KAAI,SAAAyG,GAAI,OAAIK,EAAW5J,IAAIuJ,YACzDO,EAAUC,OAAOE,eAAeH,IAC1C,IAAII,EAAY,YAAIN,EAAWO,QAAQC,QAAO,SAAAb,GAAI,MAA4B,oBAAjBI,EAAOJ,MACpE,IAAK,IAAMtG,KAAKiH,EAAW,CACvB,IAAI5H,EAAW4H,EAAUjH,GACrBX,EAAS+H,SAAS,WAClBV,EAAOrH,EAAS6B,UAAU,IAAImG,KAAOX,EAAOrH,IAE5CA,EAAS+H,SAAS,WAClBV,EAAOrH,EAAS6B,UAAU,IAAIoG,KAAOZ,EAAOrH,KAKjD,IAAMkI,GAA4B,CAAC,iBAAkB,oBAAqB,QAE1E,SAASC,KACZ,YAA+B5J,IAAxB4H,OAAOiC,aAGX,SAASC,KACRF,MACAD,GAA0BvJ,SAAQ,SAAC2J,GAC/BpL,SAASqL,iBAAT,UAA6BD,IAAY3J,SAAQ,SAAC6J,GAC9CA,EAAK/K,UAAUC,IAAI,UACnByB,QAAQC,IAAIoJ,SAMrB,SAASC,GAAiBC,GACP,oBAAdA,IACOA,EAAUC,UAAUF,kBAChB9F,OAAO+F,GAAWX,SAAS,+BAG3C,SAASa,KACZ,OAAOvH,KAAK2C,IAAI9G,SAAS2L,gBAAgBC,YAAa3C,OAAO4C,YAAc,GAGxE,SAASC,KACZ,OAAO3H,KAAK2C,IAAI9G,SAAS2L,gBAAgBI,aAAc9C,OAAO+C,aAAe,GAG1E,SAASC,GAAazF,EAAM0F,GAC/B,MAAyB,aAArBA,EACO1F,EAAK2F,MAAM,IAAI7I,KAAI,SAACQ,EAAML,GAC7B,OAAIA,EAAI,GAAKK,IAASA,EAAKsI,cAEnB,0BAAMpG,IAAKvC,GACP,8BAAQK,GAIbA,KAEJoI,EACA1F,EAAK2F,MAAM,IAAIE,OAAJ,YAAgBH,EAAhB,MAAqC,MAAM5I,KAAI,SAACgJ,EAAK7I,GACnE,OAAIA,EAAI,EAEA,oCACI,yBAAKuC,IAAKvC,IACT6I,GAINA,KAGJ9F,EAAK2F,MAAM,IAAI7I,KAAI,SAACQ,EAAML,GAC7B,OAAIA,EAAI,EAEA,0BAAMuC,IAAKvC,GACP,8BAAQK,GAIbA,K,+DC7FEyI,G,kDAEjB,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAEDC,iBAAmBC,IAAMC,YAC9B,EAAKC,SAAWF,IAAMC,YACtB,EAAKE,cAAgBH,IAAMC,YAC3B,EAAKG,WAAaJ,IAAMC,YANT,E,6DASFhM,GACboM,KAAKC,cAAgBrM,EACrBoM,KAAKE,gB,mCAGItM,GACToM,KAAKG,UAAYvM,EACjBoM,KAAKE,gB,sCAGOpE,GACZkE,KAAKH,SAASO,QAAQ3F,YAAYqB,K,sCAGtBA,GACZkE,KAAKD,WAAWK,QAAQ3F,YAAYqB,K,2CAIpC,IAAIuE,GAAO,EACXpN,SAASqL,iBAAiB,gDAAgD5J,SAAQ,SAACoH,GAC3EuE,IACMvE,EAAaf,WAAW,GAAGvH,UAAU8M,SAAS,oBAAsBxE,EAAaf,WAAW,GAAGvH,UAAU8M,SAAS,uBAChHxE,EAAaf,WAAW9F,OAAS,IACjCoL,GAAO,OAKnBA,GACApN,SAASqL,iBAAiB,gDAAgD5J,SAAQ,SAACoH,GACzEA,EAAaf,WAAW,GAAGvH,UAAU8M,SAAS,oBAAsBxE,EAAaf,WAAW,GAAGvH,UAAU8M,SAAS,wBACpHxE,EAAaQ,MAAM,mBAAqB,e,iCAOpD,IAAIiE,EAAc,EAelB,OAdIP,KAAKD,WAAWK,QAAQI,wBAAwBC,MACzCT,KAAKF,cAAcM,QAAQI,wBAAwBC,MAAQ,EAAEC,WAAWxE,OAAOyE,iBAAiBX,KAAKF,cAAcM,SAASQ,iBAAiB,aACpJZ,KAAKF,cAAcM,QAAQ5M,UAAUC,IAAI,YACzC8M,KAEAP,KAAKF,cAAcM,QAAQ5M,UAAUqN,OAAO,YAE5Cb,KAAKH,SAASO,QAAQI,wBAAwBC,MACvCT,KAAKN,iBAAiBU,QAAQI,wBAAwBC,MAAQ,EAAEC,WAAWxE,OAAOyE,iBAAiBX,KAAKN,iBAAiBU,SAASQ,iBAAiB,aAC1JZ,KAAKN,iBAAiBU,QAAQ5M,UAAUC,IAAI,YAC5C8M,KAEAP,KAAKN,iBAAiBU,QAAQ5M,UAAUqN,OAAO,YAE5CN,I,0CAIPP,KAAKc,qBACLd,KAAKe,a,2CAILf,KAAKc,qBACLd,KAAKe,a,sCAIL,OAAOf,KAAKe,a,+BAIZ,OACQ,yBAAKC,UAAU,eACX,yBAAKA,UAAU,oBAAoBpH,GAAG,eAAeqH,IAAKjB,KAAKF,eAC3D,yBAAKkB,UAAU,mBACVhB,KAAKG,WACF,yBAAKvG,GAAG,qBAAqBoH,UAAU,iBACnC,uBAAGA,UAAU,iBACRhB,KAAKG,WAEV,yBAAKa,UAAU,8BACX,yBAAKpH,GAAG,aAAaoH,UAAU,kBAAkBE,eAAa,aAAaC,YAAU,GAAGC,WAAS,GAAGC,QAASrB,KAAKP,MAAM6B,iBACpH,kBAAC,KAAD,CAAiBC,KAAM,CAAC,MAAM,SAAUhI,KAAK,KAAKyH,UAAU,oBAI/DhB,KAAKP,MAAM+B,aACR,yBAAK5H,GAAG,gBAAgBoH,UAAU,kBAAkBE,eAAa,WAAWC,YAAU,GAAGC,WAAS,GAAGC,QAASrB,KAAKP,MAAMgC,qBACrH,kBAAC,KAAD,CAAiBF,KAAM,CAAC,MAAM,aAAchI,KAAK,KAAKyH,UAAU,sBAQpF,yBAAKA,UAAU,yBAA0BC,IAAKjB,KAAKD,eAG3D,yBAAKiB,UAAU,oBAAoBpH,GAAG,kBAAkBqH,IAAKjB,KAAKN,kBAC9D,yBAAKsB,UAAU,mBAGX,yBAAKA,UAAU,iCAAiCC,IAAKjB,KAAKH,kB,GAnH9C6B,iB,0BCElCC,I,MAAsB,SAACC,GACzB,OAAOA,EAAUjK,QAAQ,WAAW,KAAKA,QAAQ,MAAM,IAAM,eCPlDkK,GD+HY,SAACpC,GACxB,IACIqC,EADAC,EAAYtC,EAAMuC,KAEjBD,IAM6C,WAL9CD,EAAaG,GAAQpE,QAAO,SAAAqE,GAAK,OAAIA,EAAMC,OAAS1C,EAAMyC,SAAO,GACxDE,MAAMvE,QAAO,SAAAxK,GAAI,OAAIA,EAAK8O,OAAS1C,EAAMpM,QAAM,GAC/CgG,QAAQwE,QAAO,SAAAxI,GAAU,OAAIA,EAAW8M,OAAS1C,EAAM4C,SAAO,GAC9DC,UAEMC,UAAUtM,YAAYX,OACjCwM,EAAaG,GAAQpE,QAAO,SAAAqE,GAAK,OAAIA,EAAMC,OAASL,EAAW,MAAI,GAC1DM,MAAMvE,QAAO,SAAAxK,GAAI,OAAIA,EAAK8O,OAASL,EAAW,MAAI,GAClDzI,QAAQwE,QAAO,SAAAxI,GAAU,OAAIA,EAAW8M,OAASL,EAAW,MAAI,GAChEQ,UAKbP,EAAYD,EAAWU,eAG3B,IAAMC,EA1ImB,SAACX,EAAYC,GACtC7M,QAAQC,IAAI2M,EAAYC,GACxB,IAAMU,EAAO,GACTC,EAAU,CAACX,EAAUY,UAAX,mBAAwBZ,EAAUa,OAAMrM,KAAI,SAAAsM,GAAY,MAAO,CAAEC,WAAYD,EAAQE,WAAY,uBAC/GL,EAAQ,GAAGM,YAAcjB,EAAUiB,YACnCP,EAAK5N,KAAK6N,GAL0C,qBAMpCX,EAAUkB,MAN0B,IAMpD,2BAAgC,CAAC,IAAD,EAAvBC,EAAuB,QACtBC,EAAM,CAAC,CAAEL,WAAYI,EAAKH,WAAY,qBADhB,eAEZhB,EAAUa,MAFE,yBAEnBQ,EAFmB,QAGpBC,EAAoB,OACpBC,EAAOJ,EAAItL,UAAU,EAAGsL,EAAIK,OAAOF,KAAuBH,EAC1DM,EAAOJ,EAAIxL,UAAU,EAAGwL,EAAIG,OAAOF,KAAuBD,EAExDK,EAAgB1B,EAAU,GAAD,OAAIuB,EAAJ,YAAYE,KAAWzB,EAAUuB,IAASvB,EAAUyB,GAC/EE,EAAkB,GAClB5B,GACAtE,OAAOI,KAAKkE,GAAYpN,SAAQ,SAAAiP,GACb,kBAAXA,IAA+B7B,EAAW6B,GAAX,UAAsBL,EAAtB,YAA8BE,KAAW1B,EAAW6B,GAAQL,IAASxB,EAAW6B,GAAQH,KACvHE,EAAgB7O,KAAK,CAACS,KAAMwM,EAAW6B,GAAQrO,KAAM0M,KAAMF,EAAW6B,GAAX,UAAsBL,EAAtB,YAA8BE,KAAW1B,EAAW6B,GAAQL,IAASxB,EAAW6B,GAAQH,QAI/J,IAAIV,EAAa,GACbC,EAAa,GACbU,GAA8D,UAA7CA,EAAclB,UAAUtM,YAAYX,MACjDmO,EAAcG,OACdd,GAAU,gBAAaW,EAAcG,MACrCb,EAAapB,GAAoB8B,EAAcG,OAE/CH,EAAcI,UACdf,GAAU,qBAAkBW,EAAcI,SAC1Cd,EAAapB,GAAoB8B,EAAcI,UAE/CJ,EAAcK,YACdhB,GAAU,uBAAoBW,EAAcK,WACvCL,EAAcI,UACfd,EAAapB,GAAoB8B,EAAcK,aAGnDL,EAAcM,QACdjB,GAAU,mBAAgBW,EAAcM,OACnChB,IACDA,EAAapB,GAAoB8B,EAAcM,SAGnDN,EAAcO,cACdlB,GAAU,yBAAsBW,EAAcO,aACzCjB,IACDA,EAAapB,GAAoB8B,EAAcO,eAQnDN,EAAgBzO,OAAS,GACzByO,EAAgBhP,SAAQ,SAACuP,GACrBnB,GAAU,YAASmB,EAAY3O,KAAK4O,OAA1B,aAAqCD,EAAYjC,KAAKmC,cAGxErB,EAAaA,EAAWoB,QACRpG,SAAS,OAASgF,EAAWhF,SAAS,aAClDgF,EAAaA,EAAWlL,UAAUkL,EAAWsB,QAAQ,KAAK,IAE1DX,EAAcY,OACdtB,EAAapB,GAAoB,QAAD,OAAS8B,EAAcY,SAEpDZ,IACPX,EAAa,kBAAC,KAAD,CAAiBvB,KAAMkC,EAAelK,KAAK,OACxDwJ,EAAa,6BAEZA,IACDA,EAAapB,GAAoB,KAErC,IAAIqB,IAAiBS,GAAiBA,EAAcT,aAAgB,KACpEG,EAAItO,KAAK,CAAEiO,aAAYC,aAAYC,iBApEvC,2BAAiC,IAFL,8BAwE5BP,EAAK5N,KAAKsO,IA9EsC,8BAgFpD,GAAIV,EAAKxN,OAAS,EACd,IAAK,IAAImO,EAAM,EAAGA,EAAMV,EAAQzN,OAAQmO,IAAO,CAE3C,IADA,IAAIkB,GAAU,EACLpB,EAAM,EAAGA,EAAMT,EAAKxN,OAAQiO,IACjC,GAAIT,EAAKS,GAAKE,GAAKJ,cAAgBP,EAAKS,EAAI,GAAGE,GAAKJ,YAAa,CAC7DsB,GAAU,EACV,MAGR,GAAIA,EAAS,CACT5B,EAAQU,GAAKJ,YAAcP,EAAK,GAAGW,GAAKJ,YACxC,IAAK,IAAIE,EAAM,EAAGA,EAAMT,EAAKxN,OAAQiO,IACjCT,EAAKS,GAAKE,GAAKJ,YAAc,IAK7C,GAAIN,EAAQzN,OAAS,EACjB,IAAK,IAAIiO,EAAM,EAAGA,EAAMT,EAAKxN,OAAQiO,IAAO,CAExC,IADA,IAAIoB,GAAU,EACLlB,EAAM,EAAGA,EAAMX,EAAKS,GAAKjO,OAAQmO,IACtC,GAAIX,EAAKS,GAAKE,GAAKJ,cAAgBP,EAAKS,GAAKE,EAAI,GAAGJ,YAAa,CAC7DsB,GAAU,EACV,MAGR,GAAIA,EAAS,CACT7B,EAAKS,GAAK,GAAGF,YAAcP,EAAKS,GAAK,GAAGF,YACxC,IAAK,IAAII,EAAM,EAAGA,EAAMX,EAAKS,GAAKjO,OAAQmO,IACtCX,EAAKS,GAAKE,GAAKJ,YAAc,IAK7C,OAAOP,EAwBM8B,CAAqBzC,EAAYC,GAoC9C,OAlCAyC,qBAAU,WACN,IAAMC,EAAoB,SAACjQ,GACvB,IAGIkQ,EAAMC,EAHNC,EAAkBpQ,EAAM4G,OAAOyJ,UAC/BC,EAAkBtQ,EAAM4G,OAAOoF,wBAC/BuE,EAAwBH,EAAgBpE,wBAGxCkE,EADAI,EAAgBE,MAAQD,EAAsBtE,OAASwE,EAAMtG,cACtDmG,EAAgBJ,KAAOI,EAAgBrE,MAAQ,EAE/CqE,EAAgBE,MAAQF,EAAgBrE,MAAQ,EAAIsE,EAAsBtE,MAGjFkE,EADAG,EAAgBI,OAASH,EAAsBI,QAAUF,EAAMlG,eACzD+F,EAAgBH,IAAMG,EAAgBK,OAAS,EAE/CL,EAAgBI,OAASJ,EAAgBK,OAAS,EAAIJ,EAAsBI,OAEtFT,EAAOtN,KAAK2C,IAAI,EAAG3C,KAAK0C,IAAI4K,EAAMO,EAAMtG,cAAgBoG,EAAsBtE,QAC9EkE,EAAMvN,KAAK2C,IAAI,EAAG3C,KAAK0C,IAAI6K,EAAKM,EAAMlG,eAAiBgG,EAAsBI,OAAS,IACtFP,EAAgBtI,MAAMoI,KAAtB,UAAgCA,EAAhC,MACAE,EAAgBtI,MAAMqI,IAAtB,UAA+BA,EAA/B,OAGAS,EAAwBnS,SAASqL,iBAAiB,qCAKtD,OAJA8G,EAAsB1Q,SAAQ,SAAC2Q,GAC3BA,EAAgB9Q,iBAAiB,aAAckQ,MAG5C,WACHW,EAAsB1Q,SAAQ,SAAC2Q,GAC3BA,EAAgBC,oBAAoB,aAAcb,SAG3D,IAGK,yBAAKzD,UAAU,iBACX,kBAAC,eAAD,CAAaA,UAAU,cAAcuE,YAAW,aAC3C9C,EAAKlM,KAAI,SAAC2M,EAAKxM,GAAN,OACN,kBAAC,OAAD,CAAKuC,IAAKvC,EAAGsK,UAAS,mBAAoB,IAANtK,EAAU,oBAAsB,KAC/DwM,EAAI3M,KAAI,SAACiP,EAAMC,GAAP,OACL,kBAAC,QAAD,CAAMxM,IAAKwM,EAAGzE,UAAS,qBAAgBwE,EAAKzC,YAArB,OAAkCyC,EAAKxC,YAAc,yBAA2B,KACtE,kBAApBwC,EAAK1C,WACR0C,EAAK1C,WAAW1D,MAAM,MAAM7I,KAAI,SAACmP,EAAMC,EAAGvN,GACxC,OACQ,yBAAKa,IAAK0M,EAAG3E,UAAU,eAClB0E,EAAK5H,SAAS,KACT,yBAAKkD,UAAU,qBACb,0BAAMA,UAAU,qBACX0E,EAAK9N,UAAU,EAAG8N,EAAKtB,QAAQ,OAEpC,0BAAMpD,UAAU,qBAAhB,KAGA,0BAAMA,UAAU,qBACX0E,EAAK9N,UAAU8N,EAAKtB,QAAQ,KAAO,KAG1CsB,MAKpBF,EAAK1C,WAEV0C,EAAKxC,YACA,uBAAGhC,UAAU,+BAA+BwE,EAAKxC,aACjD,gBE7J3B4C,GArDIjG,IAAMkG,YAAW,SAACpG,EAAOwB,GAAS,IAC3C6E,EAAqBrG,EAArBqG,iBACAC,EAAeC,iBAAO,MAC5BxB,qBAAU,WACN,IAAMyB,EAAuB,SAACzR,GACtBuR,EAAa3F,UAAY2F,EAAa3F,QAAQE,SAAS9L,EAAM4G,UAC7D0K,IACAtR,EAAM4H,mBAGR8J,EAAmB,SAAC1R,GACJ,WAAdA,EAAMyE,MACN6M,IACAtR,EAAM4H,mBAMd,OAHAnJ,SAASsB,iBAAiB,QAAS0R,GACnChT,SAASsB,iBAAiB,UAAW2R,GAE9B,WACHjT,SAASqS,oBAAoB,QAASW,GACtChT,SAASqS,oBAAoB,UAAWY,MAG7C,CAACJ,IACJ,IAAIlP,EAAQuP,YAAc,CACtBC,KAAK,uDAIT,OACQ,yBAAKpF,UAAU,yBAAyBC,IAAKA,GACzC,yBAAKD,UAAU,eAAeC,IAAK8E,GAC/B,kBAAC,KAAD,CAAiBnM,GAAG,aAAa2H,KAAM,CAAC,MAAM,gBAAiBP,UAAU,iBAAiBK,QAASyE,IACnG,uBAAGlM,GAAG,iBAAN,2CACA,wBAAIA,GAAG,eACF6F,EAAM4G,MAAMjH,MAAM,IAAI7I,KAAI,SAACQ,EAAML,GAC9B,OAAIA,EAAI,GAAKK,IAASA,EAAKsI,cAEnB,0BAAMpG,IAAKvC,GACP,8BAAQK,GAIbA,KATf,UAYA,kBAAC,GAAD,CAAamL,MAAOtL,EAAM0P,OAAOC,gBAAiBlT,KAAMuD,EAAM0P,OAAOE,eAAgBnE,MAAOzL,EAAM0P,OAAOG,gBAAiBJ,MAAO5G,EAAM4G,aC/CrJK,I,MAAkB,SAACjH,GAAW,IAC1BkH,EAAsBlH,EAAtBkH,QAASvS,EAAaqL,EAAbrL,SACf,OACQ,wBAAI4M,UAAS,mBACT,uBAAGA,UAAS,gBAAmB2F,EAAQC,aACvC,4BAAQ5F,UAAS,wBAA2BK,QAASjN,EAASyS,KAAK,KAAKF,EAAQG,cAAcH,EAAQI,aAAcJ,EAAQK,cAqE7HC,GAhEQtH,IAAMkG,YAAW,SAACpG,EAAOwB,GAAS,IAC/CiG,EAAyBzH,EAAzByH,qBACAnB,EAAeC,iBAAO,MAC5BxB,qBAAU,WACN,IAAMyB,EAAuB,SAACzR,GACtBuR,EAAa3F,UAAY2F,EAAa3F,QAAQE,SAAS9L,EAAM4G,UAC7D8L,IACA1S,EAAM4H,mBAGR8J,EAAmB,SAAC1R,GACJ,WAAdA,EAAMyE,MACNiO,IACA1S,EAAM4H,mBAMd,OAHAnJ,SAASsB,iBAAiB,QAAS0R,GACnChT,SAASsB,iBAAiB,UAAW2R,GAE9B,WACHjT,SAASqS,oBAAoB,QAASW,GACtChT,SAASqS,oBAAoB,UAAWY,MAG7C,CAACgB,IACJ,IAAItQ,EAAQuP,YAAc,CACtBC,KAAK,uDAGLK,EAAkBxE,GAAQpE,QAAO,SAAAqE,GAAK,OAAIA,EAAMC,OAASvL,EAAM0P,OAAOC,mBAAiB,GAClFnE,MAAMvE,QAAO,SAAAxK,GAAI,OAAIA,EAAK8O,OAASvL,EAAM0P,OAAOE,kBAAgB,GAChEnN,QAAQwE,QAAO,SAAAxI,GAAU,OAAIA,EAAW8M,OAASvL,EAAM0P,OAAOG,mBAAiB,GAEpFrS,EAAW,WACX8S,EAAoB,WAApB,cAGJ,OACQ,yBAAKlG,UAAU,4BAA4BC,IAAKA,GAC5C,yBAAKD,UAAU,kBAAkBC,IAAK8E,GAClC,kBAAC,KAAD,CAAiBnM,GAAG,gBAAgB2H,KAAM,CAAC,MAAM,gBAAiBP,UAAU,iBAAiBK,QAAS6F,IACtG,uBAAGtN,GAAG,iBAAN,2CACA,wBAAIA,GAAG,kBACF6F,EAAM4G,MAAMjH,MAAM,IAAI7I,KAAI,SAACQ,EAAML,GAC9B,OAAIA,EAAI,GAAKK,IAASA,EAAKsI,cAEnB,0BAAMpG,IAAKvC,GACP,8BAAQK,GAIbA,KATf,aAYA,wBAAIiK,UAAS,yBACRyF,EAAgBU,SAAS5Q,KAAI,SAACoQ,EAAQjQ,GACnC,OAAO,kBAAC,GAAD,CAAiBuC,IAAKvC,EAAGiQ,QAASA,EAASvS,SAAUA,aCzEnEgT,G,WACjB,aAAe,oBACXpH,KAAKqH,UAAY,EACjBrH,KAAKsH,UAAY,EAIjBtH,KAAKuH,UAAY,E,mDAGdA,GACHvH,KAAKqH,UAAY,EACjBrH,KAAKsH,UAAY,EACjBtH,KAAKuH,UAAYA,I,mCAIjB,OAAOvH,KAAKuH,WAAa,EACfvH,KAAKqH,WAAa,GAAKrH,KAAKsH,WAAa,EACzCtH,KAAKqH,YAAc,GAAKrH,KAAKsH,YAAc,I,6BAGlDE,GACExH,KAAKyH,eAENzH,KAAKqH,WAAajQ,KAAKsQ,KAAK1H,KAAKuH,WAAaC,EAAe,IAC7DxH,KAAKsH,WAAalQ,KAAKsQ,KAAK1H,KAAKuH,WAAaC,EAAe,S,KCzBpDG,G,WAKjB,WAAYC,EAAEC,GAAI,oBACd7H,KAAK8H,SAAWF,EAChB5H,KAAK+H,SAAWF,EAChB7H,KAAKgI,SAAWJ,EAChB5H,KAAKiI,SAAWJ,EAChB7H,KAAKkI,GAAK,EACVlI,KAAKmI,GAAK,EACVnI,KAAKoI,QAAS,EACdpI,KAAKqI,OAAS,GAEdrI,KAAKsI,eAAgB,EACrBtI,KAAKuI,aAAe,EACpBvI,KAAKwI,aAAe,E,kDAGlBZ,EAAEC,GAEJ7H,KAAKgI,SAAWJ,EAChB5H,KAAKiI,SAAWJ,I,2BAGfD,EAAEC,GAGH7H,KAAKgI,SAAWJ,EAChB5H,KAAKiI,SAAWJ,EAChB7H,KAAKyI,S,qCAKL,OAAOrR,KAAKsR,KAAKtR,KAAKc,IAAI8H,KAAKgI,SAAWhI,KAAK8H,SAAS,GAAK1Q,KAAKc,IAAI8H,KAAKiI,SAAWjI,KAAK+H,SAAS,M,gCAG9F3T,GACN4L,KAAKqI,OAAOxT,KAAKT,K,6BAQjB,IAJA4L,KAAK8H,SAAW9H,KAAKgI,SACrBhI,KAAKkI,GAAK,EACVlI,KAAK+H,SAAW/H,KAAKiI,SACrBjI,KAAKmI,GAAK,EACHnI,KAAKqI,OAAOpT,OAAS,GACxB+K,KAAKqI,OAAOM,OAAZ3I,CAAoBA,Q,0BAIxB4I,EAAQC,GACJ7I,KAAK/J,YAAY6S,WACZ9I,KAAKoI,SACNpI,KAAKsI,eAAgB,EACrBtI,KAAKuI,aAAeK,EAAS5I,KAAK8H,SAClC9H,KAAKwI,aAAeK,EAAS7I,KAAK+H,a,8BAM1C/H,KAAKsI,eAAgB,EACrBtI,KAAKuI,aAAe,EACpBvI,KAAKwI,aAAe,EACpBxI,KAAKkI,GAAK,EACVlI,KAAKmI,GAAK,I,6BAGPX,EAAgBuB,GACf/I,KAAKoI,SACLpI,KAAKgI,SAAWhI,KAAK8H,SACrB9H,KAAKiI,SAAWjI,KAAK+H,UAEzB,IAAIiB,EAAShJ,KAAKgI,SAAWhI,KAAK8H,SAC9BmB,EAASjJ,KAAKiI,SAAWjI,KAAK+H,SAClC,GAAI/H,KAAKsI,cACLtI,KAAK8H,SAAWiB,EAAGH,OAAS5I,KAAKuI,aACjCvI,KAAK+H,SAAWgB,EAAGF,OAAS7I,KAAKwI,kBAC9B,GAAKhB,GAAkBpQ,KAAK8R,MAAMC,GAAWC,sBACxClS,MAAM8I,KAAK8H,WAAa5Q,MAAM8I,KAAK+H,WAAa7Q,MAAM8I,KAAKkI,KAAOhR,MAAM8I,KAAKmI,IACrFnI,KAAKyI,YAGL,GAAe,IAAXQ,GAA2B,IAAXD,EAAc,CAC9B,IAAIK,EAAQjS,KAAKkS,KAAKL,EAAOD,GACzBA,EAAS,IACTK,GAASjS,KAAKmS,IAElB,IAAIC,EAAY7B,EAAyB8B,WAAajC,EAClDkC,EAAYtS,KAAKkS,KAAKtJ,KAAKmI,GAAGnI,KAAKkI,IACnClI,KAAKkI,GAAK,IACVwB,GAAatS,KAAKmS,IAEtBvJ,KAAKkI,IAAMsB,EAAYpS,KAAKuS,IAAIN,GAChCrJ,KAAKmI,IAAMqB,EAAYpS,KAAKwS,IAAIP,GAEhCrJ,KAAKkI,IAAM,IACXlI,KAAKmI,IAAM,IAEP/Q,KAAKC,IAAID,KAAKC,IAAIqS,EAAYL,GAASjS,KAAKmS,IAAOnS,KAAKmS,GAAG,IAC3DvJ,KAAKyI,OAETzI,KAAK8H,UAAY9H,KAAKkI,GACtBlI,KAAK+H,UAAY/H,KAAKmI,QAGtBnI,KAAKyI,OAGb,OAAOrR,KAAKsR,KAAKtR,KAAKc,IAAI8Q,EAAO,GAAK5R,KAAKc,IAAI+Q,EAAO,Q,KAhHzCtB,GAEV8B,WAAa,GAFH9B,GAGVkC,aAAe,E,ICDLC,G,WAQjB,WAAYlC,EAAEC,GAAkB,IAAD,OAAdhU,EAAc,uDAAJ,GAAI,oBAC3BmM,KAAK1M,MAAQO,EAAQP,OAAS,KAE9B0M,KAAK8H,SAAWF,EAChB5H,KAAK+H,SAAWF,EAChB7H,KAAKgI,SAAWJ,EAChB5H,KAAKiI,SAAWJ,EAChB7H,KAAKkI,GAAK,EACVlI,KAAKmI,GAAK,EACVnI,KAAKoI,QAAS,EACdpI,KAAKqI,OAAS,GAEdrI,KAAK+J,aAAc,EACnB/J,KAAKgK,eAAiBC,EAAOxN,KAC7BuD,KAAKkK,eAAiBJ,EAA6BK,iBAEnD3M,OAAO4M,QAAQvW,GAASa,SAAQ,SAACmG,GAC7B,EAAKA,EAAO,IAAMA,EAAO,MAE7BoK,EAAM9H,eAAe6C,M,kDAGnB4H,EAAEC,GACJ7H,KAAKgI,SAAWJ,EAChB5H,KAAKiI,SAAWJ,I,2BAGfD,EAAEC,GACH,IAAIwC,EAAOrK,KAAKgI,SACZsC,EAAOtK,KAAKiI,SAIhB,OAHAjI,KAAKgI,SAAWJ,EAChB5H,KAAKiI,SAAWJ,EAChB7H,KAAKyI,OACE,CAAC4B,EAAMC,K,gCAERD,EAAKC,GACXtK,KAAKgI,SAAWqC,EAChBrK,KAAKiI,SAAWqC,EAChBtK,KAAKyI,S,qCAIL,OAAOrR,KAAKsR,KAAKtR,KAAKc,IAAI8H,KAAKgI,SAAWhI,KAAK8H,SAAS,GAAK1Q,KAAKc,IAAI8H,KAAKiI,SAAWjI,KAAK+H,SAAS,M,gCAG9F3T,GACN4L,KAAKqI,OAAOxT,KAAKT,K,6BAQjB,IAJA4L,KAAK8H,SAAW9H,KAAKgI,SACrBhI,KAAKkI,GAAK,EACVlI,KAAK+H,SAAW/H,KAAKiI,SACrBjI,KAAKmI,GAAK,EACHnI,KAAKqI,OAAOpT,OAAS,GACxB+K,KAAKqI,OAAOM,OAAZ3I,CAAoBA,Q,kCAI2D,IAA7EuK,EAA4E,uDAApEN,EAAOxN,KAAM+N,EAAuD,uDAA/CV,EAA6BK,iBAChEnK,KAAKgK,eAAiBO,EACtBvK,KAAKkK,eAAiBM,EACtBxK,KAAK+J,aAAc,I,uCAGnB/J,KAAKyK,gB,oCAILzK,KAAK+J,aAAc,I,uCAENQ,EAAOC,GACpBxK,KAAK0K,UAAUH,EAAOC,K,6BAGnBhD,EAAgBuB,GACf/I,KAAKoI,SACLpI,KAAKgI,SAAWhI,KAAK8H,SACrB9H,KAAKiI,SAAWjI,KAAK+H,UAEzB,IAAIiB,EAAShJ,KAAKgI,SAAWhI,KAAK8H,SAC9BmB,EAASjJ,KAAKiI,SAAWjI,KAAK+H,SAClC,GAAKP,GAAkBpQ,KAAK8R,MAAMC,GAAWC,sBACjClS,MAAM8I,KAAK8H,WAAa5Q,MAAM8I,KAAK+H,WAAa7Q,MAAM8I,KAAKkI,KAAOhR,MAAM8I,KAAKmI,IACrFnI,KAAKyI,YAEL,GAAe,IAAXQ,GAA2B,IAAXD,EAAc,CAC9B,IAAIK,EAAQjS,KAAKkS,KAAKL,EAAOD,GACzBA,EAAS,IACTK,GAASjS,KAAKmS,IAElB,IAAIC,EAAYM,EAA6BL,WAAajC,EACtDkC,EAAYtS,KAAKkS,KAAKtJ,KAAKmI,GAAGnI,KAAKkI,IACnClI,KAAKkI,GAAK,IACVwB,GAAatS,KAAKmS,IAEtBvJ,KAAKkI,GAAKsB,EAAYpS,KAAKuS,IAAIN,GAC/BrJ,KAAKmI,GAAKqB,EAAYpS,KAAKwS,IAAIP,GAK3BjS,KAAKC,IAAID,KAAKC,IAAIqS,EAAYL,GAASjS,KAAKmS,IAAOnS,KAAKmS,GAAG,IAC3DvJ,KAAKyI,OAETzI,KAAK8H,UAAY9H,KAAKkI,GACtBlI,KAAK+H,UAAY/H,KAAKmI,QAEtBnI,KAAKyI,OAGb,OAAOrR,KAAKsR,KAAKtR,KAAKc,IAAI8Q,EAAO,GAAK5R,KAAKc,IAAI+Q,EAAO,M,oCAG5CF,GACVA,EAAGlU,OACHkU,EAAG4B,OAAH,MAAA5B,EAAE,YAAW/I,KAAKgK,iBAClBjB,EAAG6B,SACH7B,EAAG8B,aAAaf,EAA6BgB,kBAC7C,IAAIC,EAAW,GAAK/K,KAAKgL,sBAAwBhL,KAAKiL,uBAAyBjL,KAAKgL,qBAAuB,GAAK,GAAKlB,EAA6BgB,iBAC9I9K,KAAKkK,iBAAmBJ,EAA6BK,iBACrDpB,EAAGmC,OAAOlL,KAAK8H,SAAU9H,KAAK+H,SAAUgD,GACjC/K,KAAKkK,iBAAmBJ,EAA6BqB,kBAC5DpC,EAAGqC,OAAOpL,KAAK8H,SAAWiD,EAAS,EAAG/K,KAAK+H,SAAWgD,EAAS,EAAGA,GAEtEhC,EAAGsC,Q,gCAGGtC,GACN,GAAI/I,KAAK1M,MAAO,CACZyV,EAAGuC,UAAUvC,EAAGwC,OAAQxC,EAAGwC,QAC3BxC,EAAGyC,KAAK,GACRzC,EAAG4B,OAAO,GACV,IAAIc,EAAS,GAAKzL,KAAKgL,sBAAwBhL,KAAKiL,uBAAyBjL,KAAKgL,qBAAuB,GAAK,GAAKlB,EAA6BgB,iBAChJ/B,EAAGtP,KAAKuG,KAAK1M,MAAMoY,WAAY1L,KAAK8H,SAAW2D,EAAOzL,KAAK+H,SAAW0D,EAAQ,EAAEA,EAAQ,EAAEA,M,2BAI7F1C,GACDA,EAAGlU,OACCmL,KAAK+J,aACL/J,KAAK2L,cAAc5C,GAEvB/I,KAAK4L,UAAU7C,GACfA,EAAGsC,U,KAxJUvB,GACVL,WAAa,GADHK,GAEVD,aAAe,EAFLC,GAIVgB,iBAAmB,EAJThB,GAKVK,iBAAmB,EALTL,GAMVqB,iBAAmB,E,aCNTU,G,kDAGjB,WAAYjE,EAAEC,EAAG7F,GAAO,IAAD,8BACnB,cAAM4F,EAAEC,IAEH7F,KAAOA,EAEZ,EAAK0C,KAAO,KACZ,EAAKM,MAAQ,KAEb,EAAK8G,eAAgB,EARF,E,0DAcnB,MAAO,CAFO9L,KAAK8H,SAAW9H,KAAK/J,YAAY8V,KAAK,EACtC/L,KAAK+H,SAAW/H,KAAK/J,YAAY8V,KAAK,K,kCAI5CnE,EAAEC,GAAI,IAAD,EACY7H,KAAKgM,cADjB,oBACRC,EADQ,KACCC,EADD,KAEb,OAAO9U,KAAKc,IAAId,KAAKc,IAAI+T,EAAUrE,EAAG,GAAKxQ,KAAKc,IAAIgU,EAAUrE,EAAG,GAAI,KAAQ7H,KAAK/J,YAAY8V,KAAK,I,yCAInG,OAAO/L,KAAKsI,eAAkBtI,KAAK0E,MAAQ1E,KAAK0E,KAAKyH,oBAAwBnM,KAAKgF,OAAShF,KAAKgF,MAAMmH,qB,kCAItG,+DAAYnM,KAAKgI,SAAUhI,KAAKiI,SAAWjI,KAAK/J,YAAYmW,U,gCAI5D,+DAAYpM,KAAKgI,SAAUhI,KAAKiI,SAAWjI,KAAK/J,YAAYmW,U,6BAGzDxE,GACH,+DAAYA,EAAG5H,KAAKiI,Y,2BAGnBJ,GACD,+DAAY7H,KAAKgI,SAAUH,K,6BAGxBL,EAAgBuB,GACnB,gEAAavB,EAAgBuB,K,2BAS5BA,GAUD,GATAA,EAAGlU,OACHkU,EAAGyC,KAAK,KACRzC,EAAG4B,OAAH,MAAA5B,EAAE,YAAW/I,KAAKuK,QAClBxB,EAAGmC,OAAH,MAAAnC,EAAE,YAAW/I,KAAKgM,eAAhB,QAA+BhM,KAAK/J,YAAY8V,QAGlDhD,EAAGuC,UAAUvC,EAAGwC,OAAQxC,EAAGwC,QAC3BxC,EAAGyC,KAAH,MAAAzC,EAAE,YAAS/I,KAAKuK,QAChBxB,EAAGtP,KAAKuG,KAAKgC,KAAK0J,WAAY1L,KAAK8H,SAAS9H,KAAK+H,SAAU/H,KAAK/J,YAAY8V,KAAK/L,KAAK/J,YAAY8V,MAC9F/L,KAAK0E,KAAM,CACXqE,EAAG4B,OAAH,MAAA5B,EAAE,YAAW9D,EAAMrI,SAASoD,KAAKuK,MAAON,EAAOxN,QAC/CsM,EAAGyC,KAAH,MAAAzC,EAAE,YAAS9D,EAAMrI,SAASoD,KAAKuK,MAAON,EAAOxN,QAC7C,IAAIuM,EAAShJ,KAAK0E,KAAKoD,SAAW9H,KAAK8H,SACnCmB,EAASjJ,KAAK0E,KAAKqD,SAAW/H,KAAK+H,SACnCsB,EAAQjS,KAAKkS,KAAKL,EAAOD,GACzBA,EAAS,IACTK,GAASjS,KAAKmS,IAElBR,EAAGrD,KAAH,MAAAqD,EAAE,YAAS9D,EAAMrI,SAASoD,KAAKgM,cAAc,CAAC5U,KAAKuS,IAAIN,GAAOrJ,KAAK/J,YAAY8V,KAAK,EAAE3U,KAAKwS,IAAIP,GAAOrJ,KAAK/J,YAAY8V,KAAK,KAA1H,mBAAiI9G,EAAMrI,SAASoD,KAAK0E,KAAKsH,cAAc,EAAE5U,KAAKuS,IAAIN,GAAOrJ,KAAK/J,YAAY8V,KAAK,GAAG3U,KAAKwS,IAAIP,GAAOrJ,KAAK/J,YAAY8V,KAAK,OAI/P,GAAI/L,KAAKgF,MAAO,CACZ+D,EAAG4B,OAAH,MAAA5B,EAAE,YAAW9D,EAAMrI,SAASoD,KAAKuK,MAAON,EAAOxN,QAC/CsM,EAAGyC,KAAH,MAAAzC,EAAE,YAAS9D,EAAMrI,SAASoD,KAAKuK,MAAON,EAAOxN,QAC7C,IAAIuM,EAAShJ,KAAKgF,MAAM8C,SAAW9H,KAAK8H,SACpCmB,EAASjJ,KAAKgF,MAAM+C,SAAW/H,KAAK+H,SACpCsB,EAAQjS,KAAKkS,KAAKL,EAAOD,GACzBA,EAAS,IACTK,GAASjS,KAAKmS,IAElBR,EAAGrD,KAAH,MAAAqD,EAAE,YAAS9D,EAAMrI,SAASoD,KAAKgM,cAAc,CAAC5U,KAAKuS,IAAIN,GAAOrJ,KAAK/J,YAAY8V,KAAK,EAAE3U,KAAKwS,IAAIP,GAAOrJ,KAAK/J,YAAY8V,KAAK,KAA1H,mBAAiI9G,EAAMrI,SAASoD,KAAKgF,MAAMgH,cAAc,EAAE5U,KAAKuS,IAAIN,GAAOrJ,KAAK/J,YAAY8V,KAAK,GAAG3U,KAAKwS,IAAIP,GAAOrJ,KAAK/J,YAAY8V,KAAK,OAIhQhD,EAAGsC,U,GA3F2B1D,IAAjBkE,GACVE,KAAO,G,ICDGM,G,kDACjB,WAAYjR,EAAQkR,GAAuB,IAAD,EAAdzY,EAAc,uDAAJ,GAAI,4BACtC,cAAM,EAAE,EAAGA,IAENmX,qBAAuBsB,EAE5B,EAAKlR,OAASA,EACd,EAAKmR,QAAS,EANwB,E,mDAUtC,+DACAvM,KAAKuM,QAAS,I,gCAGRnR,EAAQoR,EAAaC,GAC3BzM,KAAKuM,OAAyB,OAAhBvM,KAAK5E,OACnB4E,KAAK5E,OAASA,EACVoR,IACAxM,KAAKgL,qBAAuBwB,GAE5BpR,EACA4E,KAAK0K,UAAU+B,EAAcxC,EAAO1N,SAAMjI,EAAWmY,EAAc3C,GAA6BqB,sBAAmB7W,GAEnH0L,KAAKyK,gB,oCAMLzK,KAAK5E,SAEL4E,KAAKgI,SAAWhI,KAAK5E,OAAO0M,SAAW9H,KAAKgL,qBAC5ChL,KAAKiI,SAAWjI,KAAK5E,OAAO2M,SAAW/H,KAAKgL,qBACxChL,KAAKuM,SACLvM,KAAK8H,SAAW9H,KAAKgI,SACrBhI,KAAK+H,SAAW/H,KAAKiI,a,6BAK1BT,EAAgBuB,GACnB/I,KAAK0M,cACL,gEAAalF,EAAgBuB,O,GA3CYe,ICH5B6C,G,WACjB,aAAe,oBACX3M,KAAK4M,OAAS,G,+CAGfvZ,EAAMe,GACA4L,KAAK4M,OAAOvZ,KACb2M,KAAK4M,OAAOvZ,GAAQ,IAExB2M,KAAK4M,OAAOvZ,GAAMwB,KAAKT,K,0BAGvBf,EAAMe,GACF4L,KAAK4M,OAAOvZ,KACZ2M,KAAK4M,OAAOvZ,GAAQ2M,KAAK4M,OAAOvZ,GAAMwK,QAAQ,SAAArJ,GAC1C,OAAOA,IAAUJ,Q,2BAKxBf,GACG2M,KAAK4M,OAAOvZ,IACZ2M,KAAK4M,OAAOvZ,GAAMqB,SAAS,SAAAF,GACvBA,W,KCpBKqY,G,WAmDjB,WAAYpX,EAAUgL,EAAO0E,GAAS,oBAClCnF,KAAK4H,EAAI,GACT5H,KAAK6H,EAAI,GACL7H,KAAK/J,YAAY6W,aACjB9M,KAAKS,MAAQA,EACbT,KAAKmF,OAASA,GAGdnF,KAAK/J,YAAY8W,uBAQV/M,KAAKgN,gBACLhN,KAAKiN,YAGhBjN,KAAKvK,SAAWA,EAGZuK,KAAK/J,YAAYiX,iBACjBlN,KAAKmN,SAAU,UAGRnN,KAAKoN,qBACLpN,KAAKqN,aAGZrN,KAAK/J,YAAYqX,4BACjBtN,KAAKuN,QAAS,EACdtI,EAAM9H,eAAe6C,eAEdA,KAAKwN,iBACLxN,KAAKyN,YACLzN,KAAK0N,aACL1N,KAAK2N,gBACL3N,KAAK4N,gBACL5N,KAAK6N,qBACL7N,KAAK8N,gBACL9N,KAAK+N,mBACL/N,KAAKgO,mBACLhO,KAAKiO,qBAELjO,KAAKjC,YACLiC,KAAKkO,kBACLlO,KAAKmO,WAGZnO,KAAK/J,YAAYmY,mBACjBpO,KAAKqO,OAAS,GAGbpJ,EAAMhI,gBACA+C,KAAKsO,cAGhBtO,KAAKuO,QACLvO,KAAKwO,MAAO,E,4DArGY,IAAdC,EAAa,uDAAH,EACpBzO,KAAK0O,iBAAiBnW,OAAOkW,GAAS/Z,SAAQ,SAAAia,GAW1C,IAVA,IAAIC,EAAWD,EAAapY,KAAI,SAAAsY,GAC5B,MAAO,CACHC,OAAQD,EAAUC,OAAOxZ,KACzByZ,WAAYF,EAAUE,YAAcF,EAAUG,gBAC9CC,cAAeJ,EAAUI,eAAiBJ,EAAUG,oBAGxD9V,GAAU,EACVxC,EAAI,EACJwY,GAAc,EACXxY,EAAIkY,EAAS3Z,QAAQ,CAExB,IADA,IAAIka,EAAcD,EAAcxY,EAAI,EAAI,KACjCA,EAAIkY,EAAS3Z,SAAW2Z,EAASlY,GAAGqY,YACvC7Z,QAAQC,IAAIyZ,EAASlY,IACjBkY,EAASlY,GAAGuY,gBACQ,OAAhBE,IACAja,QAAQC,IAAI,iBACZ+D,GAAU,GAEdiW,EAAczY,GAElBA,IAEAA,EAAIkY,EAAS3Z,SACbC,QAAQC,IAAIyZ,EAASlY,IACD,OAAhByY,IACAja,QAAQC,IAAI,cACZ+D,GAAU,GAEdgW,EAAcN,EAASlY,GAAGuY,eAE9BvY,IAEAwC,GACAhE,QAAQC,IAAI,2B,2CAoElBf,GACE4L,KAAKwO,MACDxO,KAAK/J,YAAYiX,kBACjBlN,KAAKoN,gBAITpN,KAAK/J,YAAY8W,gBACjB/M,KAAKoP,YAAc,kBACfpP,KAAK/J,YAAYqX,6BACjBtN,KAAKoP,aAAe,yDAEpBpP,KAAK/J,YAAY6S,WACjB9I,KAAKoP,aAAe,2CAExBpP,KAAKqP,iBAAmB,CAAC,EAAE,EAAE,IAGjCrP,KAAK0O,iBAAmB,GACxB1O,KAAKsP,iBAAmB,GACxBtP,KAAKuP,eAAiB,GACtBvP,KAAKwP,WAAY,EAEbxP,KAAK/J,YAAYiX,kBACjBlN,KAAKyP,cAAczP,KAAKqO,QAExBrO,KAAK/J,YAAYqX,2BAIjBlZ,EACAA,IAEA4L,KAAKvK,SAASia,SAGd1P,KAAKwO,MACDxO,KAAK/J,YAAYiX,mBACjBlN,KAAKqN,cACLrN,KAAKgO,iB,+GAcb,OALIhO,KAAKuN,OACLvN,KAAKyN,OAELzN,KAAK0N,SAEF,I,6BAIP1N,KAAKuN,QAAS,EACVvN,KAAKuP,eAAeta,OAAS,EAC7B+K,KAAKoN,gBAELpN,KAAKvK,SAASka,KAAK,YAEvB3P,KAAKvK,SAASma,OAAO,aACrB5P,KAAKvK,SAASoa,QAAQ,YACtB7P,KAAKvK,SAASoa,QAAQ,YACtB7P,KAAKvK,SAASoa,QAAQ,eACtB7P,KAAKvK,SAASoa,QAAQ,iB,8BAIa,IAA/B7P,KAAKuP,eAAeta,QAAiB+K,KAAK8P,eAAe9P,KAAKuP,eAAe,KAC7EvP,KAAKuP,eAAeQ,QAAQ,CAACjB,OAAO9O,KAAKgQ,UAAUC,QAAO,IAE9DjQ,KAAKoN,gBACLpN,KAAKvK,SAASoa,QAAQ,e,kCAItB7P,KAAKyP,YAAYS,MAAMlQ,KAAOA,KAAK/J,YAAYmY,iBAAmB,GAAGpO,KAAKqO,QAAO,GAAQ,IACzFrO,KAAKuN,QAAS,EACdvN,KAAKvK,SAASka,KAAK,UACnB3P,KAAKvK,SAASma,OAAO,aACjB5P,KAAKmQ,eACLnQ,KAAKvK,SAASma,OAAO,YAErB5P,KAAKoQ,eACLpQ,KAAKvK,SAASma,OAAO,YAErB5P,KAAKqQ,kBACLrQ,KAAKvK,SAASma,OAAO,eAErB5P,KAAKsQ,kBACLtQ,KAAKvK,SAASma,OAAO,iB,6CAKzB,GAAI5P,KAAKsP,iBACL,IAAK,IAAI5Y,EAAIsJ,KAAKsP,iBAAiBra,OAAO,EAAGyB,GAAK,EAAGA,IACjD,GAAIsJ,KAAKsP,iBAAiB5Y,GAAGoY,SAAW9O,KAAKgN,UAAYhN,KAAKsP,iBAAiB5Y,GAAGsM,YAC9E,OAAOhD,KAAKsP,iBAAiB5Y,GAIzC,IAAK,IAAIA,EAAIsJ,KAAK0O,iBAAiBzZ,OAAS,EAAGyB,GAAK,EAAGA,IACnD,IAAK,IAAI+O,EAAIzF,KAAK0O,iBAAiBhY,GAAGzB,OAAS,EAAGwQ,GAAK,EAAGA,IACtD,GAAIzF,KAAK0O,iBAAiBhY,GAAG+O,IACzB,GAAIzF,KAAK0O,iBAAiBhY,GAAG+O,GAAGqJ,SAAW9O,KAAKgN,UAAYhN,KAAK0O,iBAAiBhY,GAAG+O,GAAGzC,YACpF,OAAOhD,KAAK0O,iBAAiBhY,GAAG+O,QAGpCvQ,QAAQC,IAAI6K,KAAK0O,iBAAkBhY,EAAG+O,EAAGzF,KAAK0O,iBAAiBhY,GAAIsJ,KAAK0O,iBAAiBhY,GAAG+O,IAIxG,MAAO,CAACqJ,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,sB,+BAEhCtD,GACL,GAAIA,EACAhD,KAAKgN,SAAShK,OADlB,CAIA,IAAIuN,EAAgBvQ,KAAKwQ,uBACrBD,IACIA,EAAczB,SAAW9O,KAAKgN,SAC9BhN,KAAKgN,SAAL,MAAAhN,KAAA,YAAiBuQ,EAAcjK,SAE/BtG,KAAKgN,SAASuD,EAAcvN,iB,oCAK1ByN,EAAmBC,GAC7B,IAAIC,EAAQF,EAAkBE,OAAS3Q,KAEnC4Q,EAAaH,EAAkB3B,OAAO/Q,KACtCuI,EAASmK,EAAkBI,UAAYJ,EAAkBnK,QAAU,GAEnEsK,GACI5Q,KAAK/J,YAAY6a,eACjB5b,QAAQC,IAAI,OAAOmR,EAAOsK,GAK1BF,GACA1Q,KAAKoN,gBAETwD,EAAWV,MAAMS,EAAOrK,GACxBtG,KAAK8N,WACA2C,EAAkBM,eACnB/Q,KAAKyP,cAAczP,KAAKqO,SAIxBrO,KAAK/J,YAAY6a,eACjB5b,QAAQC,IAAI,SAASsb,GAG7BzQ,KAAKuP,eAAeQ,QAAQU,K,gCAGtBC,GACFA,GACA1Q,KAAKgR,aAAY,GAIrB,IAFA,IAAIP,EAAoBzQ,KAAKsP,iBAAiBjE,MAC1C4F,EAAW,MACNR,EAAkBzB,kBAAmByB,EAAkB1B,aAC5D/O,KAAK6N,cAAc4C,EAAkBC,GACrCO,EAAWR,EACXA,EAAoBzQ,KAAKsP,iBAAiBjE,SAK1CoF,IACAzQ,KAAK6N,cAAc4C,EAAkBC,GACrCO,EAAWR,GAEXC,IAAWO,EAASF,eACpB/Q,KAAKgR,gB,oCAKT,OAAOhR,KAAK0O,iBAAiBzZ,OAAS,GAAK+K,KAAKsP,iBAAiBra,OAAS,I,iCAErD,IAAhByb,IAAe,yDACpB,GAAI1Q,KAAKuN,OAAQ,CACb,GAAIvN,KAAKsP,kBAAoBtP,KAAKsP,iBAAiBra,OAAS,EAaxD,OAZA+K,KAAKkR,UAAUR,GACf1Q,KAAKvK,SAASma,OAAO,eACrB5P,KAAKvK,SAASma,OAAO,eACgB,IAAjC5P,KAAKsP,iBAAiBra,SACtB+K,KAAKuP,eAAeQ,QAAQ,CAACjB,OAAO9O,KAAKvK,SAASka,KAAKgB,MAAM3Q,KAAKvK,SAAS6Q,OAAO,CAAC,cAAe2J,QAAO,IACzGjQ,KAAKsP,iBAAmB,KACxBtP,KAAK8N,WACgC,IAAjC9N,KAAK0O,iBAAiBzZ,SACtB+K,KAAKvK,SAASoa,QAAQ,YACtB7P,KAAKvK,SAASoa,QAAQ,eAGvB,EACA7P,KAAK0O,iBAAiBzZ,OAAS,GACtC+K,KAAKmR,+BACLnR,KAAK4N,aAEL5N,KAAKvK,SAASoa,QAAQ,YACtB7P,KAAKvK,SAASoa,QAAQ,aAG9B,OAAO,I,oCAGGuB,EAAcV,GACxB,IAAIC,EAAQS,EAAcT,OAAS3Q,KAC/B8O,EAASsC,EAActC,OAC3BA,EAASA,EAAO9Q,MAAQ8Q,EACxB,IAIIuC,EAJA/K,EAAS8K,EAAcE,UAAYF,EAAc9K,QAAU,GAC3DoK,GACA1Q,KAAKoN,gBAGJpN,KAAKuR,UAAUH,KACZpR,KAAK/J,YAAY6a,eACjB5b,QAAQC,IAAI,OAAOmR,EAAOwI,GAE9BuC,EAASvC,EAAOoB,MAAMS,EAAOrK,IAE7BtG,KAAKwR,YAAYJ,GACjBpR,KAAKsP,iBAAmB,GACjBtP,KAAKuR,UAAUH,IACtBpR,KAAK0O,iBAAiB7Z,KAAKmL,KAAKsP,kBAChCtP,KAAKsP,iBAAmB,MACjBtP,KAAKyR,qBAAqBL,IAE1BpR,KAAK8P,eAAesB,KAGvBpR,KAAKsP,iBACLtP,KAAKsP,iBAAiBza,KAAKuc,GAEtBpR,KAAK/J,YAAYqX,4BAClBtN,KAAK0O,iBAAiB7Z,KAAKuc,IAInCA,EAAcpO,cACVoO,EAAcM,wBACdN,EAAcpO,YAAcoO,EAAcpO,YAAYrL,QAAQ,WAAY0Z,IAE9ErR,KAAKgN,SAASoE,EAAcpO,cAE3BoO,EAAcO,eACf3R,KAAKyP,cAAczP,KAAKqO,QAExB+C,EAAcQ,kBAAoBR,EAAcP,WAChDO,EAAcP,SAAWO,EAAcM,sBAAwBL,EAAO,GAAKA,GAE3ED,EAAcS,kBAAoBT,EAAcE,WAChDF,EAAcE,SAAWF,EAAcM,sBAAwBL,EAAO,GAAKA,K,gCAIzEX,GACFA,GACA1Q,KAAKgR,aAAY,GAIrB,IAFA,IAAII,EAAgBpR,KAAKuP,eAAe5G,QACpCmJ,EAAW,MACNV,EAAcpC,kBAAmBoC,EAAcnC,gBAAmBjP,KAAKyR,qBAAqBL,KACjGpR,KAAKiO,cAAcmD,EAAcV,GACjCoB,EAAWV,EACXA,EAAgBpR,KAAKuP,eAAe5G,WAKpCyI,IACApR,KAAKiO,cAAcmD,EAAcV,GACjCoB,EAAWV,GAEXV,IAAWoB,EAASH,eACpB3R,KAAKgR,gB,uCAKT,OAAOhR,KAAKuP,eAAeta,OAAS,I,oCAEZ,IAAhByb,IAAe,yDACvB,GAAI1Q,KAAKuN,OAAQ,CACb,GAAIvN,KAAKuP,eAAeta,OAAS,EAY7B,OAXA+K,KAAK+R,UAAUrB,GACf1Q,KAAKvK,SAASma,OAAO,YACrB5P,KAAKvK,SAASma,OAAO,YACc,IAA/B5P,KAAKuP,eAAeta,QACpB+K,KAAKvK,SAASka,KAAK,YACnB3P,KAAKvK,SAASoa,QAAQ,eACtB7P,KAAKvK,SAASoa,QAAQ,iBAEtB7P,KAAKvK,SAASma,OAAO,eACrB5P,KAAKvK,SAASma,OAAO,iBAElB,EAEP5P,KAAKvK,SAASka,KAAK,YACnB3P,KAAKvK,SAASoa,QAAQ,eACtB7P,KAAKvK,SAASoa,QAAQ,eAG9B,OAAO,I,oCAIP,OAAO7P,KAAK0O,iBAAiBzZ,OAAS,GAAK+K,KAAKsP,iBAAiBra,OAAS,I,iCAG1E,GAAI+K,KAAKuN,OAAQ,CACb,GAAIvN,KAAKsP,iBAAkB,CACvB,KAAOtP,KAAKsP,kBAAoBtP,KAAKsP,iBAAiBra,OAAS,GAC3D+K,KAAK4N,UAAS,GASlB,OAPA5N,KAAKvK,SAASma,OAAO,eACrB5P,KAAKvK,SAASma,OAAO,eACgB,IAAjC5P,KAAK0O,iBAAiBzZ,SACtB+K,KAAKvK,SAASoa,QAAQ,YACtB7P,KAAKvK,SAASoa,QAAQ,aAE1B7P,KAAKgR,aAAY,IACV,EACAhR,KAAK0O,iBAAiBzZ,OAAS,GACtC+K,KAAKmR,+BACLnR,KAAK2N,aAEL3N,KAAKvK,SAASoa,QAAQ,YACtB7P,KAAKvK,SAASoa,QAAQ,aAG9B,OAAO,I,uCAIP,OAAO7P,KAAKuP,eAAeta,OAAS,I,oCAGpC,GAAI+K,KAAKuN,OAAQ,CACb,GAAIvN,KAAKuP,eAAeta,OAAS,EAAG,CAIhC,IAHI+K,KAAKwR,YAAYxR,KAAKuP,eAAe,KACrCvP,KAAKgO,aAAY,GAEdhO,KAAKuP,eAAeta,OAAS,IAAM+K,KAAKwR,YAAYxR,KAAKuP,eAAe,KAC3EvP,KAAKgO,aAAY,GAUrB,OARAhO,KAAKgR,aAAY,GACjBhR,KAAKvK,SAASma,OAAO,YACrB5P,KAAKvK,SAASma,OAAO,YACc,IAA/B5P,KAAKuP,eAAeta,SACpB+K,KAAKvK,SAASka,KAAK,YACnB3P,KAAKvK,SAASoa,QAAQ,eACtB7P,KAAKvK,SAASoa,QAAQ,iBAEnB,EAEP7P,KAAKvK,SAASka,KAAK,YACnB3P,KAAKvK,SAASoa,QAAQ,eACtB7P,KAAKvK,SAASoa,QAAQ,eAG9B,OAAO,I,qDAIP,IAAImC,EAA4BhS,KAAK0O,iBAAiBrD,MACtDrL,KAAKvK,SAASka,KAAK,cACnB3P,KAAKuP,eAAeQ,QAAQ,CAACjB,OAAO9O,KAAKyP,YAAYnJ,OAAOtG,KAAK/J,YAAYmY,iBAAmB,GAAGpO,KAAKqO,QAAO,GAAQ,GAAG4B,QAAO,IACjIjQ,KAAKuP,eAAeQ,QAAQ,CAACjB,OAAO9O,KAAKvK,SAASka,KAAKgB,MAAM3Q,KAAKvK,SAAS6Q,OAAO,CAAC,YAAa2J,QAAO,IACvGjQ,KAAKsP,iBAAmB0C,I,4CAIxB,IADkB,EACdC,GAAoB,EADN,eAEIjS,KAAKuP,gBAFT,IAElB,2BAA2C,CAAC,IAAnCV,EAAkC,QACvC,GAAI7O,KAAKwR,YAAY3C,GAAY,CAC7BoD,GAAoB,EACpB,QALU,8BAQlB,OAAQA,I,gCAIR,OAAOjS,KAAKkS,wBAA0BlS,KAAK0O,iBAAiBzZ,OAAS,GAAM+K,KAAKsP,kBAAoBtP,KAAKsP,iBAAiBra,OAAS,K,6BAGnI,QAAI+K,KAAKmS,YACAnS,KAAKuN,QAQNvN,KAAKkO,YAAW,IACT,IARPlO,KAAKgR,aAAY,GACkB,IAA/BhR,KAAKuP,eAAeta,QAAiB+K,KAAKoS,cAAcpS,KAAKuP,eAAe,KAC5EvP,KAAKuP,eAAeQ,QAAQ,CAACjB,OAAO9O,KAAKkO,WAAW5H,OAAO,EAAC,GAAO2J,QAAO,IAE9EjQ,KAAKoN,iBACE,M,iCASRiF,GACFA,GACDrS,KAAKgQ,YAEThQ,KAAK2N,WACL3N,KAAKuP,eAAe+C,OAAO,EAAEtS,KAAKuP,eAAeta,QAC5Cod,GAGDrS,KAAKvK,SAASka,KAAK,YACnB3P,KAAKvK,SAASoa,QAAQ,eACtB7P,KAAKvK,SAASoa,QAAQ,gBAJtB7P,KAAKyN,S,gCAQH3G,EAAeC,GAAa,IAI9BjS,EAJ6B,OAC7BiS,GACA/G,KAAKuO,QAGT,IALiC,eAKxB7X,GACL,IAAI6b,EAAOzd,EACXA,EAAI,WACA,EAAKgS,EAAcpQ,GAAG8b,YAAtB,QAAI,YAAiC1L,EAAcpQ,GAAG4P,QAAlD,QAA0DiM,GAAM,OAHnE7b,EAAIoQ,EAAc7R,OAAS,EAAGyB,EAAI,EAAGA,IAAM,EAA3CA,GAMTsJ,KAAK8G,EAAc,GAAG0L,YAAtB,MAAAxS,KAAA,YAAqC8G,EAAc,GAAGR,QAAtD,QAA8DxR,KAC9DkL,KAAKyN,S,oCAIL,MAAM,IAAIgF,UAAU,sD,iCAIbhZ,GAA6B,IAAvB8Q,EAAsB,uDAAdN,EAAOvN,MAC5BsD,KAAKuP,eAAe1a,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC7M,EAAK8Q,O,+BAGvD9Q,GAA6B,IAAvB8Q,EAAsB,uDAAdN,EAAOvN,MAC1BsD,KAAKoP,YAAc3V,EACnBuG,KAAKqP,iBAAmB9E,I,oCAEd9Q,EAAM8Q,GAChB,OAAOvK,KAAKgN,SAASvT,EAAM8Q,K,mCAGlBsE,GAAY,IAAD,EACpB7O,KAAKuP,eAAe1a,KAAK,CAACia,OAAO9O,KAAKvK,SAASka,KAAKgB,MAAM3Q,KAAKvK,SAAS6Q,OAAO,CAAC,cAAe2J,QAAO,KACtG,EAAAjQ,KAAKuP,gBAAe1a,KAApB,oBAA4Bga,IAC5B7O,KAAKuP,eAAe1a,KAAK,CAACia,OAAO9O,KAAKvK,SAASka,KAAKgB,MAAM3Q,KAAKvK,SAAS6Q,OAAO,CAAC,YAAa2J,QAAO,M,sCAGhE,IAAD,OAAzByC,EAAyB,uDAAlB,IAAKC,EAAa,uDAAJ,GAC/B,GAAa,IAATD,EAKA,OAJA1S,KAAKwP,WAAY,OACbxP,KAAK/J,YAAY2c,oBACjB1d,QAAQC,IAAI,OAAOwd,IAI3BE,YAAW,WACP,EAAKrD,WAAY,EACb,EAAKvZ,YAAY2c,oBACjB1d,QAAQC,IAAI,OAAOwd,KAExBD,K,6BAGAlL,EAAgBuB,EAAI+J,GAQvB,GAPI9S,KAAK/J,YAAY6W,aACjB9M,KAAKS,MAAQsI,EAAGtI,MAAQ,EAAIT,KAAK4H,EACjC5H,KAAKmF,OAAS4D,EAAG5D,OAAS,EAAInF,KAAK6H,GAEnCiL,GACAA,KAEC9S,KAAK/J,YAAYqX,6BAA+BtN,KAAKuN,OAAQ,CAC9D,IAAIwF,EAAkB/S,KAAKgT,aAAaxL,GACpCxH,KAAK/J,YAAYgd,4BAA8BF,GAC/C/S,KAAKvK,SAASyd,oB,kCAQdrE,GACR,OAAOA,EAAUC,SAAW9O,KAAKvK,SAASka,MAAgC,eAAxBd,EAAUvI,OAAO,K,gCAG7DuI,GACN,OAAOA,EAAUC,SAAW9O,KAAKvK,SAASka,MAAgC,aAAxBd,EAAUvI,OAAO,K,2CAGlDuI,GACjB,OAAOA,EAAUC,SAAW9O,KAAKyP,c,qCAGtBZ,GACX,OAAOA,EAAUC,SAAW9O,KAAKgQ,Y,oCAGvBnB,GACV,OAAOA,EAAUC,SAAW9O,KAAKkO,a,kCAGzBW,GACR,OAAOA,EAAUoB,QACLpB,EAAUC,SAAW9O,KAAKvK,SAASka,OAAiC,eAAxBd,EAAUvI,OAAO,IAA+C,aAAxBuI,EAAUvI,OAAO,MACtG,I,mCAGFkB,GACT,IAAKxH,KAAKwP,WACFxP,KAAKuP,eAAeta,OAAS,EAAG,CAChC,IAAI4Z,EAAY7O,KAAKuP,eAAe5G,QACpC3I,KAAKwP,WAAY,EACbxP,KAAK/J,YAAYkd,gBACjBje,QAAQC,IAAI,UAAU0Z,EAAUvI,OAAOuI,EAAUC,QAErD,IAAIuC,EAASxC,EAAUC,OAAOoB,MAAMrB,EAAU8B,OAAS3Q,KAAM6O,EAAUvI,QAmDvE,OAlDAuI,EAAUuE,YAAc/B,EACpBrR,KAAKwR,YAAY3C,GACjB7O,KAAKsP,iBAAmB,GACjBtP,KAAKuR,UAAU1C,IACtB7O,KAAK0O,iBAAiB7Z,KAAKmL,KAAKsP,kBAC5BtP,KAAK/J,YAAYod,sBACjBrT,KAAKsO,gBAETtO,KAAKsP,iBAAmB,MACjBtP,KAAKyR,qBAAqB5C,GAC7B7O,KAAKuP,eAAeta,OAAS,GAC7B+K,KAAKoN,gBAEFpN,KAAK8P,eAAejB,IAAc7O,KAAKoS,cAAcvD,KAGxD7O,KAAKsP,iBACLtP,KAAKsP,iBAAiBza,KAAKga,GAEtB7O,KAAK/J,YAAYqX,4BAClBtN,KAAK0O,iBAAiB7Z,KAAKga,IAInCA,EAAU7L,cACN6L,EAAU6C,wBACV7C,EAAU7L,YAAc6L,EAAU7L,YAAYrL,QAAQ,WAAYkX,EAAU+C,gBAAkBP,EAAO,GAAKA,GACtGxC,EAAU+C,iBAIlB5R,KAAKgN,SAAS6B,EAAU7L,cAExB6L,EAAU+C,kBACV/C,EAAUgC,SAAWhC,EAAU6C,sBAAwBL,EAAO,GAAKA,GAEnExC,EAAUgD,kBACVhD,EAAUyC,SAAWzC,EAAU6C,sBAAwBL,EAAO,GAAKA,GAEnErR,KAAK/J,YAAYqd,sBACbtT,KAAKuT,YAAY1E,GACjB7O,KAAKwP,WAAY,EACTX,EAAU2E,YACdhM,GAAkBpQ,KAAK8R,MAAMC,GAAWC,qBACxCpJ,KAAKyT,cAAc,EAAG5E,EAAUC,OAAOxZ,MAEvC0K,KAAKyT,cAAczT,KAAK/J,YAAYyd,cAAgBlM,GAAkBqH,EAAU8E,MAAQ,EAAI,GAAI9E,EAAUC,OAAOxZ,QAItHuZ,EAAUkE,mB,sCAMzB/S,KAAKvK,SAASme,OACd5T,KAAKmN,SAAU,I,kCAGP/Y,GACJ4L,KAAKmN,SACLnN,KAAKuP,eAAe1a,KAAK,CAACia,OAAO9O,KAAKyP,YAAYnJ,OAAOtG,KAAK/J,YAAYmY,iBAAmB,GAAGpO,KAAKqO,QAAO,EAAKja,GAAY,CAAC,KAAK,KAAKA,GAAU6b,QAAO,M,kCAIrJ5B,EAAOwF,EAAMzf,GAChB4L,KAAK/J,YAAYmY,mBAAoByF,GAASxF,IAAWrO,KAAKqO,SAC/DrO,KAAKvK,SAASia,SACd1P,KAAKmN,SAAU,EACX/Y,GACAA,O,2BAKP2U,GACG/I,KAAK/J,YAAY6d,UACjB5e,QAAQC,IAAI,QAEhB4T,EAAGlU,OACCmL,KAAK/J,YAAY8W,gBACjBhE,EAAGyC,KAAH,MAAAzC,EAAE,YAAS/I,KAAKqP,mBAChBtG,EAAGgL,SAAS,IACZhL,EAAGuC,UAAUvC,EAAGiL,KAAMjL,EAAGkL,KACzBlL,EAAGtP,KAAKuG,KAAKoP,YAAa,IAAI,IAAKrG,EAAGtI,MAAM,IAA4C,IAAvCT,KAAKkU,yBAAyBnL,GAAM,KAEzFA,EAAGsC,MACCrL,KAAK/J,YAAY8W,eACjBhE,EAAGoL,UAAU,EAAoC,GAAlCnU,KAAKkU,yBAAyBnL,M,mCAIxCA,GACT,OAAO,I,oCAGGA,GACV,OAAO,I,+CAGcA,GACrBA,EAAGlU,OACHkU,EAAGgL,SAAS,IACZ,IAAItT,EAAQsI,EAAGqL,UAAUpU,KAAKoP,aAC1BiF,EAAQjd,KAAKkd,KAAK7T,GAASsI,EAAGtI,MAAQ,KAG1C,OADAsI,EAAGsC,MACIgJ,EAAQ,I,oCAGLtL,EAAI5D,EAAQoP,EAAeC,EAAMpgB,EAAUqgB,GACrDD,GAA0C,GAAlCxU,KAAKkU,yBAAyBnL,GACjC9V,SAASyhB,cAAc,qBAAqBlhB,UAAU8M,SAAS,YAChE6E,GAA0B,GAAhBoP,GAEd,IAAI9T,EAAQsI,EAAGpK,YACX6V,EAAQrP,EAAU,EAAEnF,KAAK6H,GACzB1C,EAAUqP,EAAQ,EAAExU,KAAK6H,EACpB5U,SAASyhB,cAAc,qBAAqBlhB,UAAU8M,SAAS,YAChEG,GAAS,IAEbxN,SAASyhB,cAAc,qBAAqBlhB,UAAUC,IAAI,eAE1DR,SAASyhB,cAAc,qBAAqBlhB,UAAUqN,OAAO,cAE7D4T,IACIA,EAAYhU,EAAS,EAAET,KAAK4H,GAC5BnH,EAASgU,EAAY,EAAEzU,KAAK4H,EACvB3U,SAASyhB,cAAc,qBAAqBlhB,UAAU8M,SAAS,YAE5DkU,GADJrP,GAAU,IACY,EAAEnF,KAAK6H,GACzB1C,EAAUqP,EAAQ,EAAExU,KAAK6H,EACzB5U,SAASyhB,cAAc,qBAAqBlhB,UAAUC,IAAI,eAE1DR,SAASyhB,cAAc,qBAAqBlhB,UAAUqN,OAAO,eAGrE5N,SAASyhB,cAAc,qBAAqBlhB,UAAUC,IAAI,eAE1DR,SAASyhB,cAAc,qBAAqBlhB,UAAUqN,OAAO,eAIrEsE,EAAS/N,KAAK2C,IAAIoL,EAAQ4D,EAAG5D,QAC7B4D,EAAG4L,aAAalU,EAAO0E,GAEnBnF,KAAK/J,YAAY6W,aACjB9M,KAAKS,MAAQsI,EAAGtI,MAAQ,EAAIT,KAAK4H,EACjC5H,KAAKmF,OAAS4D,EAAG5D,OAAS,EAAInF,KAAK6H,GAInCzT,GACAA,IAEJ,IACI4L,KAAKgR,YAA2C,IAA/BhR,KAAKuP,eAAeta,QACjC+K,KAAKuP,eAAeta,OAAS,IAAM+K,KAAKuN,QACxCvN,KAAKqO,SAEX,MAAOuG,S,KA3yBI/H,GAEVgI,cAAgB,GAFNhI,GAIViE,eAAgB,EAJNjE,GAKVsG,gBAAiB,EALPtG,GAMV+F,oBAAqB,EANX/F,GAOViH,UAAW,EAPDjH,GAQVwG,sBAAuB,E,ICTbyB,G,sKAMR,IAAD,OACJ,gEAAY,WACR,EAAKC,aAAe,GACpB,EAAKA,aAAa9f,OAAS6f,EAAUE,iBACrC,IAAK,IAAIte,EAAI,EAAGA,EAAI,EAAKqe,aAAa9f,OAAQyB,IAC1C,EAAKqe,aAAare,GAAK,IAAIue,GAAa,IAE5C,EAAK1b,KAAO,O,iCAKT2b,EAAOlT,GACd,GAAmC,IAA/BhC,KAAKuP,eAAeta,OACpB,OAAO,EAEX,GAAIigB,EAAQ,GAAKA,EAAQlV,KAAKzG,KAE1B,OAAO,EAEX,GAAa,OAATyI,EAEA,OAAO,EAEXhC,KAAKwP,WAAY,EACjB,IAAIX,EAAY,GAWhB,OAVI7O,KAAKzG,OAASyG,KAAK+U,aAAa9f,QAChC4Z,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKmV,eAEvBD,EAAQlV,KAAKzG,MACbsV,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKoV,cAAcF,KAEzCrG,EAAUha,KAAK,CAACia,OAAO9O,KAAKqV,SAAS/O,OAAO,CAAC4O,EAAMlT,KACnD6M,EAAUha,KAAK,CAACia,OAAO9O,KAAKsV,SAAShP,OAAO,KAC5CtG,KAAKuV,aAAa1G,GAClB7O,KAAK0O,iBAAiB7Z,KAAKga,IACpB,I,iCAGA7M,GACP,OAAOhC,KAAKwV,WAAW,EAAExT,K,gCAGnBA,GACN,OAAOhC,KAAKwV,WAAWxV,KAAKzG,KAAKyI,K,sCAIrBkT,GACZ,GAAmC,IAA/BlV,KAAKuP,eAAeta,OACpB,OAAO,EAEX,GAAIigB,EAAQ,GAAKA,GAASlV,KAAKzG,KAE3B,OAAO,EAEXyG,KAAKwP,WAAY,EACjB,IAAIX,EAAY,GACZ4G,EAAUzV,KAAK+U,aAAaG,GAC5BlT,EAAOyT,EAAQzT,KAQnB,OAPAyT,EAAQzT,KAAO,GACXkT,EAAQlV,KAAKzG,KAAO,GACpBsV,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAK0V,eAAeR,KAE1CrG,EAAUha,KAAK,CAACia,OAAO9O,KAAK2V,SAASrP,OAAO,KAC5CtG,KAAKuV,aAAa1G,GAClB7O,KAAK0O,iBAAiB7Z,KAAKga,GACpB7M,I,wCAIP,OAAOhC,KAAK4V,gBAAgB,K,uCAI5B,OAAO5V,KAAK4V,gBAAgB5V,KAAKzG,KAAK,K,+BAIjC2b,EAAMlT,GACXhC,KAAK+U,aAAaG,GAAOlT,KAAOA,I,iCAKhChC,KAAKzG,S,iCAILyG,KAAKzG,S,mCAML,IAFA,IAAIsV,EAAY,GAEPnY,EADUsJ,KAAK+U,aAAa9f,OACVyB,EAA+B,EAA3BsJ,KAAK+U,aAAa9f,OAAYyB,IACzDmY,EAAUha,KAAK,CAACia,OAAO9O,KAAK6V,aAAavP,OAAO,CAAC5P,KAGrD,OADAmY,EAAUha,KAAK,CAACia,OAAO9O,KAAK8V,WAAWxP,OAAO,KACvCuI,I,mCAIP7O,KAAK+U,aAAa9f,OAAS,EAAI+K,KAAK+U,aAAa9f,S,oCAGvCigB,GAEV,IADA,IAAIrG,EAAY,GACPnY,EAAIsJ,KAAKzG,KAAO,EAAG7C,GAAKwe,EAAOxe,IACpCmY,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAK+V,aAAarf,EAAE,KAG1C,OADAmY,EAAUha,KAAK,CAACia,OAAO9O,KAAK6V,aAAavP,OAAO,CAAC4O,KAC1CrG,I,qCAGIqG,GAEX,IADA,IAAIrG,EAAY,GACPnY,EAAIwe,EAAQ,EAAGxe,EAAIsJ,KAAKzG,KAAM7C,IACnCmY,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAK+V,aAAarf,GAAG,KAG3C,OADAmY,EAAUha,KAAK,CAACia,OAAO9O,KAAK6V,aAAavP,OAAO,CAACtG,KAAKzG,KAAK,KACpDsV,I,mCAGEqG,EAAO3N,GAChB,IAAIsH,EAAY,GAGhB,OAFAA,EAAUha,KAAK,CAACia,OAAO9O,KAAKgW,qBAAqB1P,OAAO,CAAC4O,EAAM3N,KAC/DsH,EAAUha,KAAK,CAACia,OAAO9O,KAAKiW,kBAAkB3P,OAAO,CAAC4O,EAAM3N,KACrDsH,I,2CAGUqG,EAAO3N,GACxBvH,KAAK+U,aAAaG,GAAOvM,MAAMpB,K,wCAIjB2N,EAAO3N,GAGrBvH,KAAK+U,aAAaG,EAAM3N,GAAWvF,KAAOhC,KAAK+U,aAAaG,GAAOlT,KACnEhC,KAAK+U,aAAaG,GAAOlT,KAAO,K,mCAIvBkT,GACLlV,KAAK+U,aAAaG,GAClBlV,KAAK+U,aAAaG,GAAOlT,KAAO,GAEhChC,KAAK+U,aAAaG,GAAS,IAAID,GAAa,GAAIH,EAAUoB,gB,6BAI3D1O,EAAgBuB,GAAK,IAAD,OACvB,gEAAavB,EAAgBuB,GAAI,WAC7B,IAAK,IAAIrS,EAAI,EAAGA,EAAI,EAAKqe,aAAa9f,OAAQyB,IACtC,EAAKqe,aAAare,IAClB,EAAKqe,aAAare,GAAGyf,OAAO3O,GAIpC,IADA,IAAI4O,GAAmB,EACd1f,EAAI,EAAGA,EAAI,EAAK6C,KAAM7C,IAC3B,IAAK,EAAKqe,aAAare,GAAG+Q,aAAc,CACpC2O,GAAmB,EACnB,MAGR,EAAK5G,UAAY4G,O,2BAIpBrN,GACD,IAAIsN,EAAYjf,KAAK8R,OAAOH,EAAGtI,MAAQ,EAAIT,KAAK4H,GAAKkN,EAAUoB,cAC3DjT,EAAO7L,KAAKkd,KAAKtU,KAAK+U,aAAa9f,OAASohB,GAEhDtN,EAAGlU,OACHkU,EAAGoL,UAAUnU,KAAK4H,EAAE5H,KAAK6H,GAEzB,IAAK,IAAI3E,EAAM,EAAGA,EAAMD,EAAMC,IAAO,CACjC,IAAIoT,EAAcpT,IAAQD,EAAK,GACpBjD,KAAK+U,aAAa9f,OAASohB,IAAc,EADjBA,EACkCrW,KAAK+U,aAAa9f,OAASohB,EAChGtN,EAAGwN,WACHxN,EAAGyC,KAAK,KACRzC,EAAGyN,KAAK1B,EAAUoB,aAAa,GAAGpB,EAAUoB,aAAa,GAAM,EAAIpB,EAAUoB,aAAehT,EAAK4R,EAAUoB,aAAaI,EAAYxB,EAAUoB,aAAapB,EAAUoB,aAAa,IAElLnN,EAAG4B,OAAO,GACV5B,EAAGyC,KAAK,KACRzC,EAAGyN,KAAK,EAAG,EAAI1B,EAAUoB,aAAehT,EAAM4R,EAAUoB,aAAaI,EAAYxB,EAAUoB,cAG/FnN,EAAGuC,UAAUvC,EAAGwC,OAAOxC,EAAGwC,QAC1BxC,EAAGgL,SAASe,EAAUoB,aAAa,EAAI,GAGvC,IADA,IAAIxf,EAAI,EACCwM,EAAM,EAAGA,EAAMD,EAAMC,IAK1B,IAJA,IAAIoT,EAAcpT,IAAQD,EAAK,GACpBjD,KAAK+U,aAAa9f,OAASohB,IAAc,EADjBA,EACkCrW,KAAK+U,aAAa9f,OAASohB,EAC5FzO,EAAI,EACJC,EAAI,EAAI3E,EAAM4R,EAAUoB,aACnBO,EAAQ,EAAGA,EAAQH,EAAaG,IAAS,CAC9C1N,EAAG4B,OAAO,GACV5B,EAAGrD,KAAKkC,EAAEC,EAAGD,EAAGC,EAAEiN,EAAUoB,cAE5BnN,EAAGwN,WACHxN,EAAGyC,KAAK,EAAE,EAAE,KACZzC,EAAGtP,KAAK/C,EAAEgV,WAAY9D,EAAEC,EAAEiN,EAAUoB,aAAcpB,EAAUoB,aAAapB,EAAUoB,cAEnF,IAAIT,EAAUzV,KAAK+U,aAAare,KAC5BggB,EAAQD,EAASH,EAAc,EAAK1O,EAAIkN,EAAUoB,aAAe,EACjES,EAAQF,EAASH,EAAc,EAAKzO,EAAKA,EAA4B,EAAvBiN,EAAUoB,aACxDT,EAAQzT,MACRyT,EAAQmB,KAAK7N,EAAInB,EAAEC,EAAE6O,EAAMC,GAE/B/O,EAAI8O,EACJ7O,EAAI8O,EACK1jB,SAASyhB,cAAc,qBAAqBlU,wBAAwB2E,OAAS2P,EAAUoB,aAOxGnN,EAAGsC,Q,oCAGOtC,EAAI5D,EAAQoP,GACtB,uEAAoBxL,EAAI5D,EAAQoP,EAAsH,EAAtGnd,KAAKkd,KAAKtU,KAAK+U,aAAa9f,OAAUmC,KAAK8R,OAAOH,EAAGtI,MAAQ,EAAIT,KAAK4H,GAAKkN,EAAUoB,eAAmBpB,EAAUoB,kB,GAvOnIrJ,IAAlBiI,GACV+B,YAAa,EADH/B,GAGVoB,aAAe,GAHLpB,GAIVE,iBAAmB,E,IAwOxBC,G,kDACF,WAAYjT,GAAO,IAAD,8BACd,gBAEKA,KAAOA,EAHE,E,kDAMZuF,GACF,gEAAaA,K,2BAGZwB,EAAInB,EAAEC,EAAGiP,EAAIC,GAId,GAHAhO,EAAGlU,OACHkU,EAAGyC,KAAK,GACRzC,EAAG4B,OAAO,IACL3K,KAAKyH,aAKNsB,EAAGtP,KAAKuG,KAAKgC,KAAK0J,WAAY9D,EAAEC,EAAGiN,GAAUoB,aAAapB,GAAUoB,kBALhD,CACpB,IAAIc,GAAQF,EAAIlP,GAAG5H,KAAKqH,UAAYO,EAChCqP,GAAQF,EAAIlP,GAAG7H,KAAKsH,UAAYO,EACpCkB,EAAGtP,KAAKuG,KAAKgC,KAAK0J,WAAYsL,EAAKC,EAAMnC,GAAUoB,aAAapB,GAAUoB,cAI9EnN,EAAGsC,U,GAtBgBjE,IC3ON8P,G,sKAeR,IAAD,OACJ,gEAAY,WACR,EAAKC,KAAO,KACZ,EAAK5d,KAAO,EACZ,EAAK6d,MAAQ,GACb,EAAKC,SAAW,KAChB,EAAKC,WAAa,U,iCAKfpC,EAAOlT,GACd,GAAmC,IAA/BhC,KAAKuP,eAAeta,OACpB,OAAO,EAEX,GAAIigB,EAAQ,GAAKA,EAAQlV,KAAKzG,KAE1B,OAAO,EAEX,GAAa,OAATyI,EAEA,OAAO,EAKX,IAHA,IAAI6M,EAAY,GACZtQ,EAAO,KACPgZ,EAAWvX,KAAKmX,KACXzgB,EAAI,EAAGA,EAAIwe,EAAOxe,IACvBmY,EAAUha,KAAK,CAACia,OAAO9O,KAAKwX,cAAclR,OAAO,CAAC/H,EAAKgZ,KACvDhZ,EAAOgZ,EACPA,EAAWA,EAASE,KAaxB,OAXA5I,EAAUha,KAAK,CAACia,OAAO9O,KAAK0X,SAASpR,OAAO,CAAC4O,EAAMlT,KACnD6M,EAAUha,KAAK,CAACia,OAAO9O,KAAKwX,cAAclR,OAAO,CAAC/H,EAAK,QACvDsQ,EAAUha,KAAK,CAACia,OAAO9O,KAAK2X,kBAAkBrR,OAAO,CAACiR,KACtD1I,EAAUha,KAAK,CAACia,OAAO9O,KAAK4X,gBAAgBtR,OAAO,CAAC/H,KAChD2W,EAAQlV,KAAKzG,MACbsV,EAAUha,KAAK,CAACia,OAAO9O,KAAK6X,aAAavR,OAAO,CAACiR,KAErD1I,EAAUha,KAAK,CAACia,OAAO9O,KAAK8X,eAAexR,OAAO,CAAC4O,KACnDrG,EAAUha,KAAK,CAACia,OAAO9O,KAAKsV,SAAShP,OAAO,KAC5CtG,KAAKuV,aAAa1G,GAClB7O,KAAK0O,iBAAiB7Z,KAAKga,IACpB,I,iCAGA7M,GACP,OAAOhC,KAAKwV,WAAW,EAAExT,K,gCAGnBA,GACN,OAAOhC,KAAKwV,WAAWxV,KAAKzG,KAAKyI,K,sCAIrBkT,GACZ,GAAmC,IAA/BlV,KAAKuP,eAAeta,OACpB,OAAO,EAEX,GAAIigB,EAAQ,GAAKA,GAASlV,KAAKzG,KAE3B,OAAO,EAEX,IACIwe,EACAC,EACAP,EAHA5I,EAAY,GAIhB,GAAc,IAAVqG,EACA6C,EAAO,KAEPN,GADAO,EAAWhY,KAAKmX,MACAM,SACb,CACH,IAAIlZ,EAAOyB,KAAKmX,KAChBtI,EAAUha,KAAK,CAACia,OAAO9O,KAAKwX,cAAclR,OAAO,CAAC,KAAK/H,KACvD,IAAK,IAAI7H,EAAI,EAAGA,EAAIwe,EAAQ,EAAGxe,IAC3BmY,EAAUha,KAAK,CAACia,OAAO9O,KAAKwX,cAAclR,OAAO,CAAC/H,EAAKA,EAAKkZ,QAC5DlZ,EAAOA,EAAKkZ,KAIhBA,GADAO,GADAD,EAAOxZ,GACSkZ,MACAA,KAEpB,IAAIzV,EAAOgW,EAAShW,KAUpB,OATA6M,EAAUha,KAAK,CAACia,OAAO9O,KAAKiY,oBAAoB3R,OAAO,CAACyR,EAAKC,KAC7DnJ,EAAUha,KAAK,CAACia,OAAO9O,KAAKkY,WAAW5R,OAAO,CAAC0R,GAAWxE,WAAU,IAChE0B,EAAQlV,KAAKzG,KAAO,GACpBsV,EAAUha,KAAK,CAACia,OAAO9O,KAAKmY,cAAc7R,OAAO,CAACmR,KAEtD5I,EAAUha,KAAK,CAACia,OAAO9O,KAAKoY,aAAa9R,OAAO,CAACyR,KACjDlJ,EAAUha,KAAK,CAACia,OAAO9O,KAAK2V,SAASrP,OAAO,KAC5CtG,KAAKuV,aAAa1G,GAClB7O,KAAK0O,iBAAiB7Z,KAAKga,GACpB7M,I,wCAIP,OAAOhC,KAAK4V,gBAAgB,K,uCAI5B,OAAO5V,KAAK4V,gBAAgB5V,KAAKzG,KAAK,K,+BAIjC2b,EAAOlT,GACZhC,KAAKqX,SAAW,IAAIgB,GAAqB,CAACrW,KAAMA,EAAMkT,MAAOA,EAAOtN,EAAE,GAAGC,EAAE,O,wCAG7D4P,GACdzX,KAAKqX,SAASI,KAAOA,I,sCAGTM,GACRA,IACAA,EAAKN,KAAOzX,KAAKqX,Y,qCAMVnC,GAAQ,IAAD,EAClBlV,KAAKoX,MAAM9E,OAAO4C,EAAO,EAAGlV,KAAKqX,UACnB,IAAVnC,IACAlV,KAAKmX,KAAOnX,KAAKqX,WAErB,EAAArX,KAAKqX,UAAS1O,MAAd,oBAAuB3I,KAAKsY,gBAAgBpD,KAC5ClV,KAAKqX,SAAW,O,oCAGNkB,EAAUC,GAChBD,GACAA,EAASE,cAETD,GACAA,EAAO9N,c,0CAIKX,EAAa2O,GACzB3O,GACAA,EAAY0O,cAEhBC,EAAaC,oB,iCAGNpa,GAAO,IAAD,OACbyB,KAAKqX,SAAWrX,KAAKoX,MAAM9E,OAAO/T,EAAK2W,MAAO,GAAG,GACjDlV,KAAKqX,SAAS1O,MAAM,GAAG,IACvB3I,KAAKqX,SAASuB,WAAU,WACpB,EAAKnF,cAAc,Q,mCAIdsE,GACLA,EACAA,EAAKN,KAAOzX,KAAKqX,SAASI,KAE1BzX,KAAKmX,KAAOnX,KAAKmX,KAAKM,KAE1BzX,KAAKqX,SAAW,O,mCAGP9Y,GACT,KAAOA,GACHyB,KAAK6Y,UAAUta,EAAM,GACrBA,EAAOA,EAAKkZ,O,oCAINlZ,GACV,KAAOA,GACHyB,KAAK6Y,UAAUta,GAAO,GACtBA,EAAOA,EAAKkZ,O,gCAIVlZ,EAAMgJ,GACZhJ,EAAKoK,MAAL,MAAApK,EAAI,YAAUyB,KAAKsY,gBAAgB/Z,EAAK2W,MAAQ3N,IAA5C,QAAwDA,O,iCAI5DvH,KAAKzG,S,iCAILyG,KAAKzG,S,mCAGIsV,GAAY,IAAD,EACpB7O,KAAKuP,eAAe1a,KAAK,CAACia,OAAO9O,KAAKvK,SAASka,KAAKgB,MAAM3Q,KAAKvK,SAAS6Q,OAAO,CAAC,iBAChF,EAAAtG,KAAKuP,gBAAe1a,KAApB,oBAA4Bga,IAC5B7O,KAAKuP,eAAe1a,KAAK,CAACia,OAAO9O,KAAKvK,SAASka,KAAKgB,MAAM3Q,KAAKvK,SAAS6Q,OAAO,CAAC,gB,sCAGpE4O,GACZ,IAAImB,EAAYjf,KAAK2C,IAAI,EAAG3C,KAAK8R,MAAMlJ,KAAKS,MAAQyW,EAAiBhB,eAEjErO,GADIqP,EAAiBhB,aACjB,GAAqC,EAAhC9e,KAAK8R,MAAMgM,EAAQmB,GAAiBa,EAAiB4B,gBAElE,MAAO,CADF5D,EAAQmB,EAAaa,EAAiBhB,aAC/BlW,KAAK4H,EAAEC,EAAI7H,KAAK6H,K,mCAGnBD,EAAEC,GAEX,IADA,IAAItJ,EAAOyB,KAAKmX,KACT5Y,GAAM,CACT,GAAIA,EAAKwa,YAAYnR,EAAEC,GACnB,OAAOtJ,EAEXA,EAAOA,EAAKkZ,KAEhB,OAAIzX,KAAKqX,UAAYrX,KAAKqX,SAAS0B,YAAYnR,EAAEC,GACtC7H,KAAKqX,SAET,O,0BAGP9Y,EAAMqJ,EAAEC,GACR7H,KAAKsX,WAAa/Y,EAClBA,EAAKya,IAAIpR,EAAEC,K,8BAIP7H,KAAKsX,WAAW2B,UAChBjZ,KAAK4V,gBAAgB5V,KAAKsX,WAAWpC,OACrClV,KAAKsX,WAAW4B,cAEpBlZ,KAAKsX,WAAa,O,iCAGX/Y,EAAMiJ,EAAgBuB,GACzBxK,EAAK4X,OAAO3O,EAAgBuB,GAC5BxK,EAAK4a,uBACE5a,EAAK+J,gBAAkB/J,EAAKyZ,UACnCzZ,EAAKka,gB,6BAINjR,EAAgBuB,GAAK,IAAD,OACvB,gEAAavB,EAAgBuB,GAAI,WAE7B,IADA,IAAIxK,EAAO,EAAK4Y,KACT5Y,GACH,EAAK6a,WAAW7a,EAAMiJ,EAAgBuB,GACtCxK,EAAOA,EAAKkZ,KAEZ,EAAKJ,UACL,EAAK+B,WAAW,EAAK/B,SAAU7P,EAAgBuB,Q,2BAKtDA,GAIDA,EAAGlU,OAEHkU,EAAGuC,UAAUvC,EAAGwC,OAAOxC,EAAGwC,QAC1BxC,EAAGgL,SAAS/T,KAAKqZ,cAAc,EAAI,GAGnC,IADA,IAAI9a,EAAOyB,KAAKmX,KACT5Y,GACHA,EAAKqY,KAAK7N,GACVxK,EAAOA,EAAKkZ,KAEZzX,KAAKqX,UACLrX,KAAKqX,SAAST,KAAK7N,GAGvBA,EAAGsC,Q,mCAGMtC,GACT,IAAIuQ,EAActZ,KAAKuZ,aAAaxQ,EAAGH,OAAQG,EAAGF,QAIlD,OAHIyQ,GACAtZ,KAAKgZ,IAAIM,EAAavQ,EAAGH,OAAOG,EAAGF,SAE/ByQ,I,oCAGEvQ,GAIV,OAHI/I,KAAKsX,YACLtX,KAAKiZ,SAEF,I,oCAGGlQ,EAAI5D,EAAQoP,GACtB,uEAAoBxL,EAAI5D,EAAQoP,EAAevU,KAAKsY,gBAAgBtY,KAAKzG,KAAK,GAAG,GAAK2d,EAAiB4B,gBAGvG,IADA,IAAIva,EAAOyB,KAAKmX,KACT5Y,GAAM,CAAC,IAAD,GACT,EAAAA,GAAKoK,MAAL,oBAAc3I,KAAKsY,gBAAgB/Z,EAAK2W,SACxC3W,EAAOA,EAAKkZ,U,GAlTsB5K,IAAzBqK,GACVL,YAAa,EADHK,GAEVpK,YAAa,EAFHoK,GAGV5D,qBAAsB,EAHZ4D,GAIVxD,cAAgB,IAJNwD,GAMV4B,eAAiB,GANP5B,GAOVmC,cAAgB,GAPNnC,GAQVsC,cAAgB,GARNtC,GASVuC,WAAavC,GAAiBmC,cAAgBnC,GAAiBsC,cATrDtC,GAUVwC,QAAU,GAVAxC,GAWVhB,aAAegB,GAAiBuC,WAAavC,GAAiBwC,QAXpDxC,GAaVyC,gBAAkB,I,IA2SvBtB,G,kDAGF,aAAsC,IAAD,2DAAJ,GAApBrW,EAAwB,EAAxBA,KAAMkT,EAAkB,EAAlBA,MAAOtN,EAAW,EAAXA,EAAEC,EAAS,EAATA,EAAS,4BACjC,cAAMD,EAAEC,IAEH7F,KAAOA,EACZ,EAAKkT,MAAQA,EACb,EAAKuC,KAAO,KAEZ,EAAKO,UAAW,EAChB,EAAK4B,YAAa,EAClB,EAAKxR,QAAS,EACd,EAAKmC,MAAQ,CAAC,EAAE,EAAE,GAVe,E,kDAa/B3C,EAAEC,GAAkB,IAAhBN,EAAe,uDAAH,EAClB,+DAAYK,EAAEC,GACd7H,KAAKkV,OAAS9d,KAAKsQ,KAAKH,K,kCAGhBK,EAAEC,GACV,OAAS7H,KAAK8H,UAAYF,GAAKA,GAAM5H,KAAK8H,SAAWoP,GAAiBuC,YAAiBzZ,KAAK+H,UAAYF,GAAKA,GAAM7H,KAAK+H,SAAWmP,GAAiB4B,iB,kCAIpJ9Y,KAAKuK,MAAQ,CAAC,IAAI,IAAI,K,oCAItBvK,KAAKuK,MAAQ,CAAC,EAAE,EAAE,K,6CAIlBvK,KAAKuK,MAAM,GAAK,M,wCAIhBvK,KAAKgY,UAAW,EAChBhY,KAAKmZ,yB,mCAILnZ,KAAK2Y,kBACL3Y,KAAKoI,QAAS,EACdpI,KAAK4Z,YAAa,I,8BAKlB,OADA,gEACO5Z,KAAK6Z,eAAiB3C,GAAiByC,kB,6BAG3CnS,EAAgBuB,GACnB,IAAI+Q,EAAI,gEAAgBtS,EAAgBuB,GACxC,OAAO/I,KAAKsI,gBAAkBtI,KAAK4Z,YAAcE,EAAO5C,GAAiByC,kB,2BAGxE5Q,GAEDA,EAAGlU,OACHkU,EAAGyC,KAAK,KACRzC,EAAG4B,OAAH,MAAA5B,EAAE,YAAW/I,KAAKuK,QAClBxB,EAAGyN,KAAKxW,KAAK8H,SAAU9H,KAAK+H,SAAUmP,GAAiBuC,WAAYvC,GAAiB4B,gBACpF/P,EAAGrD,KAAK1F,KAAK8H,SAAWoP,GAAiBmC,cAAerZ,KAAK+H,SAAU/H,KAAK8H,SAAWoP,GAAiBmC,cAAerZ,KAAK+H,SAAWmP,GAAiB4B,gBACxJ/P,EAAGuC,UAAUvC,EAAGwC,OAAQxC,EAAGwC,QAC3BxC,EAAGyC,KAAH,MAAAzC,EAAE,YAAS/I,KAAKuK,QAChBxB,EAAGtP,KAAKuG,KAAKgC,KAAK0J,WAAY1L,KAAK8H,SAAS9H,KAAK+H,SAAUmP,GAAiBmC,cAAcnC,GAAiB4B,gBACvG9Y,KAAKyX,MACL1O,EAAG4B,OAAH,MAAA5B,EAAE,YAAW9D,EAAMrI,SAASoD,KAAKuK,MAAO,CAAC,EAAE,EAAE,QAC7CxB,EAAGyC,KAAH,MAAAzC,EAAE,YAAS9D,EAAMrI,SAASoD,KAAKuK,MAAO,CAAC,EAAE,EAAE,QAC3CxB,EAAGmC,OAAOlL,KAAK8H,SAAWoP,GAAiBmC,cAAgBnC,GAAiBsC,cAAgB,EAAGxZ,KAAK+H,SAAWmP,GAAiB4B,eAAiB,EAAG,GACpJ/P,EAAGrD,KAAK1F,KAAK8H,SAAWoP,GAAiBmC,cAAgBnC,GAAiBsC,cAAgB,EAAGxZ,KAAK+H,SAAWmP,GAAiB4B,eAAiB,EAAG9Y,KAAKyX,KAAK3P,SAAU9H,KAAKyX,KAAK1P,SAAWmP,GAAiB4B,eAAiB,GAC7N/P,EAAGyN,KAAKxW,KAAKyX,KAAK3P,SAAW,EAAG9H,KAAKyX,KAAK1P,SAAWmP,GAAiB4B,eAAiB,EAAI,EAAG,EAAE,IAEhG/P,EAAGrD,KAAK1F,KAAK8H,SAAWoP,GAAiBmC,cAAerZ,KAAK+H,SAAU/H,KAAK8H,SAAWoP,GAAiBuC,WAAYzZ,KAAK+H,SAAWmP,GAAiB4B,gBAEzJ/P,EAAGsC,U,GA7EwB1D,IAA7B0Q,GACKvP,UAAW,E,ICzTDiR,G,sKAeR,IAAD,OACJ,gEAAY,WACR,EAAK5C,KAAO,KACZ,EAAK6C,KAAO,KACZ,EAAKzgB,KAAO,EACZ,EAAK6d,MAAQ,GACb,EAAKC,SAAW,KAChB,EAAKC,WAAa,U,iCAKfpC,EAAOlT,GACd,GAAmC,IAA/BhC,KAAKuP,eAAeta,OACpB,OAAO,EAEX,GAAIigB,EAAQ,GAAKA,EAAQlV,KAAKzG,KAE1B,OAAO,EAEX,GAAa,OAATyI,EAEA,OAAO,EAEX,IACIzD,EACAgZ,EACAxN,EAHA8E,EAAY,GAIhB,GAAIqG,EAAQlV,KAAKzG,KAAO,EAAG,CACvBgF,EAAO,KACPgZ,EAAWvX,KAAKmX,KAChB,IAAK,IAAIzgB,EAAI,EAAGA,EAAIwe,EAAOxe,IACvBmY,EAAUha,KAAK,CAACia,OAAO9O,KAAKwX,cAAclR,OAAO,CAAC/H,EAAKgZ,KACvDhZ,EAAOgZ,EACPA,EAAWA,EAASE,KAExB1N,EAAcxL,MACX,CACHA,EAAOyB,KAAKga,KACZzC,EAAW,KACX,IAAK,IAAI7gB,EAAIsJ,KAAKzG,KAAO,EAAG7C,EAAIwe,EAAM,EAAGxe,IACrCmY,EAAUha,KAAK,CAACia,OAAO9O,KAAKwX,cAAclR,OAAO,CAACiR,EAAShZ,KAC3DgZ,EAAWhZ,EACXA,EAAOA,EAAKwZ,KAEhBhO,EAAcwN,EAalB,OAXA1I,EAAUha,KAAK,CAACia,OAAO9O,KAAK0X,SAASpR,OAAO,CAAC4O,EAAMlT,KACnD6M,EAAUha,KAAK,CAACia,OAAO9O,KAAKwX,cAAclR,OAAO,CAACyD,EAAY,QAC9D8E,EAAUha,KAAK,CAACia,OAAO9O,KAAK2X,kBAAkBrR,OAAO,CAACiR,KACtD1I,EAAUha,KAAK,CAACia,OAAO9O,KAAK4X,gBAAgBtR,OAAO,CAAC/H,KAChD2W,EAAQlV,KAAKzG,MACbsV,EAAUha,KAAK,CAACia,OAAO9O,KAAK6X,aAAavR,OAAO,CAACiR,KAErD1I,EAAUha,KAAK,CAACia,OAAO9O,KAAK8X,eAAexR,OAAO,CAAC4O,KACnDrG,EAAUha,KAAK,CAACia,OAAO9O,KAAKsV,SAAShP,OAAO,KAC5CtG,KAAKuV,aAAa1G,GAClB7O,KAAK0O,iBAAiB7Z,KAAKga,IACpB,I,iCAGA7M,GACP,OAAOhC,KAAKwV,WAAW,EAAExT,K,gCAGnBA,GACN,OAAOhC,KAAKwV,WAAWxV,KAAKzG,KAAKyI,K,sCAIrBkT,GACZ,GAAmC,IAA/BlV,KAAKuP,eAAeta,OACpB,OAAO,EAEX,GAAIigB,EAAQ,GAAKA,GAASlV,KAAKzG,KAE3B,OAAO,EAEX,IACIwe,EACAC,EACAP,EAHA5I,EAAY,GAIhB,GAAc,IAAVqG,EACA6C,EAAO,KAEPN,GADAO,EAAWhY,KAAKmX,MACAM,UACb,GAAIvC,IAAUlV,KAAKzG,KAAO,EAC7Bke,EAAO,KAEPM,GADAC,EAAWhY,KAAKga,MACAjC,UAEhB,GAAI7C,EAAQlV,KAAKzG,KAAO,EAAG,CACvB,IAAIgF,EAAOyB,KAAKmX,KAChBtI,EAAUha,KAAK,CAACia,OAAO9O,KAAKwX,cAAclR,OAAO,CAAC,KAAK/H,KACvD,IAAK,IAAI7H,EAAI,EAAGA,EAAIwe,EAAOxe,IACvBmY,EAAUha,KAAK,CAACia,OAAO9O,KAAKwX,cAAclR,OAAO,CAAC/H,EAAKA,EAAKkZ,QAC5DlZ,EAAOA,EAAKkZ,KAEhBM,EAAOxZ,EAAKwZ,KACZC,EAAWzZ,EACXkZ,EAAOlZ,EAAKkZ,SACT,CACH,IAAIlZ,EAAOyB,KAAKga,KAChBnL,EAAUha,KAAK,CAACia,OAAO9O,KAAKwX,cAAclR,OAAO,CAAC,KAAK/H,KACvD,IAAK,IAAI7H,EAAIsJ,KAAKzG,KAAO,EAAG7C,EAAIwe,EAAOxe,IACnCmY,EAAUha,KAAK,CAACia,OAAO9O,KAAKwX,cAAclR,OAAO,CAAC/H,EAAKA,EAAKwZ,QAC5DxZ,EAAOA,EAAKwZ,KAEhBA,EAAOxZ,EAAKwZ,KACZC,EAAWzZ,EACXkZ,EAAOlZ,EAAKkZ,KAGpB,IAAIzV,EAAOgW,EAAShW,KAWpB,OAVA6M,EAAUha,KAAK,CAACia,OAAO9O,KAAKiY,oBAAoB3R,OAAO,CAAC0R,EAASA,KACjEnJ,EAAUha,KAAK,CAACia,OAAO9O,KAAKkY,WAAW5R,OAAO,CAAC0R,GAAWxE,WAAU,IAChE0B,EAAQlV,KAAKzG,KAAO,GACpBsV,EAAUha,KAAK,CAACia,OAAO9O,KAAKmY,cAAc7R,OAAO,CAACmR,KAEtD5I,EAAUha,KAAK,CAACia,OAAO9O,KAAKia,iBAAiB3T,OAAO,CAACyR,KACrDlJ,EAAUha,KAAK,CAACia,OAAO9O,KAAKka,iBAAiB5T,OAAO,CAACmR,KACrD5I,EAAUha,KAAK,CAACia,OAAO9O,KAAK2V,SAASrP,OAAO,KAC5CtG,KAAKuV,aAAa1G,GAClB7O,KAAK0O,iBAAiB7Z,KAAKga,GACpB7M,I,wCAIP,OAAOhC,KAAK4V,gBAAgB,K,uCAI5B,OAAO5V,KAAK4V,gBAAgB5V,KAAKzG,KAAK,K,+BAKjC2b,EAAOlT,GACZhC,KAAKqX,SAAW,IAAI8C,GAAqB,CAACnY,KAAMA,EAAMkT,MAAOA,EAAOtN,EAAE,GAAGC,EAAE,O,wCAG7D4P,GACdzX,KAAKqX,SAASI,KAAOA,EACjBA,IACAA,EAAKM,KAAO/X,KAAKqX,Y,sCAITU,GACRA,IACAA,EAAKN,KAAOzX,KAAKqX,UAErBrX,KAAKqX,SAASU,KAAOA,I,qCAGV7C,GAAQ,IAAD,EAClBlV,KAAKoX,MAAM9E,OAAO4C,EAAO,EAAGlV,KAAKqX,UACnB,IAAVnC,IACAlV,KAAKmX,KAAOnX,KAAKqX,UAEjBnC,IAAUlV,KAAKzG,OACfyG,KAAKga,KAAOha,KAAKqX,WAErB,EAAArX,KAAKqX,UAAS1O,MAAd,oBAAuB3I,KAAKsY,gBAAgBpD,KAC5ClV,KAAKqX,SAAW,O,oCAGNkB,EAAUC,GAChBD,GACAA,EAASE,cAETD,GACAA,EAAO9N,c,0CAIKX,EAAa2O,GACzB3O,GACAA,EAAY0O,cAEhBC,EAAaC,oB,iCAGNpa,GAAO,IAAD,OACbyB,KAAKqX,SAAWrX,KAAKoX,MAAM9E,OAAO/T,EAAK2W,MAAO,GAAG,GACjDlV,KAAKqX,SAAS1O,MAAM,GAAG,IACvB3I,KAAKqX,SAASuB,WAAU,WACpB,EAAKnF,cAAc,Q,uCAIVsE,GACTA,EACAA,EAAKN,KAAOzX,KAAKqX,SAASI,KAE1BzX,KAAKmX,KAAOnX,KAAKmX,KAAKM,O,uCAIbA,GACTA,EACAA,EAAKM,KAAO/X,KAAKqX,SAASU,KAE1B/X,KAAKga,KAAOha,KAAKga,KAAKjC,KAE1B/X,KAAKqX,SAAW,O,mCAGP9Y,GACT,KAAOA,GACHyB,KAAK6Y,UAAUta,EAAM,GACrBA,EAAOA,EAAKkZ,O,oCAINlZ,GACV,KAAOA,GACHyB,KAAK6Y,UAAUta,GAAO,GACtBA,EAAOA,EAAKkZ,O,gCAIVlZ,EAAMgJ,GACZhJ,EAAKoK,MAAL,MAAApK,EAAI,YAAUyB,KAAKsY,gBAAgB/Z,EAAK2W,MAAQ3N,IAA5C,QAAwDA,O,iCAI5DvH,KAAKzG,S,iCAILyG,KAAKzG,S,sCAGO2b,GACZ,IAAImB,EAAYjf,KAAK2C,IAAI,EAAG3C,KAAK8R,MAAMlJ,KAAKS,MAAQsZ,EAAiBK,uBAEjEvS,GADIkS,EAAiBK,qBACjB,GAAqC,EAAhChjB,KAAK8R,MAAMgM,EAAQmB,GAAiB0D,EAAiBjB,gBAElE,MAAO,CADF5D,EAAQmB,EAAa0D,EAAiBK,qBAC/Bpa,KAAK4H,EAAEC,EAAI7H,KAAK6H,K,mCAGnBD,EAAEC,GAEX,IADA,IAAItJ,EAAOyB,KAAKmX,KACT5Y,GAAM,CACT,GAAIA,EAAKwa,YAAYnR,EAAEC,GACnB,OAAOtJ,EAEXA,EAAOA,EAAKkZ,KAEhB,OAAIzX,KAAKqX,UAAYrX,KAAKqX,SAAS0B,YAAYnR,EAAEC,GACtC7H,KAAKqX,SAET,O,0BAGP9Y,EAAMqJ,EAAEC,GACR7H,KAAKsX,WAAa/Y,EAClBA,EAAKya,IAAIpR,EAAEC,K,8BAIP7H,KAAKsX,WAAW2B,UAChBjZ,KAAK4V,gBAAgB5V,KAAKsX,WAAWpC,OACrClV,KAAKsX,WAAW4B,cAEpBlZ,KAAKsX,WAAa,O,iCAGX/Y,EAAMiJ,EAAgBuB,GACzBxK,EAAK4X,OAAO3O,EAAgBuB,GAC5BxK,EAAK4a,uBACE5a,EAAK+J,gBAAkB/J,EAAKyZ,UACnCzZ,EAAKka,gB,6BAINjR,EAAgBuB,GAAK,IAAD,OACvB,gEAAavB,EAAgBuB,GAAI,WAE7B,IADA,IAAIxK,EAAO,EAAK4Y,KACT5Y,GACH,EAAK6a,WAAW7a,EAAMiJ,EAAgBuB,GACtCxK,EAAOA,EAAKkZ,KAEZ,EAAKJ,UACL,EAAK+B,WAAW,EAAK/B,SAAU7P,EAAgBuB,Q,2BAKtDA,GACDA,EAAGlU,OAEHkU,EAAGuC,UAAUvC,EAAGwC,OAAOxC,EAAGwC,QAC1BxC,EAAGgL,SAAS/T,KAAKqZ,cAAc,EAAI,GAGnC,IADA,IAAI9a,EAAOyB,KAAKmX,KACT5Y,GACHA,EAAKqY,KAAK7N,GACVxK,EAAOA,EAAKkZ,KAEZzX,KAAKqX,UACLrX,KAAKqX,SAAST,KAAK7N,GAGvBA,EAAGsC,Q,mCAGMtC,GACT,IAAIuQ,EAActZ,KAAKuZ,aAAaxQ,EAAGH,OAAQG,EAAGF,QAIlD,OAHIyQ,GACAtZ,KAAKgZ,IAAIM,EAAavQ,EAAGH,OAAOG,EAAGF,SAE/ByQ,I,oCAGEvQ,GAIV,OAHI/I,KAAKsX,YACLtX,KAAKiZ,SAEF,I,oCAGGlQ,EAAI5D,EAAQoP,GACtB,uEAAoBxL,EAAI5D,EAAQoP,EAAevU,KAAKsY,gBAAgBtY,KAAKzG,KAAK,GAAG,GAAKwgB,EAAiBjB,gBAGvG,IADA,IAAIva,EAAOyB,KAAKmX,KACT5Y,GAAM,CAAC,IAAD,GACT,EAAAA,GAAKoK,MAAL,oBAAc3I,KAAKsY,gBAAgB/Z,EAAK2W,SACxC3W,EAAOA,EAAKkZ,U,GAxVsB5K,IAAzBkN,GACVlD,YAAa,EADHkD,GAEVjN,YAAa,EAFHiN,GAGVzG,qBAAsB,EAHZyG,GAIVrG,cAAgB,IAJNqG,GAMVjB,eAAiB,GANPiB,GAOVV,cAAgB,GAPNU,GAQVP,cAAgB,GARNO,GASVN,WAAaM,GAAiBV,cAAgB,EAAIU,GAAiBP,cATzDO,GAUVL,QAAU,GAVAK,GAWVK,qBAAuBL,GAAiBN,WAAaM,GAAiBL,QAX5DK,GAaVJ,gBAAkB,I,IAiVvBQ,G,kDAGF,aAAsC,IAAD,2DAAJ,GAApBnY,EAAwB,EAAxBA,KAAMkT,EAAkB,EAAlBA,MAAOtN,EAAW,EAAXA,EAAEC,EAAS,EAATA,EAAS,4BACjC,cAAMD,EAAEC,IAEH7F,KAAOA,EACZ,EAAKkT,MAAQA,EACb,EAAKuC,KAAO,KACZ,EAAKM,KAAO,KAEZ,EAAKC,UAAW,EAChB,EAAK4B,YAAa,EAClB,EAAKxR,QAAS,EACd,EAAKmC,MAAQ,CAAC,EAAE,EAAE,GAXe,E,kDAc/B3C,EAAEC,GAAkB,IAAhBN,EAAe,uDAAH,EAClB,+DAAYK,EAAEC,GACd7H,KAAKkV,OAAS9d,KAAKsQ,KAAKH,K,kCAGhBK,EAAEC,GACV,OAAS7H,KAAK8H,UAAYF,GAAKA,GAAM5H,KAAK8H,SAAWiS,GAAiBN,YAAiBzZ,KAAK+H,UAAYF,GAAKA,GAAM7H,KAAK+H,SAAWgS,GAAiBjB,iB,kCAIpJ9Y,KAAKuK,MAAQ,CAAC,IAAI,IAAI,K,oCAItBvK,KAAKuK,MAAQ,CAAC,EAAE,EAAE,K,6CAIlBvK,KAAKuK,MAAM,GAAK,M,wCAIhBvK,KAAKgY,UAAW,EAChBhY,KAAKmZ,yB,mCAILnZ,KAAK2Y,kBACL3Y,KAAKoI,QAAS,EACdpI,KAAK4Z,YAAa,I,8BAKlB,OADA,gEACO5Z,KAAK6Z,eAAiBE,GAAiBJ,kB,6BAG3CnS,EAAgBuB,GACnB,IAAI+Q,EAAI,gEAAgBtS,EAAgBuB,GACxC,OAAO/I,KAAKsI,gBAAkBtI,KAAK4Z,YAAcE,EAAOC,GAAiBJ,kB,2BAGxE5Q,GAEDA,EAAGlU,OACHkU,EAAGyC,KAAK,KACRzC,EAAG4B,OAAH,MAAA5B,EAAE,YAAW/I,KAAKuK,QAClBxB,EAAGyN,KAAKxW,KAAK8H,SAAU9H,KAAK+H,SAAUgS,GAAiBN,WAAYM,GAAiBjB,gBACpF/P,EAAGrD,KAAK1F,KAAK8H,SAAWiS,GAAiBP,cAAexZ,KAAK+H,SAAU/H,KAAK8H,SAAWiS,GAAiBP,cAAexZ,KAAK+H,SAAWgS,GAAiBjB,gBACxJ/P,EAAGrD,KAAK1F,KAAK8H,SAAWiS,GAAiBP,cAAgBO,GAAiBV,cAAerZ,KAAK+H,SAAU/H,KAAK8H,SAAWiS,GAAiBP,cAAgBO,GAAiBV,cAAerZ,KAAK+H,SAAWgS,GAAiBjB,gBAC1N/P,EAAGuC,UAAUvC,EAAGwC,OAAQxC,EAAGwC,QAC3BxC,EAAGyC,KAAH,MAAAzC,EAAE,YAAS/I,KAAKuK,QAChBxB,EAAGtP,KAAKuG,KAAKgC,KAAK0J,WAAY1L,KAAK8H,SAAWiS,GAAiBP,cAAcxZ,KAAK+H,SAAUgS,GAAiBV,cAAcU,GAAiBjB,gBACxI9Y,KAAK+X,MACLhP,EAAG4B,OAAH,MAAA5B,EAAE,YAAW9D,EAAMrI,SAASoD,KAAKuK,MAAON,EAAOxN,QAC/CsM,EAAGyC,KAAH,MAAAzC,EAAE,YAAS9D,EAAMrI,SAASoD,KAAKuK,MAAON,EAAOxN,QAC7CsM,EAAGmC,OAAOlL,KAAK8H,SAAWiS,GAAiBP,cAAgB,EAAGxZ,KAAK+H,SAA4C,EAAjCgS,GAAiBjB,eAAkB,EAAG,GACpH/P,EAAGrD,KAAK1F,KAAK8H,SAAWiS,GAAiBP,cAAgB,EAAGxZ,KAAK+H,SAA4C,EAAjCgS,GAAiBjB,eAAkB,EAAG9Y,KAAK+X,KAAKjQ,SAAWiS,GAAiBN,WAAYzZ,KAAK+X,KAAKhQ,SAA4C,EAAjCgS,GAAiBjB,eAAkB,GAC5N/P,EAAGyN,KAAKxW,KAAK+X,KAAKjQ,SAAWiS,GAAiBN,WAAa,EAAGzZ,KAAK+X,KAAKhQ,SAA4C,EAAjCgS,GAAiBjB,eAAkB,EAAI,EAAG,EAAE,IAE/H/P,EAAGrD,KAAK1F,KAAK8H,SAAU9H,KAAK+H,SAAU/H,KAAK8H,SAAWiS,GAAiBP,cAAexZ,KAAK+H,SAAWgS,GAAiBjB,gBAEvH9Y,KAAKyX,MACL1O,EAAG4B,OAAH,MAAA5B,EAAE,YAAW9D,EAAMrI,SAASoD,KAAKuK,MAAON,EAAOxN,QAC/CsM,EAAGyC,KAAH,MAAAzC,EAAE,YAAS9D,EAAMrI,SAASoD,KAAKuK,MAAON,EAAOxN,QAC7CsM,EAAGmC,OAAOlL,KAAK8H,SAAWiS,GAAiBN,WAAaM,GAAiBP,cAAgB,EAAGxZ,KAAK+H,SAAWgS,GAAiBjB,eAAiB,EAAG,GACjJ/P,EAAGrD,KAAK1F,KAAK8H,SAAWiS,GAAiBN,WAAaM,GAAiBP,cAAgB,EAAGxZ,KAAK+H,SAAWgS,GAAiBjB,eAAiB,EAAG9Y,KAAKyX,KAAK3P,SAAU9H,KAAKyX,KAAK1P,SAAWgS,GAAiBjB,eAAiB,GAC1N/P,EAAGyN,KAAKxW,KAAKyX,KAAK3P,SAAW,EAAG9H,KAAKyX,KAAK1P,SAAWgS,GAAiBjB,eAAiB,EAAI,EAAG,EAAE,KAEhG/P,EAAG4B,OAAH,MAAA5B,EAAE,YAAW/I,KAAKuK,QAClBxB,EAAGrD,KAAK1F,KAAK8H,SAAWiS,GAAiBP,cAAgBO,GAAiBV,cAAerZ,KAAK+H,SAAU/H,KAAK8H,SAAWiS,GAAiBN,WAAYzZ,KAAK+H,SAAWgS,GAAiBjB,iBAE1L/P,EAAGsC,U,GAzFwB1D,IAA7BwS,GACKrR,UAAW,E,IC/VDuR,G,sKAeR,IAAD,OACJ,gEAAY,WACR,EAAKlD,KAAO,KACZ,EAAK5d,KAAO,EACZ,EAAK6d,MAAQ,GACb,EAAKC,SAAW,KAChB,EAAKC,WAAa,U,iCAKfpC,EAAOlT,GACd,GAAmC,IAA/BhC,KAAKuP,eAAeta,OACpB,OAAO,EAEX,GAAIigB,EAAQ,GAAKA,EAAQlV,KAAKzG,KAE1B,OAAO,EAEX,GAAa,OAATyI,EAEA,OAAO,EAEX,IAAI6M,EAAY,GAChB,GAAI7O,KAAKzG,KAAO,IAAgB,IAAV2b,GAAeA,IAAUlV,KAAKzG,MAChDsV,EAAUha,KAAK,CAACia,OAAO9O,KAAK0X,SAASpR,OAAO,CAAW,IAAV4O,EAAc,EAAIA,EAAMlV,KAAKmX,KAAKnV,QAC/E6M,EAAUha,KAAK,CAACia,OAAO9O,KAAK2X,kBAAkBrR,OAAO,CAACtG,KAAKmX,KAAKM,QAChE5I,EAAUha,KAAK,CAACia,OAAO9O,KAAK4X,gBAAgBtR,OAAO,CAACtG,KAAKmX,QACzDtI,EAAUha,KAAK,CAACia,OAAO9O,KAAKsa,eAAehU,OAAO,CAACtE,KAC/ChC,KAAKzG,MAAQ,GACbsV,EAAUha,KAAK,CAACia,OAAO9O,KAAK6X,aAAavR,OAAO,CAACtG,KAAKmX,KAAKM,QAE/D5I,EAAUha,KAAK,CAACia,OAAO9O,KAAK8X,eAAexR,OAAO,CAAC,KACnDuI,EAAUha,KAAK,CAACia,OAAO9O,KAAKsV,SAAShP,OAAO,KACxC4O,IAAUlV,KAAKzG,OACfsV,EAAUha,KAAK,CAACia,OAAO9O,KAAKua,gBAAgBjU,OAAO,CAACtG,KAAKmX,KAAMnX,KAAKmX,KAAKrP,SAAW,GAAI9H,KAAKsY,gBAAgBtY,KAAKzG,MAAM,GAA+C,EAA1C8gB,EAAyBvB,gBAAqBtF,WAAU,IAErL3E,EAAUha,KAAK,CAACia,OAAO9O,KAAKwa,UAAUlU,OAAO,UAE9C,CAGH,IAFA,IAAI/H,EAAO,KACPgZ,EAAWvX,KAAKmX,KACXzgB,EAAI,EAAGA,EAAIwe,EAAOxe,IACvBmY,EAAUha,KAAK,CAACia,OAAO9O,KAAKwX,cAAclR,OAAO,CAAC/H,EAAKgZ,KACvDhZ,EAAOgZ,EACPA,EAAWA,EAASE,KAExB5I,EAAUha,KAAK,CAACia,OAAO9O,KAAK0X,SAASpR,OAAO,CAAC4O,EAAMlT,KACnD6M,EAAUha,KAAK,CAACia,OAAO9O,KAAKwX,cAAclR,OAAO,CAAC/H,EAAK,QACvDsQ,EAAUha,KAAK,CAACia,OAAO9O,KAAK2X,kBAAkBrR,OAAO,CAACiR,KACtD1I,EAAUha,KAAK,CAACia,OAAO9O,KAAK4X,gBAAgBtR,OAAO,CAAC/H,KAChD2W,EAAQlV,KAAKzG,MACbsV,EAAUha,KAAK,CAACia,OAAO9O,KAAK6X,aAAavR,OAAO,CAACiR,KAErD1I,EAAUha,KAAK,CAACia,OAAO9O,KAAK8X,eAAexR,OAAO,CAAC4O,KACnDrG,EAAUha,KAAK,CAACia,OAAO9O,KAAKsV,SAAShP,OAAO,KAIhD,OAFAtG,KAAKuV,aAAa1G,GAClB7O,KAAK0O,iBAAiB7Z,KAAKga,IACpB,I,iCAGA7M,GACP,OAAOhC,KAAKwV,WAAW,EAAExT,K,gCAGnBA,GACN,OAAOhC,KAAKwV,WAAWxV,KAAKzG,KAAKyI,K,sCAIrBkT,GACZ,GAAmC,IAA/BlV,KAAKuP,eAAeta,OACpB,OAAO,EAEX,GAAIigB,EAAQ,GAAKA,GAASlV,KAAKzG,KAE3B,OAAO,EAEX,IACIyI,EASA+V,EACAC,EACAP,EAZA5I,EAAY,GAEF,IAAVqG,IACAlT,EAAOhC,KAAKmX,KAAKnV,KACjB6M,EAAUha,KAAK,CAACia,OAAO9O,KAAKwX,cAAclR,OAAO,CAAC,KAAKtG,KAAKmX,QAC5DtI,EAAUha,KAAK,CAACia,OAAO9O,KAAKsa,eAAehU,OAAO,CAACtG,KAAKmX,KAAKM,KAAKzV,QAC9DhC,KAAKzG,KAAO,IACZ2b,EAAQ,IAMhB,IAAI3W,EAAOyB,KAAKmX,KAChBtI,EAAUha,KAAK,CAACia,OAAO9O,KAAKwX,cAAclR,OAAO,CAAC,KAAK/H,KACvD,IAAK,IAAI7H,EAAI,EAAGA,EAAIwe,EAAQ,EAAGxe,IAC3BmY,EAAUha,KAAK,CAACia,OAAO9O,KAAKwX,cAAclR,OAAO,CAAC/H,EAAKA,EAAKkZ,QAC5DlZ,EAAOA,EAAKkZ,KAoBhB,OAhBAA,GADAO,GADAD,EAAOxZ,GACSkZ,MACAA,KACXzV,IACDA,EAAOgW,EAAShW,MAEpB6M,EAAUha,KAAK,CAACia,OAAO9O,KAAKiY,oBAAoB3R,OAAO,CAACyR,EAAKC,KAC7DnJ,EAAUha,KAAK,CAACia,OAAO9O,KAAKkY,WAAW5R,OAAO,CAAC0R,GAAWxE,WAAU,IAChE0B,EAAQlV,KAAKzG,KAAO,GACpBsV,EAAUha,KAAK,CAACia,OAAO9O,KAAKmY,cAAc7R,OAAO,CAACmR,KAEtD5I,EAAUha,KAAK,CAACia,OAAO9O,KAAKoY,aAAa9R,OAAO,CAACyR,KACjDlJ,EAAUha,KAAK,CAACia,OAAO9O,KAAK2V,SAASrP,OAAO,KAC9B,IAAV4O,GACArG,EAAUha,KAAK,CAACia,OAAO9O,KAAKuO,MAAMjI,OAAO,KAE7CtG,KAAKuV,aAAa1G,GAClB7O,KAAK0O,iBAAiB7Z,KAAKga,GACpB7M,I,wCAIP,OAAOhC,KAAK4V,gBAAgB,K,uCAI5B,OAAO5V,KAAK4V,gBAAgB5V,KAAKzG,KAAK,K,+BAIjC2b,EAAOlT,GACZhC,KAAKqX,SAAW,IAAIoD,GAA6B,CAACzY,KAAMA,EAAMkT,MAAOA,EAAOtN,EAAE,GAAGC,EAAE,O,wCAGrE4P,GACVA,EACAzX,KAAKqX,SAASI,KAAOA,EAEjBzX,KAAKmX,KACLnX,KAAKqX,SAASI,KAAOzX,KAAKmX,KAE1BnX,KAAKqX,SAASI,KAAOzX,KAAKqX,W,sCAKtBU,GACRA,IACAA,EAAKN,KAAOzX,KAAKqX,Y,qCAMVrV,GACXhC,KAAKmX,KAAKnV,KAAOA,I,kCAIjBhC,KAAKmX,KAAOnX,KAAKmX,KAAKM,KAGtB,IAFA,IAAIlZ,EAAOyB,KAAKmX,KACZzgB,EAAI,EACD6H,GAAM,CAAC,IAAD,EAIT,GAHAA,EAAK2W,MAAQxe,GACb,EAAA6H,GAAKoK,MAAL,oBAAc3I,KAAKsY,gBAAgB5hB,QACnC6H,EAAOA,EAAKkZ,QACCzX,KAAKmX,KACd,S,qCAKGjC,GAAQ,IAAD,EAClBlV,KAAKoX,MAAM9E,OAAO4C,EAAO,EAAGlV,KAAKqX,UACnB,IAAVnC,IACAlV,KAAKmX,KAAOnX,KAAKqX,WAErB,EAAArX,KAAKqX,UAAS1O,MAAd,oBAAuB3I,KAAKsY,gBAAgBpD,KAC5ClV,KAAKqX,SAAW,O,oCAGNkB,EAAUC,GAChBD,GACAA,EAASE,cAETD,GACAA,EAAO9N,c,0CAIKX,EAAa2O,GACzB3O,GACAA,EAAY0O,cAEhBC,EAAaC,oB,iCAGNpa,GAAO,IAAD,OACbyB,KAAKqX,SAAW9Y,EAChByB,KAAKqX,SAAS1O,MAAM,GAAG,IACvB3I,KAAKqX,SAASuB,WAAU,WACpB,EAAKnF,cAAc,Q,mCAIdsE,GACLA,EACAA,EAAKN,KAAOzX,KAAKqX,SAASI,KAE1BzX,KAAKmX,KAAOnX,KAAKmX,KAAKM,KAE1BzX,KAAKqX,SAAW,O,mCAGP9Y,GACT,KAAOA,IACHyB,KAAK6Y,UAAUta,EAAM,IACrBA,EAAOA,EAAKkZ,QACCzX,KAAKmX,W,oCAMZ5Y,GACV,KAAOA,IACHyB,KAAK6Y,UAAUta,GAAO,IACtBA,EAAOA,EAAKkZ,QACCzX,KAAKmX,W,gCAMhB5Y,GAAsB,IAAhBgJ,EAAe,uDAAH,EACxBhJ,EAAKoK,MAAL,MAAApK,EAAI,YAAUyB,KAAKsY,gBAAgB/Z,EAAK2W,MAAQ3N,IAA5C,QAAwDA,O,sCAGhDhJ,EAAMqJ,EAAGC,GAAI,IAAD,OACxBtJ,EAAKoK,MAAMf,EAAEC,GACbtJ,EAAKqa,WAAU,WACX,EAAKnF,cAAc,Q,iCAKvBzT,KAAKzG,S,iCAILyG,KAAKzG,S,sCAGO2b,GACZ,IAAImB,EAAYjf,KAAK2C,IAAI,EAAG3C,KAAK8R,MAAMlJ,KAAKS,MAAQ4Z,EAAyBnE,eAEzErO,GADIwS,EAAyBnE,aACzB,GAAqC,EAAhC9e,KAAK8R,MAAMgM,EAAQmB,GAAiBgE,EAAyBvB,gBAE1E,MAAO,CADF5D,EAAQmB,EAAagE,EAAyBnE,aACvClW,KAAK4H,EAAEC,EAAI7H,KAAK6H,K,mCAGnBD,EAAEC,GAEX,IADA,IAAItJ,EAAOyB,KAAKmX,KACT5Y,GAAM,CACT,GAAIA,EAAKwa,YAAYnR,EAAEC,GACnB,OAAOtJ,EAGX,IADAA,EAAOA,EAAKkZ,QACCzX,KAAKmX,KACd,MAGR,OAAInX,KAAKqX,UAAYrX,KAAKqX,SAAS0B,YAAYnR,EAAEC,GACtC7H,KAAKqX,SAET,O,0BAGP9Y,EAAMqJ,EAAEC,GACR7H,KAAKsX,WAAa/Y,EAClBA,EAAKya,IAAIpR,EAAEC,K,8BAIP7H,KAAKsX,WAAW2B,SAA0C,IAA/BjZ,KAAKuP,eAAeta,SAC/C+K,KAAKsX,WAAW4B,aAChBlZ,KAAK4V,gBAAgB5V,KAAKsX,WAAWpC,OACP,IAA1BlV,KAAKsX,WAAWpC,OAAelV,KAAKzG,KAAO,IAC3CyG,KAAKuP,eAAe1a,KAAK,CAACia,OAAO9O,KAAKsX,WAAWoD,SAAS/J,MAAM3Q,KAAKsX,WAAWhR,OAAO,KACvFtG,KAAKuP,eAAe1a,KAAK,CAACia,OAAO9O,KAAK6Y,UAAUvS,OAAO,CAACtG,KAAKsX,gBAGrEtX,KAAKsX,WAAa,O,iCAGX/Y,EAAMiJ,EAAgBuB,GAC7B,IAAIoN,EAAS5X,EAAK4X,OAAO3O,EAAgBuB,GACN,IAA/B/I,KAAKuP,eAAeta,SAChBkhB,EACA5X,EAAK4a,uBACE5a,EAAK+J,gBAAkB/J,EAAKyZ,UACnCzZ,EAAKka,iB,6BAKVjR,EAAgBuB,GAAK,IAAD,OACvB,gEAAavB,EAAgBuB,GAAI,WAE7B,IADA,IAAIxK,EAAO,EAAK4Y,KACT5Y,IACH,EAAK6a,WAAW7a,EAAMiJ,EAAgBuB,IACtCxK,EAAOA,EAAKkZ,QACC,EAAKN,QAIlB,EAAKE,UACL,EAAK+B,WAAW,EAAK/B,SAAU7P,EAAgBuB,Q,2BAKtDA,GACDA,EAAGlU,OAEHkU,EAAGuC,UAAUvC,EAAGwC,OAAOxC,EAAGwC,QAC1BxC,EAAGgL,SAAS/T,KAAKqZ,cAAc,EAAI,GAGnC,IADA,IAAI9a,EAAOyB,KAAKmX,KACT5Y,IACHA,EAAKqY,KAAK7N,EAAIxK,EAAKkZ,OAASzX,KAAKmX,OACjC5Y,EAAOA,EAAKkZ,QACCzX,KAAKmX,QAIlBnX,KAAKqX,UACLrX,KAAKqX,SAAST,KAAK7N,GAGvBA,EAAGsC,Q,mCAGMtC,GACT,IAAIuQ,EAActZ,KAAKuZ,aAAaxQ,EAAGH,OAAQG,EAAGF,QAIlD,OAHIyQ,GACAtZ,KAAKgZ,IAAIM,EAAavQ,EAAGH,OAAOG,EAAGF,SAE/ByQ,I,iCAGDvQ,GACP,OAA2B,OAApB/I,KAAKsX,a,oCAGFvO,GAIV,OAHI/I,KAAKsX,YACLtX,KAAKiZ,SAEF,I,oCAGGlQ,EAAI5D,EAAQoP,GACtB,uEAAoBxL,EAAI5D,EAAQoP,EAAevU,KAAKsY,gBAAgBtY,KAAKzG,KAAK,GAAG,GAAK8gB,EAAyBvB,gBAG/G,IADA,IAAIva,EAAOyB,KAAKmX,KACT5Y,GAAM,CAAC,IAAD,EAGT,IAFA,EAAAA,GAAKoK,MAAL,oBAAc3I,KAAKsY,gBAAgB/Z,EAAK2W,UACxC3W,EAAOA,EAAKkZ,QACCzX,KAAKmX,KACd,W,GA/XsCtK,IAAjCwN,GACVxD,YAAa,EADHwD,GAEVvN,YAAa,EAFHuN,GAGV/G,qBAAsB,EAHZ+G,GAIV3G,cAAgB,IAJN2G,GAMVvB,eAAiB,GANPuB,GAOVhB,cAAgB,GAPNgB,GAQVb,cAAgB,GARNa,GASVZ,WAAaY,GAAyBhB,cAAgBgB,GAAyBb,cATrEa,GAUVX,QAAU,GAVAW,GAWVnE,aAAemE,GAAyBZ,WAAaY,GAAyBX,QAXpEW,GAaVV,gBAAkB,I,IAyXvBc,G,kDAGF,aAAsC,IAAD,2DAAJ,GAApBzY,EAAwB,EAAxBA,KAAMkT,EAAkB,EAAlBA,MAAOtN,EAAW,EAAXA,EAAEC,EAAS,EAATA,EAAS,4BACjC,cAAMD,EAAEC,IAEH7F,KAAOA,EACZ,EAAKkT,MAAQA,EACb,EAAKuC,KAAO,KAEZ,EAAKO,UAAW,EAChB,EAAK4B,YAAa,EAClB,EAAKxR,QAAS,EACd,EAAKmC,MAAQ,CAAC,EAAE,EAAE,GAVe,E,kDAa/B3C,EAAEC,GAAkB,IAAhBN,EAAe,uDAAH,EAClB,+DAAYK,EAAEC,GACd7H,KAAKkV,OAAS9d,KAAKsQ,KAAKH,K,kCAGhBK,EAAEC,GACV,OAAS7H,KAAK8H,UAAYF,GAAKA,GAAM5H,KAAK8H,SAAWuS,GAAyBZ,YAAiBzZ,KAAK+H,UAAYF,GAAKA,GAAM7H,KAAK+H,SAAWsS,GAAyBvB,iB,kCAIpK9Y,KAAKuK,MAAQ,CAAC,IAAI,IAAI,K,oCAItBvK,KAAKuK,MAAQ,CAAC,EAAE,EAAE,K,6CAIlBvK,KAAKuK,MAAM,GAAK,M,wCAIhBvK,KAAKgY,UAAW,EAChBhY,KAAKmZ,yB,mCAILnZ,KAAK2Y,kBACL3Y,KAAKoI,QAAS,EACdpI,KAAK4Z,YAAa,I,iCAIlB5Z,KAAKoI,QAAS,EACdpI,KAAK4Z,YAAa,I,8BAKlB,OADA,gEACO5Z,KAAK6Z,eAAiBQ,GAAyBV,kB,6BAGnDnS,EAAgBuB,GACnB,IAAI+Q,EAAI,gEAAgBtS,EAAgBuB,GACxC,OAAO/I,KAAKsI,gBAAkBtI,KAAK4Z,YAAcE,EAAOO,GAAyBV,kB,2BAGhF5Q,GAA2B,IAAvB4R,EAAsB,wDAE3B5R,EAAGlU,OACHkU,EAAGyC,KAAK,KACRzC,EAAG4B,OAAH,MAAA5B,EAAE,YAAW/I,KAAKuK,QAClBxB,EAAGyN,KAAKxW,KAAK8H,SAAU9H,KAAK+H,SAAUsS,GAAyBZ,WAAYY,GAAyBvB,gBACpG/P,EAAGrD,KAAK1F,KAAK8H,SAAWuS,GAAyBhB,cAAerZ,KAAK+H,SAAU/H,KAAK8H,SAAWuS,GAAyBhB,cAAerZ,KAAK+H,SAAWsS,GAAyBvB,gBAChL/P,EAAGuC,UAAUvC,EAAGwC,OAAQxC,EAAGwC,QAC3BxC,EAAGyC,KAAH,MAAAzC,EAAE,YAAS/I,KAAKuK,QAChBxB,EAAGtP,KAAKuG,KAAKgC,KAAK0J,WAAY1L,KAAK8H,SAAS9H,KAAK+H,SAAUsS,GAAyBhB,cAAcgB,GAAyBvB,gBACvH9Y,KAAKyX,MACL1O,EAAG4B,OAAH,MAAA5B,EAAE,YAAW9D,EAAMrI,SAASoD,KAAKuK,MAAO,CAAC,EAAE,EAAE,QAC7CxB,EAAGyC,KAAH,MAAAzC,EAAE,YAAS9D,EAAMrI,SAASoD,KAAKuK,MAAO,CAAC,EAAE,EAAE,QAC3CxB,EAAGmC,OAAOlL,KAAK8H,SAAWuS,GAAyBhB,cAAgBgB,GAAyBb,cAAgB,EAAGxZ,KAAK+H,SAAWsS,GAAyBvB,eAAiB,EAAG,GACxK6B,GACA5R,EAAGlU,OACHkU,EAAG6B,SACH7B,EAAG6R,eAAe,IAClB7R,EAAG8R,aACH9R,EAAG+R,YAAY9a,KAAK8H,SAAWuS,GAAyBhB,cAAgBgB,GAAyBb,cAAgB,EAAGxZ,KAAK+H,SAAWsS,GAAyBvB,eAAiB,GAC9K/P,EAAG+R,YAAY9a,KAAK8H,SAAWuS,GAAyBhB,cAAgBgB,GAAyBb,cAAgB,EAAGxZ,KAAK+H,SAAWsS,GAAyBvB,eAAiB,GAE9K/P,EAAG+R,YAAY9a,KAAK8H,SAAWuS,GAAyBhB,cAAgBgB,GAAyBb,cAAgB,EAAGxZ,KAAK+H,SAAqD,EAA1CsS,GAAyBvB,gBAC7J/P,EAAG+R,YAAY,GAAI9a,KAAK+H,SAAqD,EAA1CsS,GAAyBvB,gBAE5D/P,EAAG+R,YAAY9a,KAAKyX,KAAK3P,SAAU9H,KAAKyX,KAAK1P,SAAWsS,GAAyBvB,eAAiB,GAClG/P,EAAG+R,YAAY9a,KAAKyX,KAAK3P,SAAU9H,KAAKyX,KAAK1P,SAAWsS,GAAyBvB,eAAiB,GAClG/P,EAAGgS,WACHhS,EAAGsC,OAEHtC,EAAGrD,KAAK1F,KAAK8H,SAAWuS,GAAyBhB,cAAgBgB,GAAyBb,cAAgB,EAAGxZ,KAAK+H,SAAWsS,GAAyBvB,eAAiB,EAAG9Y,KAAKyX,KAAK3P,SAAU9H,KAAKyX,KAAK1P,SAAWsS,GAAyBvB,eAAiB,GAEjQ/P,EAAGyN,KAAKxW,KAAKyX,KAAK3P,SAAW,EAAG9H,KAAKyX,KAAK1P,SAAWsS,GAAyBvB,eAAiB,EAAI,EAAG,EAAE,IAExG/P,EAAGrD,KAAK1F,KAAK8H,SAAWuS,GAAyBhB,cAAerZ,KAAK+H,SAAU/H,KAAK8H,SAAWuS,GAAyBZ,WAAYzZ,KAAK+H,SAAWsS,GAAyBvB,gBAEjL/P,EAAGsC,U,GAnGgC1D,IAArC8S,GACK3R,UAAW,E,ICtYDkS,G,sKAcR,IAAD,OACJ,gEAAY,WACR,EAAKjG,aAAe,IAAIkG,MAAMD,EAAWhG,kBACzC,EAAKzb,KAAO,EACZ,EAAK2hB,UAAY,KACjB,EAAKC,YAAc,KACnB,EAAKC,gBAAkB,EACvB,EAAKC,sBAAwB,IAAIvR,GAA6BkR,EAAWM,eAAgBN,EAAWO,eAAgB,CAChHtQ,qBAAsB,KAG1B,EAAKuQ,UAAW,O,2BAInBxZ,GACD,GAAmC,IAA/BhC,KAAKuP,eAAeta,OACpB,OAAO,EAGX,GADA+K,KAAKoN,gBACQ,OAATpL,EAEA,OADAhC,KAAKiN,WAAW,4BAA6BhD,EAAO1N,MAC7C,EAEX,IAAIsS,EAAY,GAchB,OAbI7O,KAAKzG,OAASyG,KAAK+U,aAAa9f,SAChC4Z,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,kCAAD,OAA4D,EAAzBtG,KAAK+U,aAAa9f,WACjG4Z,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKyb,qBAE3B5M,EAAUha,KAAK,CAACia,OAAO9O,KAAK0b,YAAYpV,OAAO,CAACtG,KAAKzG,KAAKyI,GAAMgB,YAAY,iBAAD,OAAkBhB,KAC7F6M,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAK2b,kBACvB9M,EAAUha,KAAK,CAACia,OAAO9O,KAAK4b,cAActV,OAAO,GAAG2J,QAAO,IAC3DpB,EAAUha,KAAK,CAACia,OAAO9O,KAAK6b,cAAcvV,OAAO,CAACtG,KAAKzG,MAAMia,WAAU,EAAKxQ,YAAY,SAAD,OAAUhB,EAAV,sBACvF6M,EAAUha,KAAK,CAACia,OAAO9O,KAAKsV,SAAShP,OAAO,GAAG2J,QAAO,IACtDpB,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAK8b,qBACvBjN,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,uBAAD,OAAwBtE,EAAxB,cAAyCiI,EAAOzN,SAC5FwD,KAAKuV,aAAa1G,GAClB7O,KAAKqN,eACE,I,4BAIP,GAAmC,IAA/BrN,KAAKuP,eAAeta,OACpB,OAAO,EAGX,GADA+K,KAAKoN,gBACa,IAAdpN,KAAKzG,KAEL,OADAyG,KAAKiN,WAAW,yBAA0BhD,EAAO1N,MAC1C,EAEX,IAAIsS,EAAY,GACZ7M,EAAOhC,KAAK+U,aAAa/U,KAAKzG,KAAO,GAAGjG,MA0C5C,OAzCAub,EAAUha,KAAK,CAACia,OAAO9O,KAAK2V,SAASrP,OAAO,GAAG2J,QAAO,IACtDpB,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAK8b,qBACvBjN,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAK2b,kBACvB9M,EAAUha,KAAK,CAACia,OAAO9O,KAAK+b,eAAezV,OAAO,GAAGtD,YAAY,cAAD,OAAehB,EAAf,eAAiCwR,WAAU,IAC3G3E,EAAUha,KAAK,CAACia,OAAO9O,KAAKgc,cAAc1V,OAAO,GAAG2J,QAAO,IAiC3DjQ,KAAKuV,aAAa1G,GAClB7O,KAAKiN,WAAL,8BAAuCjL,EAAvC,gBAA2DiI,EAAOzN,OAClEwD,KAAKqN,cAEErL,I,wCAIP,IAAI6M,EAAY,GAChBA,EAAUha,KAAK,CAACia,OAAO9O,KAAKic,cAAc3V,OAAO,GAAG2J,QAAO,IAC3D,IAAK,IAAIvZ,EAAI,EAAGA,EAAIsJ,KAAKzG,KAAM7C,IAC3BmY,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKkc,cAAcxlB,KAGzC,OADAmY,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKmc,eAChBtN,I,sCAIP7O,KAAKkb,UAAY,IAAID,MAAiC,EAA3Bjb,KAAK+U,aAAa9f,QAC7C,IAAK,IAAIyB,EAAI,EAAGA,EAAIsJ,KAAKzG,KAAM7C,IAAK,CAChC,IAAI0lB,EAAMpc,KAAKqc,mBAAmB3lB,GAClCsJ,KAAKkb,UAAUxkB,GAAK,IAAI4lB,GAAkB,CAACta,KAAMhC,KAAK+U,aAAare,GAAGpD,MAAO4hB,MAAOxe,EAAGkR,EAAEwU,EAAI,GAAGvU,EAAEuU,EAAI,Q,oCAIhGlH,GACV,IAAIrG,EAAY,GAEhB,OADAA,EAAUha,KAAK,CAACia,OAAO9O,KAAKuc,yBAAyBjW,OAAO,CAAC4O,GAAF,mBAAWlV,KAAKqc,mBAAmBnH,GAAM,IAAzC,EAA+C,IAAM1B,WAAU,IACnH3E,I,mCAIP,IAAIA,EAAY,GAChBA,EAAUha,KAAK,CAACia,OAAO9O,KAAKwc,gBAAgBlW,OAAO,GAAG2J,QAAO,IAC7D,IAAK,IAAIvZ,EAAI,EAAGA,EAAIsJ,KAAKzG,KAAM7C,IAC3BmY,EAAUha,KAAK,CAACia,OAAO9O,KAAKyc,2BAA2BnW,OAAO,CAAC5P,GAAIuZ,QAAO,IAE9E,OAAOpB,I,wCAIP7O,KAAK+U,aAAe/U,KAAKkb,UACzBlb,KAAKkb,UAAY,O,iDAGMhG,GACvB,IAAIO,EAAUzV,KAAK+U,aAAaG,GAChCO,EAAQ9M,MAAR,MAAA8M,EAAO,YAAUzV,KAAKqc,mBAAmB5G,EAAQP,W,kCAGzCA,EAAOlT,GAAmC,IAA7B0a,EAA4B,wDACjD1c,KAAKmb,YAAc,IAAImB,GAAkB,CAACta,KAAMA,EAAMkT,MAAOA,EAAOtN,EAAE,GAAGC,EAAE,KACvE6U,GACA1c,KAAKmb,YAAYwB,yB,sCAKrB,IAAI9N,EAAY,GAKhB,OAJAA,EAAUha,KAAK,CAACia,OAAO9O,KAAKqb,sBAAsB3Q,UAAUiG,MAAM3Q,KAAKqb,sBAAsB/U,OAAO,GAAG2J,QAAO,IAC9GpB,EAAUha,KAAK,CAACia,OAAO9O,KAAK4c,eAAetW,OAAO,GAAGkN,WAAU,EAAKxQ,YAAY,+BAA+B0O,uBAAsB,IACrI7C,EAAUha,KAAK,CAACia,OAAO9O,KAAKqb,sBAAsB5Q,YAAYkG,MAAM3Q,KAAKqb,sBAAsB/U,OAAO,GAAG2J,QAAO,IAChHpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKqb,sBAAsBwB,KAAKlM,MAAM3Q,KAAKqb,sBAAsB/U,OAAO,CAAC0U,EAAWM,eAAeN,EAAWO,gBAAiBtL,QAAO,IACtJpB,I,uCAGO,IAAD,OACTuN,EAAMpc,KAAKqc,mBAAmBrc,KAAKob,iBAKvC,OAJApb,KAAKqb,sBAAsB1S,MAAMyT,EAAI,GAAIA,EAAI,GAAKpB,EAAW9E,cAC7DlW,KAAKqb,sBAAsBzC,WAAU,WACjC,EAAKnF,cAAc,MAEhBzT,KAAKob,kB,sCAGoB,IAAtB7Q,EAAqB,uDAAbN,EAAOxN,KACzBuD,KAAKmb,YAAYzQ,UAAUH,K,oCAGjB2K,GAAQ,IAAD,SACjBlV,KAAK+U,aAAaG,GAASlV,KAAKmb,aAChC,EAAAnb,KAAKmb,aAAYxS,MAAjB,oBAA0B3I,KAAKqc,mBAAmBnH,KAClDlV,KAAKmb,YAAYvC,WAAU,SAACnD,GACxBA,EAAQhL,cACR,EAAKgJ,cAAc,MAEvBzT,KAAKmb,YAAc,O,uCAGL,IAAD,OACbnb,KAAKmb,YAAcnb,KAAK+U,aAAa/U,KAAKob,iBAC1Cpb,KAAK+U,aAAa/U,KAAKob,iBAAmB,KAC1Cpb,KAAKmb,YAAYwB,uBACjB3c,KAAKmb,YAAYxS,MAAM,GAAG,IAC1B3I,KAAKmb,YAAYvC,WAAU,WACvB,EAAKuC,YAAY1Q,cACjB,EAAKgJ,cAAc,Q,oCAIbyB,GACVlV,KAAKmb,YAAc,O,mCAGV1F,GAAyB,IAAhBlO,EAAe,uDAAH,EAC9BkO,EAAQ9M,MAAR,MAAA8M,EAAO,YAAUzV,KAAKqc,mBAAmB5G,EAAQP,MAAQ3N,IAAlD,QAA8DA,O,+CAGhD2N,EAAOtN,EAAGC,GAAkB,IAAD,OAAdiV,EAAc,wDAC5CrH,GAAWqH,EAAO9c,KAAKkb,UAAYlb,KAAK+U,cAAcG,GAC1DO,EAAQkH,uBACRlH,EAAQ9M,MAAMf,EAAEC,GAChB4N,EAAQmD,WAAU,WACdnD,EAAQhL,cACR,EAAKgJ,cAAc,Q,iCAKvBzT,KAAKzG,S,iCAILyG,KAAKzG,S,yCAIL,IAAIsV,EAAY,GAIhB,OAHAA,EAAUha,KAAK,CAACia,OAAO9O,KAAKqb,sBAAsB3Q,UAAUiG,MAAM3Q,KAAKqb,sBAAsB/U,OAAO,CAAC2D,EAAO1N,IAAKuN,GAA6BqB,oBAC9I0D,EAAUha,KAAK,CAACia,OAAO9O,KAAK+c,sBAAsBzW,OAAO,GAAGtD,YAAY,iCAAiC0O,uBAAsB,IAC/H7C,EAAUha,KAAK,CAACia,OAAO9O,KAAKqb,sBAAsB5Q,YAAYkG,MAAM3Q,KAAKqb,sBAAsB/U,OAAO,GAAG2J,QAAO,IACzGpB,I,8CAKP,OADA7O,KAAKob,gBAAkBpb,KAAKzG,KACrByG,KAAKzG,O,yCAGG2b,GAAsB,IAAf4H,EAAc,wDAChCzG,EAAYjf,KAAK8R,MAAMlJ,KAAKS,MAAQua,EAAW9E,cAE/CrO,GADImT,EAAW9E,aACX,GAAqC,EAAhC9e,KAAK8R,MAAMgM,EAAQmB,GAAiB2E,EAAW9E,cAE5D,MAAO,CADFhB,EAAQmB,EAAa2E,EAAW9E,aACzB8E,EAAW9E,aAAa,EAAIlW,KAAK4H,EAAEC,EAAImT,EAAW9E,aAAa,EAAIlW,KAAK6H,GAAKiV,EAAQ1lB,KAAKkd,KAAKtU,KAAK+U,aAAa9f,OAASohB,GAAW2E,EAAW9E,aAAa,EAAK,M,sCAK9K,IADA,IAAI8G,GAAS,EACJtmB,EAAI,EAAGA,EAAIsJ,KAAK+U,aAAa9f,OAAQyB,IACtCsJ,KAAK+U,aAAare,IAAMsJ,KAAK+U,aAAare,GAAGmjB,eAAiB,IAC9DmD,GAAS,GAGjB,GAAIhd,KAAKkb,UACL,IAAK,IAAIxkB,EAAI,EAAGA,EAAIsJ,KAAKkb,UAAUjmB,OAAQyB,IACnCsJ,KAAKkb,UAAUxkB,IAAMsJ,KAAKkb,UAAUxkB,GAAGmjB,eAAiB,IACxDmD,GAAS,GAIrB,OAAQA,I,oCAGEvH,EAASjO,EAAgBuB,GAC/B0M,GACAA,EAAQU,OAAO3O,EAAgBuB,K,6BAIhCvB,EAAgBuB,GAAK,IAAD,OACvB,gEAAavB,EAAgBuB,GAAI,WAC7B,IAAK,IAAIrS,EAAI,EAAGA,EAAI,EAAKqe,aAAa9f,OAAQyB,IAC1C,EAAKumB,cAAc,EAAKlI,aAAare,GAAI8Q,EAAgBuB,GAE7D,GAAI,EAAKmS,UACL,IAAK,IAAIxkB,EAAI,EAAGA,EAAI,EAAKwkB,UAAUjmB,OAAQyB,IACvC,EAAKumB,cAAc,EAAK/B,UAAUxkB,GAAI8Q,EAAgBuB,GAG1D,EAAKoS,aACL,EAAK8B,cAAc,EAAK9B,YAAa3T,EAAgBuB,GAEzD,EAAKsS,sBAAsBlF,OAAO3O,EAAgBuB,GAC9C,EAAKyS,UAAY,EAAK0B,kBACjB,EAAK1N,WAA4C,IAA/B,EAAKD,eAAeta,QACvC,EAAKQ,SAASia,SAElB,EAAK8L,UAAW,Q,2BAKvBzS,GACD,8DAAWA,GAEXA,EAAGlU,OAMHkU,EAAGuC,UAAUvC,EAAGwC,OAAOxC,EAAGwC,QAC1BxC,EAAGgL,SAAS/T,KAAKkW,aAAa,EAAI,GA6ClCnN,EAAGyC,KAAK,GACRzC,EAAGtP,KAAK,QAASuhB,EAAWM,eAAiB,GAAIN,EAAWO,eAAgBP,EAAW9E,cAEvFnN,EAAGtP,KAAKuG,KAAKob,gBAAgB1P,WAAYsP,EAAWM,eAAe,GAAIN,EAAWO,eAAgBP,EAAW9E,cAE7G,IAAK,IAAIxf,EAAI,EAAGA,EAAIsJ,KAAK+U,aAAa9f,OAAQyB,IAAK,CAC3CsJ,KAAK+U,aAAare,IAClBsJ,KAAK+U,aAAare,GAAGkgB,KAAK7N,GAE9B,IAAIqT,EAAMpc,KAAKqc,mBAAmB3lB,GAClCqS,EAAG6B,SACH7B,EAAG4B,OAAO,GACV5B,EAAGqC,OAAOgR,EAAI,GAAKpB,EAAW9E,aAAa,EAAEkG,EAAI,GAAKpB,EAAW9E,aAAa,EAAG8E,EAAW9E,cAC5FnN,EAAGyC,KAAH,MAAAzC,EAAE,YAASkB,EAAOxN,OAClBsM,EAAG4B,OAAH,MAAA5B,EAAE,YAAWkB,EAAOxN,OACpBsM,EAAGtP,KAAK/C,EAAEgV,WAAY0Q,EAAI,GAAKpB,EAAW9E,aAAa,EAAEkG,EAAI,GAAKpB,EAAW9E,aAAa,EAAG8E,EAAW9E,aAAc8E,EAAW9E,cAGrI,GAAIlW,KAAKkb,UACL,IAAK,IAAIxkB,EAAI,EAAGA,EAAIsJ,KAAKkb,UAAUjmB,OAAQyB,IAAK,CACxCsJ,KAAKkb,UAAUxkB,IACfsJ,KAAKkb,UAAUxkB,GAAGkgB,KAAK7N,GAE3B,IAAIqT,EAAMpc,KAAKqc,mBAAmB3lB,GAAG,GACrCqS,EAAG6B,SACH7B,EAAG4B,OAAO,GACV5B,EAAGqC,OAAOgR,EAAI,GAAKpB,EAAW9E,aAAa,EAAEkG,EAAI,GAAKpB,EAAW9E,aAAa,EAAG8E,EAAW9E,cAC5FnN,EAAGyC,KAAH,MAAAzC,EAAE,YAASkB,EAAOxN,OAClBsM,EAAG4B,OAAH,MAAA5B,EAAE,YAAWkB,EAAOxN,OACpBsM,EAAGtP,KAAK/C,EAAEgV,WAAY0Q,EAAI,GAAKpB,EAAW9E,aAAa,EAAEkG,EAAI,GAAKpB,EAAW9E,aAAa,EAAG8E,EAAW9E,aAAc8E,EAAW9E,cAGrIlW,KAAKmb,aACLnb,KAAKmb,YAAYvE,KAAK7N,GAE1B/I,KAAKqb,sBAAsBzE,KAAK7N,GAEhCA,EAAGsC,Q,oCAGOtC,EAAI5D,EAAQoP,GACtB,uEAAoBxL,EAAI5D,EAAQoP,GAAgBvU,KAAKkb,UAAYlb,KAAKqc,mBAAmBrc,KAAKkb,UAAUjmB,OAAO,GAAG,GAAM,GAAK+K,KAAKqc,mBAAmBrc,KAAK+U,aAAa9f,OAAO,GAAG,IAAM+lB,EAAW9E,cAClM,IAAK,IAAIxf,EAAI,EAAGA,EAAIsJ,KAAK+U,aAAa9f,OAAQyB,IAAK,CACpB,IAAD,EAA1B,GAAIsJ,KAAK+U,aAAare,IAClB,EAAAsJ,KAAK+U,aAAare,IAAGiS,MAArB,oBAA8B3I,KAAKqc,mBAAmB3lB,KAG9DsJ,KAAKwb,UAAW,EAChBxb,KAAKvK,SAASme,W,GA/YkB/G,IAAnBmO,GACVnE,YAAa,EADHmE,GAEVlO,YAAa,EAFHkO,GAGV9N,kBAAmB,EAHT8N,GAIV1H,qBAAsB,EAJZ0H,GAKVtH,cAAgB,IALNsH,GAMVjO,eAAgB,EANNiO,GAQVhG,iBAAmB,EARTgG,GAUV9E,aAAe,GAVL8E,GAWVM,eAAiB,IAXPN,GAYVO,eAAiB,G,IAwYtBe,G,kDAEF,aAAsC,IAAD,2DAAJ,GAApBta,EAAwB,EAAxBA,KAAMkT,EAAkB,EAAlBA,MAAOtN,EAAW,EAAXA,EAAEC,EAAS,EAATA,EAAS,4BACjC,cAAMD,EAAEC,IAGHoD,qBAAuB+P,GAAW9E,aAAa,EAEpD,EAAK5iB,MAAQ0O,EACb,EAAKkT,MAAQA,EAEb,EAAK8C,UAAW,EAChB,EAAKzN,MAAQ,CAAC,EAAE,EAAE,GAVe,E,kDAa/B3C,EAAEC,GAAkB,IAAhBN,EAAe,uDAAH,EAClB,+DAAYK,EAAEC,GACd7H,KAAKkV,OAAS9d,KAAKsQ,KAAKH,K,6CAIxB,mEAAgB0C,EAAOxN,Q,6CAIvB,mEAAgBwN,EAAO1N,O,wCAIvByD,KAAKgY,UAAW,EAChBhY,KAAKmZ,yB,6BAGF3R,EAAgBuB,GACnB,gEAAavB,EAAgBuB,K,gCAGvBA,GACNA,EAAGlU,OACHkU,EAAGuC,UAAUvC,EAAGwC,OAAQxC,EAAGwC,QAC3BxC,EAAGyC,KAAH,MAAAzC,EAAE,YAAS/I,KAAKuK,QAChBxB,EAAG4B,OAAH,MAAA5B,EAAE,YAAW/I,KAAKuK,QAClBxB,EAAGtP,KAAKuG,KAAK1M,MAAMoY,WAAY1L,KAAK8H,SAAWkT,GAAW9E,aAAa,EAAElW,KAAK+H,SAAWiT,GAAW9E,aAAa,EAAG8E,GAAW9E,aAAc8E,GAAW9E,cACxJnN,EAAGsC,U,GA3CqBvB,ICpZXqT,G,sKAkBR,IAAD,OACJ,gEAAY,WACR,EAAKhG,KAAO,KACZ,EAAK5d,KAAO,EACZ,EAAK6d,MAAQ,GACb,EAAKC,SAAW,KAChB,EAAKC,WAAa,KAElB,EAAKkE,UAAW,O,oCAIO,IAAD,OAAlB4B,EAAkB,wDAC1Bpd,KAAKoN,gBAGL,IAFA,IAAIiQ,EAAUrd,KAAKmX,KACfmG,EAAOtd,KAAKmX,KACTmG,GACCA,EAAKzD,eAAiBwD,EAAQxD,iBAC9BwD,EAAUC,GAEdA,EAAOA,EAAK7F,KAEhB,GAAI4F,GAAWA,EAAQxD,eAAiB,EAAG,CACvC,IAAIxL,IAAWrO,KAAKqO,OAIpB,GAHAgP,EAAQzE,WAAU,WACd,EAAKnJ,YAAYpB,MAEjB+O,EAEA,IADA,IAAIE,EAAOtd,KAAKmX,KACTmG,GACHA,EAAK7U,OACL6U,EAAOA,EAAK7F,UAIpBzX,KAAKyP,cAAczP,KAAKqO,U,2BAK3BrM,GACD,GAAmC,IAA/BhC,KAAKuP,eAAeta,OACpB,OAAO,EAGX,GADA+K,KAAKoN,gBACQ,OAATpL,EAEA,OADAhC,KAAKiN,WAAW,4BAA6BhD,EAAO1N,MAC7C,EAEX,IAAIsS,EAAY,GAahB,OAZAA,EAAUha,KAAK,CAACia,OAAO9O,KAAK0X,SAASpR,OAAO,CAACtE,GAAOgB,YAAY,iBAAD,OAAkBhB,GAAOgN,iBAAgB,IACpGhP,KAAKzG,KAAO,IACZsV,EAAUha,KAAK,CAACia,OAAO9O,KAAKud,sBAAsBva,YAAY,sBAAsBgM,iBAAgB,IACpGH,EAAUha,KAAK,CAACia,OAAO9O,KAAKwd,iBAAiBxO,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,KAEvG9C,EAAUha,KAAK,CAACia,OAAO9O,KAAK8X,eAAe9U,YAAY,gCAAgCgM,iBAAgB,IACvGH,EAAUha,KAAK,CAACia,OAAO9O,KAAKyd,UAAUzO,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,IAC5F9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKsV,SAASrF,QAAO,IAC5CpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,uBAAD,OAAwBtE,EAAxB,cAA0CiI,EAAOzN,OAAOyT,QAAO,IAC3GjQ,KAAKuV,aAAa1G,GAClB7O,KAAKqN,cACLrN,KAAKgO,eACE,I,4BAKP,GAAmC,IAA/BhO,KAAKuP,eAAeta,OACpB,OAAO,EAGX,GADA+K,KAAKoN,gBACa,IAAdpN,KAAKzG,KAEL,OADAyG,KAAKiN,WAAW,yBAA0BhD,EAAO1N,MAC1C,EAEX,IAAIsS,EAAY,GACZ7M,EAAOhC,KAAKmX,KAAKnV,KAYrB,OAXA6M,EAAUha,KAAK,CAACia,OAAO9O,KAAK0d,oBAAoBzN,QAAO,IACvDpB,EAAUha,KAAK,CAACia,OAAO9O,KAAK2d,WAAW3a,YAAY,eAAewQ,WAAU,EAAKxE,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,IACnI3R,KAAKzG,KAAO,GACZsV,EAAUha,KAAK,CAACia,OAAO9O,KAAKmY,cAAcnJ,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,IAEpG9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKoY,aAAapV,YAAY,gCAAgCgM,iBAAgB,EAAK6B,SAAS,CAAC7Q,KAAKmX,KAAKnV,QAC9H6M,EAAUha,KAAK,CAACia,OAAO9O,KAAK2V,SAAS1F,QAAO,IAC5CpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,uBAAD,OAAwBtE,EAAxB,gBAA4CiI,EAAOzN,OAAOyT,QAAO,IAC7GjQ,KAAKuV,aAAa1G,GAClB7O,KAAKqN,cACLrN,KAAKgO,cACEhM,I,+BAIFA,GACLhC,KAAKqX,SAAW,IAAIuG,GAAoB,CAAC5b,KAAMA,EAAMkT,MAAO,EAAGtN,EAAE,GAAGC,EAAE,O,oCAE5D7F,GACVhC,KAAKqX,SAAW,O,8CAIhBrX,KAAKqX,SAASI,KAAOzX,KAAKmX,O,mDAG1BnX,KAAKqX,SAASI,KAAO,O,uCAIrBzX,KAAKoX,MAAM9E,OAAO,EAAG,EAAGtS,KAAKqX,UAC7BrX,KAAKmX,KAAOnX,KAAKqX,W,4CAGjBrX,KAAKmX,KAAOnX,KAAKqX,SAASI,KAC1BzX,KAAKoX,MAAM9E,OAAO,EAAG,K,kCAGZ,IAAD,GACR,EAAAtS,KAAKqX,UAAS1O,MAAd,oBAAuB3I,KAAKsY,gBAAgB,KAC5CtY,KAAKqX,SAAW,O,uCAEF,IAAD,OACbrX,KAAKqX,SAAWrX,KAAKoX,MAAM,GAC3BpX,KAAKqX,SAAS1O,MAAM,GAAG,IACvB,IAAI0F,IAAWrO,KAAKqO,OACpBrO,KAAKqX,SAASuB,WAAU,WACpB,EAAKnJ,YAAYpB,Q,uCAGP,IAAD,UACb,EAAArO,KAAKqX,UAAS1O,MAAd,oBAAuB3I,KAAKsY,gBAAgB,KAC5C,IAAI/F,EAAOvS,KAAKqX,SACZhJ,IAAWrO,KAAKqO,OACpBkE,EAAKqG,WAAU,WACX,EAAKnJ,YAAYpB,MAErBrO,KAAKqX,SAAW,O,4CAIhBrX,KAAKmX,KAAKwB,oB,iDAGV3Y,KAAKmX,KAAK1M,gB,mCAGA,IAAD,OACTzK,KAAKqX,SAAWrX,KAAKoX,MAAM9E,OAAO,EAAG,GAAG,GACxCtS,KAAKqX,SAAS1O,MAAM,GAAG,IACvB3I,KAAKqX,SAASuB,WAAU,WACpB,EAAKnF,cAAc,Q,wCAGR,IAAD,UACd,EAAAzT,KAAKqX,UAAS1O,MAAd,oBAAuB3I,KAAKsY,gBAAgB,KAC5CtY,KAAKoX,MAAM9E,OAAO,EAAG,EAAGtS,KAAKqX,UAC7B,IAAIhJ,IAAWrO,KAAKqO,OACpBrO,KAAKqX,SAASuB,WAAU,WACpB,EAAKnJ,YAAYpB,MAErBrO,KAAKqX,SAAW,O,wCAED,IAAD,OACdrX,KAAKqX,SAAWrX,KAAKoX,MAAM9E,OAAO,EAAG,GAAG,GACxCtS,KAAKqX,SAAS1O,MAAM,GAAG,IACvB,IAAI0F,IAAWrO,KAAKqO,OACpBrO,KAAKqX,SAASuB,WAAU,WACpB,EAAKnJ,YAAYpB,Q,qCAKrBrO,KAAKmX,KAAOnX,KAAKmX,KAAKM,KACtBzX,KAAKqX,SAAW,O,wCAEFwG,GACd7d,KAAKqX,SAAW,IAAIuG,GAAoB,CAAC5b,KAAM6b,EAAS3I,MAAO,EAAGtN,EAAE,GAAGC,EAAE,KACzE7H,KAAKqX,SAASI,KAAOzX,KAAKmX,KAC1BnX,KAAKqX,SAASsB,kBACd3Y,KAAKmX,KAAOnX,KAAKqX,W,yCAKjB,IADA,IAAI9Y,EAAOyB,KAAKmX,KACT5Y,GACHyB,KAAK6Y,UAAUta,EAAM,GACrBA,EAAOA,EAAKkZ,O,8CAKhB,IAFqB,IAAD,OAChBlZ,EAAOyB,KAAKmX,KACT5Y,GACHyB,KAAK6Y,UAAUta,GAAO,GACjBA,EAAKkZ,MAAO,WACb,IAAIpJ,IAAW,EAAKA,OACpB9P,EAAKqa,WAAU,WACX,EAAKnJ,YAAYpB,MAHR,GAMjB9P,EAAOA,EAAKkZ,O,8CAKhB,IAFqB,IAAD,OAChBlZ,EAAOyB,KAAKmX,KACT5Y,GACHyB,KAAK6Y,UAAUta,EAAM,GAChBA,EAAKkZ,MAAO,WACb,IAAIpJ,IAAW,EAAKA,OACpB9P,EAAKqa,WAAU,WACX,EAAKnJ,YAAYpB,MAHR,GAMjB9P,EAAOA,EAAKkZ,O,sCAMhB,IADA,IAAIlZ,EAAOyB,KAAKmX,KAAKM,KACdlZ,GACHyB,KAAK6Y,UAAUta,GAAO,GACtBA,EAAOA,EAAKkZ,O,2CAKhB,IAFkB,IAAD,OACblZ,EAAOyB,KAAKmX,KAAKM,KACdlZ,GACHyB,KAAK6Y,UAAUta,EAAM,GAChBA,EAAKkZ,MAAO,WACb,IAAIpJ,IAAW,EAAKA,OACpB9P,EAAKqa,WAAU,WACX,EAAKnJ,YAAYpB,MAHR,GAMjB9P,EAAOA,EAAKkZ,O,2CAKhB,IAFkB,IAAD,OACblZ,EAAOyB,KAAKmX,KAAKM,KACdlZ,GACHyB,KAAK6Y,UAAUta,GAAO,GACjBA,EAAKkZ,MAAO,WACb,IAAIpJ,IAAW,EAAKA,OACpB9P,EAAKqa,WAAU,WACX,EAAKnJ,YAAYpB,MAHR,GAMjB9P,EAAOA,EAAKkZ,O,gCAIVlZ,EAAMgJ,GACZhJ,EAAKoK,MAAL,MAAApK,EAAI,YAAUyB,KAAKsY,gBAAgB/Z,EAAK2W,MAAQ3N,IAA5C,QAAwDA,O,qCAEjDhJ,EAAMgJ,GAEjBvH,KAAK6Y,UAAUta,GAAOgJ,K,iCAItBvH,KAAKzG,S,sCAGLyG,KAAKzG,S,iCAILyG,KAAKzG,S,sCAGLyG,KAAKzG,S,sCAGO2b,GACZ,IAAImB,EAAYjf,KAAK2C,IAAI,EAAG3C,KAAK8R,MAAMlJ,KAAKS,MAAQ0c,EAAgBjH,eAEhErO,GADIsV,EAAgBjH,aAChB,GAAqC,EAAhC9e,KAAK8R,MAAMgM,EAAQmB,GAAiB8G,EAAgBrE,gBAEjE,MAAO,CADF5D,EAAQmB,EAAa8G,EAAgBjH,aAC9BlW,KAAK4H,EAAEC,EAAI7H,KAAK6H,K,mCAGnBD,EAAEC,GAEX,IADA,IAAItJ,EAAOyB,KAAKmX,KACT5Y,GAAM,CACT,GAAIA,EAAKwa,YAAYnR,EAAEC,GACnB,OAAOtJ,EAEXA,EAAOA,EAAKkZ,KAEhB,OAAIzX,KAAKqX,UAAYrX,KAAKqX,SAAS0B,YAAYnR,EAAEC,GACtC7H,KAAKqX,SAET,O,0BAGP9Y,EAAMqJ,EAAEC,GACR7H,KAAKsX,WAAa/Y,EAClBA,EAAKya,IAAIpR,EAAEC,K,8BAIX7H,KAAKsX,WAAW2B,QAChBjZ,KAAKsX,WAAa,O,iCAGX/Y,EAAMiJ,EAAgBuB,GAC7BxK,EAAK4X,OAAO3O,EAAgBuB,K,6BAGzBvB,EAAgBuB,GAAK,IAAD,OACvB,gEAAavB,EAAgBuB,GAAI,WAE7B,IADA,IAAIxK,EAAO,EAAK4Y,KACT5Y,GACH,EAAK6a,WAAW7a,EAAMiJ,EAAgBuB,GACtCxK,EAAOA,EAAKkZ,KAEZ,EAAKJ,UACL,EAAK+B,WAAW,EAAK/B,SAAU7P,EAAgBuB,Q,2BAKtDA,GAED,8DAAWA,GACXA,EAAGlU,OAEHkU,EAAGuC,UAAUvC,EAAGwC,OAAOxC,EAAGwC,QAC1BxC,EAAGgL,SAAS/T,KAAKqZ,cAAc,EAAI,GAGnCtQ,EAAG4B,OAAO,GACV5B,EAAGuC,UAAUvC,EAAGwC,OAAQxC,EAAGwC,QAC3BxC,EAAGtP,KAAK,OAAO,GAAG,GAAG,GAAG,IACxBsP,EAAGqC,OAAO,IAAI,GAAG,IACbpL,KAAKmX,MACLpO,EAAG4B,OAAOV,EAAOxN,MACjBsM,EAAGyC,KAAKvB,EAAOxN,MACfsM,EAAGmC,OAAO,MAAc,KAAa,GACrCnC,EAAGrD,KAAK,MAAc,KAAa1F,KAAKmX,KAAKrP,SAAWqV,EAAgB1D,WAAa,EAAGzZ,KAAKmX,KAAKpP,UAClGgB,EAAGyN,KAAKxW,KAAKmX,KAAKrP,SAAWqV,EAAgB1D,WAAa,EAAI,EAAGzZ,KAAKmX,KAAKpP,SAAW,EAAG,EAAE,IAE3FgB,EAAGrD,KAAK,IAAI,GAAG,IAAI,IAIvB,IADA,IAAInH,EAAOyB,KAAKmX,KACT5Y,GACHA,EAAKqY,KAAK7N,EAAIxK,EAAKkZ,OAASzX,KAAKmX,MACjC5Y,EAAOA,EAAKkZ,KAEZzX,KAAKqX,UACLrX,KAAKqX,SAAST,KAAK7N,GAGvBA,EAAGsC,Q,mCAGMtC,GAET,IAAIuQ,EAActZ,KAAKuZ,aAAaxQ,EAAGH,OAAQG,EAAGF,QAKlD,OAJIyQ,IACAtZ,KAAKvK,SAASme,OACd5T,KAAKgZ,IAAIM,EAAavQ,EAAGH,OAAOG,EAAGF,UAEhC,I,oCAGGE,GAAK,IAAD,OASd,OARI/I,KAAKsX,aACLtX,KAAKsX,WAAWsB,WAAU,WACtB,EAAK5H,iBAEThR,KAAKiZ,UAIF,I,oCAGGlQ,EAAI5D,EAAQoP,GAAgB,IAAD,OACrC,uEAAoBxL,EAAI5D,EAAQoP,EAAevU,KAAKsY,gBAAgBtY,KAAKzG,KAAK,GAAG,GAAK4jB,EAAgBrE,gBAAe,WAEjH,IADA,IAAIva,EAAO,EAAK4Y,KACT5Y,GAAM,CAAC,IAAD,GACT,EAAAA,GAAKoK,MAAL,oBAAc,EAAK2P,gBAAgB/Z,EAAK2W,SACxC3W,EAAOA,EAAKkZ,a,GA/YiB5K,IAAxBsQ,GACVtG,YAAa,EADHsG,GAEVrQ,YAAa,EAFHqQ,GAGVrU,UAAW,EAHDqU,GAIVjQ,kBAAmB,EAJTiQ,GAKV7J,qBAAsB,EALZ6J,GAMVzJ,cAAgB,IANNyJ,GAOVpQ,eAAgB,EAPNoQ,GAQV7P,4BAA6B,EARnB6P,GASV/O,kBAAmB,EATT+O,GAWVrE,eAAiB,GAXPqE,GAYV9D,cAAgB,GAZN8D,GAaV3D,cAAgB,GAbN2D,GAcV1D,WAAa0D,GAAgB9D,cAAgB8D,GAAgB3D,cAdnD2D,GAeVzD,QAAU,GAfAyD,GAgBVjH,aAAeiH,GAAgB1D,WAAa0D,GAAgBzD,Q,IAsYjEkE,G,kDAGF,aAAsC,IAAD,2DAAJ,GAApB5b,EAAwB,EAAxBA,KAAMkT,EAAkB,EAAlBA,MAAOtN,EAAW,EAAXA,EAAEC,EAAS,EAATA,EAAS,4BACjC,cAAMD,EAAEC,IAEH7F,KAAOA,EACZ,EAAKkT,MAAQA,EACb,EAAKuC,KAAO,KAEZ,EAAKO,UAAW,EAChB,EAAK4B,YAAa,EAClB,EAAKxR,QAAS,EACd,EAAKmC,MAAQ,CAAC,EAAE,EAAE,GAVe,E,kDAa/B3C,EAAEC,GAAkB,IAAhBN,EAAe,uDAAH,EAClB,+DAAYK,EAAEC,GACd7H,KAAKkV,OAAS9d,KAAKsQ,KAAKH,K,kCAGhBK,EAAEC,GACV,OAAS7H,KAAK8H,UAAYF,GAAKA,GAAM5H,KAAK8H,SAAWqV,GAAgB1D,YAAiBzZ,KAAK+H,UAAYF,GAAKA,GAAM7H,KAAK+H,SAAWoV,GAAgBrE,iB,kCAIlJ9Y,KAAKuK,MAAQ,CAAC,IAAI,IAAI,K,oCAItBvK,KAAKuK,MAAQ,CAAC,EAAE,EAAE,K,6CAIlBvK,KAAKuK,MAAM,GAAK,M,wCAIhBvK,KAAKgY,UAAW,EAChBhY,KAAKmZ,yB,2BAGJpQ,GACDA,EAAGlU,OACHkU,EAAGyC,KAAK,KACRzC,EAAG4B,OAAH,MAAA5B,EAAE,YAAW/I,KAAKuK,QAClBxB,EAAGyN,KAAKxW,KAAK8H,SAAU9H,KAAK+H,SAAUoV,GAAgB1D,WAAY0D,GAAgBrE,gBAClF/P,EAAGrD,KAAK1F,KAAK8H,SAAWqV,GAAgB9D,cAAerZ,KAAK+H,SAAU/H,KAAK8H,SAAWqV,GAAgB9D,cAAerZ,KAAK+H,SAAWoV,GAAgBrE,gBACrJ/P,EAAGuC,UAAUvC,EAAGwC,OAAQxC,EAAGwC,QAC3BxC,EAAGyC,KAAH,MAAAzC,EAAE,YAAS/I,KAAKuK,QAChBxB,EAAGtP,KAAKuG,KAAKgC,KAAK0J,WAAY1L,KAAK8H,SAAS9H,KAAK+H,SAAUoV,GAAgB9D,cAAc8D,GAAgBrE,gBACrG9Y,KAAKyX,MACL1O,EAAG4B,OAAH,MAAA5B,EAAE,YAAW9D,EAAMrI,SAASoD,KAAKuK,MAAO,CAAC,EAAE,EAAE,QAC7CxB,EAAGyC,KAAH,MAAAzC,EAAE,YAAS9D,EAAMrI,SAASoD,KAAKuK,MAAO,CAAC,EAAE,EAAE,QAC3CxB,EAAGmC,OAAOlL,KAAK8H,SAAWqV,GAAgB9D,cAAgB8D,GAAgB3D,cAAgB,EAAGxZ,KAAK+H,SAAWoV,GAAgBrE,eAAiB,EAAG,GACjJ/P,EAAGrD,KAAK1F,KAAK8H,SAAWqV,GAAgB9D,cAAgB8D,GAAgB3D,cAAgB,EAAGxZ,KAAK+H,SAAWoV,GAAgBrE,eAAiB,EAAG9Y,KAAKyX,KAAK3P,SAAU9H,KAAKyX,KAAK1P,SAAWoV,GAAgBrE,eAAiB,GACzN/P,EAAGyN,KAAKxW,KAAKyX,KAAK3P,SAAW,EAAG9H,KAAKyX,KAAK1P,SAAWoV,GAAgBrE,eAAiB,EAAI,EAAG,EAAE,IAE/F/P,EAAGrD,KAAK1F,KAAK8H,SAAWqV,GAAgB9D,cAAerZ,KAAK+H,SAAU/H,KAAK8H,SAAWqV,GAAgB1D,WAAYzZ,KAAK+H,SAAWoV,GAAgBrE,gBAEtJ/P,EAAGsC,U,GA5DuB1D,IAA5BiW,GACK9U,UAAW,E,ICvZDgV,G,sKAkBR,IAAD,OACJ,gEAAY,WACR,EAAK/I,aAAe,IAAIkG,MAAM6C,EAAW9I,kBACzC,EAAKzb,KAAO,EACZ,EAAK2hB,UAAY,KACjB,EAAKC,YAAc,KACnB,EAAK4C,iBAAmB,EACxB,EAAKC,uBAAyB,IAAIlU,GAA6BgU,EAAWG,gBAAiBH,EAAWI,gBAAiB,CACnHjT,qBAAsB,KAE1B,EAAKkT,iBAAmB,EACxB,EAAKC,uBAAyB,IAAItU,GAA6BgU,EAAWO,gBAAiBP,EAAWQ,gBAAiB,CACnHrT,qBAAsB,U,oCAKH,IAAD,OAAlBmS,EAAkB,wDAC1Bpd,KAAKoN,gBACL,IAAImR,EAAiBve,KAAKge,uBACtBhe,KAAKoe,uBAAuBvE,eAAiB0E,EAAe1E,iBAC5D0E,EAAiBve,KAAKoe,wBAE1B,IAAK,IAAI1nB,EAAI,EAAGA,EAAIsJ,KAAK+U,aAAa9f,OAAQyB,IACtCsJ,KAAK+U,aAAare,IAAMsJ,KAAK+U,aAAare,GAAGmjB,eAAiB0E,EAAe1E,iBAC7E0E,EAAiBve,KAAK+U,aAAare,IAG3C,GAAIsJ,KAAKkb,UACL,IAAK,IAAIxkB,EAAI,EAAGA,EAAIsJ,KAAKkb,UAAUjmB,OAAQyB,IACnCsJ,KAAKkb,UAAUxkB,IAAMsJ,KAAKkb,UAAUxkB,GAAGmjB,eAAiB0E,EAAe1E,iBACvE0E,EAAiBve,KAAKkb,UAAUxkB,IAI5C,GAAI6nB,EAAe1E,eAAiB,EAAG,CACnC,IAAIxL,IAAWrO,KAAKqO,OAIpB,GAHAkQ,EAAe3F,WAAU,WACrB,EAAKnJ,YAAYpB,MAEjB+O,EAAU,CACVpd,KAAKge,uBAAuBvV,OAC5BzI,KAAKoe,uBAAuB3V,OAC5B,IAAK,IAAI/R,EAAI,EAAGA,EAAIsJ,KAAK+U,aAAa9f,OAAQyB,IACtCsJ,KAAK+U,aAAare,IAClBsJ,KAAK+U,aAAare,GAAG+R,OAG7B,GAAIzI,KAAKkb,UACL,IAAK,IAAIxkB,EAAI,EAAGA,EAAIsJ,KAAKkb,UAAUjmB,OAAQyB,IACnCsJ,KAAKkb,UAAUxkB,IACfsJ,KAAKkb,UAAUxkB,GAAG+R,aAMlCzI,KAAKyP,cAAczP,KAAKqO,U,8BAKxBrM,GACJ,GAAmC,IAA/BhC,KAAKuP,eAAeta,OACpB,OAAO,EAGX,GADA+K,KAAKoN,gBACQ,OAATpL,EAEA,OADAhC,KAAKiN,WAAW,4BAA6BhD,EAAO1N,MAC7C,EAEX,IAAIsS,EAAY,GAehB,OAdAA,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,sBAAD,OAAuBtG,KAAKme,iBAA5B,QACxCne,KAAKzG,OAASyG,KAAK+U,aAAa9f,QAChC4Z,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKyb,oBAE3B5M,EAAUha,KAAK,CAACia,OAAO9O,KAAK9M,cAAcoT,OAAO,CAACtE,GAAMgB,YAAY,iBAAD,OAAkBhB,GAAOgN,iBAAgB,IAC5GH,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKwe,mBAEvB3P,EAAUha,KAAK,CAACia,OAAO9O,KAAK6b,cAAcvV,OAAO,GAAGkN,WAAU,EAAKxQ,YAAY,SAAD,OAAUhB,EAAV,oBAAiCgN,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,IACrK9C,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKye,sBACvB5P,EAAUha,KAAK,CAACia,OAAO9O,KAAKsV,SAAShP,OAAO,GAAG2J,QAAO,IACtDpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,uBAAD,OAAwBtE,EAAxB,cAAyCiI,EAAOzN,SAC5FwD,KAAKuV,aAAa1G,GAClB7O,KAAKqN,cACLrN,KAAKgO,eACE,I,gCAIP,GAAmC,IAA/BhO,KAAKuP,eAAeta,OACpB,OAAO,EAGX,GADA+K,KAAKoN,gBACa,IAAdpN,KAAKzG,KAEL,OADAyG,KAAKiN,WAAW,yBAA0BhD,EAAO1N,MAC1C,EAEX,IAAIsS,EAAY,GACZ7M,EAAOhC,KAAK+U,aAAa/U,KAAK+d,kBAAkBzqB,MAWpD,OAVAub,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,wBAAD,OAAyBtG,KAAK+d,iBAA9B,QAC5ClP,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAK0e,mBACvB7P,EAAUha,KAAK,CAACia,OAAO9O,KAAK+b,eAAezV,OAAO,GAAGtD,YAAY,cAAD,OAAehB,EAAf,eAAiCwR,WAAU,EAAKxE,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,IACtK9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKgc,cAAc1V,OAAO,GAAG2J,QAAO,EAAK2B,iBAAgB,IAChF/C,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAK2e,sBACvB9P,EAAUha,KAAK,CAACia,OAAO9O,KAAK2V,SAASrP,OAAO,GAAG2J,QAAO,IACtDpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,uBAAD,OAAwBtE,EAAxB,gBAA2CiI,EAAOzN,OAAOyT,QAAO,IAC5GjQ,KAAKuV,aAAa1G,GAClB7O,KAAKqN,cACLrN,KAAKgO,cACEhM,I,wCAIP,IAAI6M,EAAY,GAChBA,EAAUha,KAAK,CAACia,OAAO9O,KAAKic,cAAc3V,OAAO,GAAG2J,QAAO,EAAKjN,YAAY,kCAAD,OAA4D,EAAzBhD,KAAK+U,aAAa9f,QAAWga,eAAc,IACzJJ,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAK0e,mBACvB,IAAK,IAAIhoB,EAAI,EAAGA,EAAIsJ,KAAKzG,KAAM7C,IAC3BmY,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKkc,cAAcxlB,KAKzC,OAHAmY,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKmc,eACvBtN,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAK2e,kBAAkB,KACzC9P,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKye,kBAAkBze,KAAKzG,QACvCsV,I,sCAIP7O,KAAKkb,UAAY,IAAID,MAAiC,EAA3Bjb,KAAK+U,aAAa9f,QAC7C,IAAK,IAAIyB,EAAI,EAAGA,EAAIsJ,KAAKzG,KAAM7C,IAAK,CAChC,IAAIkoB,GAAYloB,EAAIsJ,KAAK+d,kBAAoB/d,KAAK+U,aAAa9f,OAC3DmnB,EAAMpc,KAAKqc,mBAAmBuC,GAClC5e,KAAKkb,UAAUxkB,GAAK,IAAImoB,GAAkB,CAAC7c,KAAMhC,KAAK+U,aAAa6J,GAAUtrB,MAAO4hB,MAAOxe,EAAGkR,EAAEwU,EAAI,GAAGvU,EAAEuU,EAAI,Q,2CAIjHpc,KAAKkb,UAAY,O,oCAGPhG,GACV,IAAIrG,EAAY,GAGhB,OADAA,EAAUha,KAAK,CAACia,OAAO9O,KAAK8e,wBAAwBxY,OAAO,CAAC4O,GAAF,mBAAWlV,KAAKqc,mBAAmBnH,GAAM,KAAO1B,WAAU,EAAKxE,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,EAAKC,iBAAgB,IAC7L/C,I,8CAGaqG,EAAOtN,EAAGC,GAAI,IAAD,OAC7B4N,EAAUzV,KAAKkb,UAAUhG,GACzB7K,EAAOoL,EAAQzN,SACfsC,EAAOmL,EAAQxN,SAOnB,OANAwN,EAAQkH,uBACRlH,EAAQ9M,MAAMf,EAAEC,GAChB4N,EAAQmD,WAAU,SAACmG,GACfA,EAAGtU,cACH,EAAKgJ,cAAc,MAEhB,CAACyB,EAAO7K,EAAMC,K,mDAEI4K,EAAOtN,EAAGC,GAAI,IAAD,OAClC4N,EAAUzV,KAAKkb,UAAUhG,GAC7BO,EAAQkH,uBACRlH,EAAQ9M,MAAMf,EAAEC,GAEZ,IAAIwG,IAAWrO,KAAKqO,OACpBoH,EAAQmD,WAAU,SAACmG,GACfA,EAAGtU,cACH,EAAKgF,YAAYpB,Q,mDAQA6G,EAAOtN,EAAGC,GAAI,IAAD,OAClC4N,EAAUzV,KAAKkb,UAAUhG,GACzB7K,EAAOoL,EAAQzN,SACfsC,EAAOmL,EAAQxN,SACnBwN,EAAQkH,uBACRlH,EAAQ9M,MAAMf,EAAEC,GAEZ,IAAIwG,IAAWrO,KAAKqO,OAUxB,OATIoH,EAAQmD,WAAU,SAACmG,GACfA,EAAGtU,cACH,EAAKgF,YAAYpB,MAOlB,CAAC6G,EAAO7K,EAAMC,K,mCAIrB,IAAIuE,EAAY,GAChBA,EAAUha,KAAK,CAACia,OAAO9O,KAAKwc,gBAAgBlW,OAAO,GAAG2J,QAAO,EAAKlB,YAAW,EAAKgC,eAAc,EAAKa,iBAAgB,IACrH,IAAK,IAAIlb,EAAI,EAAGA,EAAIsJ,KAAKzG,KAAM7C,IAC3BmY,EAAUha,KAAK,CAACia,OAAO9O,KAAKyc,2BAA2BnW,OAAO,CAAC5P,GAAIuZ,QAAO,EAAKhB,cAAevY,IAAMsJ,KAAKzG,KAAO,EAAGwX,eAAc,EAAKY,eAAc,IAGxJ,OADA9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKgf,SAAS/O,QAAO,EAAKlB,YAAW,IACrDF,I,wCAIP,IAAIoQ,EAAajf,KAAK+U,aAGtB,OAFA/U,KAAK+U,aAAe/U,KAAKkb,UACzBlb,KAAKkb,UAAY,KACV,CAAC+D,K,2CAESA,GACjBjf,KAAKkb,UAAYlb,KAAK+U,aACtB/U,KAAK+U,aAAekK,I,iDAGG/J,GACvB,IAAIO,EAAUzV,KAAK+U,aAAaG,GAChCO,EAAQ9M,MAAR,MAAA8M,EAAO,YAAUzV,KAAKqc,mBAAmB5G,EAAQP,W,sDAErBA,GAAQ,IAAD,OAC/BO,EAAUzV,KAAK+U,aAAaG,GAEhC,GADAO,EAAQ9M,MAAR,MAAA8M,EAAO,YAAUzV,KAAKqc,mBAAmBnH,GAAM,KACjC,IAAVA,EAAa,CACb,IAAI7G,IAAWrO,KAAKqO,OACpBoH,EAAQmD,WAAU,SAACmG,GACf,EAAKtP,YAAYpB,S,sDAIG6G,GAAQ,IAAD,OAC/BO,EAAUzV,KAAK+U,aAAaG,GAEhC,GADAO,EAAQ9M,MAAR,MAAA8M,EAAO,YAAUzV,KAAKqc,mBAAmB5G,EAAQP,SAC7CA,IAAUlV,KAAKzG,KAAO,EAAG,CACzB,IAAI8U,IAAWrO,KAAKqO,OACpBoH,EAAQmD,WAAU,SAACmG,GACf,EAAKtP,YAAYpB,S,oCAKfrM,GACVhC,KAAKmb,YAAc,IAAI0D,GAAkB,CAAC7c,KAAMA,EAAMkT,MAAOlV,KAAKme,iBAAkBvW,EAAE,GAAGC,EAAE,O,yCAE5E7F,GACfhC,KAAKmb,YAAc,O,uCAInB,IAAItM,EAAY,GAKhB,OAJAA,EAAUha,KAAK,CAACia,OAAO9O,KAAKoe,uBAAuB1T,UAAUiG,MAAM3Q,KAAKoe,uBAAuB9X,OAAO,GAAG2J,QAAO,IAChHpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKkf,gBAAgB5Y,OAAO,GAAGkN,WAAU,EAAKxQ,YAAY,gCAAgC0O,uBAAsB,EAAK1C,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,IAClM9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKoe,uBAAuB3T,YAAYkG,MAAM3Q,KAAKoe,uBAAuB9X,OAAO,GAAG2J,QAAO,IAClHpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKoe,uBAAuBvB,KAAKlM,MAAM3Q,KAAKoe,uBAAuB9X,OAAO,CAACwX,EAAWO,gBAAgBP,EAAWQ,iBAAkBrO,QAAO,EAAK2B,iBAAgB,IAC/K/C,I,wCAGQ,IAAD,OACVuN,EAAMpc,KAAKqc,mBAAmBrc,KAAKme,kBAOvC,OANAne,KAAKoe,uBAAuB1T,YAC5B1K,KAAKoe,uBAAuBzV,MAAMyT,EAAI,GAAIA,EAAI,GAAK0B,EAAW5H,cAC9DlW,KAAKoe,uBAAuBxF,WAAU,SAACnD,GACnCA,EAAQhL,cACR,EAAKgJ,cAAc,MAEhBzT,KAAKme,mB,6CAEQ,IAAD,OACnBne,KAAKoe,uBAAuBzV,MAAMmV,EAAWO,gBAAgBP,EAAWQ,iBACxEte,KAAKoe,uBAAuB1T,YAC5B,IAAI2D,IAAWrO,KAAKqO,OACpBrO,KAAKoe,uBAAuBxF,WAAU,SAACnD,GACnCA,EAAQhL,cACR,EAAKgF,YAAYpB,Q,6CAGD,IAAD,OACf+N,EAAMpc,KAAKqc,mBAAmBrc,KAAKme,kBACvCne,KAAKoe,uBAAuB1T,YAC5B1K,KAAKoe,uBAAuBzV,MAAMyT,EAAI,GAAIA,EAAI,GAAK0B,EAAW5H,cAC9D,IAAI7H,IAAWrO,KAAKqO,OAKpB,OAJArO,KAAKoe,uBAAuBxF,WAAU,SAACnD,GACnCA,EAAQhL,cACR,EAAKgF,YAAYpB,MAEdrO,KAAKme,mB,sCAGoB,IAAtB5T,EAAqB,uDAAbN,EAAOxN,KACzBuD,KAAKmb,YAAYzQ,UAAUH,K,2CAG3BvK,KAAKmb,YAAY1Q,gB,sCAGJ,IAAD,SACRyK,EAAQlV,KAAKme,iBACjBne,KAAK+U,aAAaG,GAASlV,KAAKmb,YAChCnb,KAAK4b,iBACL,EAAA5b,KAAKmb,aAAYxS,MAAjB,oBAA0B3I,KAAKqc,mBAAmBnH,KAClDlV,KAAKmb,YAAYvC,WAAU,SAACnD,GACxBA,EAAQhL,cACR,EAAKgJ,cAAc,MAEvBzT,KAAKmb,YAAc,O,2CAED,IAAD,OACbjG,EAAQlV,KAAKme,iBAIjBne,KAAKmb,YAAcnb,KAAK+U,aAAaG,GACrClV,KAAK4b,gBACL5b,KAAKmb,YAAYxS,MAAM,GAAG,IAC1B,IAAI0F,IAAWrO,KAAKqO,OACpBrO,KAAKmb,YAAYvC,WAAU,SAACnD,GACxBA,EAAQhL,cACR,EAAKgF,YAAYpB,MAErBrO,KAAK+U,aAAaG,GAAS,O,2CAET,IAAD,SACbA,EAAQlV,KAAKme,iBACjBne,KAAK+U,aAAaG,GAASlV,KAAKmb,YAChCnb,KAAK4b,iBACL,EAAA5b,KAAKmb,aAAYxS,MAAjB,oBAA0B3I,KAAKqc,mBAAmBnH,KAClD,IAAI7G,IAAWrO,KAAKqO,OACpBrO,KAAKmb,YAAYvC,WAAU,SAACnD,GACxBA,EAAQhL,cACR,EAAKgF,YAAYpB,MAErBrO,KAAKmb,YAAc,O,uCAInB,IAAItM,EAAY,GAKhB,OAJAA,EAAUha,KAAK,CAACia,OAAO9O,KAAKge,uBAAuBtT,UAAUiG,MAAM3Q,KAAKge,uBAAuB1X,OAAO,GAAG2J,QAAO,IAChHpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKmf,gBAAgB7Y,OAAO,GAAGkN,WAAU,EAAKxQ,YAAY,gCAAgC0O,uBAAsB,EAAK1C,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,IAClM9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKge,uBAAuBvT,YAAYkG,MAAM3Q,KAAKge,uBAAuB1X,OAAO,GAAG2J,QAAO,IAClHpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKge,uBAAuBnB,KAAKlM,MAAM3Q,KAAKge,uBAAuB1X,OAAO,CAACwX,EAAWG,gBAAgBH,EAAWI,iBAAkBjO,QAAO,EAAK2B,iBAAgB,IAC/K/C,I,wCAGQ,IAAD,OACVuN,EAAMpc,KAAKqc,mBAAmBrc,KAAK+d,kBAOvC,OANA/d,KAAKge,uBAAuBtT,YAC5B1K,KAAKge,uBAAuBrV,MAAMyT,EAAI,GAAIA,EAAI,GAAK0B,EAAW5H,cAC9DlW,KAAKge,uBAAuBpF,WAAU,SAACnD,GACnCA,EAAQhL,cACR,EAAKgJ,cAAc,MAEhBzT,KAAK+d,mB,6CAEQ,IAAD,OACnB/d,KAAKge,uBAAuBrV,MAAMmV,EAAWG,gBAAgBH,EAAWI,iBACxEle,KAAKge,uBAAuBtT,YAC5B,IAAI2D,IAAWrO,KAAKqO,OACpBrO,KAAKge,uBAAuBpF,WAAU,SAACnD,GACnCA,EAAQhL,cACR,EAAKgF,YAAYpB,Q,6CAGD,IAAD,OACf+N,EAAMpc,KAAKqc,mBAAmBrc,KAAK+d,kBACvC/d,KAAKge,uBAAuBtT,YAC5B1K,KAAKge,uBAAuBrV,MAAMyT,EAAI,GAAIA,EAAI,GAAK0B,EAAW5H,cAC9D,IAAI7H,IAAWrO,KAAKqO,OAKpB,OAJArO,KAAKge,uBAAuBpF,WAAU,SAACnD,GACnCA,EAAQhL,cACR,EAAKgF,YAAYpB,MAEdrO,KAAK+d,mB,uCAGE,IAAD,OACb/d,KAAKmb,YAAcnb,KAAK+U,aAAa/U,KAAK+d,kBAC1C/d,KAAK+U,aAAa/U,KAAK+d,kBAAoB,KAC3C/d,KAAKmb,YAAYwB,uBACjB3c,KAAKmb,YAAYxS,MAAM,GAAG,IAC1B3I,KAAKmb,YAAYvC,WAAU,SAACnD,GACxBA,EAAQhL,cACR,EAAKgJ,cAAc,Q,4CAGJ,IAAD,SAClBzT,KAAKmb,YAAYwB,wBACjB,EAAA3c,KAAKmb,aAAYxS,MAAjB,oBAA0B3I,KAAKqc,mBAAmBrc,KAAK+d,oBACvD,IAAI1P,IAAWrO,KAAKqO,OACpBrO,KAAKmb,YAAYvC,WAAU,SAACnD,GACxBA,EAAQhL,cACR,EAAKgF,YAAYpB,MAErBrO,KAAK+U,aAAa/U,KAAK+d,kBAAoB/d,KAAKmb,YAChDnb,KAAKmb,YAAc,O,4CAEA,IAAD,OAClBnb,KAAKmb,YAAcnb,KAAK+U,aAAa/U,KAAK+d,kBAC1C/d,KAAK+U,aAAa/U,KAAK+d,kBAAoB,KAC3C/d,KAAKmb,YAAYwB,uBACjB3c,KAAKmb,YAAYxS,MAAM,GAAG,IAC1B,IAAI0F,IAAWrO,KAAKqO,OACpBrO,KAAKmb,YAAYvC,WAAU,SAACnD,GACxBA,EAAQhL,cACR,EAAKgF,YAAYpB,Q,oCAIX6G,GACV,IAAIkK,EAAUpf,KAAKmb,YAEnB,OADAnb,KAAKmb,YAAc,KACZ,CAACiE,K,yCAEOA,GACfpf,KAAKmb,YAAciE,I,iCAInBpf,KAAKzG,S,sCAGLyG,KAAKzG,S,iCAILyG,KAAKzG,S,sCAGLyG,KAAKzG,S,wCAGS8lB,GACd,IAAIxQ,EAAY,GAIhB,OAHAA,EAAUha,KAAK,CAACia,OAAO9O,KAAKge,uBAAuBtT,UAAUiG,MAAM3Q,KAAKge,uBAAuB1X,OAAO,CAAC2D,EAAO1N,IAAKuN,GAA6BqB,kBAAkB8D,eAAc,IAChLJ,EAAUha,KAAK,CAACia,OAAO9O,KAAKsf,uBAAuBhZ,OAAO,CAAC+Y,GAASrc,YAAY,kCAAkC0O,uBAAsB,EAAKE,iBAAgB,IAC7J/C,EAAUha,KAAK,CAACia,OAAO9O,KAAKge,uBAAuBvT,YAAYkG,MAAM3Q,KAAKge,uBAAuB1X,OAAO,GAAG2J,QAAO,EAAKlB,YAAW,EAAK8B,SAAS,CAAC5G,EAAO1N,IAAKuN,GAA6BqB,oBACnL0D,I,6CAGYwQ,GACnB,IAAIE,EAAUvf,KAAK+d,iBAOnB,YANgBzpB,IAAZ+qB,EACArf,KAAK+d,iBAAmBsB,GAExBrf,KAAK+d,mBACL/d,KAAK+d,kBAAoB/d,KAAK+U,aAAa9f,QAExC,CAAC+K,KAAK+d,iBAAiB,CAACwB,M,kDAEPA,GAExB,OADAvf,KAAK+d,iBAAmBwB,EACjBvf,KAAK+d,mB,wCAGEyB,GACd,IAAI3Q,EAAY,GAIhB,OAHAA,EAAUha,KAAK,CAACia,OAAO9O,KAAKoe,uBAAuB1T,UAAUiG,MAAM3Q,KAAKoe,uBAAuB9X,OAAO,CAAC2D,EAAO1N,IAAKuN,GAA6BqB,kBAAkB8D,eAAc,IAChLJ,EAAUha,KAAK,CAACia,OAAO9O,KAAKyf,uBAAuBnZ,OAAO,CAACkZ,GAASxc,YAAY,kCAAkC0O,uBAAsB,EAAKE,iBAAgB,IAC7J/C,EAAUha,KAAK,CAACia,OAAO9O,KAAKoe,uBAAuB3T,YAAYkG,MAAM3Q,KAAKoe,uBAAuB9X,OAAO,GAAG2J,QAAO,EAAKlB,YAAW,EAAK8B,SAAS,CAAC5G,EAAO1N,IAAKuN,GAA6BqB,oBACnL0D,I,6CAGY2Q,GACnB,IAAIE,EAAU1f,KAAKme,iBAOnB,OANIqB,EACAxf,KAAKme,iBAAmBqB,GAExBxf,KAAKme,mBACLne,KAAKme,kBAAoBne,KAAK+U,aAAa9f,QAExC,CAAC+K,KAAKme,iBAAiB,CAACuB,M,kDAEPA,GAExB,OADA1f,KAAKme,iBAAmBuB,EACjB1f,KAAKme,mB,yCAGGjJ,GAAsB,IAAf4H,EAAc,wDAChCzG,EAAYjf,KAAK8R,MAAMlJ,KAAKS,MAAQqd,EAAW5H,cAE/CrO,GADIiW,EAAW5H,aACX,GAAqC,EAAhC9e,KAAK8R,MAAMgM,EAAQmB,GAAiByH,EAAW5H,cAE5D,MAAO,CADFhB,EAAQmB,EAAayH,EAAW5H,aACzB4H,EAAW5H,aAAa,EAAIlW,KAAK4H,EAAEC,EAAIiW,EAAW5H,aAAa,EAAIlW,KAAK6H,GAAKiV,EAAQ1lB,KAAKkd,KAAKtU,KAAK+U,aAAa9f,OAASohB,GAAWyH,EAAW5H,aAAa,EAAK,M,oCAGpKT,EAASjO,EAAgBuB,GAC/B0M,GACAA,EAAQU,OAAO3O,EAAgBuB,K,6BAIhCvB,EAAgBuB,GAAK,IAAD,OACvB,gEAAavB,EAAgBuB,GAAI,WAC7B,IAAK,IAAIrS,EAAI,EAAGA,EAAI,EAAKqe,aAAa9f,OAAQyB,IAC1C,EAAKumB,cAAc,EAAKlI,aAAare,GAAI8Q,EAAgBuB,GAE7D,GAAI,EAAKmS,UACL,IAAK,IAAIxkB,EAAI,EAAGA,EAAI,EAAKwkB,UAAUjmB,OAAQyB,IACvC,EAAKumB,cAAc,EAAK/B,UAAUxkB,GAAI8Q,EAAgBuB,GAG1D,EAAKoS,aACL,EAAK8B,cAAc,EAAK9B,YAAa3T,EAAgBuB,GAEzD,EAAKiV,uBAAuB7H,OAAO3O,EAAgBuB,GACnD,EAAKqV,uBAAuBjI,OAAO3O,EAAgBuB,Q,2BAItDA,GACD,8DAAWA,GACXA,EAAGlU,OAEHkU,EAAGuC,UAAUvC,EAAGwC,OAAOxC,EAAGwC,QAC1BxC,EAAGgL,SAAS/T,KAAKkW,aAAa,EAAI,GAElCnN,EAAGyC,KAAK,GACRzC,EAAGtP,KAAK,SAAUqkB,EAAWG,gBAAkB,GAAIH,EAAWI,gBAAiBJ,EAAW5H,cAC1FnN,EAAGtP,KAAKuG,KAAK+d,iBAAiBrS,WAAYoS,EAAWG,gBAAgB,GAAIH,EAAWI,gBAAiBJ,EAAW5H,cAChHnN,EAAGtP,KAAK,SAAUqkB,EAAWO,gBAAkB,GAAIP,EAAWQ,gBAAiBR,EAAW5H,cAC1FnN,EAAGtP,KAAKuG,KAAKme,iBAAiBzS,WAAYoS,EAAWO,gBAAgB,GAAIP,EAAWQ,gBAAiBR,EAAW5H,cAEhH,IAAK,IAAIxf,EAAI,EAAGA,EAAIsJ,KAAK+U,aAAa9f,OAAQyB,IAAK,CAC3CsJ,KAAK+U,aAAare,IAClBsJ,KAAK+U,aAAare,GAAGkgB,KAAK7N,GAE9B,IAAIqT,EAAMpc,KAAKqc,mBAAmB3lB,GAClCqS,EAAG6B,SACH7B,EAAG4B,OAAO,GACV5B,EAAGqC,OAAOgR,EAAI,GAAK0B,EAAW5H,aAAa,EAAEkG,EAAI,GAAK0B,EAAW5H,aAAa,EAAG4H,EAAW5H,cAC5FnN,EAAGyC,KAAH,MAAAzC,EAAE,YAASkB,EAAOxN,OAClBsM,EAAG4B,OAAH,MAAA5B,EAAE,YAAWkB,EAAOxN,OACpBsM,EAAGtP,KAAK/C,EAAEgV,WAAY0Q,EAAI,GAAK0B,EAAW5H,aAAa,EAAEkG,EAAI,GAAK0B,EAAW5H,aAAa,EAAG4H,EAAW5H,aAAc4H,EAAW5H,cAGrI,GAAIlW,KAAKkb,UACL,IAAK,IAAIxkB,EAAI,EAAGA,EAAIsJ,KAAKkb,UAAUjmB,OAAQyB,IAAK,CACxCsJ,KAAKkb,UAAUxkB,IACfsJ,KAAKkb,UAAUxkB,GAAGkgB,KAAK7N,GAE3B,IAAIqT,EAAMpc,KAAKqc,mBAAmB3lB,GAAG,GACrCqS,EAAG6B,SACH7B,EAAG4B,OAAO,GACV5B,EAAGqC,OAAOgR,EAAI,GAAK0B,EAAW5H,aAAa,EAAEkG,EAAI,GAAK0B,EAAW5H,aAAa,EAAG4H,EAAW5H,cAC5FnN,EAAGyC,KAAH,MAAAzC,EAAE,YAASkB,EAAOxN,OAClBsM,EAAG4B,OAAH,MAAA5B,EAAE,YAAWkB,EAAOxN,OACpBsM,EAAGtP,KAAK/C,EAAEgV,WAAY0Q,EAAI,GAAK0B,EAAW5H,aAAa,EAAEkG,EAAI,GAAK0B,EAAW5H,aAAa,EAAG4H,EAAW5H,aAAc4H,EAAW5H,cAGrIlW,KAAKmb,aACLnb,KAAKmb,YAAYvE,KAAK7N,GAE1B/I,KAAKge,uBAAuBpH,KAAK7N,GACjC/I,KAAKoe,uBAAuBxH,KAAK7N,GAEjCA,EAAGsC,Q,oCAGOtC,EAAI5D,EAAQoP,GAAgB,IAAD,OACrC,uEAAoBxL,EAAI5D,EAAQoP,GAAgBvU,KAAKkb,UAAYlb,KAAKqc,mBAAmBrc,KAAKkb,UAAUjmB,OAAO,GAAG,GAAM,GAAK+K,KAAKqc,mBAAmBrc,KAAK+U,aAAa9f,OAAO,GAAG,IAAM6oB,EAAW5H,cAAc,WAC5M,IAAK,IAAIxf,EAAI,EAAGA,EAAI,EAAKqe,aAAa9f,OAAQyB,IAAK,CACpB,IAAD,EAA1B,GAAI,EAAKqe,aAAare,IAClB,IAAKqe,aAAare,IAAGiS,MAArB,oBAA8B,EAAK0T,mBAAmB3lB,KAG9D,GAAI,EAAKwkB,UACL,IAAK,IAAIxkB,EAAI,EAAGA,EAAI,EAAKwkB,UAAUjmB,OAAQyB,IAAK,CACpB,IAAD,EAAvB,GAAI,EAAKwkB,UAAUxkB,IACf,IAAKwkB,UAAUxkB,IAAGiS,MAAlB,oBAA2B,EAAK0T,mBAAmB3lB,GAAE,a,GAvkBrCmW,IAAnBiR,GACVjH,YAAa,EADHiH,GAEVhR,YAAa,EAFHgR,GAGV5Q,kBAAmB,EAHT4Q,GAIVxK,qBAAsB,EAJZwK,GAKVpK,cAAgB,IALNoK,GAMV/Q,eAAgB,EANN+Q,GAOVxQ,4BAA6B,EAPnBwQ,GAQV1P,kBAAmB,EART0P,GAUV9I,iBAAmB,EAVT8I,GAYV5H,aAAe,GAZL4H,GAaVG,gBAAkB,IAbRH,GAcVI,gBAAkB,GAdRJ,GAeVO,gBAAkB,IAfRP,GAgBVQ,gBAAkB,G,IAgkBvBO,G,kDAEF,aAAsC,IAAD,2DAAJ,GAApB7c,EAAwB,EAAxBA,KAAMkT,EAAkB,EAAlBA,MAAOtN,EAAW,EAAXA,EAAEC,EAAS,EAATA,EAAS,4BACjC,cAAMD,EAAEC,IAGHoD,qBAAuB6S,GAAW5H,aAAa,EAEpD,EAAK5iB,MAAQ0O,EACb,EAAKkT,MAAQA,EAEb,EAAK8C,UAAW,EAChB,EAAKzN,MAAQ,CAAC,EAAE,EAAE,GAVe,E,kDAa/B3C,EAAEC,GAAkB,IAAhBN,EAAe,uDAAH,EAClB,+DAAYK,EAAEC,GACd7H,KAAKkV,OAAS9d,KAAKsQ,KAAKH,K,6CAIxB,mEAAgB0C,EAAOxN,Q,6CAIvB,mEAAgBwN,EAAO1N,O,wCAIvByD,KAAKgY,UAAW,EAChBhY,KAAKmZ,yB,6BAGF3R,EAAgBuB,GACnB,gEAAavB,EAAgBuB,K,gCAGvBA,GACNA,EAAGlU,OACHkU,EAAGuC,UAAUvC,EAAGwC,OAAQxC,EAAGwC,QAC3BxC,EAAGyC,KAAH,MAAAzC,EAAE,YAAS/I,KAAKuK,QAChBxB,EAAG4B,OAAH,MAAA5B,EAAE,YAAW/I,KAAKuK,QAClBxB,EAAGtP,KAAKuG,KAAK1M,MAAMoY,WAAY1L,KAAK8H,SAAWgW,GAAW5H,aAAa,EAAElW,KAAK+H,SAAW+V,GAAW5H,aAAa,EAAG4H,GAAW5H,aAAc4H,GAAW5H,cACxJnN,EAAGsC,U,GA3CqBvB,IChlBX6V,G,sKAsBR,IAAD,OACJ,gEAAY,WACR,EAAKxI,KAAO,KACZ,EAAK6C,KAAO,KACZ,EAAKzgB,KAAO,EACZ,EAAK6d,MAAQ,GACb,EAAKC,SAAW,KAChB,EAAKC,WAAa,KAElB,EAAKkE,UAAW,O,oCAIO,IAAD,OAAlB4B,EAAkB,wDAC1Bpd,KAAKoN,gBAGL,IAFA,IAAIiQ,EAAUrd,KAAKqX,UAAYrX,KAAKmX,KAChCmG,EAAOtd,KAAKmX,KACTmG,GACCA,EAAKzD,eAAiBwD,EAAQxD,iBAC9BwD,EAAUC,GAEdA,EAAOA,EAAK7F,KAEhB,GAAI4F,GAAWA,EAAQxD,eAAiB,EAAG,CACvC,IAAIxL,IAAWrO,KAAKqO,OAIpB,GAHAgP,EAAQzE,WAAU,WACd,EAAKnJ,YAAYpB,MAEjB+O,EAAU,CAEV,IADA,IAAIE,EAAOtd,KAAKmX,KACTmG,GACHA,EAAK7U,OACL6U,EAAOA,EAAK7F,KAEZzX,KAAKqX,UACLrX,KAAKqX,SAAS5O,aAItBzI,KAAKyP,cAAczP,KAAKqO,U,8BAKxBrM,GACJ,GAAmC,IAA/BhC,KAAKuP,eAAeta,OACpB,OAAO,EAGX,GADA+K,KAAKoN,gBACQ,OAATpL,EAEA,OADAhC,KAAKiN,WAAW,4BAA6BhD,EAAO1N,MAC7C,EAEX,IAAIsS,EAAY,GAYhB,OAXAA,EAAUha,KAAK,CAACia,OAAO9O,KAAK0X,SAASpR,OAAO,CAACtE,GAAOgB,YAAY,iBAAD,OAAkBhB,GAAOgN,iBAAgB,EAAK6C,iBAAgB,IACzH7R,KAAKzG,KAAO,GACZsV,EAAUha,KAAK,CAACia,OAAO9O,KAAK4f,qBAAqB5c,YAAY,sBAAsBgM,iBAAgB,IAEvGH,EAAUha,KAAK,CAACia,OAAO9O,KAAK8X,eAAe9U,YAAY,qBAAqBgM,iBAAgB,EAAK4C,iBAAgB,IACjH/C,EAAUha,KAAK,CAACia,OAAO9O,KAAK6f,UAAUrM,WAAU,EAAKzE,YAAW,EAAKgC,eAAc,EAAKY,eAAc,IACtG9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKsV,SAASrF,QAAO,IAC5CpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,yBAAD,OAA0BtE,EAA1B,cAA4CiI,EAAOzN,OAAOyT,QAAO,IAC7GjQ,KAAKuV,aAAa1G,GAClB7O,KAAKqN,cACLrN,KAAKgO,eACE,I,gCAKP,GAAmC,IAA/BhO,KAAKuP,eAAeta,OACpB,OAAO,EAGX,GADA+K,KAAKoN,gBACa,IAAdpN,KAAKzG,KAEL,OADAyG,KAAKiN,WAAW,6BAA8BhD,EAAO1N,MAC9C,EAEX,IAAIsS,EAAY,GACZ7M,EAAOhC,KAAKmX,KAAKnV,KAYrB,OAXA6M,EAAUha,KAAK,CAACia,OAAO9O,KAAK0d,oBAAoBzN,QAAO,IACvDpB,EAAUha,KAAK,CAACia,OAAO9O,KAAK2d,WAAW3a,YAAY,eAAewQ,WAAU,EAAKxE,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,IACnI3R,KAAKzG,KAAO,GACZsV,EAAUha,KAAK,CAACia,OAAO9O,KAAKmY,cAAcnJ,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,IAEpG9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKoY,aAAapV,YAAY,iCAAiCgM,iBAAgB,EAAK4C,iBAAgB,IAC3H/C,EAAUha,KAAK,CAACia,OAAO9O,KAAK2V,SAAS1F,QAAO,IAC5CpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,yBAAD,OAA0BtE,EAA1B,gBAA8CiI,EAAOzN,OAAOyT,QAAO,IAC/GjQ,KAAKuV,aAAa1G,GAClB7O,KAAKqN,cACLrN,KAAKgO,cACEhM,I,+BAIFA,GAEL,OADAhC,KAAKqX,SAAW,IAAIyI,GAAoB,CAAC9d,KAAMA,EAAMkT,MAAOlV,KAAKzG,KAAMqO,EAAE,GAAGC,EAAE,KACvE,CAAC7H,KAAKqX,Y,oCAEHrV,GACVhC,KAAKqX,SAAW,O,oCAEN0I,GACV,GAAuB,kBAAZA,EACP,OAAO/f,KAAK0X,SAAL,MAAA1X,KAAiBggB,WAE5BhgB,KAAKqX,SAAW0I,I,6CAIhB/f,KAAKga,KAAKvC,KAAOzX,KAAKqX,W,kDAGtBrX,KAAKga,KAAKvC,KAAO,O,uCAIjB,IAAIiI,EAAU1f,KAAKga,KAMnB,OALAha,KAAKoX,MAAM9E,OAAOtS,KAAKzG,KAAM,EAAGyG,KAAKqX,UACrCrX,KAAKga,KAAOha,KAAKqX,SACZqI,IACD1f,KAAKmX,KAAOnX,KAAKqX,UAEd,CAACqI,K,0CAEQA,GAChB1f,KAAKga,KAAO0F,EACPA,IACD1f,KAAKmX,KAAO,MAEhBnX,KAAKoX,MAAM9E,OAAOtS,KAAKzG,KAAM,K,kCAGpB,IAAD,UACR,EAAAyG,KAAKqX,UAAS1O,MAAd,oBAAuB3I,KAAKsY,gBAAgBtY,KAAKzG,QACjDyG,KAAKqX,SAASuB,WAAU,SAACnD,GACrB,EAAKhC,cAAc,MAEvBzT,KAAKqX,SAAW,O,uCAEF,IAAD,OACbrX,KAAKqX,SAAWrX,KAAKga,KACrBha,KAAKqX,SAAS1O,MAAM,GAAG,IACvB,IAAI0F,IAAWrO,KAAKqO,OACpBrO,KAAKqX,SAASuB,WAAU,WACpB,EAAKnJ,YAAYpB,Q,uCAGP,IAAD,UACb,EAAArO,KAAKqX,UAAS1O,MAAd,oBAAuB3I,KAAKsY,gBAAgBtY,KAAKzG,QACjD,IAAI8U,IAAWrO,KAAKqO,OACpBrO,KAAKqX,SAASuB,WAAU,WACpB,EAAKnJ,YAAYpB,MAErBrO,KAAKqX,SAAW,O,4CAIhBrX,KAAKmX,KAAKwB,oB,iDAGV3Y,KAAKmX,KAAK1M,gB,mCAGA,IAAD,OACTzK,KAAKqX,SAAWrX,KAAKoX,MAAM9E,OAAO,EAAG,GAAG,GACxCtS,KAAKqX,SAAS1O,MAAM,GAAG,IACvB3I,KAAKqX,SAASuB,WAAU,WACpB,EAAKnF,cAAc,Q,wCAGR,IAAD,UACd,EAAAzT,KAAKqX,UAAS1O,MAAd,oBAAuB3I,KAAKsY,gBAAgB,KAC5CtY,KAAKoX,MAAM9E,OAAO,EAAG,EAAGtS,KAAKqX,UAC7B,IAAIhJ,IAAWrO,KAAKqO,OACpBrO,KAAKqX,SAASuB,WAAU,WACpB,EAAKnJ,YAAYpB,MAErBrO,KAAKqX,SAAW,O,wCAED,IAAD,OACdrX,KAAKqX,SAAWrX,KAAKoX,MAAM9E,OAAO,EAAG,GAAG,GACxCtS,KAAKqX,SAAS1O,MAAM,GAAG,IACvB,IAAI0F,IAAWrO,KAAKqO,OACpBrO,KAAKqX,SAASuB,WAAU,WACpB,EAAKnJ,YAAYpB,Q,qCAKrB,IAAI+Q,EAAUpf,KAAKqX,SAMnB,OALArX,KAAKmX,KAAOnX,KAAKmX,KAAKM,KACtBzX,KAAKqX,SAAW,KACXrX,KAAKmX,OACNnX,KAAKga,KAAO,MAET,CAACoF,EAAuB,OAAdpf,KAAKga,Q,wCAERoF,EAASa,GACvBjgB,KAAKqX,SAAW+H,EAChBpf,KAAKqX,SAASI,KAAOzX,KAAKmX,KAC1BnX,KAAKqX,SAASsB,kBACd3Y,KAAKmX,KAAOnX,KAAKqX,SACb4I,IACAjgB,KAAKga,KAAOha,KAAKqX,Y,sCAMrB,IADA,IAAI9Y,EAAOyB,KAAKmX,KAAKM,KACdlZ,GACHyB,KAAK6Y,UAAUta,GAAO,GACtBA,EAAOA,EAAKkZ,O,2CAKhB,IAFkB,IAAD,OACblZ,EAAOyB,KAAKmX,KAAKM,KACdlZ,GACHyB,KAAK6Y,UAAUta,EAAM,GAChBA,EAAKkZ,MAAO,WACb,IAAIpJ,IAAW,EAAKA,OACpB9P,EAAKqa,WAAU,WACX,EAAKnJ,YAAYpB,MAHR,GAMjB9P,EAAOA,EAAKkZ,O,2CAKhB,IAFkB,IAAD,OACblZ,EAAOyB,KAAKmX,KAAKM,KACdlZ,GACHyB,KAAK6Y,UAAUta,GAAO,GACjBA,EAAKkZ,MAAO,WACb,IAAIpJ,IAAW,EAAKA,OACpB9P,EAAKqa,WAAU,WACX,EAAKnJ,YAAYpB,MAHR,GAMjB9P,EAAOA,EAAKkZ,O,gCAIVlZ,EAAMgJ,GACZhJ,EAAKoK,MAAL,MAAApK,EAAI,YAAUyB,KAAKsY,gBAAgB/Z,EAAK2W,MAAQ3N,IAA5C,QAAwDA,O,qCAEjDhJ,EAAMgJ,GAEjBvH,KAAK6Y,UAAUta,GAAOgJ,K,iCAItBvH,KAAKzG,S,sCAGLyG,KAAKzG,S,iCAILyG,KAAKzG,S,sCAGLyG,KAAKzG,S,sCAGO2b,GACZ,IAAImB,EAAYjf,KAAK2C,IAAI,EAAG3C,KAAK8R,MAAMlJ,KAAKS,MAAQkf,EAAgBzJ,eAEhErO,GADI8X,EAAgBzJ,aAChB,GAAqC,EAAhC9e,KAAK8R,MAAMgM,EAAQmB,GAAiBsJ,EAAgB7G,gBAEjE,MAAO,CADF5D,EAAQmB,EAAasJ,EAAgBzJ,aAC9BlW,KAAK4H,EAAEC,EAAI7H,KAAK6H,K,mCAGnBD,EAAEC,GAEX,IADA,IAAItJ,EAAOyB,KAAKmX,KACT5Y,GAAM,CACT,GAAIA,EAAKwa,YAAYnR,EAAEC,GACnB,OAAOtJ,EAEXA,EAAOA,EAAKkZ,KAEhB,OAAIzX,KAAKqX,UAAYrX,KAAKqX,SAAS0B,YAAYnR,EAAEC,GACtC7H,KAAKqX,SAET,O,iCAIP,OAAOrX,KAAKsY,gBAAgBtY,KAAKzG,KAAK,GAAG,GAAKomB,EAAgB7G,eAAiB6G,EAAgBO,iB,0BAG/F3hB,EAAMqJ,EAAEC,GACR7H,KAAKsX,WAAa/Y,EAClBA,EAAKya,IAAIpR,EAAEC,K,8BAIX7H,KAAKsX,WAAW2B,QAChBjZ,KAAKsX,WAAa,O,iCAGX/Y,EAAMiJ,EAAgBuB,GAC7BxK,EAAK4X,OAAO3O,EAAgBuB,K,6BAGzBvB,EAAgBuB,GAAK,IAAD,OACvB,gEAAavB,EAAgBuB,GAAI,WAE7B,IADA,IAAIxK,EAAO,EAAK4Y,KACT5Y,GACH,EAAK6a,WAAW7a,EAAMiJ,EAAgBuB,GACtCxK,EAAOA,EAAKkZ,KAEZ,EAAKJ,UACL,EAAK+B,WAAW,EAAK/B,SAAU7P,EAAgBuB,Q,2BAKtDA,GAED,8DAAWA,GACXA,EAAGlU,OAEHkU,EAAGuC,UAAUvC,EAAGwC,OAAOxC,EAAGwC,QAC1BxC,EAAGgL,SAAS/T,KAAKqZ,cAAc,EAAI,GAEnCtQ,EAAG6B,SACH7B,EAAG4B,OAAO,GACV5B,EAAGuC,UAAUvC,EAAGwC,OAAQxC,EAAGwC,QAE3BxC,EAAGtP,KAAK,QAAQ,GADJ,GACekmB,EAAgBO,eAAiB,GAAGP,EAAgBO,gBAC/EnX,EAAGqC,OAAOuU,EAAgBQ,YAFd,GAEgCR,EAAgBO,gBACxDlgB,KAAKmX,MACLpO,EAAG4B,OAAOV,EAAOxN,MACjBsM,EAAGyC,KAAKvB,EAAOxN,MACfsM,EAAGmC,OAAOyU,EAAgBQ,YAAcR,EAAgBO,eAAiB,EANjE,GAM4EP,EAAgBO,eAAiB,EAAG,GACxHnX,EAAGrD,KAAKia,EAAgBQ,YAAcR,EAAgBO,eAAiB,EAP/D,GAO0EP,EAAgBO,eAAiB,EAAGlgB,KAAKmX,KAAKrP,SAAW6X,EAAgBlG,WAAa,EAAGzZ,KAAKmX,KAAKpP,UACrLgB,EAAGyN,KAAKxW,KAAKmX,KAAKrP,SAAW6X,EAAgBlG,WAAa,EAAI,EAAGzZ,KAAKmX,KAAKpP,SAAW,EAAG,EAAE,IAE3FgB,EAAGrD,KAAKia,EAAgBQ,YAVhB,GAUkCR,EAAgBQ,YAAcR,EAAgBO,eAVhF,GAUuGP,EAAgBO,gBAEnInX,EAAG6B,SACH7B,EAAG4B,OAAO,GACV,IAAIyV,EAAQpgB,KAAKqgB,WACjBtX,EAAGtP,KAAK,QAAQ,GAAG2mB,EAAMT,EAAgBO,eAAeP,EAAgBO,gBACxEnX,EAAGqC,OAAOuU,EAAgBQ,YAAYC,EAAMT,EAAgBO,gBACxDlgB,KAAKga,MACLjR,EAAG4B,OAAOV,EAAOxN,MACjBsM,EAAGyC,KAAKvB,EAAOxN,MACfsM,EAAGmC,OAAOyU,EAAgBQ,YAAcR,EAAgBO,eAAiB,EAAGE,EAAQT,EAAgBO,eAAiB,EAAG,GACxHnX,EAAGrD,KAAKia,EAAgBQ,YAAcR,EAAgBO,eAAiB,EAAGE,EAAQT,EAAgBO,eAAiB,EAAGlgB,KAAKga,KAAKlS,SAAW6X,EAAgBlG,WAAa,EAAGzZ,KAAKga,KAAKjS,SAAW4X,EAAgB7G,gBAChN/P,EAAGyN,KAAKxW,KAAKga,KAAKlS,SAAW6X,EAAgBlG,WAAa,EAAI,EAAGzZ,KAAKga,KAAKjS,SAAW4X,EAAgB7G,eAAiB,EAAG,EAAE,IAE5H/P,EAAGrD,KAAKia,EAAgBQ,YAAYC,EAAMT,EAAgBQ,YAAcR,EAAgBO,eAAeE,EAAQT,EAAgBO,gBAInI,IADA,IAAI3hB,EAAOyB,KAAKmX,KACT5Y,GACHA,EAAKqY,KAAK7N,EAAIxK,EAAKkZ,OAASzX,KAAKmX,MACjC5Y,EAAOA,EAAKkZ,KAEZzX,KAAKqX,UACLrX,KAAKqX,SAAST,KAAK7N,GAGvBA,EAAGsC,Q,mCAGMtC,GAET,IAAIuQ,EAActZ,KAAKuZ,aAAaxQ,EAAGH,OAAQG,EAAGF,QAKlD,OAJIyQ,IACAtZ,KAAKvK,SAASme,OACd5T,KAAKgZ,IAAIM,EAAavQ,EAAGH,OAAOG,EAAGF,UAEhC,I,oCAGGE,GAAK,IAAD,OASd,OARI/I,KAAKsX,aACLtX,KAAKsX,WAAWsB,WAAU,WACtB,EAAK5H,iBAEThR,KAAKiZ,UAIF,I,oCAGGlQ,EAAI5D,EAAQoP,GAAgB,IAAD,OACrC,uEAAoBxL,EAAI5D,EAAQoP,EAAevU,KAAKqgB,WAAaV,EAAgBO,eAAiB,IAAG,WAGjG,IAFA,IAAII,EAAY,EAAKjJ,UAAuC,KAA3B,EAAKA,SAASrP,UAA8C,KAA3B,EAAKqP,SAASpP,SAC5E1J,EAAO,EAAK4Y,KACT5Y,GAAM,CAAC,IAAD,GACT,EAAAA,GAAKoK,MAAL,oBAAc,EAAK2P,gBAAgB/Z,EAAK2W,SACxC3W,EAAOA,EAAKkZ,KAEZ6I,GACA,EAAKjJ,SAAS1O,MAAM,GAAG,W,GApaMkE,IAAxB8S,GACV9I,YAAa,EADH8I,GAEV7S,YAAa,EAFH6S,GAGV7W,UAAW,EAHD6W,GAIVzS,kBAAmB,EAJTyS,GAKVrM,qBAAsB,EALZqM,GAMVjM,cAAgB,IANNiM,GAOV5S,eAAgB,EAPN4S,GAQVrS,4BAA6B,EARnBqS,GASVvR,kBAAmB,EATTuR,GAWV7G,eAAiB,GAXP6G,GAYVtG,cAAgB,GAZNsG,GAaVnG,cAAgB,GAbNmG,GAcVlG,WAAakG,GAAgBtG,cAAgBsG,GAAgBnG,cAdnDmG,GAeVjG,QAAU,GAfAiG,GAgBVzJ,aAAeyJ,GAAgBlG,WAAakG,GAAgBjG,QAhBlDiG,GAkBVO,eAAiB,GAlBPP,GAmBVQ,YAAc,I,IAwZnBL,G,kDAGF,aAAsC,IAAD,2DAAJ,GAApB9d,EAAwB,EAAxBA,KAAMkT,EAAkB,EAAlBA,MAAOtN,EAAW,EAAXA,EAAEC,EAAS,EAATA,EAAS,4BACjC,cAAMD,EAAEC,IAEH7F,KAAOA,EACZ,EAAKkT,MAAQA,EACb,EAAKuC,KAAO,KAEZ,EAAKO,UAAW,EAChB,EAAK4B,YAAa,EAClB,EAAKxR,QAAS,EACd,EAAKmC,MAAQ,CAAC,EAAE,EAAE,GAVe,E,kDAa/B3C,EAAEC,GAAkB,IAAhBN,EAAe,uDAAH,EAClB,+DAAYK,EAAEC,GACd7H,KAAKkV,OAAS9d,KAAKsQ,KAAKH,K,kCAGhBK,EAAEC,GACV,OAAS7H,KAAK8H,UAAYF,GAAKA,GAAM5H,KAAK8H,SAAW6X,GAAgBlG,YAAiBzZ,KAAK+H,UAAYF,GAAKA,GAAM7H,KAAK+H,SAAW4X,GAAgB7G,iB,kCAIlJ9Y,KAAKuK,MAAQ,CAAC,IAAI,IAAI,K,oCAItBvK,KAAKuK,MAAQ,CAAC,EAAE,EAAE,K,6CAIlBvK,KAAKuK,MAAM,GAAK,M,wCAIhBvK,KAAKgY,UAAW,EAChBhY,KAAKmZ,yB,2BAGJpQ,GACDA,EAAGlU,OACHkU,EAAGyC,KAAK,KACRzC,EAAG4B,OAAH,MAAA5B,EAAE,YAAW/I,KAAKuK,QAClBxB,EAAGyN,KAAKxW,KAAK8H,SAAU9H,KAAK+H,SAAU4X,GAAgBlG,WAAYkG,GAAgB7G,gBAClF/P,EAAGrD,KAAK1F,KAAK8H,SAAW6X,GAAgBtG,cAAerZ,KAAK+H,SAAU/H,KAAK8H,SAAW6X,GAAgBtG,cAAerZ,KAAK+H,SAAW4X,GAAgB7G,gBACrJ/P,EAAGuC,UAAUvC,EAAGwC,OAAQxC,EAAGwC,QAC3BxC,EAAGyC,KAAH,MAAAzC,EAAE,YAAS/I,KAAKuK,QAChBxB,EAAGtP,KAAKuG,KAAKgC,KAAK0J,WAAY1L,KAAK8H,SAAS9H,KAAK+H,SAAU4X,GAAgBtG,cAAcsG,GAAgB7G,gBACrG9Y,KAAKyX,MACL1O,EAAG4B,OAAH,MAAA5B,EAAE,YAAW9D,EAAMrI,SAASoD,KAAKuK,MAAO,CAAC,EAAE,EAAE,QAC7CxB,EAAGyC,KAAH,MAAAzC,EAAE,YAAS9D,EAAMrI,SAASoD,KAAKuK,MAAO,CAAC,EAAE,EAAE,QAC3CxB,EAAGmC,OAAOlL,KAAK8H,SAAW6X,GAAgBtG,cAAgBsG,GAAgBnG,cAAgB,EAAGxZ,KAAK+H,SAAW4X,GAAgB7G,eAAiB,EAAG,GACjJ/P,EAAGrD,KAAK1F,KAAK8H,SAAW6X,GAAgBtG,cAAgBsG,GAAgBnG,cAAgB,EAAGxZ,KAAK+H,SAAW4X,GAAgB7G,eAAiB,EAAG9Y,KAAKyX,KAAK3P,SAAU9H,KAAKyX,KAAK1P,SAAW4X,GAAgB7G,eAAiB,GACzN/P,EAAGyN,KAAKxW,KAAKyX,KAAK3P,SAAW,EAAG9H,KAAKyX,KAAK1P,SAAW4X,GAAgB7G,eAAiB,EAAI,EAAG,EAAE,IAE/F/P,EAAGrD,KAAK1F,KAAK8H,SAAW6X,GAAgBtG,cAAerZ,KAAK+H,SAAU/H,KAAK8H,SAAW6X,GAAgBlG,WAAYzZ,KAAK+H,SAAW4X,GAAgB7G,gBAEtJ/P,EAAGsC,U,GA5DuB1D,IAA5BmY,GACKhX,UAAW,E,IC5aDyX,G,sKAkBR,IAAD,OACJ,gEAAY,WACR,EAAKxL,aAAe,IAAIkG,MAAMsF,EAAWvL,kBACzC,EAAKzb,KAAO,EACZ,EAAK2hB,UAAY,KACjB,EAAKC,YAAc,KACnB,EAAKqF,kBAAoB,EACzB,EAAKC,wBAA0B,IAAI3W,GAA6ByW,EAAWG,iBAAkBH,EAAWI,iBAAkB,CACtH1V,qBAAsB,KAE1B,EAAK2V,uBAAyB,IAAI9W,GAA6ByW,EAAWM,gBAAiBN,EAAWO,gBAAiB,CACnH7V,qBAAsB,U,oCAKH,IAAD,OAAlBmS,EAAkB,wDAC1Bpd,KAAKoN,gBACL,IAAImR,EAAiBve,KAAKmb,aAAenb,KAAKygB,wBAC1CzgB,KAAKygB,wBAAwB5G,eAAiB0E,EAAe1E,iBAC7D0E,EAAiBve,KAAKygB,yBAEtBzgB,KAAK4gB,uBAAuB/G,eAAiB0E,EAAe1E,iBAC5D0E,EAAiBve,KAAK4gB,wBAE1B,IAAK,IAAIlqB,EAAI,EAAGA,EAAIsJ,KAAK+U,aAAa9f,OAAQyB,IACtCsJ,KAAK+U,aAAare,IAAMsJ,KAAK+U,aAAare,GAAGmjB,eAAiB0E,EAAe1E,iBAC7E0E,EAAiBve,KAAK+U,aAAare,IAG3C,GAAIsJ,KAAKkb,UACL,IAAK,IAAIxkB,EAAI,EAAGA,EAAIsJ,KAAKkb,UAAUjmB,OAAQyB,IACnCsJ,KAAKkb,UAAUxkB,IAAMsJ,KAAKkb,UAAUxkB,GAAGmjB,eAAiB0E,EAAe1E,iBACvE0E,EAAiBve,KAAKkb,UAAUxkB,IAI5C,GAAI6nB,EAAe1E,eAAiB,EAAG,CACnC,IAAIxL,IAAWrO,KAAKqO,OAIpB,GAHAkQ,EAAe3F,WAAU,WACrB,EAAKnJ,YAAYpB,MAEjB+O,EAAU,CACNpd,KAAKmb,aACLnb,KAAKmb,YAAY1S,OAErBzI,KAAKygB,wBAAwBhY,OAC7BzI,KAAK4gB,uBAAuBnY,OAC5B,IAAK,IAAI/R,EAAI,EAAGA,EAAIsJ,KAAK+U,aAAa9f,OAAQyB,IACtCsJ,KAAK+U,aAAare,IAClBsJ,KAAK+U,aAAare,GAAG+R,OAG7B,GAAIzI,KAAKkb,UACL,IAAK,IAAIxkB,EAAI,EAAGA,EAAIsJ,KAAKkb,UAAUjmB,OAAQyB,IACnCsJ,KAAKkb,UAAUxkB,IACfsJ,KAAKkb,UAAUxkB,GAAG+R,YAK/B,CACH,IAAI4F,IAAWrO,KAAKqO,OACpBrO,KAAKyP,YAAYpB,M,0BAKrBrM,EAAK+e,GACL,GAAmC,IAA/B/gB,KAAKuP,eAAeta,OACpB,OAAO,EAGX,GADA+K,KAAKoN,gBACQ,OAATpL,EAEA,OADAhC,KAAKiN,WAAW,4BAA6BhD,EAAO1N,MAC7C,EAEX,IAAIsS,EAAY,GAuBhB,OAtBI7O,KAAKzG,OAASyG,KAAK+U,aAAa9f,SAChC4Z,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,kCAAD,OAA4D,EAAzBtG,KAAK+U,aAAa9f,QAAWgV,EAAOzN,SACnHqS,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKyb,qBAE3B5M,EAAUha,KAAK,CAACia,OAAO9O,KAAK9M,cAAcoT,OAAO,CAACtE,EAAK+e,GAAO/d,YAAY,iBAAD,OAAkBhB,GAAOgN,iBAAgB,EAAK6C,iBAAgB,IACvIhD,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKghB,oBACnBD,EACAlS,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKihB,0BAAyB,KAEhDpS,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKkhB,qBAAoB,KAE/CrS,EAAUha,KAAK,CAACia,OAAO9O,KAAK4b,cAAc3L,QAAO,IACjDpB,EAAUha,KAAK,CAACia,OAAO9O,KAAK6b,cAAcrI,WAAU,EAAKxQ,YAAY,SAAD,OAAUhB,EAAV,oBAAiCgN,iBAAgB,EAAK4C,iBAAgB,EAAKb,eAAc,EAAKY,eAAc,IAC5KoP,GAEAlS,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKmhB,oBAAoB,KAE/CtS,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKohB,kBAAkB,KACzCvS,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,sBAAD,OAAuBtE,EAAvB,eAAkC+e,EAAQ,QAAU,OAApD,cAAuE9W,EAAOzN,SAC1HwD,KAAKuV,aAAa1G,GAClB7O,KAAKqN,cACLrN,KAAKgO,eACE,I,+BAGFhM,GACL,OAAOhC,KAAKvM,IAAIuO,GAAM,K,8BAGlBA,GACJ,OAAOhC,KAAKvM,IAAIuO,GAAM,K,6BAGnB+e,GACH,GAAmC,IAA/B/gB,KAAKuP,eAAeta,OACpB,OAAO,EAGX,GADA+K,KAAKoN,gBACa,IAAdpN,KAAKzG,KAEL,OADAyG,KAAKiN,WAAW,yBAA0BhD,EAAO1N,MAC1C,EAEX,IAAIsS,EAAY,GACZ7M,EAAOhC,KAAK+U,aAAagM,EAAQ/gB,KAAKwgB,kBAAoBxgB,KAAKqhB,SAASrhB,KAAKwgB,kBAAoBxgB,KAAKzG,KAAO,IAAIjG,MAiBrH,OAhBAub,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,wBAAD,OAAyBtG,KAAKwgB,kBAA9B,QAC5C3R,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKghB,gBAAgBD,KAClCA,IACDlS,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKkhB,qBAAoB,GAAM,KACjDrS,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKihB,0BAAyB,MAEpDpS,EAAUha,KAAK,CAACia,OAAO9O,KAAK+b,eAAezV,OAAO,CAACya,GAAO/d,YAAY,iBAAD,OAAkBhB,EAAlB,eAAoCwR,WAAU,EAAKxE,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,IAC9K9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKgc,cAAc/L,QAAO,EAAK2B,iBAAgB,IAClEmP,GACAlS,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKmhB,mBAAmB,KAE9CtS,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKohB,mBAAmB,KAC1CvS,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,wBAAD,OAAyBtE,EAAzB,iBAAsC+e,EAAQ,YAAc,UAA5D,WAA+E9W,EAAOzN,OAAOyT,QAAO,IAChJjQ,KAAKuV,aAAa1G,GAClB7O,KAAKqN,cACLrN,KAAKgO,cACEhM,I,oCAIP,OAAOhC,KAAKa,QAAO,K,mCAInB,OAAOb,KAAKa,QAAO,K,wCAInB,IAAIgO,EAAY,GAChBA,EAAUha,KAAK,CAACia,OAAO9O,KAAKic,cAAchM,QAAO,EAAKjN,YAAY,kCAAD,OAA4D,EAAzBhD,KAAK+U,aAAa9f,QAAWga,eAAc,IAC/IJ,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKghB,iBAAgB,KACvC,IAAK,IAAItqB,EAAI,EAAGA,EAAIsJ,KAAKzG,KAAM7C,IAC3BmY,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKkc,cAAcxlB,KAIzC,OAFAmY,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKmc,eACvBtN,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKmhB,mBAAmB,KACnCtS,I,sCAIP7O,KAAKkb,UAAY,IAAID,MAAiC,EAA3Bjb,KAAK+U,aAAa9f,QAC7C,IAAK,IAAIyB,EAAI,EAAGA,EAAIsJ,KAAKzG,KAAM7C,IAAK,CAChC,IAAIkoB,GAAYloB,EAAIsJ,KAAKwgB,mBAAqBxgB,KAAK+U,aAAa9f,OAC5DmnB,EAAMpc,KAAKqc,mBAAmBuC,GAClC5e,KAAKkb,UAAUxkB,GAAK,IAAI4qB,GAAkB,CAACtf,KAAMhC,KAAK+U,aAAa6J,GAAUtrB,MAAO4hB,MAAOxe,EAAGkR,EAAEwU,EAAI,GAAGvU,EAAEuU,EAAI,Q,2CAIjHpc,KAAKkb,UAAY,O,oCAGPhG,GACV,IAAIrG,EAAY,GAGhB,OADAA,EAAUha,KAAK,CAACia,OAAO9O,KAAK8e,wBAAwBxY,OAAO,CAAC4O,GAAF,mBAAWlV,KAAKqc,mBAAmBnH,GAAM,KAAO1B,WAAU,EAAKxE,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,EAAKC,iBAAgB,IAC7L/C,I,8CAGaqG,EAAOtN,EAAGC,GAAI,IAAD,OAC7B4N,EAAUzV,KAAKkb,UAAUhG,GACzB7K,EAAOoL,EAAQzN,SACfsC,EAAOmL,EAAQxN,SAOnB,OANAwN,EAAQkH,uBACRlH,EAAQ9M,MAAMf,EAAEC,GAChB4N,EAAQmD,WAAU,SAACmG,GACfA,EAAGtU,cACH,EAAKgJ,cAAc,MAEhB,CAACyB,EAAO7K,EAAMC,K,mDAEI4K,EAAOtN,EAAGC,GAAI,IAAD,OAClC4N,EAAUzV,KAAKkb,UAAUhG,GAC7BO,EAAQkH,uBACRlH,EAAQ9M,MAAMf,EAAEC,GAEZ,IAAIwG,IAAWrO,KAAKqO,OACpBoH,EAAQmD,WAAU,SAACmG,GACfA,EAAGtU,cACH,EAAKgF,YAAYpB,Q,mDAQA6G,EAAOtN,EAAGC,GAAI,IAAD,OAClC4N,EAAUzV,KAAKkb,UAAUhG,GACzB7K,EAAOoL,EAAQzN,SACfsC,EAAOmL,EAAQxN,SACnBwN,EAAQkH,uBACRlH,EAAQ9M,MAAMf,EAAEC,GAEZ,IAAIwG,IAAWrO,KAAKqO,OAUxB,OATIoH,EAAQmD,WAAU,SAACmG,GACfA,EAAGtU,cACH,EAAKgF,YAAYpB,MAOlB,CAAC6G,EAAO7K,EAAMC,K,mCAIrB,IAAIuE,EAAY,GAChBA,EAAUha,KAAK,CAACia,OAAO9O,KAAKwc,gBAAgBvM,QAAO,EAAKlB,YAAW,EAAKgC,eAAc,EAAKa,iBAAgB,IAC3G,IAAK,IAAIlb,EAAI,EAAGA,EAAIsJ,KAAKzG,KAAM7C,IAC3BmY,EAAUha,KAAK,CAACia,OAAO9O,KAAKyc,2BAA2BnW,OAAO,CAAC5P,GAAIuZ,QAAO,EAAKhB,cAAevY,IAAMsJ,KAAKzG,KAAO,EAAGwX,eAAc,EAAKY,eAAc,IAGxJ,OADA9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKgf,SAAS/O,QAAO,EAAKlB,YAAW,IACrDF,I,wCAIP,IAAIoQ,EAAajf,KAAK+U,aAGtB,OAFA/U,KAAK+U,aAAe/U,KAAKkb,UACzBlb,KAAKkb,UAAY,KACV,CAAC+D,K,2CAESA,GACjBjf,KAAKkb,UAAYlb,KAAK+U,aACtB/U,KAAK+U,aAAekK,I,iDAGG/J,GACvB,IAAIO,EAAUzV,KAAK+U,aAAaG,GAChCO,EAAQ9M,MAAR,MAAA8M,EAAO,YAAUzV,KAAKqc,mBAAmB5G,EAAQP,W,sDAErBA,GAAQ,IAAD,OAC/BO,EAAUzV,KAAK+U,aAAaG,GAEhC,GADAO,EAAQ9M,MAAR,MAAA8M,EAAO,YAAUzV,KAAKqc,mBAAmBnH,GAAM,KACjC,IAAVA,EAAa,CACb,IAAI7G,IAAWrO,KAAKqO,OACpBoH,EAAQmD,WAAU,SAACmG,GACf,EAAKtP,YAAYpB,S,sDAIG6G,GAAQ,IAAD,OAC/BO,EAAUzV,KAAK+U,aAAaG,GAEhC,GADAO,EAAQ9M,MAAR,MAAA8M,EAAO,YAAUzV,KAAKqc,mBAAmB5G,EAAQP,SAC7CA,IAAUlV,KAAKzG,KAAO,EAAG,CACzB,IAAI8U,IAAWrO,KAAKqO,OACpBoH,EAAQmD,WAAU,SAACmG,GACf,EAAKtP,YAAYpB,S,oCAKfrM,EAAM+e,GAEhB,OADA/gB,KAAKmb,YAAc,IAAImG,GAAkB,CAACtf,KAAMA,EAAMkT,MAAOlV,KAAKqhB,SAASN,EAAQ/gB,KAAKwgB,kBAAoB,EAAIxgB,KAAKwgB,kBAAoBxgB,KAAKzG,MAAOqO,EAAE,GAAGC,EAAE,KACrJ,CAAC7H,KAAKmb,e,2CAGbnb,KAAKmb,YAAc,O,yCAEJ4E,GACf,GAAuB,kBAAZA,EACP,OAAO/f,KAAK9M,cAAL,MAAA8M,KAAsBggB,WAEjChgB,KAAKmb,YAAc4E,EACnB/f,KAAKmb,YAAY0B,KAAK,GAAG,M,sCAGO,IAAtBtS,EAAqB,uDAAbN,EAAOxN,KACzBuD,KAAKmb,YAAYzQ,UAAUH,K,2CAG3BvK,KAAKmb,YAAY1Q,gB,sCAGJ,IAAD,SACRyK,EAAQlV,KAAKmb,YAAYjG,MAC7BlV,KAAK+U,aAAaG,GAASlV,KAAKmb,YAChCnb,KAAK4b,iBACL,EAAA5b,KAAKmb,aAAYxS,MAAjB,oBAA0B3I,KAAKqc,mBAAmBnH,KAClDlV,KAAKmb,YAAYvC,WAAU,SAACnD,GACxBA,EAAQhL,cACR,EAAKgJ,cAAc,MAEvB,IAAI2L,EAAUpf,KAAKmb,YAEnB,OADAnb,KAAKmb,YAAc,KACZ,CAACiE,K,yCAEOA,GAAU,IAAD,OACxBpf,KAAKmb,YAAciE,EACnB,IAAIlK,EAAQlV,KAAKmb,YAAYjG,MAC7BlV,KAAK4b,gBACL5b,KAAKmb,YAAYxS,MAAM,GAAG,IAC1B,IAAI0F,IAAWrO,KAAKqO,OACpBrO,KAAKmb,YAAYvC,WAAU,SAACnD,GACxBA,EAAQhL,cACR,EAAKgF,YAAYpB,MAErBrO,KAAK+U,aAAaG,GAAS,O,2CAET,IAAD,SACbA,EAAQlV,KAAKmb,YAAYjG,MAC7BlV,KAAK+U,aAAaG,GAASlV,KAAKmb,YAChCnb,KAAK4b,iBACL,EAAA5b,KAAKmb,aAAYxS,MAAjB,oBAA0B3I,KAAKqc,mBAAmBnH,KAClD,IAAI7G,IAAWrO,KAAKqO,OACpBrO,KAAKmb,YAAYvC,WAAU,SAACnD,GACxBA,EAAQhL,cACR,EAAKgF,YAAYpB,MAErB,IAAI+Q,EAAUpf,KAAKmb,YAEnB,OADAnb,KAAKmb,YAAc,KACZ,CAACiE,K,wCAGkB,IAAdmC,EAAa,wDACrB1S,EAAY,GAOhB,OANAA,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwB/V,UAAUiG,MAAM3Q,KAAKygB,wBAAwBxQ,QAAO,IACxGpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKwhB,iBAAiBlb,OAAO,CAAC,GAAE,GAAOkN,WAAU,EAAKxQ,YAAY,iCAAiC0O,uBAAsB,EAAK1C,iBAAgB,EAAK4C,iBAAgB,EAAKb,eAAc,EAAKY,eAAc,IAChO9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwBhW,YAAYkG,MAAM3Q,KAAKygB,wBAAwBxQ,QAAO,IACtGsR,GACA1S,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwB5D,KAAKlM,MAAM3Q,KAAKygB,wBAAwBna,OAAO,CAACia,EAAWG,iBAAiBH,EAAWI,kBAAmB1Q,QAAO,EAAK2B,iBAAgB,IAEvL/C,I,+CAEcpb,GACrB,IAAIob,EAAY,GAMhB,OAJAA,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwB/V,UAAUiG,MAAM3Q,KAAKygB,wBAAwBxQ,QAAO,IACxGpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKwhB,iBAAiBlb,OAAO,EAAE,GAAG7S,GAAK+f,WAAU,EAAKxQ,YAAY,GAAD,OAAIvP,EAAM,SAAW,cAArB,wBAAkDA,EAAM,IAAM,WAA9D,yCAAgHie,uBAAsB,EAAKzC,eAAc,EAAKF,WAAWtb,EAAIme,iBAAgB,EAAKb,eAAc,EAAKY,eAAc,IAC3T9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwBhW,YAAYkG,MAAM3Q,KAAKygB,wBAAwBxQ,QAAO,IAC1GpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwB5D,KAAKlM,MAAM3Q,KAAKygB,wBAAwBna,OAAO,CAACia,EAAWG,iBAAiBH,EAAWI,kBAAmB1Q,QAAO,EAAK2B,iBAAgB,IACnL/C,I,0CAESpb,GAAkB,IAAb8tB,IAAY,yDAC7B1S,EAAY,GAQhB,OANAA,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwB/V,UAAUiG,MAAM3Q,KAAKygB,wBAAwBxQ,QAAO,IACxGpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKwhB,iBAAiBlb,OAAO,CAAC,GAAE,GAAMkN,WAAU,EAAKxQ,YAAY,GAAD,OAAIvP,EAAM,SAAW,cAArB,+BAAyDA,EAAM,GAAK,OAApE,sCAA+Gie,uBAAsB,EAAKzC,cAAcsS,EAAIxS,YAAW,EAAK6C,iBAAgB,EAAKb,eAAc,EAAKY,eAAc,IACzT9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwBhW,YAAYkG,MAAM3Q,KAAKygB,wBAAwBxQ,QAAO,IACtGsR,GACA1S,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwB5D,KAAKlM,MAAM3Q,KAAKygB,wBAAwBna,OAAO,CAACia,EAAWG,iBAAiBH,EAAWI,kBAAmB1Q,QAAO,EAAK2B,iBAAgB,IAEvL/C,I,uCAGMvC,EAAQmV,GAAW,IAAD,OAC3BpX,EAAOrK,KAAKygB,wBAAwBzY,SACpCsC,EAAOtK,KAAKygB,wBAAwBxY,SACpCiN,EAAQlV,KAAKqhB,SAASrhB,KAAKwgB,kBAAoBlU,GAAUmV,EAAWzhB,KAAKzG,KAAO,IAChF6iB,EAAMpc,KAAKqc,mBAAmBnH,GAOlC,OANAlV,KAAKygB,wBAAwB/V,YAC7B1K,KAAKygB,wBAAwB9X,MAAMyT,EAAI,GAAIA,EAAI,GAAKmE,EAAWrK,cAC/DlW,KAAKygB,wBAAwB7H,WAAU,SAACnD,GACpCA,EAAQhL,cACR,EAAKgJ,cAAc,MAEhB,CAACyB,EAAO,CAAC7K,EAAKC,M,4CAEHD,EAAKC,GAAO,IAAD,OAC7BtK,KAAKygB,wBAAwB/V,YAC7B1K,KAAKygB,wBAAwB9X,MAAM0B,EAAMC,GACzC,IAAI+D,IAAWrO,KAAKqO,OACpBrO,KAAKygB,wBAAwB7H,WAAU,SAACnD,GACpCA,EAAQhL,cACR,EAAKgF,YAAYpB,Q,4CAGH/B,EAAQmV,GAAW,IAAD,OAChCpX,EAAOrK,KAAKygB,wBAAwBzY,SACpCsC,EAAOtK,KAAKygB,wBAAwBxY,SACpCiN,EAAQlV,KAAKqhB,SAASrhB,KAAKwgB,kBAAoBlU,GAAUmV,EAAWzhB,KAAKzG,KAAO,IAChF6iB,EAAMpc,KAAKqc,mBAAmBnH,GAClClV,KAAKygB,wBAAwB/V,YAC7B1K,KAAKygB,wBAAwB9X,MAAMyT,EAAI,GAAIA,EAAI,GAAKmE,EAAWrK,cAC/D,IAAI7H,IAAWrO,KAAKqO,OAKpB,OAJArO,KAAKygB,wBAAwB7H,WAAU,SAACnD,GACpCA,EAAQhL,cACR,EAAKgF,YAAYpB,MAEd,CAAC6G,EAAO,CAAC7K,EAAKC,M,qCAGVyW,GAAQ,IAAD,OACd7L,EAAQlV,KAAKqhB,SAASrhB,KAAKwgB,mBAAqBO,EAAQ,EAAI/gB,KAAKzG,KAAO,IAC5EyG,KAAKmb,YAAcnb,KAAK+U,aAAaG,GACrClV,KAAK+U,aAAaG,GAAS,KAC3BlV,KAAKmb,YAAYwB,uBACjB3c,KAAKmb,YAAYxS,MAAM,GAAG,IAC1B3I,KAAKmb,YAAYvC,WAAU,SAACnD,GACxBA,EAAQhL,cACR,EAAKgJ,cAAc,Q,0CAGPsN,GAAQ,IAAD,SACnB7L,EAAQlV,KAAKqhB,SAASrhB,KAAKwgB,mBAAqBO,EAAQ,EAAI/gB,KAAKzG,KAAO,IAC5EyG,KAAKmb,YAAYwB,wBACjB,EAAA3c,KAAKmb,aAAYxS,MAAjB,oBAA0B3I,KAAKqc,mBAAmBnH,KAClD,IAAI7G,IAAWrO,KAAKqO,OACpBrO,KAAKmb,YAAYvC,WAAU,SAACnD,GACxBA,EAAQhL,cACR,EAAKgF,YAAYpB,MAErBrO,KAAK+U,aAAaG,GAASlV,KAAKmb,YAChCnb,KAAKmb,YAAc,O,0CAEH4F,GAAQ,IAAD,OACnB7L,EAAQlV,KAAKqhB,SAASrhB,KAAKwgB,mBAAqBO,EAAQ,EAAI/gB,KAAKzG,KAAO,IAC5EyG,KAAKmb,YAAcnb,KAAK+U,aAAaG,GACrClV,KAAK+U,aAAaG,GAAS,KAC3BlV,KAAKmb,YAAYwB,uBACjB3c,KAAKmb,YAAYxS,MAAM,GAAG,IAC1B,IAAI0F,IAAWrO,KAAKqO,OACpBrO,KAAKmb,YAAYvC,WAAU,SAACnD,GACxBA,EAAQhL,cACR,EAAKgF,YAAYpB,Q,sCAKrB,IAAI+Q,EAAUpf,KAAKmb,YAEnB,OADAnb,KAAKmb,YAAc,KACZ,CAACiE,K,yCAEOA,GACfpf,KAAKmb,YAAciE,I,iCAInBpf,KAAKzG,S,sCAGLyG,KAAKzG,S,iCAILyG,KAAKzG,S,sCAGLyG,KAAKzG,S,yCAGU+S,GACf,IAAIuC,EAAY,GAIhB,OAHAA,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwB/V,UAAUiG,MAAM3Q,KAAKygB,wBAAwBna,OAAO,CAAC2D,EAAO1N,IAAKuN,GAA6BqB,kBAAkB8D,eAAc,IAClLJ,EAAUha,KAAK,CAACia,OAAO9O,KAAK0hB,wBAAwBpb,OAAO,CAACgG,GAAQtJ,YAAY,mCAAmC0O,uBAAsB,EAAK1C,iBAAgB,EAAK4C,iBAAgB,IACnL/C,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwBhW,YAAYkG,MAAM3Q,KAAKygB,wBAAwBxQ,QAAO,EAAKlB,YAAW,EAAM8B,SAAS,CAAC5G,EAAO1N,IAAKuN,GAA6BqB,oBAC5K0D,I,8CAGavC,GACpB,IAAIqV,EAAW3hB,KAAKwgB,kBAMpB,OAJIxgB,KAAKwgB,kBADM,IAAXlU,EACyB,EAEAtM,KAAKqhB,SAASrhB,KAAKwgB,kBAAoBlU,GAE7D,CAACtM,KAAKwgB,kBAAkB,CAACmB,M,mDAEPA,GAEzB,OADA3hB,KAAKwgB,kBAAoBmB,EAClB3hB,KAAKwgB,oB,wCAGElU,GACd,IAAIuC,EAAY,GAIhB,OAHAA,EAAUha,KAAK,CAACia,OAAO9O,KAAK4gB,uBAAuBlW,UAAUiG,MAAM3Q,KAAK4gB,uBAAuBta,OAAO,CAAC2D,EAAO1N,IAAKuN,GAA6BqB,kBAAkB8D,eAAc,IAChLJ,EAAUha,KAAK,CAACia,OAAO9O,KAAK4hB,uBAAuBtb,OAAO,CAACgG,GAAQtJ,YAAY,0BAA0B0O,uBAAsB,EAAK1C,iBAAgB,EAAK4C,iBAAgB,IACzK/C,EAAUha,KAAK,CAACia,OAAO9O,KAAK4gB,uBAAuBnW,YAAYkG,MAAM3Q,KAAK4gB,uBAAuB3Q,QAAO,EAAKlB,YAAW,EAAM8B,SAAS,CAAC5G,EAAO1N,IAAKuN,GAA6BqB,oBAC1K0D,I,6CAGYvC,GACnB,IAAIuV,EAAU7hB,KAAKzG,KAEnB,OADAyG,KAAKzG,MAAQ+S,EACN,CAACtM,KAAKzG,KAAK,CAACsoB,M,kDAEKA,GAExB,OADA7hB,KAAKzG,KAAOsoB,EACL7hB,KAAKzG,O,+BAIP2b,GAAsB,IAAf4H,EAAc,wDACtBjgB,EAAQigB,EAAO9c,KAAKkb,UAAYlb,KAAK+U,aAKzC,OAJAG,GAASrY,EAAM5H,QACH,IACRigB,GAASrY,EAAM5H,QAEZigB,I,yCAGQA,GAAsB,IAAf4H,EAAc,wDAChCzG,EAAYjf,KAAK8R,MAAMlJ,KAAKS,MAAQ8f,EAAWrK,cAE/CrO,GADI0Y,EAAWrK,aACX,GAAqC,EAAhC9e,KAAK8R,MAAMgM,EAAQmB,GAAiBkK,EAAWrK,cAE5D,MAAO,CADFhB,EAAQmB,EAAakK,EAAWrK,aACzBqK,EAAWrK,aAAa,EAAIlW,KAAK4H,EAAEC,EAAI0Y,EAAWrK,aAAa,EAAIlW,KAAK6H,GAAKiV,EAAQ1lB,KAAKkd,KAAKtU,KAAK+U,aAAa9f,OAASohB,GAAWkK,EAAWrK,aAAa,EAAK,M,oCAGpKT,EAASjO,EAAgBuB,GAC/B0M,GACAA,EAAQU,OAAO3O,EAAgBuB,K,6BAIhCvB,EAAgBuB,GAAK,IAAD,OACvB,gEAAavB,EAAgBuB,GAAI,WAC7B,IAAK,IAAIrS,EAAI,EAAGA,EAAI,EAAKqe,aAAa9f,OAAQyB,IAC1C,EAAKumB,cAAc,EAAKlI,aAAare,GAAI8Q,EAAgBuB,GAE7D,GAAI,EAAKmS,UACL,IAAK,IAAIxkB,EAAI,EAAGA,EAAI,EAAKwkB,UAAUjmB,OAAQyB,IACvC,EAAKumB,cAAc,EAAK/B,UAAUxkB,GAAI8Q,EAAgBuB,GAG1D,EAAKoS,aACL,EAAK8B,cAAc,EAAK9B,YAAa3T,EAAgBuB,GAEzD,EAAK0X,wBAAwBtK,OAAO3O,EAAgBuB,GACpD,EAAK6X,uBAAuBzK,OAAO3O,EAAgBuB,Q,2BAItDA,GACD,8DAAWA,GACXA,EAAGlU,OAEHkU,EAAGuC,UAAUvC,EAAGwC,OAAOxC,EAAGwC,QAC1BxC,EAAGgL,SAAS/T,KAAKkW,aAAa,EAAI,GAElCnN,EAAGyC,KAAK,GACRzC,EAAGtP,KAAK,UAAW8mB,EAAWG,iBAAmB,GAAIH,EAAWI,iBAAkBJ,EAAWrK,cAC7FnN,EAAGtP,KAAKuG,KAAKwgB,kBAAkB9U,WAAY6U,EAAWG,iBAAiB,GAAIH,EAAWI,iBAAkBJ,EAAWrK,cACnHnN,EAAGtP,KAAK,SAAU8mB,EAAWM,gBAAkB,GAAIN,EAAWO,gBAAiBP,EAAWrK,cAC1FnN,EAAGtP,KAAKuG,KAAKzG,KAAKmS,WAAY6U,EAAWM,gBAAgB,GAAIN,EAAWO,gBAAiBP,EAAWrK,cAEpG,IAAK,IAAIxf,EAAI,EAAGA,EAAIsJ,KAAK+U,aAAa9f,OAAQyB,IAAK,CAC3CsJ,KAAK+U,aAAare,IAClBsJ,KAAK+U,aAAare,GAAGkgB,KAAK7N,GAE9B,IAAIqT,EAAMpc,KAAKqc,mBAAmB3lB,GAClCqS,EAAG6B,SACH7B,EAAG4B,OAAO,GACV5B,EAAGqC,OAAOgR,EAAI,GAAKmE,EAAWrK,aAAa,EAAEkG,EAAI,GAAKmE,EAAWrK,aAAa,EAAGqK,EAAWrK,cAC5FnN,EAAGyC,KAAH,MAAAzC,EAAE,YAASkB,EAAOxN,OAClBsM,EAAG4B,OAAH,MAAA5B,EAAE,YAAWkB,EAAOxN,OACpBsM,EAAGtP,KAAK/C,EAAEgV,WAAY0Q,EAAI,GAAKmE,EAAWrK,aAAa,EAAEkG,EAAI,GAAKmE,EAAWrK,aAAa,EAAGqK,EAAWrK,aAAcqK,EAAWrK,cAGrI,GAAIlW,KAAKkb,UACL,IAAK,IAAIxkB,EAAI,EAAGA,EAAIsJ,KAAKkb,UAAUjmB,OAAQyB,IAAK,CACxCsJ,KAAKkb,UAAUxkB,IACfsJ,KAAKkb,UAAUxkB,GAAGkgB,KAAK7N,GAE3B,IAAIqT,EAAMpc,KAAKqc,mBAAmB3lB,GAAG,GACrCqS,EAAG6B,SACH7B,EAAG4B,OAAO,GACV5B,EAAGqC,OAAOgR,EAAI,GAAKmE,EAAWrK,aAAa,EAAEkG,EAAI,GAAKmE,EAAWrK,aAAa,EAAGqK,EAAWrK,cAC5FnN,EAAGyC,KAAH,MAAAzC,EAAE,YAASkB,EAAOxN,OAClBsM,EAAG4B,OAAH,MAAA5B,EAAE,YAAWkB,EAAOxN,OACpBsM,EAAGtP,KAAK/C,EAAEgV,WAAY0Q,EAAI,GAAKmE,EAAWrK,aAAa,EAAEkG,EAAI,GAAKmE,EAAWrK,aAAa,EAAGqK,EAAWrK,aAAcqK,EAAWrK,cAGrIlW,KAAKmb,aACLnb,KAAKmb,YAAYvE,KAAK7N,GAE1B/I,KAAKygB,wBAAwB7J,KAAK7N,GAClC/I,KAAK4gB,uBAAuBhK,KAAK7N,GAEjCA,EAAGsC,Q,oCAGOtC,EAAI5D,EAAQoP,GAAgB,IAAD,OACrC,uEAAoBxL,EAAI5D,EAAQoP,GAAgBvU,KAAKkb,UAAYlb,KAAKqc,mBAAmBrc,KAAKkb,UAAUjmB,OAAO,GAAG,GAAM,GAAK+K,KAAKqc,mBAAmBrc,KAAK+U,aAAa9f,OAAO,GAAG,IAAMsrB,EAAWrK,cAAc,WAC5M,IAAK,IAAIxf,EAAI,EAAGA,EAAI,EAAKqe,aAAa9f,OAAQyB,IAAK,CACpB,IAAD,EAA1B,GAAI,EAAKqe,aAAare,IAClB,IAAKqe,aAAare,IAAGiS,MAArB,oBAA8B,EAAK0T,mBAAmB3lB,KAG9D,GAAI,EAAKwkB,UACL,IAAK,IAAIxkB,EAAI,EAAGA,EAAI,EAAKwkB,UAAUjmB,OAAQyB,IAAK,CACpB,IAAD,EAAvB,GAAI,EAAKwkB,UAAUxkB,IACf,IAAKwkB,UAAUxkB,IAAGiS,MAAlB,oBAA2B,EAAK0T,mBAAmB3lB,GAAE,a,GA9mBrCmW,IAAnB0T,GACV1J,YAAa,EADH0J,GAEVzT,YAAa,EAFHyT,GAGVrT,kBAAmB,EAHTqT,GAIVjN,qBAAsB,EAJZiN,GAKV7M,cAAgB,IALN6M,GAMVxT,eAAgB,EANNwT,GAOVjT,4BAA6B,EAPnBiT,GAQVnS,kBAAmB,EARTmS,GAUVvL,iBAAmB,EAVTuL,GAYVrK,aAAe,GAZLqK,GAaVG,iBAAmB,IAbTH,GAcVI,iBAAmB,GAdTJ,GAeVM,gBAAkB,IAfRN,GAgBVO,gBAAkB,G,IAumBvBQ,G,kDAEF,aAAsC,IAAD,2DAAJ,GAApBtf,EAAwB,EAAxBA,KAAMkT,EAAkB,EAAlBA,MAAOtN,EAAW,EAAXA,EAAEC,EAAS,EAATA,EAAS,4BACjC,cAAMD,EAAEC,IAGHoD,qBAAuBsV,GAAWrK,aAAa,EAEpD,EAAK5iB,MAAQ0O,EACb,EAAKkT,MAAQA,EAEb,EAAK8C,UAAW,EAChB,EAAKzN,MAAQ,CAAC,EAAE,EAAE,GAVe,E,kDAa/B3C,EAAEC,GAAkB,IAAhBN,EAAe,uDAAH,EAClB,+DAAYK,EAAEC,GACd7H,KAAKkV,OAAS9d,KAAKsQ,KAAKH,K,6CAIxB,mEAAgB0C,EAAOxN,Q,6CAIvB,mEAAgBwN,EAAO1N,O,wCAIvByD,KAAKgY,UAAW,EAChBhY,KAAKmZ,yB,6BAGF3R,EAAgBuB,GACnB,gEAAavB,EAAgBuB,K,gCAGvBA,GACNA,EAAGlU,OACHkU,EAAGuC,UAAUvC,EAAGwC,OAAQxC,EAAGwC,QAC3BxC,EAAGyC,KAAH,MAAAzC,EAAE,YAAS/I,KAAKuK,QAChBxB,EAAG4B,OAAH,MAAA5B,EAAE,YAAW/I,KAAKuK,QAClBxB,EAAGtP,KAAKuG,KAAK1M,MAAMoY,WAAY1L,KAAK8H,SAAWyY,GAAWrK,aAAa,EAAElW,KAAK+H,SAAWwY,GAAWrK,aAAa,EAAGqK,GAAWrK,aAAcqK,GAAWrK,cACxJnN,EAAGsC,U,GA3CqBvB,ICvnBXgY,G,sKAsBR,IAAD,OACJ,gEAAY,WACR,EAAK3K,KAAO,KACZ,EAAK6C,KAAO,KACZ,EAAKzgB,KAAO,EACZ,EAAK6d,MAAQ,GACb,EAAKC,SAAW,KAChB,EAAKC,WAAa,KAElB,EAAKkE,UAAW,O,oCAIO,IAAD,OAAlB4B,EAAkB,wDAC1Bpd,KAAKoN,gBAGL,IAFA,IAAIiQ,EAAUrd,KAAKqX,UAAYrX,KAAKmX,KAChCmG,EAAOtd,KAAKmX,KACTmG,GACCA,EAAKzD,eAAiBwD,EAAQxD,iBAC9BwD,EAAUC,GAEdA,EAAOA,EAAK7F,KAEhB,GAAI4F,GAAWA,EAAQxD,eAAiB,EAAG,CACvC,IAAIxL,IAAWrO,KAAKqO,OAIpB,GAHAgP,EAAQzE,WAAU,WACd,EAAKnJ,YAAYpB,MAEjB+O,EAAU,CAEV,IADA,IAAIE,EAAOtd,KAAKmX,KACTmG,GACHA,EAAK7U,OACL6U,EAAOA,EAAK7F,KAEZzX,KAAKqX,UACLrX,KAAKqX,SAAS5O,YAGnB,CACH,IAAI4F,IAAWrO,KAAKqO,OACpBrO,KAAKyP,YAAYpB,M,0BAKrBrM,EAAK+e,GACL,GAAmC,IAA/B/gB,KAAKuP,eAAeta,OACpB,OAAO,EAGX,GADA+K,KAAKoN,gBACQ,OAATpL,EAEA,OADAhC,KAAKiN,WAAW,4BAA6BhD,EAAO1N,MAC7C,EAEX,IAAIsS,EAAY,GAuBhB,OAtBAA,EAAUha,KAAK,CAACia,OAAO9O,KAAK0X,SAASpR,OAAO,CAACtE,EAAK+e,GAAO/d,YAAY,iBAAD,OAAkBhB,GAAOgN,iBAAgB,EAAK6C,iBAAgB,IAC9H7R,KAAKzG,KAAO,IACRwnB,GACAlS,EAAUha,KAAK,CAACia,OAAO9O,KAAKud,sBAAsBva,YAAY,sBAAsBgM,iBAAgB,IACpGH,EAAUha,KAAK,CAACia,OAAO9O,KAAK+hB,qBAAqB/e,YAAY,sBAAsBgM,iBAAgB,IACnGH,EAAUha,KAAK,CAACia,OAAO9O,KAAKwd,iBAAiBhK,WAAU,EAAKxE,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,MAElH9C,EAAUha,KAAK,CAACia,OAAO9O,KAAK4f,qBAAqB5c,YAAY,sBAAsBgM,iBAAgB,IACnGH,EAAUha,KAAK,CAACia,OAAO9O,KAAKgiB,sBAAsBhf,YAAY,sBAAsBgM,iBAAgB,MAG5GH,EAAUha,KAAK,CAACia,OAAO9O,KAAK8X,eAAexR,OAAO,CAACya,GAAO/d,YAAY,SAAD,OAAU+d,EAAQ,OAAS,OAA3B,YAA4CpN,OAAM,EAAK3E,iBAAgB,EAAK4C,iBAAgB,IAC7JmP,EACAlS,EAAUha,KAAK,CAACia,OAAO9O,KAAKiiB,aAAajT,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,IAE/F9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKkiB,aAAa1O,WAAU,EAAKzE,YAAW,EAAKgC,eAAc,EAAKY,eAAc,IAE7G9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKsV,SAASrF,QAAO,IAC5CpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,sBAAD,OAAuBtE,EAAvB,eAAkC+e,EAAQ,QAAU,OAApD,cAAwE9W,EAAOzN,OAAOyT,QAAO,IACzIjQ,KAAKuV,aAAa1G,GAClB7O,KAAKqN,cACLrN,KAAKgO,eACE,I,+BAGFhM,GACL,OAAOhC,KAAKvM,IAAIuO,GAAK,K,8BAGjBA,GACJ,OAAOhC,KAAKvM,IAAIuO,GAAK,K,6BAGlB+e,GACH,GAAmC,IAA/B/gB,KAAKuP,eAAeta,OACpB,OAAO,EAGX,GADA+K,KAAKoN,gBACa,IAAdpN,KAAKzG,KAEL,OADAyG,KAAKiN,WAAW,6BAA8BhD,EAAO1N,MAC9C,EAEX,IAAIsS,EAAY,GACZ7M,GAAQ+e,EAAQ/gB,KAAKmX,KAAOnX,KAAKga,MAAMhY,KAY3C,OAXA6M,EAAUha,KAAK,CAACia,OAAO9O,KAAKiY,oBAAoB3R,OAAO,CAACya,GAAOpN,OAAM,IACrE9E,EAAUha,KAAK,CAACia,OAAO9O,KAAKkY,WAAW5R,OAAO,CAACya,GAAO/d,YAAY,eAAewQ,WAAU,EAAKvE,eAAc,EAAK8B,eAAc,EAAKY,eAAc,IAChJoP,GAAS/gB,KAAKzG,KAAO,GACrBsV,EAAUha,KAAK,CAACia,OAAO9O,KAAKmY,cAAc3E,WAAU,EAAKxE,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,IAEnH9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKoY,aAAa9R,OAAO,CAACya,GAAO/d,YAAY,SAAD,OAAU+d,EAAQ,OAAS,OAA3B,YAA4CpN,OAAM,EAAK5E,YAAW,EAAK6C,iBAAgB,IAC1J/C,EAAUha,KAAK,CAACia,OAAO9O,KAAK2V,SAAS1F,QAAO,IAC5CpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,wBAAD,OAAyBtE,EAAzB,iBAAsC+e,EAAQ,YAAc,UAA5D,WAAgF9W,EAAOzN,OAAOyT,QAAO,IACjJjQ,KAAKuV,aAAa1G,GAClB7O,KAAKqN,cACLrN,KAAKgO,cACEhM,I,oCAIP,OAAOhC,KAAKa,QAAO,K,mCAInB,OAAOb,KAAKa,QAAO,K,+BAGdmB,EAAK+e,GAEV,OADA/gB,KAAKqX,SAAW,IAAI8K,GAAoB,CAACngB,KAAMA,EAAMkT,MAAO6L,EAAQ,EAAI/gB,KAAKzG,KAAMqO,EAAE,GAAGC,EAAE,KACnF,CAAC7H,KAAKqX,Y,oCAEHrV,GACVhC,KAAKqX,SAAW,O,oCAEN0I,GACV,GAAuB,kBAAZA,EACP,OAAO/f,KAAK0X,SAAL,MAAA1X,KAAiBggB,WAE5BhgB,KAAKqX,SAAW0I,I,8CAIhB/f,KAAKqX,SAASI,KAAOzX,KAAKmX,O,mDAG1BnX,KAAKqX,SAASI,KAAO,O,6CAIrBzX,KAAKmX,KAAKY,KAAO/X,KAAKqX,W,kDAGtBrX,KAAKmX,KAAKY,KAAO,O,6CAIjB/X,KAAKga,KAAKvC,KAAOzX,KAAKqX,W,kDAGtBrX,KAAKga,KAAKvC,KAAO,O,8CAIjBzX,KAAKqX,SAASU,KAAO/X,KAAKga,O,mDAG1Bha,KAAKqX,SAASU,KAAO,O,qCAGVqK,GACX,IAAI1C,EAAU1f,KAAKga,KAcnB,OAbIoI,GACApiB,KAAKoX,MAAM9E,OAAO,EAAG,EAAGtS,KAAKqX,UACxBqI,IACD1f,KAAKga,KAAOha,KAAKqX,UAErBrX,KAAKmX,KAAOnX,KAAKqX,WAEjBrX,KAAKoX,MAAM9E,OAAOtS,KAAKzG,KAAM,EAAGyG,KAAKqX,UACrCrX,KAAKga,KAAOha,KAAKqX,SACZqI,IACD1f,KAAKmX,KAAOnX,KAAKqX,WAGlB,CAAC+K,EAAQ1C,K,0CAEA0C,EAAQ1C,GACpB0C,GACApiB,KAAKmX,KAAOnX,KAAKqX,SAASI,KAC1BzX,KAAKoX,MAAM9E,OAAO,EAAG,KAErBtS,KAAKga,KAAO0F,EACPA,IACD1f,KAAKmX,KAAO,MAEhBnX,KAAKoX,MAAM9E,OAAOtS,KAAKzG,KAAM,M,qCAIrB,IAAD,GACX,EAAAyG,KAAKqX,UAAS1O,MAAd,oBAAuB3I,KAAKsY,gBAAgB,KAC5CtY,KAAKqX,SAAW,O,0CAEC,IAAD,OAChBrX,KAAKqX,SAAWrX,KAAKoX,MAAM,GAC3BpX,KAAKqX,SAAS1O,MAAM,GAAG,IACvB,IAAI0F,IAAWrO,KAAKqO,OACpBrO,KAAKqX,SAASuB,WAAU,WACpB,EAAKnJ,YAAYpB,Q,0CAGJ,IAAD,UAChB,EAAArO,KAAKqX,UAAS1O,MAAd,oBAAuB3I,KAAKsY,gBAAgB,KAC5C,IAAI/F,EAAOvS,KAAKqX,SACZhJ,IAAWrO,KAAKqO,OACpBkE,EAAKqG,WAAU,WACX,EAAKnJ,YAAYpB,MAErBrO,KAAKqX,SAAW,O,qCAGJ,IAAD,UACX,EAAArX,KAAKqX,UAAS1O,MAAd,oBAAuB3I,KAAKsY,gBAAgBtY,KAAKzG,QACjDyG,KAAKqX,SAASuB,WAAU,SAACnD,GACrB,EAAKhC,cAAc,MAEvBzT,KAAKqX,SAAW,O,0CAEC,IAAD,OAChBrX,KAAKqX,SAAWrX,KAAKga,KACrBha,KAAKqX,SAAS1O,MAAM,GAAG,IACvB,IAAI0F,IAAWrO,KAAKqO,OACpBrO,KAAKqX,SAASuB,WAAU,WACpB,EAAKnJ,YAAYpB,Q,0CAGJ,IAAD,UAChB,EAAArO,KAAKqX,UAAS1O,MAAd,oBAAuB3I,KAAKsY,gBAAgBtY,KAAKzG,QACjD,IAAI8U,IAAWrO,KAAKqO,OACpBrO,KAAKqX,SAASuB,WAAU,WACpB,EAAKnJ,YAAYpB,MAErBrO,KAAKqX,SAAW,O,0CAGA0J,IACfA,EAAQ/gB,KAAKmX,KAAOnX,KAAKga,MAAMrB,oB,+CAEXoI,IACpBA,EAAQ/gB,KAAKmX,KAAOnX,KAAKga,MAAMvP,gB,iCAGzBsW,GAAQ,IAAD,OACd/gB,KAAKqX,SAAWrX,KAAKoX,MAAM9E,OAAOyO,EAAQ,EAAK/gB,KAAKzG,KAAO,EAAI,GAAG,GAClEyG,KAAKqX,SAAS1O,MAAM,GAAG,IACvB3I,KAAKqX,SAASuB,WAAU,WACpB,EAAKnF,cAAc,Q,sCAGXsN,GAAQ,IAAD,UACnB,EAAA/gB,KAAKqX,UAAS1O,MAAd,oBAAuB3I,KAAKsY,gBAAgByI,EAAQ,EAAK/gB,KAAKzG,KAAO,KACrEyG,KAAKoX,MAAM9E,OAAOyO,EAAQ,EAAK/gB,KAAKzG,KAAO,EAAI,EAAGyG,KAAKqX,UACvD,IAAIhJ,IAAWrO,KAAKqO,OACpBrO,KAAKqX,SAASuB,WAAU,WACpB,EAAKnJ,YAAYpB,MAErBrO,KAAKqX,SAAW,O,sCAEJ0J,GAAQ,IAAD,OACnB/gB,KAAKqX,SAAWrX,KAAKoX,MAAM9E,OAAOyO,EAAQ,EAAK/gB,KAAKzG,KAAO,EAAI,GAAG,GAClEyG,KAAKqX,SAAS1O,MAAM,GAAG,IACvB,IAAI0F,IAAWrO,KAAKqO,OACpBrO,KAAKqX,SAASuB,WAAU,WACpB,EAAKnJ,YAAYpB,Q,mCAIZ0S,GACT,IAAI3B,EAAUpf,KAAKqX,SAgBnB,OAfI0J,GACA/gB,KAAKmX,KAAOnX,KAAKmX,KAAKM,KAClBzX,KAAKmX,OACLnX,KAAKmX,KAAKY,KAAO,QAGrB/X,KAAKga,KAAOha,KAAKga,KAAKjC,KAClB/X,KAAKga,OACLha,KAAKga,KAAKvC,KAAO,OAGpBzX,KAAKmX,MAASnX,KAAKga,OACpBha,KAAKmX,KAAOnX,KAAKga,KAAO,MAE5Bha,KAAKqX,SAAW,KACT,CAAC0J,EAAM3B,EAAuB,OAAdpf,KAAKmX,MAA+B,OAAdnX,KAAKga,Q,wCAEpC+G,EAAM3B,EAASiD,GAC7BriB,KAAKqX,SAAW+H,EACZ2B,GACA/gB,KAAKqX,SAASI,KAAOzX,KAAKmX,KACtBnX,KAAKmX,OACLnX,KAAKmX,KAAKY,KAAO/X,KAAKqX,UAE1BrX,KAAKmX,KAAOnX,KAAKqX,WAEjBrX,KAAKqX,SAASU,KAAO/X,KAAKga,KACtBha,KAAKga,OACLha,KAAKga,KAAKvC,KAAOzX,KAAKqX,UAE1BrX,KAAKga,KAAOha,KAAKqX,UAEjBgL,IACAriB,KAAKmX,KAAOnX,KAAKga,KAAOha,KAAKqX,UAEjCrX,KAAKqX,SAASsB,oB,yCAMd,IAHgB,IAAD,OACXpa,EAAOyB,KAAKmX,KACZmL,EAAW/jB,EACRA,GACHyB,KAAK6Y,UAAUta,EAAM,GACjBA,EAAKsb,eAAiByI,EAASzI,iBAC/ByI,EAAW/jB,GAEfA,EAAOA,EAAKkZ,KAEZ6K,GACAA,EAAS1J,WAAU,WACf,EAAKnF,cAAc,Q,8CAO3B,IAHqB,IAAD,OAChBlV,EAAOyB,KAAKmX,KACZmL,EAAW/jB,EACRA,GACHyB,KAAK6Y,UAAUta,GAAO,GAClBA,EAAKsb,eAAiByI,EAASzI,iBAC/ByI,EAAW/jB,GAEfA,EAAOA,EAAKkZ,KAEhB,GAAI6K,EAAU,CACV,IAAIjU,IAAWrO,KAAKqO,OACpBiU,EAAS1J,WAAU,WACf,EAAKnJ,YAAYpB,S,8CAOzB,IAHqB,IAAD,OAChB9P,EAAOyB,KAAKmX,KACZmL,EAAW/jB,EACRA,GACHyB,KAAK6Y,UAAUta,EAAM,GACjBA,EAAKsb,eAAiByI,EAASzI,iBAC/ByI,EAAW/jB,GAEfA,EAAOA,EAAKkZ,KAEhB,GAAI6K,EAAU,CACV,IAAIjU,IAAWrO,KAAKqO,OACpBiU,EAAS1J,WAAU,WACf,EAAKnJ,YAAYpB,S,sCAQzB,IAHa,IAAD,OACR9P,EAAOyB,KAAKmX,KAAKM,KACjB6K,EAAW/jB,EACRA,GACHyB,KAAK6Y,UAAUta,GAAO,GAClBA,EAAKsb,eAAiByI,EAASzI,iBAC/ByI,EAAW/jB,GAEfA,EAAOA,EAAKkZ,KAEZ6K,GACAA,EAAS1J,WAAU,SAACnD,GAChB,EAAKhC,cAAc,Q,2CAO3B,IAHkB,IAAD,OACblV,EAAOyB,KAAKmX,KAAKM,KACjB6K,EAAW/jB,EACRA,GACHyB,KAAK6Y,UAAUta,EAAM,GACjBA,EAAKsb,eAAiByI,EAASzI,iBAC/ByI,EAAW/jB,GAEfA,EAAOA,EAAKkZ,KAEhB,GAAI6K,EAAU,CACV,IAAIjU,IAAWrO,KAAKqO,OACpBiU,EAAS1J,WAAU,WACf,EAAKnJ,YAAYpB,S,2CAOzB,IAHkB,IAAD,OACb9P,EAAOyB,KAAKmX,KAAKM,KACjB6K,EAAW/jB,EACRA,GACHyB,KAAK6Y,UAAUta,GAAO,GAClBA,EAAKsb,eAAiByI,EAASzI,iBAC/ByI,EAAW/jB,GAEfA,EAAOA,EAAKkZ,KAEhB,GAAI6K,EAAU,CACV,IAAIjU,IAAWrO,KAAKqO,OACpBiU,EAAS1J,WAAU,WACf,EAAKnJ,YAAYpB,S,gCAKnB9P,EAAMgJ,GACZhJ,EAAKoK,MAAL,MAAApK,EAAI,YAAUyB,KAAKsY,gBAAgB/Z,EAAK2W,MAAQ3N,IAA5C,QAAwDA,O,qCAEjDhJ,EAAMgJ,GAEjBvH,KAAK6Y,UAAUta,GAAOgJ,K,iCAItBvH,KAAKzG,S,sCAGLyG,KAAKzG,S,iCAILyG,KAAKzG,S,sCAGLyG,KAAKzG,S,sCAGO2b,GACZ,IAAImB,EAAYjf,KAAK2C,IAAI,EAAG3C,KAAK8R,MAAMlJ,KAAKS,MAAQqhB,EAAgB5L,eAEhErO,GADIia,EAAgB5L,aAChB,GAAqC,EAAhC9e,KAAK8R,MAAMgM,EAAQmB,GAAiByL,EAAgBhJ,gBAEjE,MAAO,CADF5D,EAAQmB,EAAayL,EAAgB5L,aAC9BlW,KAAK4H,EAAEC,EAAI7H,KAAK6H,K,mCAGnBD,EAAEC,GAEX,IADA,IAAItJ,EAAOyB,KAAKmX,KACT5Y,GAAM,CACT,GAAIA,EAAKwa,YAAYnR,EAAEC,GACnB,OAAOtJ,EAEXA,EAAOA,EAAKkZ,KAEhB,OAAIzX,KAAKqX,UAAYrX,KAAKqX,SAAS0B,YAAYnR,EAAEC,GACtC7H,KAAKqX,SAET,O,iCAIP,OAAOrX,KAAKsY,gBAAgBtY,KAAKzG,MAAM,GAAKuoB,EAAgBhJ,eAAiBgJ,EAAgB5B,iB,0BAG7F3hB,EAAMqJ,EAAEC,GACR7H,KAAKsX,WAAa/Y,EAClBA,EAAKya,IAAIpR,EAAEC,K,8BAIX7H,KAAKsX,WAAW2B,QAChBjZ,KAAKsX,WAAa,O,iCAGX/Y,EAAMiJ,EAAgBuB,GAC7BxK,EAAK4X,OAAO3O,EAAgBuB,K,6BAGzBvB,EAAgBuB,GAAK,IAAD,OACvB,gEAAavB,EAAgBuB,GAAI,WAE7B,IADA,IAAIxK,EAAO,EAAK4Y,KACT5Y,GACH,EAAK6a,WAAW7a,EAAMiJ,EAAgBuB,GACtCxK,EAAOA,EAAKkZ,KAEZ,EAAKJ,UACL,EAAK+B,WAAW,EAAK/B,SAAU7P,EAAgBuB,Q,2BAKtDA,GAED,8DAAWA,GACXA,EAAGlU,OAEHkU,EAAGuC,UAAUvC,EAAGwC,OAAOxC,EAAGwC,QAC1BxC,EAAGgL,SAAS/T,KAAKqZ,cAAc,EAAI,GAEnCtQ,EAAG6B,SACH7B,EAAG4B,OAAO,GACV5B,EAAGuC,UAAUvC,EAAGwC,OAAQxC,EAAGwC,QAE3BxC,EAAGtP,KAAK,QAAQ,GADJ,GACeqoB,EAAgB5B,eAAiB,GAAG4B,EAAgB5B,gBAC/EnX,EAAGqC,OAAO0W,EAAgB3B,YAFd,GAEgC2B,EAAgB5B,gBACxDlgB,KAAKmX,MACLpO,EAAG4B,OAAOV,EAAOxN,MACjBsM,EAAGyC,KAAKvB,EAAOxN,MACfsM,EAAGmC,OAAO4W,EAAgB3B,YAAc2B,EAAgB5B,eAAiB,EANjE,GAM4E4B,EAAgB5B,eAAiB,EAAG,GACxHnX,EAAGrD,KAAKoc,EAAgB3B,YAAc2B,EAAgB5B,eAAiB,EAP/D,GAO0E4B,EAAgB5B,eAAiB,EAAGlgB,KAAKmX,KAAKrP,SAAWga,EAAgBrI,WAAa,EAAGzZ,KAAKmX,KAAKpP,UACrLgB,EAAGyN,KAAKxW,KAAKmX,KAAKrP,SAAWga,EAAgBrI,WAAa,EAAI,EAAGzZ,KAAKmX,KAAKpP,SAAW,EAAG,EAAE,IAE3FgB,EAAGrD,KAAKoc,EAAgB3B,YAVhB,GAUkC2B,EAAgB3B,YAAc2B,EAAgB5B,eAVhF,GAUuG4B,EAAgB5B,gBAEnInX,EAAG6B,SACH7B,EAAG4B,OAAO,GACV,IAAIyV,EAAQpgB,KAAKqgB,WACjBtX,EAAGtP,KAAK,QAAQ,GAAG2mB,EAAM0B,EAAgB5B,eAAe4B,EAAgB5B,gBACxEnX,EAAGqC,OAAO0W,EAAgB3B,YAAYC,EAAM0B,EAAgB5B,gBACxDlgB,KAAKga,MACLjR,EAAG4B,OAAOV,EAAOxN,MACjBsM,EAAGyC,KAAKvB,EAAOxN,MACfsM,EAAGmC,OAAO4W,EAAgB3B,YAAc2B,EAAgB5B,eAAiB,EAAGE,EAAQ0B,EAAgB5B,eAAiB,EAAG,GACxHnX,EAAGrD,KAAKoc,EAAgB3B,YAAc2B,EAAgB5B,eAAiB,EAAGE,EAAQ0B,EAAgB5B,eAAiB,EAAGlgB,KAAKga,KAAKlS,SAAWga,EAAgBrI,WAAa,EAAGzZ,KAAKga,KAAKjS,SAAW+Z,EAAgBhJ,gBAChN/P,EAAGyN,KAAKxW,KAAKga,KAAKlS,SAAWga,EAAgBrI,WAAa,EAAI,EAAGzZ,KAAKga,KAAKjS,SAAW+Z,EAAgBhJ,eAAiB,EAAG,EAAE,IAE5H/P,EAAGrD,KAAKoc,EAAgB3B,YAAYC,EAAM0B,EAAgB3B,YAAc2B,EAAgB5B,eAAeE,EAAQ0B,EAAgB5B,gBAInI,IADA,IAAI3hB,EAAOyB,KAAKmX,KACT5Y,GACHA,EAAKqY,KAAK7N,EAAIxK,EAAKkZ,OAASzX,KAAKmX,MACjC5Y,EAAOA,EAAKkZ,KAEZzX,KAAKqX,UACLrX,KAAKqX,SAAST,KAAK7N,GAGvBA,EAAGsC,Q,mCAGMtC,GAET,IAAIuQ,EAActZ,KAAKuZ,aAAaxQ,EAAGH,OAAQG,EAAGF,QAKlD,OAJIyQ,IACAtZ,KAAKvK,SAASme,OACd5T,KAAKgZ,IAAIM,EAAavQ,EAAGH,OAAOG,EAAGF,UAEhC,I,oCAGGE,GAAK,IAAD,OASd,OARI/I,KAAKsX,aACLtX,KAAKsX,WAAWsB,WAAU,WACtB,EAAK5H,iBAEThR,KAAKiZ,UAIF,I,oCAGGlQ,EAAI5D,EAAQoP,GAAgB,IAAD,OACrC,uEAAoBxL,EAAI5D,EAAQoP,EAAevU,KAAKqgB,WAAayB,EAAgB5B,eAAiB,IAAG,WAGjG,IAFA,IAAII,EAAY,EAAKjJ,UAAuC,KAA3B,EAAKA,SAASrP,UAA8C,KAA3B,EAAKqP,SAASpP,SAC5E1J,EAAO,EAAK4Y,KACT5Y,GAAM,CAAC,IAAD,GACT,EAAAA,GAAKoK,MAAL,oBAAc,EAAK2P,gBAAgB/Z,EAAK2W,SACxC3W,EAAOA,EAAKkZ,KAEZ6I,GACA,EAAKjJ,SAAS1O,MAAM,GAAG,W,GA/kBMkE,IAAxBiV,GACVjL,YAAa,EADHiL,GAEVhV,YAAa,EAFHgV,GAGVhZ,UAAW,EAHDgZ,GAIV5U,kBAAmB,EAJT4U,GAKVxO,qBAAsB,EALZwO,GAMVpO,cAAgB,IANNoO,GAOV/U,eAAgB,EAPN+U,GAQVxU,4BAA6B,EARnBwU,GASV1T,kBAAmB,EATT0T,GAWVhJ,eAAiB,GAXPgJ,GAYVzI,cAAgB,GAZNyI,GAaVtI,cAAgB,GAbNsI,GAcVrI,WAAaqI,GAAgBzI,cAAgB,EAAIyI,GAAgBtI,cAdvDsI,GAeVpI,QAAU,GAfAoI,GAgBV5L,aAAe4L,GAAgBrI,WAAaqI,GAAgBpI,QAhBlDoI,GAkBV5B,eAAiB,GAlBP4B,GAmBV3B,YAAc,I,IAmkBnBgC,G,kDAGF,aAAsC,IAAD,2DAAJ,GAApBngB,EAAwB,EAAxBA,KAAMkT,EAAkB,EAAlBA,MAAOtN,EAAW,EAAXA,EAAEC,EAAS,EAATA,EAAS,4BACjC,cAAMD,EAAEC,IAEH7F,KAAOA,EACZ,EAAKkT,MAAQA,EACb,EAAKuC,KAAO,KACZ,EAAKM,KAAO,KAEZ,EAAKC,UAAW,EAChB,EAAK4B,YAAa,EAClB,EAAKxR,QAAS,EACd,EAAKmC,MAAQ,CAAC,EAAE,EAAE,GAXe,E,kDAc/B3C,EAAEC,GAAkB,IAAhBN,EAAe,uDAAH,EAClB,+DAAYK,EAAEC,GACd7H,KAAKkV,OAAS9d,KAAKsQ,KAAKH,K,kCAGhBK,EAAEC,GACV,OAAS7H,KAAK8H,UAAYF,GAAKA,GAAM5H,KAAK8H,SAAWga,GAAgBrI,YAAiBzZ,KAAK+H,UAAYF,GAAKA,GAAM7H,KAAK+H,SAAW+Z,GAAgBhJ,iB,kCAIlJ9Y,KAAKuK,MAAQ,CAAC,IAAI,IAAI,K,oCAItBvK,KAAKuK,MAAQ,CAAC,EAAE,EAAE,K,6CAIlBvK,KAAKuK,MAAM,GAAK,M,wCAIhBvK,KAAKgY,UAAW,EAChBhY,KAAKmZ,yB,2BAGJpQ,GACDA,EAAGlU,OACHkU,EAAGyC,KAAK,KACRzC,EAAG4B,OAAH,MAAA5B,EAAE,YAAW/I,KAAKuK,QAClBxB,EAAGyN,KAAKxW,KAAK8H,SAAU9H,KAAK+H,SAAU+Z,GAAgBrI,WAAYqI,GAAgBhJ,gBAClF/P,EAAGrD,KAAK1F,KAAK8H,SAAWga,GAAgBtI,cAAexZ,KAAK+H,SAAU/H,KAAK8H,SAAWga,GAAgBtI,cAAexZ,KAAK+H,SAAW+Z,GAAgBhJ,gBACrJ/P,EAAGrD,KAAK1F,KAAK8H,SAAWga,GAAgBtI,cAAgBsI,GAAgBzI,cAAerZ,KAAK+H,SAAU/H,KAAK8H,SAAWga,GAAgBtI,cAAgBsI,GAAgBzI,cAAerZ,KAAK+H,SAAW+Z,GAAgBhJ,gBACrN/P,EAAGuC,UAAUvC,EAAGwC,OAAQxC,EAAGwC,QAC3BxC,EAAGyC,KAAH,MAAAzC,EAAE,YAAS/I,KAAKuK,QAChBxB,EAAGtP,KAAKuG,KAAKgC,KAAK0J,WAAY1L,KAAK8H,SAAWga,GAAgBtI,cAAcxZ,KAAK+H,SAAU+Z,GAAgBzI,cAAcyI,GAAgBhJ,gBACrI9Y,KAAK+X,MACLhP,EAAG4B,OAAH,MAAA5B,EAAE,YAAW9D,EAAMrI,SAASoD,KAAKuK,MAAON,EAAOxN,QAC/CsM,EAAGyC,KAAH,MAAAzC,EAAE,YAAS9D,EAAMrI,SAASoD,KAAKuK,MAAON,EAAOxN,QAC7CsM,EAAGmC,OAAOlL,KAAK8H,SAAWga,GAAgBtI,cAAgB,EAAGxZ,KAAK+H,SAA2C,EAAhC+Z,GAAgBhJ,eAAkB,EAAG,GAClH/P,EAAGrD,KAAK1F,KAAK8H,SAAWga,GAAgBtI,cAAgB,EAAGxZ,KAAK+H,SAA2C,EAAhC+Z,GAAgBhJ,eAAkB,EAAG9Y,KAAK+X,KAAKjQ,SAAWga,GAAgBrI,WAAYzZ,KAAK+X,KAAKhQ,SAA2C,EAAhC+Z,GAAgBhJ,eAAkB,GACxN/P,EAAGyN,KAAKxW,KAAK+X,KAAKjQ,SAAWga,GAAgBrI,WAAa,EAAGzZ,KAAK+X,KAAKhQ,SAA2C,EAAhC+Z,GAAgBhJ,eAAkB,EAAI,EAAG,EAAE,IAE7H/P,EAAGrD,KAAK1F,KAAK8H,SAAU9H,KAAK+H,SAAU/H,KAAK8H,SAAWga,GAAgBtI,cAAexZ,KAAK+H,SAAW+Z,GAAgBhJ,gBAErH9Y,KAAKyX,MACL1O,EAAG4B,OAAH,MAAA5B,EAAE,YAAW9D,EAAMrI,SAASoD,KAAKuK,MAAON,EAAOxN,QAC/CsM,EAAGyC,KAAH,MAAAzC,EAAE,YAAS9D,EAAMrI,SAASoD,KAAKuK,MAAON,EAAOxN,QAC7CsM,EAAGmC,OAAOlL,KAAK8H,SAAWga,GAAgBrI,WAAaqI,GAAgBtI,cAAgB,EAAGxZ,KAAK+H,SAAW+Z,GAAgBhJ,eAAiB,EAAG,GAC9I/P,EAAGrD,KAAK1F,KAAK8H,SAAWga,GAAgBrI,WAAaqI,GAAgBtI,cAAgB,EAAGxZ,KAAK+H,SAAW+Z,GAAgBhJ,eAAiB,EAAG9Y,KAAKyX,KAAK3P,SAAU9H,KAAKyX,KAAK1P,SAAW+Z,GAAgBhJ,eAAiB,GACtN/P,EAAGyN,KAAKxW,KAAKyX,KAAK3P,SAAW,EAAG9H,KAAKyX,KAAK1P,SAAW+Z,GAAgBhJ,eAAiB,EAAI,EAAG,EAAE,KAE/F/P,EAAG4B,OAAH,MAAA5B,EAAE,YAAW/I,KAAKuK,QAClBxB,EAAGrD,KAAK1F,KAAK8H,SAAWga,GAAgBtI,cAAgBsI,GAAgBzI,cAAerZ,KAAK+H,SAAU/H,KAAK8H,SAAWga,GAAgBrI,WAAYzZ,KAAK+H,SAAW+Z,GAAgBhJ,iBAEtL/P,EAAGsC,U,GAxEuB1D,IAA5Bwa,GACKrZ,UAAW,E,aCvlBDyZ,G,sKAuBR,IAAD,OACJ,gEAAY,WACR,EAAKC,KAAO,KACZ,EAAKC,QAAU,GACf,EAAKlpB,KAAO,EACZ,EAAKmpB,kBAAqCpuB,IAAtB,EAAKouB,cAA6B,EAAKA,aAC3D,EAAKrL,SAAW,KAChB,EAAKC,WAAa,KAClB,EAAKqL,YAAc,IAAItW,GAAoB,KAAM,EAAKpW,YAAYigB,aAAa,EAAG,CAC9ElL,qBAAsB,EAAK/U,YAAYigB,aAAa,IAExD,EAAK0M,eAAiB,CAAC9a,SAAU,EAAK+a,kBAAoB,EAAK5sB,YAAY6sB,UAAY,EAAI,EAAK7sB,YAAY8sB,wBAA0B,EAAGhb,SAAU,EAAK9R,YAAY+sB,OAAS,EAAK/sB,YAAY6sB,UAAY,EAAI,EAAK7sB,YAAY8sB,wBAA0B,Q,6CAK1OzF,GACnB,OAAIA,EAGO,CAFItd,KAAKijB,uBAAuB3F,EAAK5Y,OAAS4Y,EAEvCA,EADFtd,KAAKijB,uBAAuB3F,EAAKtY,QAAUsY,GAC5B4F,MAAK,SAACC,EAAEC,GAAH,OAASA,EAAEvJ,eAAiBsJ,EAAEtJ,kBAAgB,GAE3E,O,yCAGQyD,GACXA,IACAA,EAAK7U,OACL6U,EAAK5Y,MAAQ4Y,EAAK5Y,KAAK+D,OACvB6U,EAAKtY,OAASsY,EAAKtY,MAAMyD,U,oCAIF,IAAD,OAAlB2U,EAAkB,wDAC1Bpd,KAAKoN,gBACL,IAAIiQ,EAAUrd,KAAK2iB,YACf3iB,KAAKqX,UAAYrX,KAAKqX,SAASwC,eAAiBwD,EAAQxD,iBACxDwD,EAAUrd,KAAKqX,UAEfrX,KAAKqjB,WAAarjB,KAAKqjB,UAAUxJ,eAAiBwD,EAAQxD,iBAC1DwD,EAAUrd,KAAKqjB,WAEnB,IAAIC,EAAmBtjB,KAAKijB,uBAAuBjjB,KAAKwiB,MAIxD,GAHIc,GAAoBA,EAAiBzJ,eAAiBwD,EAAQxD,iBAC9DwD,EAAUiG,GAEVjG,GAAWA,EAAQxD,eAAiB,EAAG,CACvC,IAAIxL,IAAWrO,KAAKqO,OACpBgP,EAAQzE,WAAU,WACd,EAAKnJ,YAAYpB,MAEjB+O,IACApd,KAAKujB,mBAAmBvjB,KAAKwiB,MACzBxiB,KAAKqX,UACLrX,KAAKqX,SAAS5O,OAEdzI,KAAKqjB,WACLrjB,KAAKqjB,UAAU5a,OAEnBzI,KAAK2iB,YAAYla,YAElB,CACH,IAAI4F,IAAWrO,KAAKqO,OACpBrO,KAAKyP,YAAYpB,M,6BAKlBrM,EAAM5N,EAAUovB,GACnB,GAAmC,IAA/BxjB,KAAKuP,eAAeta,OACpB,OAAO,EAGX,GADA+K,KAAKoN,gBACQ,OAATpL,EAEA,OADAhC,KAAKiN,WAAW,0BAA2BhD,EAAO1N,MAC3C,EAEX,IAAIsS,EAAY,GAChBA,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,gBAAD,OAAiBtE,EAAjB,YAAgCiO,QAAO,IACnFpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACtG,KAAK4iB,gBAAgBpP,WAAU,EAAK7B,eAAc,EAAKC,iBAAgB,IAC1H/C,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,6BAAD,OAA8BtE,IAAQ2R,OAAM,EAAK1E,eAAc,EAAK0C,eAAc,IAZvF,MAaoB3R,KAAK0jB,gBAAgB1jB,KAAKwiB,KAAMxgB,GAbpD,oBAajC2hB,EAbiC,KAadC,EAbc,KAaLC,EAbK,KAaUC,EAbV,KAgCvC,OAlBAjV,EAAUha,KAAV,MAAAga,EAAS,YAAS8U,IAClB9U,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACtG,KAAK4iB,gBAAgBpP,WAAU,EAAKzE,YAAW,EAAKgC,eAAc,EAAKY,eAAc,EAAKC,iBAAgB,IAC7J/C,EAAUha,KAAK,CAACia,OAAO9O,KAAK+jB,QAAQzd,OAAO,CAACsd,GAAS5gB,YAAY,GAAD,OAAIhD,KAAKwiB,KAAO,MAAQ,IAAxB,8CAAiEoB,EAAQ5hB,MAAO2R,OAAM,EAAK1E,eAAc,EAAK2C,iBAAgB,EAAKD,eAAc,IAC7MkS,GACAhV,EAAUha,KAAK,CAACia,OAAO9O,KAAKgkB,eAAejR,iBAAgB,EAAK/P,YAAY,YAAD,OAAahB,EAAb,oBAAoCwR,WAAU,EAAKxE,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,EAAKC,iBAAgB,IAE7M/C,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAAC,MAAM2J,QAAO,EAAKlB,YAAW,EAAKgC,eAAc,EAAKa,iBAAgB,IACxH/C,EAAUha,KAAK,CAACia,OAAO9O,KAAKikB,UAAUhU,QAAO,EAAK2B,iBAAgB,IAC9DkS,EACAjV,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,yBAAD,OAA0BtE,EAA1B,cAA4CiI,EAAOzN,OAAOyT,QAAO,IAE7GpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,8BAAD,OAA+BtE,EAA/B,cAAiDiI,EAAO1N,KAAK0T,QAAO,IAEpHjQ,KAAKuV,aAAa1G,GAClB7O,KAAKqN,YAAYjZ,GACZovB,GAAuBxjB,KAAKuN,QAC7BvN,KAAKgO,eAEF,I,6BAGJhM,EAAM5N,EAAUovB,GACnB,GAAmC,IAA/BxjB,KAAKuP,eAAeta,OACpB,OAAO,EAGX,GADA+K,KAAKoN,gBACQ,OAATpL,EAEA,OADAhC,KAAKiN,WAAW,+BAAgChD,EAAO1N,MAChD,EAEX,GAAkB,IAAdyD,KAAKzG,KAEL,OADAyG,KAAKiN,WAAW,+BAAgChD,EAAO1N,MAChD,EAEX,IAAIsS,EAAY,GAChBA,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,mBAAD,OAAoBtE,EAApB,YAAmCiO,QAAO,IACtFpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACtG,KAAK4iB,gBAAgBpP,WAAU,EAAK7B,eAAc,EAAKC,iBAAgB,IAC1H/C,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,6BAAD,OAA8BtE,IAAQ2R,OAAM,EAAK1E,eAAc,EAAK0C,eAAc,IAhBvF,MAiBwB3R,KAAKkkB,gBAAgBlkB,KAAKwiB,KAAMxgB,GAjBxD,oBAiBjC2hB,EAjBiC,KAiBdC,EAjBc,KAiBLO,EAjBK,KAiBYC,EAjBZ,KAoCvC,OAlBAvV,EAAUha,KAAV,MAAAga,EAAS,YAAS8U,IAClB9U,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACtG,KAAK4iB,gBAAgBpP,WAAU,EAAKzE,YAAW,EAAKgC,eAAc,EAAKY,eAAc,EAAKC,iBAAgB,IAC7J/C,EAAUha,KAAK,CAACia,OAAO9O,KAAK+jB,QAAQzd,OAAO,CAACsd,GAAS5gB,YAAY,GAAD,OAAIhD,KAAKwiB,KAAO,MAAQ,IAAxB,8BAAiDoB,EAAO,0BAAsBA,EAAQ5hB,MAAS,QAAS2R,OAAM,EAAK1E,eAAc,EAAK2C,iBAAgB,EAAKD,eAAc,IACrOwS,IACAtV,EAAUha,KAAK,CAACia,OAAO9O,KAAKikB,UAAUhU,QAAO,EAAK2B,iBAAgB,IAClE/C,EAAUha,KAAK,CAACia,OAAO9O,KAAKgkB,eAAejR,iBAAgB,EAAK/P,YAAY,eAAD,OAAgBhB,EAAhB,sBAAyCwR,WAAU,EAAKxE,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,EAAKC,iBAAgB,KAElN/C,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAAC,MAAM2J,QAAO,EAAKlB,YAAW,EAAKgC,eAAc,EAAKa,iBAAgB,IACpHwS,EACAvV,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,wBAAD,OAAyBtE,EAAzB,cAA2CiI,EAAOzN,OAAOyT,QAAO,IAE5GpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,oBAAD,OAAqBtE,EAArB,cAAuCiI,EAAO1N,KAAK0T,QAAO,IAE1GjQ,KAAKuV,aAAa1G,GAClB7O,KAAKqN,YAAYjZ,GACZovB,GAAuBxjB,KAAKuN,QAC7BvN,KAAKgO,eAEF,I,2BAGNhM,EAAM5N,EAAUovB,GACjB,GAAmC,IAA/BxjB,KAAKuP,eAAeta,OACpB,OAAO,EAGX,GADA+K,KAAKoN,gBACQ,OAATpL,EAEA,OADAhC,KAAKiN,WAAW,iCAAkChD,EAAO1N,MAClD,EAEX,IAAIsS,EAAY,GAChBA,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,cAAD,OAAetE,EAAf,YAA8BiO,QAAO,IACjFpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACtG,KAAK4iB,gBAAgBpP,WAAU,EAAK7B,eAAc,EAAKC,iBAAgB,IAC1H/C,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,6BAAD,OAA8BtE,IAAQ2R,OAAM,EAAK1E,eAAc,EAAK0C,eAAc,IAZzF,MAaT3R,KAAKqkB,cAAcrkB,KAAKwiB,KAAMxgB,GAApD2hB,EAb+B,qBAqBrC,OAPA9U,EAAUha,KAAV,MAAAga,EAAS,YAAS8U,IAClB9U,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAAC,MAAM2J,QAAO,EAAKc,eAAc,EAAKa,iBAAgB,IACxG5R,KAAKuV,aAAa1G,GAClB7O,KAAKqN,YAAYjZ,GACZovB,GAAuBxjB,KAAKuN,QAC7BvN,KAAKgO,eAEF,I,4BAGL5Z,EAAUovB,GACZ,GAAmC,IAA/BxjB,KAAKuP,eAAeta,OACpB,OAAO,EAGX,GADA+K,KAAKoN,gBACa,IAAdpN,KAAKzG,KAEL,OADAyG,KAAKiN,WAAW,uCAAwChD,EAAO1N,MACxD,EAEX,IAAIsS,EAAY,GAChBA,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,sBAAsB2J,QAAO,IAC1EpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACtG,KAAK4iB,gBAAgBpP,WAAU,EAAK7B,eAAc,EAAKC,iBAAgB,EAAK3C,eAAc,IAC7I,IAAIwT,EAAU,GAZkB,EAaJziB,KAAKskB,sBAAsBtkB,KAAKwiB,KAAMC,GAA5DkB,EAb0B,qBAsBhC,OARA9U,EAAUha,KAAV,MAAAga,EAAS,YAAS8U,IAClB9U,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAAC,MAAM2J,QAAO,EAAKc,eAAc,EAAKa,iBAAgB,EAAK7C,YAAW,IACxHF,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,IAAD,OAAKmc,EAAQ8B,KAAK,SAAlB,MAA+B5Q,OAAM,IACjF3T,KAAKuV,aAAa1G,GAClB7O,KAAKqN,YAAYjZ,GACZovB,GAAuBxjB,KAAKuN,QAC7BvN,KAAKgO,eAEF,I,iDAGgBwW,EAAOpwB,EAAUovB,GACxC,GAAmC,IAA/BxjB,KAAKuP,eAAeta,OACpB,OAAO,EAEX+K,KAAKoN,gBACL,IAAIyB,EAAY,GAQhB,OAPAA,EAAUha,KAAK,CAACia,OAAO9O,KAAKykB,WAAWne,OAAO,CAACke,GAAOxhB,YAAY,sBAAsB2Q,OAAM,IAC9F9E,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,2BAAD,OAA4Bke,EAA5B,UAA2Cva,EAAOzN,OAAOyT,QAAO,IAC5GjQ,KAAKuV,aAAa1G,GAClB7O,KAAKqN,YAAYjZ,GACZovB,GAAuBxjB,KAAKuN,QAC7BvN,KAAKgO,eAEF,I,8BAIH4V,GACJ,IAAIc,EAAU1kB,KAAKwiB,KAEnB,OADAxiB,KAAKwiB,KAAOoB,EACL,CAACc,K,mCAECA,GACT1kB,KAAKwiB,KAAOkC,I,8BAGRC,EAAQC,GACZ,IAAIC,EAAUF,EAAOjgB,KAErB,OADAigB,EAAOjgB,KAAOkgB,EACP,CAACD,EAAQE,K,mCAEPF,EAAQE,GACjBF,EAAOjgB,KAAOmgB,I,+BAGTF,EAAQG,GACb,IAAIC,EAAWJ,EAAO3f,MAEtB,OADA2f,EAAO3f,MAAQ8f,EACR,CAACH,EAAQI,K,oCAENJ,EAAQI,GAClBJ,EAAO3f,MAAQ+f,I,qCAGJxmB,GAA2B,IAAD,OAArBgM,EAAqB,uDAAbN,EAAOxN,KAC3BuoB,EAAYhlB,KAAK2iB,YAAYvnB,OAC7B6pB,EAAWjlB,KAAK2iB,YAAY3Y,eAQhC,OAPAhK,KAAK2iB,YAAYuC,UAAU3mB,EAAMA,IAASyB,KAAK4iB,eAAiB5iB,KAAK/J,YAAY8sB,wBAAwB,EAAI/iB,KAAK/J,YAAYigB,aAAa,GAC3IlW,KAAK2iB,YAAY3Y,eAAiBO,EAC9BhM,GACAyB,KAAK2iB,YAAY/J,WAAU,SAAC+J,GACxB,EAAKlP,cAAc,EAAG,kBAAkBlV,EAAOA,EAAKyD,KAAO,QAG5D,CAACgjB,EAAWC,K,0CAEHD,EAAWC,GAAW,IAAD,OAGrC,GAFAjlB,KAAK2iB,YAAYuC,UAAUF,EAAWA,IAAchlB,KAAK4iB,eAAiB5iB,KAAK/J,YAAY8sB,wBAAwB,EAAI/iB,KAAK/J,YAAYigB,aAAa,GACrJlW,KAAK2iB,YAAY3Y,eAAiBib,EAC9BD,EAAW,CACX,IAAI3W,IAAWrO,KAAKqO,OACpBrO,KAAK2iB,YAAY/J,WAAU,SAAC+J,GACxB,EAAKlT,YAAYpB,S,0CAIT9P,GAA4B,IAAD,OAArBgM,EAAqB,uDAAbN,EAAOxN,KACjCuoB,EAAYhlB,KAAK2iB,YAAYvnB,OAC7B6pB,EAAWjlB,KAAK2iB,YAAY3Y,eAGhC,GAFAhK,KAAK2iB,YAAYuC,UAAU3mB,EAAMA,IAASyB,KAAK4iB,eAAiB5iB,KAAK/J,YAAY8sB,wBAAwB,EAAI/iB,KAAK/J,YAAYigB,aAAa,GAC3IlW,KAAK2iB,YAAY3Y,eAAiBO,EAC9BhM,EAAM,CACN,IAAI8P,IAAWrO,KAAKqO,OACpBrO,KAAK2iB,YAAY/J,WAAU,SAAC+J,GACxB,EAAKlT,YAAYpB,MAGzB,MAAO,CAAC2W,EAAWC,K,iCAGZE,GACP,OAAOnlB,KAAKyiB,QAAW0C,EAAcnlB,KAAKolB,oBAAoBplB,KAAKwiB,KAAM,EAAG,IAAMxiB,KAAKyiB,U,0CAEvEnF,EAAM+H,EAAOC,GAO7B,OANIhI,IACAtd,KAAKolB,oBAAoB9H,EAAK5Y,KAAM2gB,EAAQ,EAAGC,GAC/ChI,EAAK+H,MAAQA,EACbC,EAAKzwB,KAAKyoB,GACVtd,KAAKolB,oBAAoB9H,EAAKtY,MAAOqgB,EAAQ,EAAGC,IAE7CA,I,uCAGO,IAAD,OACTC,EAAQvlB,KAAKwlB,YAAW,GACxBC,EAAeF,EAAMhvB,KAAI,SAAAgI,GAAI,MAAI,CAACA,EAAKyJ,UAAa,EAAKvH,MAAQ,EAAKxK,YAAYigB,cAAc,EAAG3X,EAAK0J,aACxGyd,EAAcH,EAAMnhB,QAAQpE,KAAKwiB,MACjCmD,EAAY,KAiBhB,OAfAJ,EAAM7wB,SAAQ,SAAC6J,EAAM7H,GAEjB6H,EAAKqnB,QAAS,EAAKnlB,MAAQ,EAAKxK,YAAYigB,cAAc,GAAMxf,EAAIgvB,GAAennB,EAAKtI,YAAY4vB,QACpGtnB,EAAKunB,KAAK,EAAKC,SAASxnB,EAAK8mB,UACvBM,GAAapnB,EAAKsb,gBAAoB8L,GAAapnB,EAAKsb,eAAiB8L,EAAU9L,kBACrF8L,EAAYpnB,MAGfonB,EAGDA,EAAU/M,WAAU,SAACnD,GACjB,EAAKhC,cAAc,EAAG,2BAA2BgC,EAAQzT,SAH7DhC,KAAKyT,cAAc,EAAG,iCAMnB,CAAC8R,EAAOE,K,0CAECF,EAAOE,GAAe,IAAD,OACjCpX,IAAWrO,KAAKqO,OACpB,GAAIkX,EAAO,CAEP,IAAII,EAAY,KAChBJ,EAAM7wB,SAAQ,SAAC6J,EAAM7H,GACjB6H,EAAKoK,OAAQ,EAAKlI,MAAQ,EAAKxK,YAAYigB,cAAc,EAAKuP,EAAa/uB,GAAG,GAAI+uB,EAAa/uB,GAAG,MAC5FivB,GAAapnB,EAAKsb,gBAAoB8L,GAAapnB,EAAKsb,eAAiB8L,EAAU9L,kBACrFtb,EAAKqa,WAAU,SAACnD,GACZ,EAAKhG,YAAYpB,MAErBsX,EAAYpnB,MAGfonB,GACD3lB,KAAKyP,YAAYpB,QAGrBrO,KAAKyP,YAAYpB,K,4CAGF,IAAD,OACdkX,EAAQvlB,KAAKwlB,aACbC,EAAeF,EAAMhvB,KAAI,SAAAgI,GAAI,MAAI,CAACA,EAAKyJ,UAAa,EAAKvH,MAAQ,EAAKxK,YAAYigB,cAAc,EAAG3X,EAAK0J,aACxGyd,EAAcH,EAAMnhB,QAAQpE,KAAKwiB,MACjCmD,EAAY,KAchB,GAZAJ,EAAM7wB,SAAQ,SAAC6J,EAAM7H,GAIjB,GAFA6H,EAAKqnB,QAAS,EAAKnlB,MAAQ,EAAKxK,YAAYigB,cAAc,GAAMxf,EAAIgvB,GAAennB,EAAKtI,YAAY4vB,QACpGtnB,EAAKunB,KAAK,EAAKC,SAASxnB,EAAK8mB,SACvBM,GAAapnB,EAAKsb,gBAAoB8L,GAAapnB,EAAKsb,eAAiB8L,EAAU9L,eAAiB,CACtG,IAAIxL,IAAW,EAAKA,OACpB9P,EAAKqa,WAAU,SAACnD,GACZ,EAAKhG,YAAYpB,MAErBsX,EAAYpnB,OAGfonB,EAAW,CACZ,IAAItX,IAAWrO,KAAKqO,OACpBrO,KAAKyP,YAAYpB,GAErB,MAAO,CAACkX,EAAOE,K,sCAGHnI,EAAMhqB,GAClB,IAAIub,EAAY,GACZmX,GAAY,EACZlC,GAAQ,EAEZ,GADAjV,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACgX,GAAM9J,UAAiB,OAAP8J,EAAYrN,OAAc,OAAPqN,EAAYvO,YAAW,EAAKgC,eAAc,EAAKY,cAAqB,OAAP2L,EAAY1L,iBAAgB,IAC1K0L,GAOE,GAAIhqB,IAAUgqB,EAAKtb,KACtB6M,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,GAAD,OAAIhT,EAAJ,eAAgBgqB,EAAKtb,KAArB,0BAAkD2R,OAAM,EAAK1E,eAAc,EAAK0C,eAAc,IAC1I9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,GAAD,OAAIhT,EAAJ,oCAA4C2c,QAAO,EAAKjB,iBAAgB,SACjH,GAAI1b,EAAQgqB,EAAKtb,KAAM,CAC1B6M,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,GAAD,OAAIhT,EAAJ,cAAegqB,EAAKtb,KAApB,2BAAkD2R,OAAM,EAAK1E,eAAc,EAAK0C,eAAc,IADhH,MAEmC3R,KAAK0jB,gBAAgBpG,EAAK5Y,KAAMpR,GAFnE,oBAErBqwB,EAFqB,KAEFiB,EAFE,KAEOf,EAFP,KAEsBoC,EAFtB,KAG1BpX,EAAUha,KAAV,MAAAga,EAAS,YAAS8U,IAClB9U,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACgX,GAAM9J,WAAU,EAAKzE,YAAW,EAAKgC,eAAc,EAAKY,eAAc,EAAKC,iBAAgB,IAC9I/C,EAAUha,KAAK,CAACia,OAAO9O,KAAKkmB,QAAQ5f,OAAO,CAACgX,EAAMsH,GAAS5hB,YAAY,GAAD,OAAIsa,EAAK5Y,KAAO,MAAQ,IAAxB,8CAAiEkgB,EAAQ5iB,MAAO2R,OAAM,EAAK/B,iBAAgB,EAAK3C,eAAc,EAAK0C,eAAc,IACnNkS,GACAhV,EAAUha,KAAK,CAACia,OAAO9O,KAAKgkB,eAAejR,iBAAgB,EAAK/P,YAAY,YAAD,OAAa1P,EAAb,4BAAsCgqB,EAAKtb,MAAOwR,WAAU,EAAKxE,iBAAgB,EAAK4C,iBAAgB,IAErLkS,EAAQmC,OACL,GAAI3yB,EAAQgqB,EAAKtb,KAAM,CAC1B6M,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,GAAD,OAAIhT,EAAJ,cAAegqB,EAAKtb,KAApB,4BAAmD2R,OAAM,EAAK1E,eAAc,EAAK0C,eAAc,IADjH,MAEoC3R,KAAK0jB,gBAAgBpG,EAAKtY,MAAO1R,GAFrE,oBAErBqwB,EAFqB,KAEFmB,EAFE,KAEQjB,EAFR,KAEuBoC,EAFvB,KAG1BpX,EAAUha,KAAV,MAAAga,EAAS,YAAS8U,IAClB9U,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACgX,GAAM9J,WAAU,EAAKzE,YAAW,EAAKgC,eAAc,EAAKY,eAAc,EAAKC,iBAAgB,IAC9I/C,EAAUha,KAAK,CAACia,OAAO9O,KAAKmmB,SAAS7f,OAAO,CAACgX,EAAMwH,GAAU9hB,YAAY,GAAD,OAAIsa,EAAKtY,MAAQ,MAAQ,IAAzB,+CAAmE8f,EAAS9iB,MAAO2R,OAAM,EAAK/B,iBAAgB,EAAK3C,eAAc,EAAK0C,eAAc,IACxNkS,GACAhV,EAAUha,KAAK,CAACia,OAAO9O,KAAKgkB,eAAejR,iBAAgB,EAAK/P,YAAY,YAAD,OAAa1P,EAAb,6BAAuCgqB,EAAKtb,MAAOwR,WAAU,EAAKxE,iBAAgB,EAAK4C,iBAAgB,IAEtLkS,EAAQmC,QA5BRpX,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,iBAAD,OAAkBhT,EAAlB,uBAA6C2b,eAAc,IACvGqO,EAAO,IAAI8I,GAAQ,CAACpkB,KAAM1O,IAC1Bub,EAAUha,KAAK,CAACia,OAAO9O,KAAK0X,SAASpR,OAAO,CAACgX,GAAMta,YAAY,iBAAD,OAAkB1P,GAAQ0b,iBAAgB,IACxGH,EAAUha,KAAK,CAACia,OAAO9O,KAAKsV,SAASrF,QAAO,IAC5C+V,GAAY,EACZlC,GAAQ,EAyBZ,MAAO,CAACjV,EAAWyO,EAAM0I,EAAWlC,K,+BAG/B/D,GACL/f,KAAKqX,SAAW0I,EAChB/f,KAAKqX,SAASwF,KAAK,GAAG,M,oCAEZ7a,EAAM2iB,GAChB3kB,KAAKqX,SAAW,O,sCAGJiG,EAAMhqB,GAClB,IAAIub,EAAY,GACZwX,GAAc,EACdjC,GAAU,EAEd,GADAvV,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACgX,GAAM9J,UAAiB,OAAP8J,EAAYrN,OAAc,OAAPqN,EAAYvO,YAAW,EAAKgC,eAAc,EAAKY,cAAqB,OAAP2L,EAAY1L,iBAAgB,IAC1K0L,GAEE,GAAIhqB,IAAUgqB,EAAKtb,KAAM,CAG5B,GAFA6M,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,GAAD,OAAIhT,EAAJ,eAAgBgqB,EAAKtb,KAArB,0BAAkDiN,eAAc,EAAK0C,eAAc,IAE1H2L,EAAK5Y,MAAS4Y,EAAKtY,MAUjB,CACH6J,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,uBAAD,OAAwBtG,KAAK0iB,aAAe,cAAgB,cAAe/O,OAAM,EAAKhC,eAAc,IAD7I,MAGmE3R,KAAK,OAAL,OAAYA,KAAK0iB,aAAe,cAAgB,YAAhD,cAAwEpF,EAAK,GAAD,OAAItd,KAAK0iB,aAAe,OAAS,WAHhL,oBAGEiB,EAHF,KAGqB2C,EAHrB,KAG+BC,EAH/B,KAGkDC,EAHlD,KAIH3X,EAAUha,KAAV,MAAAga,EAAS,YAAS8U,IAClB9U,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACgX,GAAM9J,WAAU,EAAKzE,YAAW,EAAKgC,eAAc,EAAKY,eAAc,EAAKC,iBAAgB,IAC9I/C,EAAUha,KAAK,CAACia,OAAO9O,KAAK,MAAL,OAAWA,KAAK0iB,aAAe,OAAS,UAAWpc,OAAO,CAACgX,EAAKgJ,GAC/EtjB,YAAY,GAAD,OAAIsa,EAAK,GAAD,OAAItd,KAAK0iB,aAAe,OAAS,UAAa,MAAQ,IAA9D,cAAuE1iB,KAAK0iB,aAAe,OAAS,QAApG,uBAA0H4D,EAAQ,0BAAsBA,EAAStkB,MAAS,QACrLwR,WAAU,EAAMG,OAAM,EAAK/B,iBAAgB,EAAK3C,eAAc,EAAK0C,eAAc,IACzF9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKymB,mBAAmBngB,OAAO,CAACgX,GAAMta,YAAY,oCAAD,OAAqChD,KAAK0iB,aAAe,cAAgB,aAAclP,WAAU,EAAKxE,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,EAAKC,iBAAgB,IACzP/C,EAAUha,KAAK,CAACia,OAAO9O,KAAKikB,UAAUhU,QAAO,EAAK2B,iBAAgB,IAC9D2U,GACA1X,EAAUha,KAAK,CAACia,OAAO9O,KAAKgkB,eAAejR,iBAAgB,EAAK/P,YAAY,UAAD,OAAWhD,KAAK0iB,aAAe,cAAgB,YAA/C,YAA8D8D,EAA9D,oBAAuFlJ,EAAKtb,MAAOwR,WAAU,EAAKxE,iBAAgB,EAAK4C,iBAAgB,SArBjO0L,EAAK5Y,MAAS4Y,EAAKtY,OAIpB6J,EAAUha,KAAK,CAACia,OAAO9O,KAAKkY,WAAW5R,OAAO,CAACgX,GAAMta,YAAY,gBAAD,OAAiB1P,EAAjB,8BAA4CgqB,EAAK5Y,KAAO4Y,EAAK5Y,KAAK1C,KAAOsb,EAAKtY,MAAMhD,MAAOwR,WAAU,EAAKxE,iBAAgB,EAAK4C,iBAAgB,EAAKb,eAAc,EAAKY,eAAc,IACrP2L,EAAOA,EAAK5Y,MAAQ4Y,EAAKtY,QAJzB6J,EAAUha,KAAK,CAACia,OAAO9O,KAAKkY,WAAW5R,OAAO,CAACgX,GAAMta,YAAY,oBAAD,OAAqB1P,EAArB,aAAsCkgB,WAAU,EAAKxE,iBAAgB,EAAK4C,iBAAgB,EAAKb,eAAc,EAAKY,eAAc,IAChM2L,EAAO,MAKXzO,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAAC,MAAMyK,eAAc,EAAKa,iBAAgB,IAC5FyU,GAAc,EAgBlBxX,EAAUha,KAAK,CAACia,OAAO9O,KAAK2V,SAAS1F,QAAO,IAC5CmU,GAAU,OACP,GAAI9wB,EAAQgqB,EAAKtb,KAAM,CAC1B6M,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,GAAD,OAAIhT,EAAJ,cAAegqB,EAAKtb,KAApB,2BAAkD2R,OAAM,EAAK1E,eAAc,EAAK0C,eAAc,IADhH,MAEuC3R,KAAKkkB,gBAAgB5G,EAAK5Y,KAAMpR,GAFvE,oBAErBqwB,EAFqB,KAEFiB,EAFE,KAEOT,EAFP,KAEwBuC,EAFxB,KAG1B7X,EAAUha,KAAV,MAAAga,EAAS,YAAS8U,IAClB9U,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACgX,GAAM9J,WAAU,EAAKzE,YAAW,EAAKgC,eAAc,EAAKY,eAAc,EAAKC,iBAAgB,IAC9I/C,EAAUha,KAAK,CAACia,OAAO9O,KAAKkmB,QAAQ5f,OAAO,CAACgX,EAAMsH,GAAS5hB,YAAY,GAAD,OAAIsa,EAAK5Y,KAAO,MAAQ,IAAxB,8BAAiDkgB,EAAO,0BAAsBA,EAAQ5iB,MAAS,QAAS2R,OAAM,EAAK/B,iBAAgB,EAAK3C,eAAc,EAAK0C,eAAc,IAC3OwS,IACAtV,EAAUha,KAAK,CAACia,OAAO9O,KAAKikB,UAAUhU,QAAO,EAAK2B,iBAAgB,IAClE/C,EAAUha,KAAK,CAACia,OAAO9O,KAAKgkB,eAAejR,iBAAgB,EAAK/P,YAAY,eAAD,OAAgB1P,EAAhB,8BAA2CgqB,EAAKtb,MAAOwR,WAAU,EAAKxE,iBAAgB,EAAK4C,iBAAgB,KAE1LwS,EAAUsC,OACP,GAAIpzB,EAAQgqB,EAAKtb,KAAM,CAC1B6M,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,GAAD,OAAIhT,EAAJ,cAAegqB,EAAKtb,KAApB,4BAAmD2R,OAAM,EAAK1E,eAAc,EAAK0C,eAAc,IADjH,MAEwC3R,KAAKkkB,gBAAgB5G,EAAKtY,MAAO1R,GAFzE,oBAErBqwB,EAFqB,KAEFmB,EAFE,KAEQX,EAFR,KAEyBuC,EAFzB,KAG1B7X,EAAUha,KAAV,MAAAga,EAAS,YAAS8U,IAClB9U,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACgX,GAAM9J,WAAU,EAAKzE,YAAW,EAAKgC,eAAc,EAAKY,eAAc,EAAKC,iBAAgB,IAC9I/C,EAAUha,KAAK,CAACia,OAAO9O,KAAKmmB,SAAS7f,OAAO,CAACgX,EAAMwH,GAAU9hB,YAAY,GAAD,OAAIsa,EAAKtY,MAAQ,MAAQ,IAAzB,+BAAmD8f,EAAQ,0BAAsBA,EAAS9iB,MAAS,QAAS2R,OAAM,EAAK/B,iBAAgB,EAAK3C,eAAc,EAAK0C,eAAc,IACjPwS,IACAtV,EAAUha,KAAK,CAACia,OAAO9O,KAAKikB,UAAUhU,QAAO,EAAK2B,iBAAgB,IAClE/C,EAAUha,KAAK,CAACia,OAAO9O,KAAKgkB,eAAejR,iBAAgB,EAAK/P,YAAY,eAAD,OAAgB1P,EAAhB,+BAA4CgqB,EAAKtb,MAAOwR,WAAU,EAAKxE,iBAAgB,EAAK4C,iBAAgB,KAE3LwS,EAAUsC,QApDV7X,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,iBAAD,OAAkBhT,EAAlB,uBAA6CqgB,OAAM,EAAK1E,eAAc,IAsDtH,MAAO,CAACJ,EAAWyO,EAAM+I,EAAajC,K,+CAGjB9G,GACrB,IAAIzO,EAAY,GACZ8X,GAAY,EACZC,EAAmB,KAEvB,GADA/X,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACgX,GAAM9J,WAAU,EAAKzE,YAAW,EAAKgC,eAAc,EAAKY,eAAc,EAAKC,iBAAgB,IACzI0L,EAAKtY,MAQH,CACH6J,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,QAAD,OAASgX,EAAKtb,KAAd,+CAAgE2R,OAAM,EAAK1E,eAAc,EAAK0C,eAAc,IADrJ,MAE+D3R,KAAK6mB,yBAAyBvJ,EAAKtY,OAFlG,oBAEE2e,EAFF,KAEqBmB,EAFrB,KAE+ByB,EAF/B,KAEkDO,EAFlD,KAGHjY,EAAUha,KAAV,MAAAga,EAAS,YAAS8U,IAClB9U,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACgX,GAAM9J,WAAU,EAAKzE,YAAW,EAAKgC,eAAc,EAAKY,eAAc,EAAKC,iBAAgB,IAC9I/C,EAAUha,KAAK,CAACia,OAAO9O,KAAKmmB,SAAS7f,OAAO,CAACgX,EAAKwH,GAAU9hB,YAAY,0BAAD,OAA2B8hB,EAAQ,0BAAsBA,EAAS9iB,MAAS,QAAS2R,OAAM,EAAK/B,iBAAgB,EAAK3C,eAAc,EAAK0C,eAAc,IAGxN4U,GACA1X,EAAUha,KAAK,CAACia,OAAO9O,KAAKgkB,eAAejR,iBAAgB,EAAK/P,YAAY,sBAAD,OAAuB8jB,EAAvB,oBAA4CxJ,EAAKtb,MAAOwR,WAAU,EAAKxE,iBAAgB,EAAK4C,iBAAgB,IAE3LgV,EAAmBE,OAlBnBjY,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,sBAAD,OAAuBgX,EAAKtb,OAAQ2R,OAAM,EAAK1E,eAAc,IACzGJ,EAAUha,KAAK,CAACia,OAAO9O,KAAKkY,WAAW5R,OAAO,CAACgX,GAAMta,YAAY,GAAD,OAAIsa,EAAK5Y,KAAL,8CAAmD4Y,EAAK5Y,KAAK1C,MAA7D,sBAA6FwR,WAAU,EAAKxE,iBAAgB,EAAK4C,iBAAgB,EAAKb,eAAc,EAAKY,eAAc,IAC3P9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAAC,MAAMyK,eAAc,EAAKa,iBAAgB,IAE5FgV,EAAmBtJ,EAAKtb,KACxBsb,EAAOA,EAAK5Y,KACZiiB,GAAY,EAchB,MAAO,CAAC9X,EAAWyO,EAAMqJ,EAAWC,K,6CAGjBtJ,GACnB,IAAIzO,EAAY,GACZ8X,GAAY,EACZI,EAAiB,KAErB,GADAlY,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACgX,GAAM9J,WAAU,EAAKzE,YAAW,EAAKgC,eAAc,EAAKY,eAAc,EAAKC,iBAAgB,IACzI0L,EAAK5Y,KAQH,CACHmK,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,QAAD,OAASgX,EAAKtb,KAAd,6CAA8D2R,OAAM,EAAK1E,eAAc,EAAK0C,eAAc,IADnJ,MAE8D3R,KAAKgnB,uBAAuB1J,EAAK5Y,MAF/F,oBAEEif,EAFF,KAEqBiB,EAFrB,KAE8B2B,EAF9B,KAEiDU,EAFjD,KAGHpY,EAAUha,KAAV,MAAAga,EAAS,YAAS8U,IAClB9U,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACgX,GAAM9J,WAAU,EAAKzE,YAAW,EAAKgC,eAAc,EAAKY,eAAc,EAAKC,iBAAgB,IAC9I/C,EAAUha,KAAK,CAACia,OAAO9O,KAAKkmB,QAAQ5f,OAAO,CAACgX,EAAKsH,GAAS5hB,YAAY,yBAAD,OAA0B4hB,EAAO,0BAAsBA,EAAQ5iB,MAAS,QAAS2R,OAAM,EAAK/B,iBAAgB,EAAK3C,eAAc,EAAK0C,eAAc,IAGnN4U,GACA1X,EAAUha,KAAK,CAACia,OAAO9O,KAAKgkB,eAAejR,iBAAgB,EAAK/P,YAAY,oBAAD,OAAqBikB,EAArB,oBAA0C3J,EAAKtb,MAAOwR,WAAU,EAAKxE,iBAAgB,EAAK4C,iBAAgB,IAEzLmV,EAAiBE,OAlBjBpY,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,oBAAD,OAAqBgX,EAAKtb,OAAQ2R,OAAM,EAAK1E,eAAc,IACvGJ,EAAUha,KAAK,CAACia,OAAO9O,KAAKkY,WAAW5R,OAAO,CAACgX,GAAMta,YAAY,GAAD,OAAIsa,EAAKtY,MAAL,6CAAmDsY,EAAKtY,MAAMhD,MAA9D,oBAA4FwR,WAAU,EAAKxE,iBAAgB,EAAK4C,iBAAgB,EAAKb,eAAc,EAAKY,eAAc,IAC1P9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAAC,MAAMyK,eAAc,EAAKa,iBAAgB,IAE5FmV,EAAiBzJ,EAAKtb,KACtBsb,EAAOA,EAAKtY,MACZ2hB,GAAY,EAchB,MAAO,CAAC9X,EAAWyO,EAAMqJ,EAAWI,K,iCAG7BxoB,GAAO,IAAD,OACbyB,KAAKqX,SAAW9Y,EAChB,IAAI2oB,EAAc,CAAC3oB,EAAKyJ,SAAUzJ,EAAK0J,UAMvC,OALAjI,KAAKqX,SAAS1O,MAAM,GAAG,IACvB3I,KAAKqX,SAASuB,WAAU,SAACnD,GAErB,EAAKhC,cAAc,EAAG,SAASgC,EAAQzT,SAEpC,CAACklB,K,sCAEIA,GAAc,IAAD,UAEzB,EAAAlnB,KAAKqX,UAAS1O,MAAd,oBAAuBue,IACvB,IAAI7Y,IAAWrO,KAAKqO,OACpBrO,KAAKqX,SAASuB,WAAU,WACpB,EAAKnJ,YAAYpB,MAErBrO,KAAKqX,SAAW,O,sCAEJ9Y,GAAO,IAAD,OAClByB,KAAKqX,SAAW9Y,EAChB,IAAI2oB,EAAc,CAAC3oB,EAAKyJ,SAAUzJ,EAAK0J,UACvCjI,KAAKqX,SAAS1O,MAAM,GAAG,IACvB,IAAI0F,IAAWrO,KAAKqO,OAKpB,OAJArO,KAAKqX,SAASuB,WAAU,SAACnD,GAErB,EAAKhG,YAAYpB,MAEd,CAAC6Y,K,yCAGO3oB,GAAO,IAAD,SACrByB,KAAKqjB,UAAY,IAAIvZ,GAA6B,GAAG9J,KAAK/J,YAAYigB,aAAa,EAAE,GAAGlW,KAAK/J,YAAYigB,aAAa,EAC9G,CACI5iB,MAAM0M,KAAKqX,SAASrV,KACpBgJ,qBAAsBhL,KAAK/J,YAAYigB,aAAa,IAGhE,IAAI2H,EAAUtf,EAAKyD,KACfmlB,EAAU,CAAC5oB,EAAKuJ,SAAS9H,KAAK/J,YAAYigB,aAAa,EAAG3X,EAAKwJ,SAAS/H,KAAK/J,YAAYigB,aAAa,GAO1G,OANA,EAAAlW,KAAKqjB,WAAU1a,MAAf,QAAwBwe,GACxBnnB,KAAKqjB,UAAUzK,WAAU,SAACnD,GACtB,EAAKhC,cAAc,EAAE,YAAYgC,EAAQniB,MAAM,KAAKuqB,GACpDtf,EAAKyD,KAAOyT,EAAQniB,MACpB,EAAK+vB,UAAY,QAEd,CAAC9kB,EAAMsf,EAASsJ,K,8CAEH5oB,EAAMsf,EAASsJ,GAAU,IAAD,OAC5CnnB,KAAKqjB,UAAL,aAAqBvZ,GAArB,YAAqDqd,GAArD,QACQ,CACI7zB,MAAM0M,KAAKqX,SAASrV,KACpBgJ,qBAAsBhL,KAAK/J,YAAYigB,aAAa,MAGhElW,KAAKqjB,UAAU1a,MAAM,GAAG3I,KAAK/J,YAAYigB,aAAa,EAAE,GAAGlW,KAAK/J,YAAYigB,aAAa,GACzF3X,EAAKyD,KAAO6b,EACZ,IAAIxP,IAAWrO,KAAKqO,OACpBrO,KAAKqjB,UAAUzK,WAAU,SAACnD,GACtB,EAAKhG,YAAYpB,GACjB,EAAKgV,UAAY,U,8CAGD9kB,GAAO,IAAD,SAC1ByB,KAAKqjB,UAAY,IAAIvZ,GAA6B,GAAG9J,KAAK/J,YAAYigB,aAAa,EAAE,GAAGlW,KAAK/J,YAAYigB,aAAa,EAC9G,CACI5iB,MAAM0M,KAAKqX,SAASrV,KACpBgJ,qBAAsBhL,KAAK/J,YAAYigB,aAAa,IAGhE,IAAI2H,EAAUtf,EAAKyD,KACfmlB,EAAU,CAAC5oB,EAAKuJ,SAAS9H,KAAK/J,YAAYigB,aAAa,EAAG3X,EAAKwJ,SAAS/H,KAAK/J,YAAYigB,aAAa,IAC1G,EAAAlW,KAAKqjB,WAAU1a,MAAf,QAAwBwe,GACxB,IAAI9Y,IAAWrO,KAAKqO,OAMpB,OALArO,KAAKqjB,UAAUzK,WAAU,SAACnD,GACtB,EAAKhG,YAAYpB,GACjB9P,EAAKyD,KAAOyT,EAAQniB,MACpB,EAAK+vB,UAAY,QAEd,CAAC9kB,EAAMsf,EAASsJ,K,oCAGb7J,EAAMhqB,GAChB,IAAIub,EAAY,GAEhB,GADAA,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACgX,GAAM9J,UAAiB,OAAP8J,EAAYrN,OAAc,OAAPqN,EAAYvO,YAAW,EAAKgC,eAAc,EAAKY,cAAqB,OAAP2L,EAAY1L,iBAAgB,IAC1K0L,GAGE,GAAIhqB,IAAUgqB,EAAKtb,KACtB6M,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,GAAD,OAAIhT,EAAJ,eAAgBgqB,EAAKtb,KAArB,0BAAkD2R,OAAM,EAAK1E,eAAc,EAAK0C,eAAc,IAC1I9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,GAAD,OAAIhT,EAAJ,sBAA+B2W,EAAOzN,OAAOyT,QAAO,EAAKlB,YAAW,SAC7G,GAAIzb,EAAQgqB,EAAKtb,KAAM,CAC1B6M,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,GAAD,OAAIhT,EAAJ,cAAegqB,EAAKtb,KAApB,2BAAkD2R,OAAM,EAAK1E,eAAc,EAAK0C,eAAc,IADhH,MAEA3R,KAAKqkB,cAAc/G,EAAK5Y,KAAMpR,GAAnDqwB,EAFqB,qBAG1B9U,EAAUha,KAAV,MAAAga,EAAS,YAAS8U,SACf,GAAIrwB,EAAQgqB,EAAKtb,KAAM,CAC1B6M,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,GAAD,OAAIhT,EAAJ,cAAegqB,EAAKtb,KAApB,4BAAmD2R,OAAM,EAAK1E,eAAc,EAAK0C,eAAc,IADjH,MAEA3R,KAAKqkB,cAAc/G,EAAKtY,MAAO1R,GAApDqwB,EAFqB,qBAG1B9U,EAAUha,KAAV,MAAAga,EAAS,YAAS8U,UAZlB9U,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,iBAAD,OAAkBhT,EAAlB,uBAA6CqgB,OAAM,EAAK1E,eAAc,IAClHJ,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,GAAD,OAAIhT,EAAJ,mBAA4B2W,EAAO1N,KAAK0T,QAAO,EAAKlB,YAAW,IAa/G,MAAO,CAACF,K,4CAGUyO,EAAMgI,GACxB,IAAIzW,EAAY,GAChB,GAAIyO,EAAM,CACNzO,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACgX,GAAM9J,WAAU,EAAKxE,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,EAAKC,iBAAgB,IAD7I,MAEgB5R,KAAKskB,sBAAsBhH,EAAK5Y,KAAM4gB,GAAvD8B,EAFC,qBAGNvY,EAAUha,KAAV,MAAAga,EAAS,YAASuY,IAClBvY,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACgX,GAAM9J,WAAU,EAAKzE,YAAW,EAAMgC,eAAc,EAAKY,eAAc,EAAKC,iBAAgB,IAC/I0T,EAAKzwB,KAAKyoB,EAAKtb,MACf6M,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACgX,EAAMrT,EAAOzN,OAAOwG,YAAY,IAAD,OAAKsiB,EAAKf,KAAK,SAAf,KAA2B/Q,WAAU,EAAKxE,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,EAAKC,iBAAgB,IACvM/C,EAAUha,KAAK,CAACia,OAAO9O,KAAKgf,SAASrL,OAAM,IAC3C9E,EAAUha,KAAK,CAACia,OAAO9O,KAAKyjB,eAAend,OAAO,CAACgX,EAAMrT,EAAOxN,MAAM+W,WAAU,EAAKzE,YAAW,EAAMgC,eAAc,EAAKY,eAAc,EAAKC,iBAAgB,IARtJ,MASiB5R,KAAKskB,sBAAsBhH,EAAKtY,MAAOsgB,GAAzD+B,EATC,qBAUNxY,EAAUha,KAAV,MAAAga,EAAS,YAASwY,IAEtB,MAAO,CAACxY,K,iCAGD2V,GACPxkB,KAAK0iB,aAAyB,gBAAV8B,I,sCAERA,GACZxkB,KAAK0iB,aAAyB,gBAAV8B,I,kCAIpB,IAAIpF,EAAUpf,KAAKqX,SAEnB,OADArX,KAAKqX,SAAW,KACT,CAAC+H,K,qCAEGA,GACXpf,KAAKqX,SAAW+H,I,iCAIhBpf,KAAKzG,S,sCAGLyG,KAAKzG,S,iCAILyG,KAAKzG,S,sCAGLyG,KAAKzG,S,+BAGA8rB,GAEL,OADQA,GAASrlB,KAAK/J,YAAYigB,aAAelW,KAAK/J,YAAYqxB,kBACvDtnB,KAAK6H,EAAI7H,KAAK/J,YAAY6sB,UAAU,K,gDAGzBxF,EAAM1V,EAAEC,GAC9B,OAAIyV,EACIA,EAAKvE,YAAYnR,EAAEC,GACZyV,EAEJtd,KAAKunB,0BAA0BjK,EAAK5Y,KAAMkD,EAAEC,IAAM7H,KAAKunB,0BAA0BjK,EAAKtY,MAAO4C,EAAEC,GAEnG,O,mCAGED,EAAEC,GACX,OAAI7H,KAAKqX,UAAYrX,KAAKqX,SAAS0B,YAAYnR,EAAEC,GACtC7H,KAAKqX,SAETrX,KAAKunB,0BAA0BvnB,KAAKwiB,KAAM5a,EAAEC,K,wCAInD,OAAOzQ,KAAK2C,IAAIiG,KAAKS,MAAQ,EAAIT,KAAK/J,YAAY6sB,UAAY,GAAI9iB,KAAK/J,YAAYuxB,c,kCAInF,OAAOxnB,KAAKynB,mBAAmBznB,KAAKwiB,Q,yCAErBlF,GACf,OAAIA,EACOlmB,KAAK2C,IAAIiG,KAAKynB,mBAAmBnK,EAAK5Y,MAAM1E,KAAKynB,mBAAmBnK,EAAKtY,QAAU,GAEtF,I,gCAIR,OAAOhF,KAAK+lB,SAAS3uB,KAAK2C,IAAIiG,KAAK0nB,YAAa,IAAM,K,oCAItD,IAAK1nB,KAAKwiB,KACN,OAAOxiB,KAAK/J,YAAY6sB,UAAY,GAExC,IAAIyC,EAAQvlB,KAAKwlB,aACbE,EAAcH,EAAMnhB,QAAQpE,KAAKwiB,MACjCmF,EAAajC,EAAcH,EAAM,GAAGtvB,YAAY4vB,OAChD+B,GAAerC,EAAMtwB,OAAS,EAAIywB,GAAeH,EAAM,GAAGtvB,YAAY4vB,OAC1E,OAAwC,EAAjCzuB,KAAK2C,IAAI4tB,EAAWC,GAAerC,EAAM,GAAGtvB,YAAY8V,O,0BAG/DxN,EAAMqJ,EAAEC,GACR7H,KAAKsX,WAAa/Y,EAClBA,EAAKya,IAAIpR,EAAEC,K,8BAIX7H,KAAKsX,WAAW2B,QAChBjZ,KAAKsX,WAAa,O,iCAGX/Y,EAAMiJ,EAAgBuB,GACzBxK,GACAA,EAAK4X,OAAO3O,EAAgBuB,K,6BAI7BvB,EAAgBuB,GAAK,IAAD,OACvB,gEAAavB,EAAgBuB,GAAI,WAC7B,EAAKyc,aAAa9wB,SAAQ,SAAC6J,GACvB,EAAK6a,WAAW7a,EAAMiJ,EAAgBuB,MAE1C,EAAKqQ,WAAW,EAAK/B,SAAU7P,EAAgBuB,GAC/C,EAAK4Z,YAAYxM,OAAO3O,EAAgBuB,GACxC,EAAKqQ,WAAW,EAAKiK,UAAW7b,EAAgBuB,Q,2BAInDA,GAED,8DAAWA,GACXA,EAAGlU,OAGHkU,EAAGuC,UAAUvC,EAAGwC,OAAOxC,EAAGwC,QAC1BxC,EAAGgL,SAAS/T,KAAKkW,aAAa,EAAI,GAElCnN,EAAG6B,SACH7B,EAAG4B,OAAO,GACV5B,EAAGuC,UAAUvC,EAAGwC,OAAQxC,EAAGwC,QAC3B,IAAIsc,EAAQ7nB,KAAK6iB,kBACjB9Z,EAAGtP,KAAK,QAAQouB,EAAQ,GAAG7nB,KAAK/J,YAAY+sB,OAAOhjB,KAAK/J,YAAY6sB,UAAY,GAAG9iB,KAAK/J,YAAY6sB,WACpG/Z,EAAGqC,OAAOyc,EAAM7nB,KAAK/J,YAAY+sB,OAAOhjB,KAAK/J,YAAY6sB,WACrD9iB,KAAKwiB,MACLzZ,EAAG4B,OAAOV,EAAOxN,MACjBsM,EAAGyC,KAAKvB,EAAOxN,MACfsM,EAAGmC,OAAO2c,EAAQ7nB,KAAK/J,YAAY6sB,UAAY,EAAG9iB,KAAK/J,YAAY+sB,OAAShjB,KAAK/J,YAAY6sB,UAAY,EAAG,GAC5G/Z,EAAGrD,KAAKmiB,EAAQ7nB,KAAK/J,YAAY6sB,UAAY,EAAG9iB,KAAK/J,YAAY+sB,OAAShjB,KAAK/J,YAAY6sB,UAAY,EAAG9iB,KAAKwiB,KAAK1a,SAAW9H,KAAK/J,YAAYigB,aAAe,EAAGlW,KAAKwiB,KAAKza,WAG5KgB,EAAGrD,KAAKmiB,EAAM7nB,KAAK/J,YAAY+sB,OAAO6E,EAAQ7nB,KAAK/J,YAAY6sB,UAAU9iB,KAAK/J,YAAY+sB,OAAShjB,KAAK/J,YAAY6sB,WAIxH9iB,KAAKwlB,aAAa9wB,SAAQ,SAAC6J,GACvBA,EAAKqY,KAAK7N,MAEV/I,KAAKqX,UACLrX,KAAKqX,SAAST,KAAK7N,GAEvB/I,KAAK2iB,YAAY/L,KAAK7N,GAClB/I,KAAKqjB,WACLrjB,KAAKqjB,UAAUzM,KAAK7N,GAGxBA,EAAGsC,Q,mCAGMtC,GAET,IAAIuQ,EAActZ,KAAKuZ,aAAaxQ,EAAGH,OAAQG,EAAGF,QAMlD,OALIyQ,IACAtZ,KAAKvK,SAASme,OACd5T,KAAKgZ,IAAIM,EAAavQ,EAAGH,OAAOG,EAAGF,UAGhC,I,oCAGGE,GAAK,IAAD,OASd,OARI/I,KAAKsX,aACLtX,KAAKsX,WAAWsB,WAAU,WACtB,EAAK5H,iBAEThR,KAAKiZ,UAIF,I,oCAGGlQ,EAAI5D,EAAQoP,GAAgB,IAAD,OACrC,uEAAoBxL,EAAI5D,EAAQoP,EAAevU,KAAK8nB,WAAU,WAC1D,EAAKlF,eAAe9a,SAAW,EAAK+a,kBAAoB,EAAK5sB,YAAY6sB,UAAY,EAAI,EAAK7sB,YAAY8sB,wBAA0B,EACpI,IAAIzC,EAAY,EAAKjJ,UAAuC,KAA3B,EAAKA,SAASrP,UAA8C,KAA3B,EAAKqP,SAASpP,SAChF,GAAI,EAAKua,KAAM,CACX,IAAI+C,EAAQ,EAAKC,aACbE,EAAcH,EAAMnhB,QAAQ,EAAKoe,MACrC+C,EAAM7wB,SAAQ,SAAC6J,EAAM7H,GACjB6H,EAAKqnB,QAAS,EAAKnlB,MAAQ,EAAKxK,YAAYigB,cAAc,GAAMxf,EAAIgvB,GAAennB,EAAKtI,YAAY4vB,QACpGtnB,EAAKunB,KAAK,EAAKC,SAASxnB,EAAK8mB,WAGjC/E,GACA,EAAKjJ,SAAS1O,MAAM,GAAG,MAE5B3I,KAAK+nB,mB,GAl1BiBlb,IAAZ0V,GACV1L,YAAa,EADH0L,GAEVzV,YAAa,EAFHyV,GAGVzZ,UAAW,EAHDyZ,GAIVrV,kBAAmB,EAJTqV,GAKVjP,qBAAsB,EALZiP,GAMV7O,cAAgB,IANN6O,GAOVxV,eAAgB,EAPNwV,GAQVjV,4BAA6B,EARnBiV,GASVnU,kBAAmB,EATTmU,GAUVtP,4BAA6B,EAVnBsP,GAWVyF,eAAgB,EAXNzF,GAaVrM,aAAe,GAbLqM,GAcV+E,iBAAmB,IAdT/E,GAeV0F,oBAAsB,KAfZ1F,GAiBVO,UAAY,GAjBFP,GAkBViF,WAAa,GAlBHjF,GAmBV2F,eAAiB,GAnBP3F,GAoBVS,OAAS,GApBCT,GAqBVQ,wBAA0B,G,IAk0B/BqD,G,kDAMF,aAAqC,IAAD,2DAAJ,GAAI,IAAvBxe,SAAuB,MAArB,GAAqB,MAAlBC,SAAkB,MAAhB,GAAgB,EAAZ7F,EAAY,EAAZA,KAAY,4BAChC,cAAM4F,EAAEC,EAAG7F,IAENgW,UAAW,EAChB,EAAK4B,YAAa,EAClB,EAAKrP,MAAQ,CAAC,EAAE,EAAE,GALc,E,mEAShCvK,KAAKuK,MAAM,GAAK,M,wCAIhBvK,KAAKgY,UAAW,EAChBhY,KAAKmZ,2B,GApBStN,IAAhBua,GACKtd,UAAW,EADhBsd,GAEKra,KAAOwW,GAAIrM,aAFhBkQ,GAGKha,OAASmW,GAAIrM,aAAeqM,GAAI+E,iBAHrClB,GAIKP,OAAStD,GAAIrM,aAAeqM,GAAI0F,mB,IC31BtBE,G,kDAkBjB,WAAY1yB,GAAW,IAAD,8BAClB,cAAMA,IAED8Y,QACL,EAAKC,MAAO,EAJM,E,oDAQlB,gEACIxO,KAAKwO,MACLxO,KAAKoN,gBAGTpN,KAAK+U,aAAe,IAAIkG,MAAMkN,EAAKnT,kBACnChV,KAAKzG,KAAO,EACZyG,KAAKkb,UAAY,KACjBlb,KAAKmb,YAAc,KACnBnb,KAAKwgB,kBAAoB,EACzBxgB,KAAKygB,wBAA0B,IAAI3W,GAA6Bqe,EAAKzH,iBAAkByH,EAAKxH,iBAAkB,CAC1G1V,qBAAsB,KAE1BjL,KAAK4gB,uBAAyB,IAAI9W,GAA6Bqe,EAAKtH,gBAAiBsH,EAAKrH,gBAAiB,CACvG7V,qBAAsB,KAGtBjL,KAAKwO,MAELxO,KAAKqN,gB,oCAIkB,IAAD,OAAlB+P,EAAkB,wDAC1Bpd,KAAKoN,gBACL,IAAImR,EAAiBve,KAAKmb,aAAenb,KAAKygB,wBAC1CzgB,KAAKygB,wBAAwB5G,eAAiB0E,EAAe1E,iBAC7D0E,EAAiBve,KAAKygB,yBAEtBzgB,KAAK4gB,uBAAuB/G,eAAiB0E,EAAe1E,iBAC5D0E,EAAiBve,KAAK4gB,wBAE1B,IAAK,IAAIlqB,EAAI,EAAGA,EAAIsJ,KAAK+U,aAAa9f,OAAQyB,IACtCsJ,KAAK+U,aAAare,IAAMsJ,KAAK+U,aAAare,GAAGmjB,eAAiB0E,EAAe1E,iBAC7E0E,EAAiBve,KAAK+U,aAAare,IAG3C,GAAIsJ,KAAKkb,UACL,IAAK,IAAIxkB,EAAI,EAAGA,EAAIsJ,KAAKkb,UAAUjmB,OAAQyB,IACnCsJ,KAAKkb,UAAUxkB,IAAMsJ,KAAKkb,UAAUxkB,GAAGmjB,eAAiB0E,EAAe1E,iBACvE0E,EAAiBve,KAAKkb,UAAUxkB,IAI5C,GAAI6nB,EAAe1E,eAAiB,EAAG,CACnC,IAAIxL,IAAWrO,KAAKqO,OAIpB,GAJ2BnZ,QAAQC,IAAIkZ,GACvCkQ,EAAe3F,WAAU,WACrB,EAAKnJ,YAAYpB,MAEjB+O,EAAU,CACNpd,KAAKmb,aACLnb,KAAKmb,YAAY1S,OAErBzI,KAAKygB,wBAAwBhY,OAC7BzI,KAAK4gB,uBAAuBnY,OAC5B,IAAK,IAAI/R,EAAI,EAAGA,EAAIsJ,KAAK+U,aAAa9f,OAAQyB,IACtCsJ,KAAK+U,aAAare,IAClBsJ,KAAK+U,aAAare,GAAG+R,OAG7B,GAAIzI,KAAKkb,UACL,IAAK,IAAIxkB,EAAI,EAAGA,EAAIsJ,KAAKkb,UAAUjmB,OAAQyB,IACnCsJ,KAAKkb,UAAUxkB,IACfsJ,KAAKkb,UAAUxkB,GAAG+R,YAK/B,CACH,IAAI4F,IAAWrO,KAAKqO,OAAOnZ,QAAQC,IAAIkZ,GACvCrO,KAAKyP,YAAYpB,M,0BAKrBrM,EAAK+e,GACL,GAAmC,IAA/B/gB,KAAKuP,eAAeta,OACpB,OAAO,EAGX,GADA+K,KAAKoN,gBACQ,OAATpL,EAEA,OADAhC,KAAKiN,WAAW,4BAA6BhD,EAAO1N,MAC7C,EAEX,IAAIsS,EAAY,GAuBhB,OAtBI7O,KAAKzG,OAASyG,KAAK+U,aAAa9f,SAChC4Z,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,kCAAD,OAA4D,EAAzBtG,KAAK+U,aAAa9f,QAAWgV,EAAOzN,SACnHqS,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKyb,qBAE3B5M,EAAUha,KAAK,CAACia,OAAO9O,KAAK9M,cAAcoT,OAAO,CAACtE,EAAK+e,GAAO/d,YAAY,iBAAD,OAAkBhB,GAAOgN,iBAAgB,EAAK6C,iBAAgB,IACvIhD,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKghB,oBACnBD,EACAlS,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKihB,0BAAyB,KAEhDpS,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKkhB,qBAAoB,KAE/CrS,EAAUha,KAAK,CAACia,OAAO9O,KAAK4b,cAAc3L,QAAO,IACjDpB,EAAUha,KAAK,CAACia,OAAO9O,KAAK6b,cAAcrI,WAAU,EAAKxQ,YAAY,SAAD,OAAUhB,EAAV,oBAAiCgN,iBAAgB,EAAK4C,iBAAgB,EAAKb,eAAc,EAAKY,eAAc,IAC5KoP,GAEAlS,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKmhB,oBAAoB,KAE/CtS,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKohB,kBAAkB,KACzCvS,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,sBAAD,OAAuBtE,EAAvB,eAAkC+e,EAAQ,QAAU,OAApD,cAAuE9W,EAAOzN,SAC1HwD,KAAKuV,aAAa1G,GAClB7O,KAAKqN,cACLrN,KAAKgO,eACE,I,+BAGFhM,GACL,OAAOhC,KAAKvM,IAAIuO,GAAM,K,8BAGlBA,GACJ,OAAOhC,KAAKvM,IAAIuO,GAAM,K,6BAGnB+e,GACH,GAAmC,IAA/B/gB,KAAKuP,eAAeta,OACpB,OAAO,EAGX,GADA+K,KAAKoN,gBACa,IAAdpN,KAAKzG,KAEL,OADAyG,KAAKiN,WAAW,yBAA0BhD,EAAO1N,MAC1C,EAEX,IAAIsS,EAAY,GACZ7M,EAAOhC,KAAK+U,aAAagM,EAAQ/gB,KAAKwgB,kBAAoBxgB,KAAKqhB,SAASrhB,KAAKwgB,kBAAoBxgB,KAAKzG,KAAO,IAAIjG,MAiBrH,OAhBAub,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,wBAAD,OAAyBtG,KAAKwgB,kBAA9B,QAC5C3R,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKghB,gBAAgBD,KAClCA,IACDlS,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKkhB,qBAAoB,GAAM,KACjDrS,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKihB,0BAAyB,MAEpDpS,EAAUha,KAAK,CAACia,OAAO9O,KAAK+b,eAAezV,OAAO,CAACya,GAAO/d,YAAY,iBAAD,OAAkBhB,EAAlB,eAAoCwR,WAAU,EAAKxE,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,IAC9K9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKgc,cAAc/L,QAAO,EAAK2B,iBAAgB,IAClEmP,GACAlS,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKmhB,mBAAmB,KAE9CtS,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKohB,mBAAmB,KAC1CvS,EAAUha,KAAK,CAACia,OAAO9O,KAAKgN,SAAS1G,OAAO,CAAC,wBAAD,OAAyBtE,EAAzB,iBAAsC+e,EAAQ,YAAc,UAA5D,WAA+E9W,EAAOzN,OAAOyT,QAAO,IAChJjQ,KAAKuV,aAAa1G,GAClB7O,KAAKqN,cACLrN,KAAKgO,cACEhM,I,oCAIP,OAAOhC,KAAKa,QAAO,K,mCAInB,OAAOb,KAAKa,QAAO,K,wCAInB,IAAIgO,EAAY,GAChBA,EAAUha,KAAK,CAACia,OAAO9O,KAAKic,cAAchM,QAAO,EAAKjN,YAAY,kCAAD,OAA4D,EAAzBhD,KAAK+U,aAAa9f,QAAWga,eAAc,IAC/IJ,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKghB,iBAAgB,KACvC,IAAK,IAAItqB,EAAI,EAAGA,EAAIsJ,KAAKzG,KAAM7C,IAC3BmY,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKkc,cAAcxlB,KAIzC,OAFAmY,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKmc,eACvBtN,EAAUha,KAAV,MAAAga,EAAS,YAAS7O,KAAKmhB,mBAAmB,KACnCtS,I,sCAIP7O,KAAKkb,UAAY,IAAID,MAAiC,EAA3Bjb,KAAK+U,aAAa9f,QAC7C,IAAK,IAAIyB,EAAI,EAAGA,EAAIsJ,KAAKzG,KAAM7C,IAAK,CAChC,IAAIkoB,GAAYloB,EAAIsJ,KAAKwgB,mBAAqBxgB,KAAK+U,aAAa9f,OAC5DmnB,EAAMpc,KAAKqc,mBAAmBuC,GAClC5e,KAAKkb,UAAUxkB,GAAK,IAAI0xB,GAAY,CAACpmB,KAAMhC,KAAK+U,aAAa6J,GAAUtrB,MAAO4hB,MAAOxe,EAAGkR,EAAEwU,EAAI,GAAGvU,EAAEuU,EAAI,Q,2CAI3Gpc,KAAKkb,UAAY,O,oCAGPhG,GACV,IAAIrG,EAAY,GAGhB,OADAA,EAAUha,KAAK,CAACia,OAAO9O,KAAK8e,wBAAwBxY,OAAO,CAAC4O,GAAF,mBAAWlV,KAAKqc,mBAAmBnH,GAAM,KAAO1B,WAAU,EAAKxE,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,EAAKC,iBAAgB,IAC7L/C,I,8CAGaqG,EAAOtN,EAAGC,GAAI,IAAD,OAC7B4N,EAAUzV,KAAKkb,UAAUhG,GACzB7K,EAAOoL,EAAQzN,SACfsC,EAAOmL,EAAQxN,SAOnB,OANAwN,EAAQkH,uBACRlH,EAAQ9M,MAAMf,EAAEC,GAChB4N,EAAQmD,WAAU,SAACmG,GACfA,EAAGtU,cACH,EAAKgJ,cAAc,MAEhB,CAACyB,EAAO7K,EAAMC,K,mDAEI4K,EAAOtN,EAAGC,GAAI,IAAD,OAClC4N,EAAUzV,KAAKkb,UAAUhG,GAC7BO,EAAQkH,uBACRlH,EAAQ9M,MAAMf,EAAEC,GAEZ,IAAIwG,IAAWrO,KAAKqO,OAAOnZ,QAAQC,IAAIkZ,GACvCoH,EAAQmD,WAAU,SAACmG,GACfA,EAAGtU,cACH,EAAKgF,YAAYpB,Q,mDAQA6G,EAAOtN,EAAGC,GAAI,IAAD,OAClC4N,EAAUzV,KAAKkb,UAAUhG,GAC7BO,EAAQkH,uBACRlH,EAAQ9M,MAAMf,EAAEC,GAEZ,IAAIwG,IAAWrO,KAAKqO,OAAOnZ,QAAQC,IAAIkZ,GACvCoH,EAAQmD,WAAU,SAACmG,GACfA,EAAGtU,cACH,EAAKgF,YAAYpB,Q,mCAUzB,IAAIQ,EAAY,GAChBA,EAAUha,KAAK,CAACia,OAAO9O,KAAKwc,gBAAgBvM,QAAO,EAAKlB,YAAW,EAAKgC,eAAc,EAAKa,iBAAgB,IAC3G,IAAK,IAAIlb,EAAI,EAAGA,EAAIsJ,KAAKzG,KAAM7C,IAC3BmY,EAAUha,KAAK,CAACia,OAAO9O,KAAKyc,2BAA2BnW,OAAO,CAAC5P,GAAIuZ,QAAO,EAAKhB,cAAevY,IAAMsJ,KAAKzG,KAAO,EAAGwX,eAAc,EAAKY,eAAc,IAGxJ,OADA9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKgf,SAAS/O,QAAO,EAAKlB,YAAW,IACrDF,I,wCAIP,IAAIoQ,EAAajf,KAAK+U,aAGtB,OAFA/U,KAAK+U,aAAe/U,KAAKkb,UACzBlb,KAAKkb,UAAY,KACV,CAAC+D,K,2CAESA,GACjBjf,KAAKkb,UAAYlb,KAAK+U,aACtB/U,KAAK+U,aAAekK,I,iDAGG/J,GACvB,IAAIO,EAAUzV,KAAK+U,aAAaG,GAChCO,EAAQ9M,MAAR,MAAA8M,EAAO,YAAUzV,KAAKqc,mBAAmB5G,EAAQP,W,sDAErBA,GAAQ,IAAD,OAC/BO,EAAUzV,KAAK+U,aAAaG,GAEhC,GADAO,EAAQ9M,MAAR,MAAA8M,EAAO,YAAUzV,KAAKqc,mBAAmBnH,GAAM,KACjC,IAAVA,EAAa,CACb,IAAI7G,IAAWrO,KAAKqO,OAAOnZ,QAAQC,IAAIkZ,GACvCoH,EAAQmD,WAAU,SAACmG,GACf,EAAKtP,YAAYpB,S,sDAIG6G,GAAQ,IAAD,OAC/BO,EAAUzV,KAAK+U,aAAaG,GAEhC,GADAO,EAAQ9M,MAAR,MAAA8M,EAAO,YAAUzV,KAAKqc,mBAAmB5G,EAAQP,SAC7CA,IAAUlV,KAAKzG,KAAO,EAAG,CACzB,IAAI8U,IAAWrO,KAAKqO,OAAOnZ,QAAQC,IAAIkZ,GACvCoH,EAAQmD,WAAU,SAACmG,GACf,EAAKtP,YAAYpB,S,oCAKfrM,EAAM+e,GAEhB,OADA/gB,KAAKmb,YAAc,IAAIiN,GAAY,CAACpmB,KAAMA,EAAMkT,MAAOlV,KAAKqhB,SAASN,EAAQ/gB,KAAKwgB,kBAAoB,EAAIxgB,KAAKwgB,kBAAoBxgB,KAAKzG,MAAOqO,EAAE,GAAGC,EAAE,KAC/I,CAAC7H,KAAKmb,e,2CAGbnb,KAAKmb,YAAc,O,yCAEJ4E,GACf,GAAuB,kBAAZA,EACP,OAAO/f,KAAK9M,cAAL,MAAA8M,KAAsBggB,WAEjChgB,KAAKmb,YAAc4E,EACnB/f,KAAKmb,YAAY0B,KAAK,GAAG,M,uCAIzB,IAAIhO,EAAY,GAKhB,OAJAA,EAAUha,KAAK,CAACia,OAAO9O,KAAK4gB,uBAAuBlW,UAAUiG,MAAM3Q,KAAK4gB,uBAAuB3Q,QAAO,IACtGpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKqoB,gBAAgB7U,WAAU,EAAKxQ,YAAY,gCAAgC0O,uBAAsB,EAAK1C,iBAAgB,EAAK+B,eAAc,EAAKY,eAAc,IACxL9C,EAAUha,KAAK,CAACia,OAAO9O,KAAK4gB,uBAAuBnW,YAAYkG,MAAM3Q,KAAK4gB,uBAAuB3Q,QAAO,IACxGpB,EAAUha,KAAK,CAACia,OAAO9O,KAAK4gB,uBAAuB/D,KAAKlM,MAAM3Q,KAAK4gB,uBAAuBta,OAAO,CAAC6hB,EAAKtH,gBAAgBsH,EAAKrH,iBAAkB7Q,QAAO,EAAK2B,iBAAgB,IACnK/C,I,sCAmCyB,IAAtBtE,EAAqB,uDAAbN,EAAOxN,KACzBuD,KAAKmb,YAAYzQ,UAAUH,K,2CAG3BvK,KAAKmb,YAAY1Q,gB,sCAGJ,IAAD,SACRyK,EAAQlV,KAAKmb,YAAYjG,MAC7BlV,KAAK+U,aAAaG,GAASlV,KAAKmb,YAChCnb,KAAK4b,iBACL,EAAA5b,KAAKmb,aAAYxS,MAAjB,oBAA0B3I,KAAKqc,mBAAmBnH,KAClDlV,KAAKmb,YAAYvC,WAAU,SAACnD,GACxBA,EAAQhL,cACR,EAAKgJ,cAAc,MAEvB,IAAI2L,EAAUpf,KAAKmb,YAEnB,OADAnb,KAAKmb,YAAc,KACZ,CAACiE,K,yCAEOA,GAAU,IAAD,OACxBpf,KAAKmb,YAAciE,EACnB,IAAIlK,EAAQlV,KAAKmb,YAAYjG,MAC7BlV,KAAK4b,gBACL5b,KAAKmb,YAAYxS,MAAM,GAAG,IAC1B,IAAI0F,IAAWrO,KAAKqO,OAAOnZ,QAAQC,IAAIkZ,GACvCrO,KAAKmb,YAAYvC,WAAU,SAACnD,GACxBA,EAAQhL,cACR,EAAKgF,YAAYpB,MAErBrO,KAAK+U,aAAaG,GAAS,O,2CAET,IAAD,SACbA,EAAQlV,KAAKmb,YAAYjG,MAC7BlV,KAAK+U,aAAaG,GAASlV,KAAKmb,YAChCnb,KAAK4b,iBACL,EAAA5b,KAAKmb,aAAYxS,MAAjB,oBAA0B3I,KAAKqc,mBAAmBnH,KAClD,IAAI7G,IAAWrO,KAAKqO,OAAOnZ,QAAQC,IAAIkZ,GACvCnZ,QAAQC,IAAIkZ,GACZrO,KAAKmb,YAAYvC,WAAU,SAACnD,GACxBA,EAAQhL,cACR,EAAKgF,YAAYpB,MAErBrO,KAAKmb,YAAc,O,wCAGO,IAAdoG,EAAa,wDACrB1S,EAAY,GAOhB,OANAA,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwB/V,UAAUiG,MAAM3Q,KAAKygB,wBAAwBxQ,QAAO,IACxGpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKwhB,iBAAiBlb,OAAO,CAAC,GAAE,GAAOkN,WAAU,EAAKxQ,YAAY,iCAAiC0O,uBAAsB,EAAK1C,iBAAgB,EAAK4C,iBAAgB,EAAKb,eAAc,EAAKY,eAAc,IAChO9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwBhW,YAAYkG,MAAM3Q,KAAKygB,wBAAwBxQ,QAAO,IACtGsR,GACA1S,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwB5D,KAAKlM,MAAM3Q,KAAKygB,wBAAwBna,OAAO,CAAC6hB,EAAKzH,iBAAiByH,EAAKxH,kBAAmB1Q,QAAO,EAAK2B,iBAAgB,IAE3K/C,I,+CAEcpb,GACrB,IAAIob,EAAY,GAMhB,OAJAA,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwB/V,UAAUiG,MAAM3Q,KAAKygB,wBAAwBxQ,QAAO,IACxGpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKwhB,iBAAiBlb,OAAO,EAAE,GAAG7S,GAAK+f,WAAU,EAAKxQ,YAAY,GAAD,OAAIvP,EAAM,SAAW,cAArB,wBAAkDA,EAAM,IAAM,WAA9D,yCAAgHie,uBAAsB,EAAKzC,eAAc,EAAKF,WAAWtb,EAAIme,iBAAgB,EAAKb,eAAc,EAAKY,eAAc,IAC3T9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwBhW,YAAYkG,MAAM3Q,KAAKygB,wBAAwBxQ,QAAO,IAC1GpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwB5D,KAAKlM,MAAM3Q,KAAKygB,wBAAwBna,OAAO,CAAC6hB,EAAKzH,iBAAiByH,EAAKxH,kBAAmB1Q,QAAO,EAAK2B,iBAAgB,IACvK/C,I,0CAESpb,GAAkB,IAAb8tB,IAAY,yDAC7B1S,EAAY,GAQhB,OANAA,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwB/V,UAAUiG,MAAM3Q,KAAKygB,wBAAwBxQ,QAAO,IACxGpB,EAAUha,KAAK,CAACia,OAAO9O,KAAKwhB,iBAAiBlb,OAAO,CAAC,GAAE,GAAMkN,WAAU,EAAKxQ,YAAY,GAAD,OAAIvP,EAAM,SAAW,cAArB,+BAAyDA,EAAM,GAAK,OAApE,sCAA+Gie,uBAAsB,EAAKzC,cAAcsS,EAAIxS,YAAW,EAAK6C,iBAAgB,EAAKb,eAAc,EAAKY,eAAc,IACzT9C,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwBhW,YAAYkG,MAAM3Q,KAAKygB,wBAAwBxQ,QAAO,IACtGsR,GACA1S,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwB5D,KAAKlM,MAAM3Q,KAAKygB,wBAAwBna,OAAO,CAAC6hB,EAAKzH,iBAAiByH,EAAKxH,kBAAmB1Q,QAAO,EAAK2B,iBAAgB,IAE3K/C,I,uCAGMvC,EAAQmV,GAAW,IAAD,OAC3BpX,EAAOrK,KAAKygB,wBAAwBzY,SACpCsC,EAAOtK,KAAKygB,wBAAwBxY,SACpCiN,EAAQlV,KAAKqhB,SAASrhB,KAAKwgB,kBAAoBlU,GAAUmV,EAAWzhB,KAAKzG,KAAO,IAChF6iB,EAAMpc,KAAKqc,mBAAmBnH,GAOlC,OANAlV,KAAKygB,wBAAwB/V,YAC7B1K,KAAKygB,wBAAwB9X,MAAMyT,EAAI,GAAIA,EAAI,GAAK+L,EAAKjS,cACzDlW,KAAKygB,wBAAwB7H,WAAU,SAACnD,GACpCA,EAAQhL,cACR,EAAKgJ,cAAc,MAEhB,CAACyB,EAAO,CAAC7K,EAAKC,M,4CAEHD,EAAKC,GAAO,IAAD,OAC7BtK,KAAKygB,wBAAwB/V,YAC7B1K,KAAKygB,wBAAwB9X,MAAM0B,EAAMC,GACzC,IAAI+D,IAAWrO,KAAKqO,OAAOnZ,QAAQC,IAAIkZ,GACvCrO,KAAKygB,wBAAwB7H,WAAU,SAACnD,GACpCA,EAAQhL,cACR,EAAKgF,YAAYpB,Q,4CAGH/B,EAAQmV,GAAW,IAAD,OAChCvM,EAAQlV,KAAKqhB,SAASrhB,KAAKwgB,kBAAoBlU,GAAUmV,EAAWzhB,KAAKzG,KAAO,IAChF6iB,EAAMpc,KAAKqc,mBAAmBnH,GAClClV,KAAKygB,wBAAwB/V,YAC7B1K,KAAKygB,wBAAwB9X,MAAMyT,EAAI,GAAIA,EAAI,GAAK+L,EAAKjS,cACzD,IAAI7H,IAAWrO,KAAKqO,OAAOnZ,QAAQC,IAAIkZ,GACvCrO,KAAKygB,wBAAwB7H,WAAU,SAACnD,GACpCA,EAAQhL,cACR,EAAKgF,YAAYpB,Q,qCAIV0S,GAAQ,IAAD,OACd7L,EAAQlV,KAAKqhB,SAASrhB,KAAKwgB,mBAAqBO,EAAQ,EAAI/gB,KAAKzG,KAAO,IAC5EyG,KAAKmb,YAAcnb,KAAK+U,aAAaG,GACrClV,KAAK+U,aAAaG,GAAS,KAC3BlV,KAAKmb,YAAYwB,uBACjB3c,KAAKmb,YAAYxS,MAAM,GAAG,IAC1B3I,KAAKmb,YAAYvC,WAAU,SAACnD,GACxBA,EAAQhL,cACR,EAAKgJ,cAAc,Q,0CAGPsN,GAAQ,IAAD,SACnB7L,EAAQlV,KAAKqhB,SAASrhB,KAAKwgB,mBAAqBO,EAAQ,EAAI/gB,KAAKzG,KAAO,IAC5EyG,KAAKmb,YAAYwB,wBACjB,EAAA3c,KAAKmb,aAAYxS,MAAjB,oBAA0B3I,KAAKqc,mBAAmBnH,KAClD,IAAI7G,IAAWrO,KAAKqO,OAAOnZ,QAAQC,IAAIkZ,GACvCrO,KAAKmb,YAAYvC,WAAU,SAACnD,GACxBA,EAAQhL,cACR,EAAKgF,YAAYpB,MAErBrO,KAAK+U,aAAaG,GAASlV,KAAKmb,YAChCnb,KAAKmb,YAAc,O,0CAEH4F,GAAQ,IAAD,OACnB7L,EAAQlV,KAAKqhB,SAASrhB,KAAKwgB,mBAAqBO,EAAQ,EAAI/gB,KAAKzG,KAAO,IAC5EyG,KAAKmb,YAAcnb,KAAK+U,aAAaG,GACrClV,KAAK+U,aAAaG,GAAS,KAC3BlV,KAAKmb,YAAYwB,uBACjB3c,KAAKmb,YAAYxS,MAAM,GAAG,IAC1B,IAAI0F,IAAWrO,KAAKqO,OAAOnZ,QAAQC,IAAIkZ,GACvCrO,KAAKmb,YAAYvC,WAAU,SAACnD,GACxBA,EAAQhL,cACR,EAAKgF,YAAYpB,Q,sCAKrB,IAAI+Q,EAAUpf,KAAKmb,YAEnB,OADAnb,KAAKmb,YAAc,KACZ,CAACiE,K,yCAEOA,GACfpf,KAAKmb,YAAciE,I,iCAInBpf,KAAKzG,S,sCAGLyG,KAAKzG,S,iCAILyG,KAAKzG,S,sCAGLyG,KAAKzG,S,yCAGU+S,GACf,IAAIuC,EAAY,GAIhB,OAHAA,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwB/V,UAAUiG,MAAM3Q,KAAKygB,wBAAwBna,OAAO,CAAC2D,EAAO1N,IAAKuN,GAA6BqB,kBAAkB8D,eAAc,IAClLJ,EAAUha,KAAK,CAACia,OAAO9O,KAAK0hB,wBAAwBpb,OAAO,CAACgG,GAAQtJ,YAAY,mCAAmC0O,uBAAsB,EAAK1C,iBAAgB,EAAK4C,iBAAgB,IACnL/C,EAAUha,KAAK,CAACia,OAAO9O,KAAKygB,wBAAwBhW,YAAYkG,MAAM3Q,KAAKygB,wBAAwBxQ,QAAO,EAAKlB,YAAW,EAAM8B,SAAS,CAAC5G,EAAO1N,IAAKuN,GAA6BqB,oBAC5K0D,I,8CAGavC,GACpB,IAAIqV,EAAW3hB,KAAKwgB,kBAMpB,OAJIxgB,KAAKwgB,kBADM,IAAXlU,EACyB,EAEAtM,KAAKqhB,SAASrhB,KAAKwgB,kBAAoBlU,GAE7D,CAACtM,KAAKwgB,kBAAkB,CAACmB,M,mDAEPA,GAEzB,OADA3hB,KAAKwgB,kBAAoBmB,EAClB3hB,KAAKwgB,oB,wCAGElU,GACd,IAAIuC,EAAY,GAIhB,OAHAA,EAAUha,KAAK,CAACia,OAAO9O,KAAK4gB,uBAAuBlW,UAAUiG,MAAM3Q,KAAK4gB,uBAAuBta,OAAO,CAAC2D,EAAO1N,IAAKuN,GAA6BqB,kBAAkB8D,eAAc,IAChLJ,EAAUha,KAAK,CAACia,OAAO9O,KAAK4hB,uBAAuBtb,OAAO,CAACgG,GAAQtJ,YAAY,0BAA0B0O,uBAAsB,EAAK1C,iBAAgB,EAAK4C,iBAAgB,IACzK/C,EAAUha,KAAK,CAACia,OAAO9O,KAAK4gB,uBAAuBnW,YAAYkG,MAAM3Q,KAAK4gB,uBAAuB3Q,QAAO,EAAKlB,YAAW,EAAM8B,SAAS,CAAC5G,EAAO1N,IAAKuN,GAA6BqB,oBAC1K0D,I,6CAGYvC,GACnB,IAAIuV,EAAU7hB,KAAKzG,KAEnB,OADAyG,KAAKzG,MAAQ+S,EACN,CAACtM,KAAKzG,KAAK,CAACsoB,M,kDAEKA,GAExB,OADA7hB,KAAKzG,KAAOsoB,EACL7hB,KAAKzG,O,+BAIP2b,GAAsB,IAAf4H,EAAc,wDACtBjgB,EAAQigB,EAAO9c,KAAKkb,UAAYlb,KAAK+U,aAKzC,OAJAG,GAASrY,EAAM5H,QACH,IACRigB,GAASrY,EAAM5H,QAEZigB,I,yCAGQA,GAAsB,IAAf4H,EAAc,wDAChCzG,EAAYjf,KAAK8R,MAAMlJ,KAAKS,MAAQ0nB,EAAKjS,cAEzCrO,GADIsgB,EAAKjS,aACL,GAAqC,EAAhC9e,KAAK8R,MAAMgM,EAAQmB,GAAiB8R,EAAKjS,cAEtD,MAAO,CADFhB,EAAQmB,EAAa8R,EAAKjS,aACnBiS,EAAKjS,aAAa,EAAIlW,KAAK4H,EAAEC,EAAIsgB,EAAKjS,aAAa,EAAIlW,KAAK6H,GAAKiV,EAAQ1lB,KAAKkd,KAAKtU,KAAK+U,aAAa9f,OAASohB,GAAW8R,EAAKjS,aAAa,EAAK,M,oCAGlJT,EAASjO,EAAgBuB,GAC/B0M,GACAA,EAAQU,OAAO3O,EAAgBuB,K,6BAIhCvB,EAAgBuB,GAAK,IAAD,OACvB,gEAAavB,EAAgBuB,GAAI,WAC7B,IAAK,IAAIrS,EAAI,EAAGA,EAAI,EAAKqe,aAAa9f,OAAQyB,IAC1C,EAAKumB,cAAc,EAAKlI,aAAare,GAAI8Q,EAAgBuB,GAE7D,GAAI,EAAKmS,UACL,IAAK,IAAIxkB,EAAI,EAAGA,EAAI,EAAKwkB,UAAUjmB,OAAQyB,IACvC,EAAKumB,cAAc,EAAK/B,UAAUxkB,GAAI8Q,EAAgBuB,GAG1D,EAAKoS,aACL,EAAK8B,cAAc,EAAK9B,YAAa3T,EAAgBuB,GAEzD,EAAK0X,wBAAwBtK,OAAO3O,EAAgBuB,GACpD,EAAK6X,uBAAuBzK,OAAO3O,EAAgBuB,Q,2BAItDA,GACD,8DAAWA,GACXA,EAAGlU,OAEHkU,EAAGuC,UAAUvC,EAAGwC,OAAOxC,EAAGwC,QAC1BxC,EAAGgL,SAAS/T,KAAKkW,aAAa,EAAI,GAElCnN,EAAGyC,KAAK,GACRzC,EAAGtP,KAAK,UAAW0uB,EAAKzH,iBAAmB,GAAIyH,EAAKxH,iBAAkBwH,EAAKjS,cAC3EnN,EAAGtP,KAAKuG,KAAKwgB,kBAAkB9U,WAAYyc,EAAKzH,iBAAiB,GAAIyH,EAAKxH,iBAAkBwH,EAAKjS,cACjGnN,EAAGtP,KAAK,SAAU0uB,EAAKtH,gBAAkB,GAAIsH,EAAKrH,gBAAiBqH,EAAKjS,cACxEnN,EAAGtP,KAAKuG,KAAKzG,KAAKmS,WAAYyc,EAAKtH,gBAAgB,GAAIsH,EAAKrH,gBAAiBqH,EAAKjS,cAElF,IAAK,IAAIxf,EAAI,EAAGA,EAAIsJ,KAAK+U,aAAa9f,OAAQyB,IAAK,CAC3CsJ,KAAK+U,aAAare,IAClBsJ,KAAK+U,aAAare,GAAGkgB,KAAK7N,GAE9B,IAAIqT,EAAMpc,KAAKqc,mBAAmB3lB,GAClCqS,EAAG6B,SACH7B,EAAG4B,OAAO,GACV5B,EAAGqC,OAAOgR,EAAI,GAAK+L,EAAKjS,aAAa,EAAEkG,EAAI,GAAK+L,EAAKjS,aAAa,EAAGiS,EAAKjS,cAC1EnN,EAAGyC,KAAH,MAAAzC,EAAE,YAASkB,EAAOxN,OAClBsM,EAAG4B,OAAH,MAAA5B,EAAE,YAAWkB,EAAOxN,OACpBsM,EAAGtP,KAAK/C,EAAEgV,WAAY0Q,EAAI,GAAK+L,EAAKjS,aAAa,EAAEkG,EAAI,GAAK+L,EAAKjS,aAAa,EAAGiS,EAAKjS,aAAciS,EAAKjS,cAG7G,GAAIlW,KAAKkb,UACL,IAAK,IAAIxkB,EAAI,EAAGA,EAAIsJ,KAAKkb,UAAUjmB,OAAQyB,IAAK,CACxCsJ,KAAKkb,UAAUxkB,IACfsJ,KAAKkb,UAAUxkB,GAAGkgB,KAAK7N,GAE3B,IAAIqT,EAAMpc,KAAKqc,mBAAmB3lB,GAAG,GACrCqS,EAAG6B,SACH7B,EAAG4B,OAAO,GACV5B,EAAGqC,OAAOgR,EAAI,GAAK+L,EAAKjS,aAAa,EAAEkG,EAAI,GAAK+L,EAAKjS,aAAa,EAAGiS,EAAKjS,cAC1EnN,EAAGyC,KAAH,MAAAzC,EAAE,YAASkB,EAAOxN,OAClBsM,EAAG4B,OAAH,MAAA5B,EAAE,YAAWkB,EAAOxN,OACpBsM,EAAGtP,KAAK/C,EAAEgV,WAAY0Q,EAAI,GAAK+L,EAAKjS,aAAa,EAAEkG,EAAI,GAAK+L,EAAKjS,aAAa,EAAGiS,EAAKjS,aAAciS,EAAKjS,cAG7GlW,KAAKmb,aACLnb,KAAKmb,YAAYvE,KAAK7N,GAE1B/I,KAAKygB,wBAAwB7J,KAAK7N,GAClC/I,KAAK4gB,uBAAuBhK,KAAK7N,GAEjCA,EAAGsC,Q,oCAGOtC,EAAI5D,EAAQoP,GAAgB,IAAD,OACrC,uEAAoBxL,EAAI5D,EAAQoP,GAAgBvU,KAAKkb,UAAYlb,KAAKqc,mBAAmBrc,KAAKkb,UAAUjmB,OAAO,GAAG,GAAM,GAAK+K,KAAKqc,mBAAmBrc,KAAK+U,aAAa9f,OAAO,GAAG,IAAMkzB,EAAKjS,cAAc,WACtM,IAAK,IAAIxf,EAAI,EAAGA,EAAI,EAAKqe,aAAa9f,OAAQyB,IAAK,CACpB,IAAD,EAA1B,GAAI,EAAKqe,aAAare,IAClB,IAAKqe,aAAare,IAAGiS,MAArB,oBAA8B,EAAK0T,mBAAmB3lB,KAG9D,GAAI,EAAKwkB,UACL,IAAK,IAAIxkB,EAAI,EAAGA,EAAI,EAAKwkB,UAAUjmB,OAAQyB,IAAK,CACpB,IAAD,EAAvB,GAAI,EAAKwkB,UAAUxkB,IACf,IAAKwkB,UAAUxkB,IAAGiS,MAAlB,oBAA2B,EAAK0T,mBAAmB3lB,GAAE,a,GA/pB3CmW,IAAbsb,GACVtR,YAAa,EADHsR,GAEVrb,YAAa,EAFHqb,GAGVjb,kBAAmB,EAHTib,GAIV7U,qBAAsB,EAJZ6U,GAKVzU,cAAgB,IALNyU,GAMVpb,eAAgB,EANNob,GAOV7a,4BAA6B,EAPnB6a,GAQV/Z,kBAAmB,EART+Z,GAUVnT,iBAAmB,EAVTmT,GAYVjS,aAAe,GAZLiS,GAaVzH,iBAAmB,IAbTyH,GAcVxH,iBAAmB,GAdTwH,GAeVtH,gBAAkB,IAfRsH,GAgBVrH,gBAAkB,G,IAwpBvBsH,G,kDAEF,aAAsC,IAAD,2DAAJ,GAApBpmB,EAAwB,EAAxBA,KAAMkT,EAAkB,EAAlBA,MAAOtN,EAAW,EAAXA,EAAEC,EAAS,EAATA,EAAS,4BACjC,cAAMD,EAAEC,IAGHoD,qBAAuBkd,GAAKjS,aAAa,EAE9C,EAAK5iB,MAAQ0O,EACb,EAAKkT,MAAQA,EAEb,EAAK8C,UAAW,EAChB,EAAKzN,MAAQ,CAAC,EAAE,EAAE,GAVe,E,kDAa/B3C,EAAEC,GAAkB,IAAhBN,EAAe,uDAAH,EAClB,+DAAYK,EAAEC,GACd7H,KAAKkV,OAAS9d,KAAKsQ,KAAKH,K,6CAIxB,mEAAgB0C,EAAOxN,Q,6CAIvB,mEAAgBwN,EAAO1N,O,wCAIvByD,KAAKgY,UAAW,EAChBhY,KAAKmZ,yB,6BAGF3R,EAAgBuB,GACnB,gEAAavB,EAAgBuB,K,gCAGvBA,GACNA,EAAGlU,OACHkU,EAAGuC,UAAUvC,EAAGwC,OAAQxC,EAAGwC,QAC3BxC,EAAGyC,KAAH,MAAAzC,EAAE,YAAS/I,KAAKuK,QAChBxB,EAAG4B,OAAH,MAAA5B,EAAE,YAAW/I,KAAKuK,QAClBxB,EAAGtP,KAAKuG,KAAK1M,MAAMoY,WAAY1L,KAAK8H,SAAWqgB,GAAKjS,aAAa,EAAElW,KAAK+H,SAAWogB,GAAKjS,aAAa,EAAGiS,GAAKjS,aAAciS,GAAKjS,cAChInN,EAAGsC,U,GA3CevB,IC3qBLwe,G,4HAAYzb,ICAZ0b,G,4HAAkB1b,ICAlB2b,G,4HAAc3b,ICAd4b,G,4HAAiB5b,ICAjB6b,G,4HAAuB7b,ICAvB8b,G,4HAAwB9b,ICAxB+b,G,4HAAmB/b,ICAnBgc,G,4HAA2Bhc,ICA3Bic,G,4HAAsBjc,ICAtBkc,G,4HAAsBlc,ICAtBmc,G,4HAAkBnc,ICAlBoc,G,4HAAoBpc,ICApBqc,G,4HAAkBrc,ICAlBsc,G,4HAAqBtc,ICArBuc,G,4HAAmBvc,ICAnBwc,G,4HAAmBxc,ICAnByc,G,4HAAYzc,ICAZ0c,G,4HAAkB1c,ICAlB2c,G,4HAAY3c,ICAZ4c,G,4HAAY5c,ICAZ6c,G,4HAAkB7c,ICAlB8c,G,4HAAc9c,ICAd+c,G,4HAAiB/c,ICAjBgd,G,4HAAYhd,ICAZid,G,4HAAsBjd,ICUtB1D,G,kDAYjB,WAAY1J,GAAQ,IAAD,uBACf,cAAMA,IAED,EAAKxJ,YAAY8zB,UAAY,KAIlC,IADA,IAAIC,EAAkB,EAAK/zB,YACpB+zB,IACFA,EAAgBC,uBAAyB,IAAIv1B,SAAQ,SAAC8d,GACnD,EAAKA,GAAc,WAAc,IAAD,uBAAT/d,EAAS,yBAATA,EAAS,gBACsB,IAAD,EAG1B,EAHvB,GAAI,EAAK,EAAKwB,YAAY8zB,UAAUvX,GAChC,OAAO,IAAK,EAAKvc,YAAY8zB,WAAUvX,GAAhC,QAA+C/d,GAElDwQ,EAAMhI,UACN,EAAA/H,SAAQC,IAAR,SAAY,EAAK,EAAKc,YAAY8zB,UAAWvX,GAA7C,OAA4D/d,QAM5Eu1B,EAAkBA,EAAgBznB,UApBvB,OAyBf,EAAK2nB,QAAU,EAAKA,QAAQrjB,KAAb,gBACf,EAAKsjB,MAAQ,EAAKA,MAAMtjB,KAAX,gBACb,EAAK+P,KAAO,EAAKA,KAAK/P,KAAV,gBACZ,EAAKujB,aAAe,EAAKA,aAAavjB,KAAlB,gBACpB,EAAKwjB,WAAa,EAAKA,WAAWxjB,KAAhB,gBAClB,EAAKyjB,cAAgB,EAAKA,cAAczjB,KAAnB,gBACrB,EAAK0jB,cAAgB,EAAKA,cAAc1jB,KAAnB,gBAErB,EAAK2jB,cAAgB7qB,IAAMC,YAE3B,EAAK6qB,cAAgB,GACrB,EAAKC,qBAAuB,GAC5B,EAAK3uB,SAAW,GAIhB,EAAK4uB,YAAc,EAAKA,YAAY9jB,KAAjB,gBACnB,EAAK+jB,UAAY,EAAKA,UAAU/jB,KAAf,gBACjB,EAAK2I,WAAY,EAEjB,EAAKqb,eAAiB,KAEtB,EAAKp1B,SAAW,IAAIq1B,MAAM,IAAIne,GAAY,CACtCoe,IAAK,SAAU3vB,EAAQ4vB,EAAcC,GACjC,OAAI7vB,EAAO4vB,GACA5vB,EAAO4vB,GAEP,SAACE,GAAD,OAAW9vB,EAAOuU,KAAKqb,GAAgBE,EAAS,IAAMA,EAAS,SAIlF,EAAKz1B,SAASC,GAAG,aAAc,EAAKi1B,aACpC,EAAKl1B,SAASC,GAAG,WAAY,EAAKk1B,WAElC,EAAKO,gBAAgB,EAAKl1B,YAAYm1B,MACtC,EAAKC,cACL,EAAKC,qBAEL,EAAKC,MAAQ,CACTC,UAAU,EACVC,cAAc,GAElB,EAAKC,iBAAmB,GACxB,EAAKC,WAAahsB,IAAMC,YACxB,EAAKgsB,eAAiBjsB,IAAMC,YArEb,E,qEAHf,OAAOxI,KAAKc,IAAI8H,KAAK/J,YAAY41B,UAAW7rB,KAAK/J,YAAY61B,yB,0DA2E3C,IAAD,OACjB9rB,KAAK+rB,YAAcC,EAAenyB,aAAa,EAAGmG,KAAK/J,YAAY41B,UAAWz0B,KAAKc,IAAI8H,KAAK/J,YAAY4e,cAAc,EAAE7U,KAAK/J,YAAY61B,qBAAsB,GAC/J,IAAIG,EAAcD,EAAexyB,YAAY,kBAAmBwG,KAAK+rB,aACjEG,EAAmBF,EAAenwB,mBAAmB,mBAAoBmE,KAAK+rB,YAAaE,GAC3FE,EAAc,GAClB,GAAInsB,KAAK/J,YAAYm2B,oBAAoB9e,2BAA4B,CACjE0e,EAAe52B,uBAAuB4K,KAAM,CAAC1K,KAAM,WAAYC,SAAU,YACjE1B,QAAS,CACLK,WAAY,CACR,eAAgB,eAChB,iBAAgB,EAChB,aAAY,EACZyB,UAAU,GAEdH,0BAA0B,KAEtCw2B,EAAe52B,uBAAuB4K,KAAM,CAAC1K,KAAM,WAAYC,SAAU,YACjE1B,QAAS,CACLK,WAAY,CACR,eAAgB,SAChB,iBAAgB,EAChB,aAAY,EACZyB,UAAU,GAEdH,0BAA0B,KAEtCw2B,EAAe52B,uBAAuB4K,KAAM,CAAC1K,KAAM,YAAaC,SAAU,QAClE1B,QAAS,CACLK,WAAY,CACR,eAAgB,WAChB,iBAAgB,EAChB,YAAW,MAG3B8L,KAAKvK,SAASC,GAAG,oBAAoB,WACjC,EAAK22B,gBAAgBt4B,UAAY,EAAKu4B,cAAc/e,OAAS,OAAS,WAE1Eye,EAAe52B,uBAAuB4K,KAAM,CAAC1K,KAAM,cAAeC,SAAU,eACpE1B,QAAS,CACLK,WAAY,CACR,eAAgB,SAChB,iBAAgB,EAChB,cAAa,EACbyB,UAAU,GAEdH,0BAA0B,KAEtCw2B,EAAe52B,uBAAuB4K,KAAM,CAAC1K,KAAM,cAAeC,SAAU,eACpE1B,QAAS,CACLK,WAAY,CACR,eAAgB,eAChB,iBAAgB,EAChB,cAAa,EACbyB,UAAU,GAEdH,0BAA0B,KAGtC22B,EAAYt3B,KAAKm3B,EAAenwB,mBAAmB,kBAAkBmE,KAAKusB,eAAevsB,KAAKwsB,eAAexsB,KAAKqsB,gBAAgBrsB,KAAKysB,kBAAkBzsB,KAAK0sB,oBAC9J,IAAIC,EAAoBX,EAAenwB,mBAAf,MAAAmwB,EAAc,CAAoB,qBAApB,OAA2CG,IAEjFnsB,KAAK0qB,qBAAqB71B,KAAK83B,GAInC3sB,KAAK0qB,qBAAqB71B,KAAKq3B,GAC/BlsB,KAAKC,cAAgB,uB,sCAGTrM,GACZoM,KAAKG,UAAYvM,I,yCAGc,IAAC,IAAD,4BAAf62B,EAAe,yBAAfA,EAAe,iBAC/B,EAAAzqB,KAAKyqB,eAAc51B,KAAnB,QAA2B41B,GAC3BA,EAAc/1B,SAAQ,SAACoH,GACdA,EAAatI,UAAU8M,SAAS,iBAGjC,EAAKssB,qBAAqB9wB,GAF1B,EAAKC,SAASlH,KAAKiH,Q,2CAOVA,GAAe,IAAD,OAC/BA,EAAaf,WAAWrG,SAAQ,SAACm4B,GACxBA,EAAMr5B,UAAU8M,SAAS,iBAG1B,EAAKssB,qBAAqBC,GAF1B,EAAK9wB,SAASlH,KAAKg4B,Q,oCAQ3B7sB,KAAK8sB,YACD9sB,KAAK/J,YAAYm2B,oBAAoBlf,iBAGzClN,KAAKwP,WAAY,I,kCAIjBxP,KAAK+sB,WACD/sB,KAAK/J,YAAYm2B,oBAAoBlf,iBAGzClN,KAAKwP,WAAY,I,kCAGR,IAAD,OAERxP,KAAKjE,SAASrH,SAAQ,SAACgF,GACfA,IAAYzG,SAAS+5B,gBACrB,EAAKnC,eAAiBnxB,GAE1BA,EAAQ/D,UAAW,O,iCAIf,IAAD,OAEPqK,KAAKjE,SAASrH,SAAQ,SAACgF,GACnBA,EAAQ/D,SAAW,EAAK22B,cAAc/e,QAAU,EAAKtX,YAAYg3B,8BAA8BnvB,SAASpE,EAAQrG,MAC5GqG,IAAY,EAAKmxB,gBACjBnxB,EAAQ1E,a,kDAKQ+T,GACxB,IAAI5D,EAASlS,SAASyhB,cAAc,qBAAqBlU,wBAAwB2E,OAC7E1E,EAAQxN,SAASyhB,cAAc,qBAAqBlU,wBAAwBC,MAK5E8T,EAAgBvU,KAAKD,WAAWwqB,gBACpCvqB,KAAKssB,cAAc/B,cAAcxhB,EAAI5D,EAAQoP,EAAevU,KAAK/J,YAAYm2B,oBAAoBpE,cAAgBvnB,OAAQnM,K,0CAGxG,IAAD,OACZ6Q,EAASlS,SAASyhB,cAAc,qBAAqBlU,wBAAwB2E,OAC7E1E,EAAQxN,SAASyhB,cAAc,qBAAqBlU,wBAAwBC,MAChFT,KAAKA,KAAK/J,YAAY8zB,UAAY,IAAI/pB,KAAK/J,YAAYm2B,oBAAoBpsB,KAAKvK,SAAUgL,EAAO0E,GACjGnF,KAAKssB,cAAgBtsB,KAAKA,KAAK/J,YAAY8zB,UACvC/pB,KAAK/J,YAAYm2B,oBAAoB9e,6BACrCtN,KAAKktB,gBAAiB,EACtBltB,KAAKmtB,cAAe,EACpBntB,KAAKotB,YAAc,GACnBn6B,SAASsB,iBAAiB,WAAW,SAACC,GAClC,IAAK,EAAK44B,YAAY54B,EAAMyE,KAAM,CAC9B,EAAKm0B,YAAY54B,EAAMyE,MAAO,EAC9B,EAAKi0B,eAA+B,YAAd14B,EAAMyE,KAAqB,EAAKi0B,eACtD,EAAKC,aAA6B,UAAd34B,EAAMyE,KAAmB,EAAKk0B,aAClD,IAAIE,GAAmB,EACL,MAAd74B,EAAMyE,KAAe,EAAKi0B,eAC1BG,EAAmB,EAAKf,cAAcvuB,OACjB,cAAdvJ,EAAMyE,IAETo0B,EADA,EAAKF,aACc,EAAKb,cAAc3e,WAEnB,EAAK2e,cAAc1e,WAErB,eAAdpZ,EAAMyE,IAETo0B,EADA,EAAKF,aACc,EAAKb,cAAcve,cAEnB,EAAKue,cAActe,cAErB,MAAdxZ,EAAMyE,MACbo0B,EAAmB,EAAKf,cAAc9e,aAEtC6f,GACA74B,EAAM4H,qBAIlBnJ,SAASsB,iBAAiB,SAAS,SAACC,GAC5B,EAAK44B,YAAY54B,EAAMyE,OACvB,EAAKm0B,YAAY54B,EAAMyE,MAAO,EAC9B,EAAKi0B,eAAiB,EAAKA,kBAAkC,YAAd14B,EAAMyE,KACrD,EAAKk0B,aAAe,EAAKA,gBAAgC,UAAd34B,EAAMyE,UAIzDgM,EAAMhI,UACNf,OAAOoxB,IAAMttB,KAAKssB,eAItBtsB,KAAKD,WAAaC,KAAKwqB,cAAcpqB,QACrCJ,KAAKD,WAAWwtB,aAAavtB,KAAKG,WAClCH,KAAKD,WAAWytB,iBAAiBxtB,KAAKC,eACtCD,KAAK0qB,qBAAqBh2B,SAAQ,SAAC+4B,GAC/B,EAAK1tB,WAAW2tB,gBAAgBD,MAEpCztB,KAAKyqB,cAAc/1B,SAAQ,SAACoH,GACxB,EAAKiE,WAAW4tB,gBAAgB7xB,MAEpCkE,KAAK4tB,SAAU,EACf5tB,KAAKE,gB,yCAGU2tB,EAAWC,GAE1B7oB,EAAM7G,qB,8EAOF2K,GACA9D,EAAMhI,UACN8L,EAAGglB,uBAAwB,K,4BAI7BhlB,EAAIilB,GAAkB,IAAD,OAEnB7oB,EAASlS,SAASyhB,cAAc,gBAAgBlU,wBAAwB2E,OAClElS,SAASyhB,cAAc,iBAAiBlU,wBAAwB2E,OAChElS,SAASyhB,cAAc,oBAAoBlU,wBAAwB2E,OAUhE4D,EAAGklB,aAAallB,EAAGpK,YAC3BwG,GACEwf,OAAOqJ,GAyCdhuB,KAAKvK,SAASC,GAAG,UAAU,WAEvBqT,EAAG2G,YAEP1P,KAAKvK,SAASC,GAAG,QAAQ,WAErBqT,EAAG6K,UAKP5T,KAAKvK,SAASC,GAAG,kBAAkB,WAE/B,EAAKw4B,4BAA4BnlB,MAErC/I,KAAKuqB,cAAcxhB,GAEf/I,KAAK/J,YAAYm2B,oBAAoBlf,kBACrClN,KAAKvK,SAASia,W,2BAGjB3G,GAED,IAAIvB,EAAiBpQ,KAAKc,IAAI8H,KAAK+rB,YAAYz4B,MAAM0M,KAAK/J,YAAY61B,qBAEtE/iB,EAAGolB,WAAW,KAGdnuB,KAAKssB,cAAcnW,OAAO3O,EAAgBuB,GAC1C/I,KAAKssB,cAAc1V,KAAK7N,K,mCAQfA,GACT,OAAI/I,KAAKssB,cAAclC,eAGnBpqB,KAAKssB,cAAclC,aAAarhB,IAEzB,K,iCAIJA,GACP,OAAI/I,KAAKssB,cAAcjC,YAEZrqB,KAAKssB,cAAcjC,e,oCAIpBthB,GACV,OAAI/I,KAAKssB,cAAchC,gBAGnBtqB,KAAKssB,cAAchC,cAAcvhB,IAE1B,K,oCAIDA,GAIV,IAAIqlB,EAAenT,MAAMoT,KAAKp7B,SAASyhB,cAAc,mCAAmC3Z,YAAYxE,KAAI,SAAAgI,GAAI,OAAIA,EAAKiC,wBAAwBC,SAAO5J,QAAO,SAACC,EAAIwmB,GAAL,OAAcxmB,EAAMwmB,KAC/K8Q,EAAeh3B,KAAK0C,IAAIs0B,EAAcrlB,EAAGpK,aACzC,IAAI/K,EAAQX,SAASyhB,cAAc,uBAC/B4Z,EAAa16B,EAAM4M,wBAAwBC,MAC/C7M,EAAM0I,MAAMoI,KAAOtN,KAAK2C,IAAI,GAAIq0B,EAAeE,GAAc,GAAK,KAGlE,IAAInpB,EAASlS,SAASyhB,cAAc,gBAAgBlU,wBAAwB2E,OAClElS,SAASyhB,cAAc,iBAAiBlU,wBAAwB2E,OAChElS,SAASyhB,cAAc,oBAAoBlU,wBAAwB2E,OACzEnF,KAAKuuB,OAITt7B,SAASyhB,cAAc,qBAAqBpY,MAAM6I,OAASA,EAAO,KAClEnF,KAAKkuB,4BAA4BnlB,K,wCAGlB,IAAD,OACT/I,KAAKurB,MAAMC,WACZxrB,KAAKwuB,SAAS,CAAChD,UAAU,IACzBxrB,KAAK0rB,iBAAmB,GACxBz4B,SAASqL,iBAAiB,2CAA2C5J,SAAQ,SAAC+5B,GACrEA,EAAM94B,WACP,EAAK+1B,iBAAiB72B,KAAK45B,GAC3BA,EAAM94B,UAAW,S,yCAQ7B,IADAqK,KAAKwuB,SAAS,CAAChD,UAAU,IAClBxrB,KAAK0rB,iBAAiBz2B,QACzB+K,KAAK0rB,iBAAiBrgB,MAAM1V,UAAW,I,4CAIxB,IAAD,OACbqK,KAAKurB,MAAME,eACZzrB,KAAKwuB,SAAS,CAAC/C,cAAc,IAC7BzrB,KAAK0rB,iBAAmB,GACxBz4B,SAASqL,iBAAiB,2CAA2C5J,SAAQ,SAAC+5B,GACrEA,EAAM94B,WACP,EAAK+1B,iBAAiB72B,KAAK45B,GAC3BA,EAAM94B,UAAW,S,6CAQ7B,IADAqK,KAAKwuB,SAAS,CAAC/C,cAAc,IACtBzrB,KAAK0rB,iBAAiBz2B,QACzB+K,KAAK0rB,iBAAiBrgB,MAAM1V,UAAW,EAHR,2BAAf+4B,EAAe,yBAAfA,EAAe,gBAKS,IAAD,EAAvCA,GAAiBA,EAAcz5B,SAC/B,EAAA+K,KAAKssB,eAAcne,UAAnB,QAAgCugB,K,+BAKpC,OACQ,yBAAK1tB,UAAS,qBAAgBhB,KAAK/J,YAAY04B,YAC3C,kBAAC,GAAD,CAAY1tB,IAAKjB,KAAKwqB,cAAelpB,gBAAiBtB,KAAKsB,gBAAgBuF,KAAK7G,MAAOyB,oBAAqBzB,KAAKyB,oBAAoBoF,KAAK7G,MAAOwB,YAAaxB,KAAKP,MAAMgH,gBAAgBU,UAAYnH,KAAKP,MAAMgH,gBAAgBU,SAASlS,OAAS,IACjP+K,KAAKurB,MAAMC,UACR,kBAAC,GAAD,CAAYvqB,IAAKjB,KAAK2rB,WAAYtlB,MAAOrG,KAAKG,UAAW2F,iBAAkB9F,KAAK8F,iBAAiBe,KAAK7G,QAEzGA,KAAKurB,MAAME,cACR,kBAAC,GAAD,CAAgBxqB,IAAKjB,KAAK4rB,eAAgBvlB,MAAOrG,KAAKG,UAAW+G,qBAAsBlH,KAAKkH,qBAAqBL,KAAK7G,QAGrHiF,EAAMzG,iBAAiBwB,KAAK/J,YAAYm2B,qBAUjC,uBAAMn2B,YAAYm2B,oBAAlB,MATA,yBAAKprB,UAAU,oBAEPhB,KAAK4tB,QACG,kBAAC,KAAD,CAAQ1D,QAASlqB,KAAKkqB,QAASC,MAAOnqB,KAAKmqB,MAAOvT,KAAM5W,KAAK4W,KAAM2T,cAAevqB,KAAKuqB,cAAeH,aAAcpqB,KAAKoqB,aAAcE,cAAetqB,KAAKsqB,cAAesE,aAAc5uB,KAAKoqB,aAAcyE,WAAY7uB,KAAKsqB,cAAeD,WAAYrqB,KAAKqqB,aAE5P,mD,GA1fR3oB,iBAAnByH,GACV8gB,sBAAwB,CAAC,WAAW,WAAW,YAAY,cAAc,eAD/D9gB,GAGV8jB,8BAAgC,CAAC,QAAQ,YAH/B9jB,GAKV0iB,UAAY,GALF1iB,GAMV2iB,oBAAsB,I,ICbZgD,G,4KAKb9C,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,QAASlB,UAAU,GAAQ43B,EAAexzB,mBAAmB,GAAIwzB,EAAer1B,oBAClIq1B,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,QAASlB,UAAU,EAAOK,KAAM,CAAC8E,KAAM,KAAMyyB,EAAexzB,mBAAmB,GAAIwzB,EAAe70B,4BACpJ60B,EAAepzB,eAAeoH,KAAK+uB,WAAY/uB,KAAKgvB,UAC5C,CACIl2B,UAAW,CACPnE,MAAOqL,KAAKivB,WACZ76B,SAAU4L,KAAKwV,WACfzc,cAAc,KAI9BizB,EAAepzB,eAAeoH,KAAKivB,WAAYjvB,KAAKwV,WAC5C,CACI3c,mBAAmB,EACnBC,UAAW,CACPnE,MAAOqL,KAAK+uB,cAK5B/C,EAAe52B,uBAAuB4K,KAAM,aAAcA,KAAKivB,WAAY,CAACt6B,MAAOqL,KAAK+uB,WAAY/5B,OAAO,IAE3Gg3B,EAAe52B,uBAAuB4K,KAAM,aAAcA,KAAK+uB,YAE/D/C,EAAe52B,uBAAuB4K,KAAM,YAAaA,KAAK+uB,YAE9D/C,EAAe52B,uBAAuB4K,KAAM,kBAAmBA,KAAKivB,YAEpEjD,EAAe52B,uBAAuB4K,KAAM,mBAE5CgsB,EAAe52B,uBAAuB4K,KAAM,kBAE5CgsB,EAAep2B,iBAAiBoK,KAAM,QAASA,KAAK+uB,YAGpD/C,EAAehwB,cAAcgE,KAAK+uB,WAAY/uB,KAAKivB,YACnDjD,EAAehwB,cAAcgE,KAAKivB,WAAYjvB,KAAKkvB,kBACnDlD,EAAehwB,cAAcgE,KAAKmvB,qBAAsBnvB,KAAKovB,kBAC7DpD,EAAehwB,cAAcgE,KAAKqvB,YAAarvB,KAAK+uB,YAGpD,IAAIO,EAAoBtD,EAAenwB,mBAAmB,eAAgBmE,KAAKkvB,iBAAkBlvB,KAAKuvB,iBAClGC,EAAuBxD,EAAenwB,mBAAmB,kBAAmBmE,KAAKyvB,sBAAuBzvB,KAAKmvB,sBAC7GO,EAAsB1D,EAAenwB,mBAAmB,iBAAkBmE,KAAK+uB,WAAYO,EAAmBE,GAE9GG,EAAa3D,EAAenwB,mBAAmB,iBAAkBmE,KAAKivB,WAAYjvB,KAAKovB,iBAAkBpvB,KAAK4vB,uBAE9GC,EAAa7D,EAAenwB,mBAAmB,QAASmE,KAAKqvB,aAEjE,0EAAuBK,EAAqBC,EAAYE,O,GAtDpB1mB,IAAvB2lB,GACV/E,SAAW,OADD+E,GAEV7E,sBAAwB,CAAC,aAAc,aAAc,YAAa,kBAAmB,iBAAkB,kBAAmB,S,UCDhH6F,G,4HAA4BhB,IAA5BgB,GACV1D,oBAAsBtX,GADZgb,GAEVnB,UAAY,YAFFmB,GAGV1E,KAAO,Y,UCHG2E,G,4HAAmCjB,IAAnCiB,GACV3D,oBAAsBlV,GADZ6Y,GAEVpB,UAAY,mBAFFoB,GAGV3E,KAAO,mB,UCHG4E,G,4HAAmClB,IAAnCkB,GACV5D,oBAAsBrS,GADZiW,GAEVrB,UAAY,mBAFFqB,GAGV5E,KAAO,mB,UCJG6E,G,4HAA2CnB,IAA3CmB,GACV7D,oBAAsB/R,GADZ4V,GAEVtB,UAAY,2BAFFsB,GAGV7E,KAAO,2B,ICHG8E,G,4KAKblE,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,QAASlB,SAAU,QAAS43B,EAAexzB,mBAAmB,GAAIwzB,EAAer1B,oBAEnIq1B,EAAe52B,uBAAuB4K,KAAM,OAAQA,KAAK+uB,YAEzD/C,EAAe52B,uBAAuB4K,KAAM,OAE5CgsB,EAAep2B,iBAAiBoK,KAAM,QAASA,KAAK+uB,YAGpD/C,EAAehwB,cAAcgE,KAAKqvB,YAAarvB,KAAK+uB,YAGpD,IAAIoB,EAAyBnE,EAAenwB,mBAAmB,qBAAsBmE,KAAKowB,WAAYpwB,KAAKqwB,WACvGC,EAAmBtE,EAAenwB,mBAAmB,cAAemE,KAAK+uB,WAAYoB,GACrFN,EAAa7D,EAAenwB,mBAAmB,aAAcmE,KAAKqvB,aAEtE,0EAAuBiB,EAAkBT,O,GArBJ1mB,IAAxB+mB,GACVnG,SAAW,QADDmG,GAEVjG,sBAAwB,CAAC,OAAQ,MAAO,S,ICF9BsG,G,4KAKbvE,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,QAASlB,SAAU,WAAY43B,EAAexzB,mBAAmB,GAAIwzB,EAAer1B,oBAEtIq1B,EAAe52B,uBAAuB4K,KAAM,UAAWA,KAAK+uB,YAE5D/C,EAAe52B,uBAAuB4K,KAAM,WAE5CgsB,EAAep2B,iBAAiBoK,KAAM,QAASA,KAAK+uB,YAGpD/C,EAAehwB,cAAcgE,KAAKqvB,YAAarvB,KAAK+uB,YAGpD,IAAIoB,EAAyBnE,EAAenwB,mBAAmB,qBAAsBmE,KAAKwwB,cAAexwB,KAAKywB,eAC1GH,EAAmBtE,EAAenwB,mBAAmB,cAAemE,KAAK+uB,WAAYoB,GACrFN,EAAa7D,EAAenwB,mBAAmB,aAAcmE,KAAKqvB,aAEtE,0EAAuBiB,EAAkBT,O,GArBJ1mB,IAAxBonB,GACVxG,SAAW,QADDwG,GAEVtG,sBAAwB,CAAC,UAAW,UAAW,S,ICFrCyG,G,4KAKb1E,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,QAASlB,SAAU,WAAY43B,EAAexzB,mBAAmB,GAAIwzB,EAAer1B,oBAEtIq1B,EAAe52B,uBAAuB4K,KAAM,CAAC1K,KAAM,WAAYC,SAAU,mBAAoByK,KAAK+uB,YAElG/C,EAAe52B,uBAAuB4K,KAAM,CAAC1K,KAAM,UAAWC,SAAU,qBAAsByK,KAAK+uB,YAEnG/C,EAAe52B,uBAAuB4K,KAAM,CAAC1K,KAAM,cAAeC,SAAU,8BAE5Ey2B,EAAe52B,uBAAuB4K,KAAM,cAE5CgsB,EAAep2B,iBAAiBoK,KAAM,QAASA,KAAK+uB,YAGpD/C,EAAehwB,cAAcgE,KAAKqvB,YAAarvB,KAAK+uB,YAGpD,IAAI4B,EAAiB3E,EAAenwB,mBAAmB,aAAcmE,KAAK4wB,eAAgB5wB,KAAK6wB,eAC3FC,EAAoB9E,EAAenwB,mBAAmB,gBAAiBmE,KAAK+wB,kBAAmB/wB,KAAKgxB,kBACpGC,EAAmBjF,EAAenwB,mBAAmB,eAAgBmE,KAAK+uB,WAAY4B,EAAgBG,GACtGjB,EAAa7D,EAAenwB,mBAAmB,aAAcmE,KAAKqvB,aAEtE,0EAAuB4B,EAAkBpB,O,GA1BJ1mB,IAAxBunB,GACV3G,SAAW,QADD2G,GAEVzG,sBAAwB,CAAC,WAAY,UAAW,cAAe,aAAc,S,UCDnEiH,G,4HAA6BhB,IAA7BgB,GACV9E,oBAAsBpR,GADZkW,GAEVvC,UAAY,cAFFuC,GAGV9F,KAAO,gB,UCHG+F,G,4HAAkCjB,IAAlCiB,GACV/E,oBAAsBjP,GADZgU,GAEVxC,UAAY,mBAFFwC,GAGV/F,KAAO,qB,UCJGgG,G,4HAA6Bb,IAA7Ba,GACVhF,oBAAsBtO,GADZsT,GAEVzC,UAAY,cAFFyC,GAGVhG,KAAO,gB,UCFGiG,G,4HAAkCd,IAAlCc,GACVjF,oBAAsBzM,GADZ0R,GAEV1C,UAAY,mBAFF0C,GAGVjG,KAAO,qB,UCHGkG,G,4HAA6BZ,IAA7BY,GACVlF,oBAAsB7L,GADZ+Q,GAEV3C,UAAY,cAFF2C,GAGVlG,KAAO,gB,UCHGmG,G,4HAAkCb,IAAlCa,GACVnF,oBAAsBtK,GADZyP,GAEV5C,UAAY,mBAFF4C,GAGVnG,KAAO,sB,UCHGoG,G,4KAKbxF,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,SAAUC,SAAU,QAASd,KAAM,CAAC8E,KAAM,KAAMyyB,EAAexzB,mBAAmB,GAAIwzB,EAAer1B,oBAEvJq1B,EAAe52B,uBAAuB4K,KAAM,SAAUA,KAAKyxB,aAE3DzF,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,SAAUC,SAAU,QAASd,KAAM,CAAC8E,KAAM,KAAMyyB,EAAexzB,mBAAmB,GAAIwzB,EAAer1B,oBAEvJq1B,EAAe52B,uBAAuB4K,KAAM,SAAUA,KAAK0xB,aAE3D1F,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,OAAQC,SAAU,QAASd,KAAM,CAAC8E,KAAM,KAAMyyB,EAAexzB,mBAAmB,GAAIwzB,EAAer1B,oBAErJq1B,EAAe52B,uBAAuB4K,KAAM,OAAQA,KAAK2xB,WAEzD3F,EAAe52B,uBAAuB4K,KAAM,SAE5CgsB,EAAep2B,iBAAiBoK,KAAM,QAASA,KAAKyxB,aAGpDzF,EAAehwB,cAAcgE,KAAKqvB,YAAarvB,KAAKyxB,aAGpD,IAAIG,EAAc5F,EAAenwB,mBAAmB,eAAgBmE,KAAKyxB,YAAazxB,KAAK6xB,cACvFC,EAAc9F,EAAenwB,mBAAmB,eAAgBmE,KAAK0xB,YAAa1xB,KAAK+xB,cACvFC,EAAYhG,EAAenwB,mBAAmB,aAAcmE,KAAK2xB,UAAW3xB,KAAKiyB,YACjFC,EAAalG,EAAenwB,mBAAmB,cAAemE,KAAKmyB,aACnEtC,EAAa7D,EAAenwB,mBAAmB,cAAemE,KAAKqvB,aAEvE,0EAAuBuC,EAAaE,EAAaE,EAAWE,EAAYrC,O,GA/BpC1mB,IAAvBqoB,GACVzH,SAAW,OADDyH,GAEVvH,sBAAwB,CAAC,SAAU,SAAU,OAAQ,QAAS,S,ICHpDmI,G,4KAIb,sEAEApyB,KAAKqyB,gCAAkCrG,EAAerxB,YAAY,6BAA8B,cAAe,aAC/GqxB,EAAe/wB,eAAe+E,KAAKqyB,gCAAiCryB,KAAKsyB,4BAGzE,IAAIC,EAAkCvG,EAAenwB,mBAAmB,6BAA8BmE,KAAKqyB,iCAE3G,0EAAuBE,O,GAZ4Bf,IAAtCY,GACVnI,sBAAwB,CAAC,8B,ICDfuI,G,4KAKbxG,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,QAASlB,SAAU,WAAY43B,EAAexzB,mBAAmB,GAAIwzB,EAAer1B,oBAEtIq1B,EAAe52B,uBAAuB4K,KAAM,UAAWA,KAAK+uB,YAE5D/C,EAAe52B,uBAAuB4K,KAAM,WAE5CgsB,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,YAAaO,OAAQ,qCAAsCm2B,EAAe10B,iBAAiB,EAAE,KAE/I00B,EAAe52B,uBAAuB4K,KAAM,YAAaA,KAAKyyB,gBAE9DzG,EAAep2B,iBAAiBoK,KAAM,QAASA,KAAK+uB,YAEpD/uB,KAAK0yB,kBAAoB1G,EAAerxB,YAAY,eAAgB,UAAW,WAC/EqxB,EAAe/wB,eAAe+E,KAAK0yB,kBAAmB1yB,KAAK2yB,cAG3D3G,EAAehwB,cAAcgE,KAAKqvB,YAAarvB,KAAKyxB,aAGpD,IAAItB,EAAyBnE,EAAenwB,mBAAmB,qBAAsBmE,KAAKwwB,cAAexwB,KAAKywB,eAC1GH,EAAmBtE,EAAenwB,mBAAmB,cAAemE,KAAK+uB,WAAYoB,GACrFN,EAAa7D,EAAenwB,mBAAmB,aAAcmE,KAAKqvB,aAClEuD,EAAiB5G,EAAenwB,mBAAmB,CAACjC,GAAI,mBAAoBP,QAAQ,CAAC,oBAAqB2G,KAAKyyB,eAAgBzyB,KAAK6yB,iBACpIC,EAAoB9G,EAAenwB,mBAAmB,eAAgBmE,KAAK0yB,mBAE/E,0EAAuBpC,EAAkBT,EAAY+C,EAAgBE,O,GA9BjC3pB,IAAvBqpB,GACVzI,SAAW,OADDyI,GAEVvI,sBAAwB,CAAC,UAAW,UAAW,QAAS,YAAa,gB,ICF3D8I,G,4KAKb/G,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,QAASlB,UAAU,EAAOK,KAAM,CAAC8E,KAAM,KAAMyyB,EAAexzB,mBAAmB,GAAIwzB,EAAer1B,oBACpJq1B,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,QAASO,OAAQ,YAAazB,UAAU,EAAOK,KAAM,CAAC8E,KAAM,KAAMyyB,EAAexzB,mBAAmB,GAAIwzB,EAAe70B,4BACzK60B,EAAepzB,eAAeoH,KAAK+uB,WAAY/uB,KAAKgzB,YAC5C,CACIl6B,UAAW,CACPnE,MAAOqL,KAAKizB,WACZ7+B,SAAU4L,KAAKkzB,aACfl6B,OAAO,KAIvBgzB,EAAepzB,eAAeoH,KAAKizB,WAAYjzB,KAAKkzB,aAC5C,CACIr6B,mBAAmB,EACnBC,UAAW,CACPnE,MAAOqL,KAAK+uB,WACZh2B,cAAc,EACdC,OAAO,KAKvBgzB,EAAe52B,uBAAuB4K,KAAM,cAAeA,KAAK+uB,YAEhE/C,EAAe52B,uBAAuB4K,KAAM,eAAgB,CAACrL,MAAOqL,KAAK+uB,WAAY/5B,OAAO,GAAOgL,KAAKizB,YAExGjH,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,SAAUC,SAAU,QAASd,KAAM,CAAC8E,KAAM,KAAMyyB,EAAexzB,mBAAmB,GAAIwzB,EAAer1B,oBAEvJq1B,EAAe52B,uBAAuB4K,KAAM,SAAUA,KAAKmzB,aAE3DnH,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,MAAOC,SAAU,QAASd,KAAM,CAAC8E,KAAM,KAAMyyB,EAAexzB,mBAAmB,GAAIwzB,EAAer1B,oBAEpJq1B,EAAe52B,uBAAuB4K,KAAM,MAAOA,KAAKozB,UAExDpH,EAAep2B,iBAAiBoK,KAAM,QAASA,KAAKyxB,aAGpDzF,EAAehwB,cAAcgE,KAAKqvB,YAAarvB,KAAK+uB,YAKpD,IAAIsE,EAAmBrH,EAAenwB,mBAAmB,kBAAmBmE,KAAK+uB,WAAY/uB,KAAKszB,mBAC9FC,EAAoBvH,EAAenwB,mBAAmB,mBAAoBmE,KAAKizB,WAAYjzB,KAAKwzB,oBAEhGC,EAAczH,EAAenwB,mBAAmB,eAAgBmE,KAAKmzB,YAAanzB,KAAK0zB,cACvFC,EAAW3H,EAAenwB,mBAAmB,YAAamE,KAAKozB,SAAUpzB,KAAK4zB,WAC9E/D,EAAa7D,EAAenwB,mBAAmB,cAAemE,KAAKqvB,aAEvE,0EAAuBgE,EAAkBE,EAAmBE,EAAaE,EAAU9D,O,GAtDxC1mB,IAA9B4pB,GACVhJ,SAAW,WADDgJ,GAEV9I,sBAAwB,CAAC,cAAe,eAAgB,SAAU,MAAO,S,UCD/D4J,G,4HAAsBzB,IAAtByB,GACVzH,oBAAsB7J,GADZsR,GAEVlF,UAAY,MAFFkF,GAGVzI,KAAO,qB,UCHG0I,G,4HAAyBtB,IAAzBsB,GACV1H,oBAAsBjE,GADZ2L,GAEVnF,UAAY,UAFFmF,GAGV1I,KAAO,wB,UCHG2I,G,4HAAsB3B,IAAtB2B,GACV3H,oBAAsB9D,GADZyL,GAEVpF,UAAY,MAFFoF,GAGV3I,KAAO,M,UCHG4I,G,4HAA4BxC,IAA5BwC,GACV5H,oBAAsB7D,GADZyL,GAEVrF,UAAY,YAFFqF,GAGV5I,KAAO,Y,UCHG6I,G,4HAAwBzC,IAAxByC,GACV7H,oBAAsB5D,GADZyL,GAEVtF,UAAY,QAFFsF,GAGV7I,KAAO,W,UCHG8I,G,4HAA2BnB,IAA3BmB,GACV9H,oBAAsB3D,GADZyL,GAEVvF,UAAY,WAFFuF,GAGV9I,KAAO,W,ICJG+I,G,4KAKbnI,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,SAAUC,SAAU,QAASd,KAAM,CAAC8E,KAAM,KAAMyyB,EAAexzB,mBAAmB,GAAIwzB,EAAer1B,oBAEvJq1B,EAAe52B,uBAAuB4K,KAAM,SAAUA,KAAKyxB,aAE3DzF,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,SAAUC,SAAU,QAASd,KAAM,CAAC8E,KAAM,KAAMyyB,EAAexzB,mBAAmB,GAAIwzB,EAAer1B,oBAEvJq1B,EAAe52B,uBAAuB4K,KAAM,SAAUA,KAAK0xB,aAE3D1F,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,OAAQC,SAAU,QAASd,KAAM,CAAC8E,KAAM,KAAMyyB,EAAexzB,mBAAmB,GAAIwzB,EAAer1B,oBAErJq1B,EAAe52B,uBAAuB4K,KAAM,OAAQA,KAAK2xB,WAEzD3F,EAAep2B,iBAAiBoK,KAAM,QAASA,KAAKyxB,aAGpDzF,EAAehwB,cAAcgE,KAAKqvB,YAAarvB,KAAKyxB,aAGpD,IAAIG,EAAc5F,EAAenwB,mBAAmB,eAAgBmE,KAAKyxB,YAAazxB,KAAK6xB,cACvFC,EAAc9F,EAAenwB,mBAAmB,eAAgBmE,KAAK0xB,YAAa1xB,KAAK+xB,cACvFC,EAAYhG,EAAenwB,mBAAmB,aAAcmE,KAAK2xB,UAAW3xB,KAAKiyB,YACjFpC,EAAa7D,EAAenwB,mBAAmB,cAAemE,KAAKqvB,aAEvE,0EAAuBuC,EAAaE,EAAaE,EAAWnC,O,GA5BrB1mB,IAA1BgrB,GACVpK,SAAW,UADDoK,GAEVlK,sBAAwB,CAAC,SAAU,SAAU,OAAQ,S,ICF3CmK,G,4KAIb,sEAEAp0B,KAAKq0B,uBAAyBrI,EAAerxB,YAAY,oBACjD,CAACrH,MAAO,SAAU8G,SAAU,uCAC5B,CAAC9G,MAAO,SAAU8G,SAAU,0CAC5B,CAAC9G,MAAO,SAAU8G,SAAU,+CACpC4xB,EAAe/wB,eAAe+E,KAAKq0B,uBAAwBr0B,KAAKs0B,mBAGhE,IAAIC,EAAyBvI,EAAenwB,mBAAmB,oBAAqBmE,KAAKq0B,wBAEzF,0EAAuBE,O,GAfgBJ,IAA1BC,GACVnK,sBAAwB,CAAC,qB,UCAfuK,G,4HAAiCJ,IAAjCI,GACVpI,oBAAsB1D,GADZ8L,GAEV7F,UAAY,kBAFF6F,GAGVpJ,KAAO,oB,UCHGqJ,G,4HAAkCN,IAAlCM,GACVrI,oBAAsBzD,GADZ8L,GAEV9F,UAAY,mBAFF8F,GAGVrJ,KAAO,qB,ICJGsJ,G,4KAKb1I,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,OAAQO,OAAQ,qCAAsCm2B,EAAe10B,iBAAiB,EAAE,KAE1I00B,EAAe52B,uBAAuB4K,KAAM,OAAQA,KAAK20B,WAEzD3I,EAAep2B,iBAAiBoK,KAAM,QAASA,KAAK20B,WAGpD3I,EAAehwB,cAAcgE,KAAKqvB,YAAarvB,KAAK20B,WAGpD,IAAIC,EAAiB5I,EAAenwB,mBAAmB,CAACjC,GAAI,mBAAoBP,QAAQ,CAAC,kBAAkB,QAAS2G,KAAK20B,WACrHE,EAAkB7I,EAAenwB,mBAAmB,oBAAqBmE,KAAK80B,YAC9EjF,EAAa7D,EAAenwB,mBAAmB,cAAemE,KAAKqvB,aAEvE,0EAAuBuF,EAAgBC,EAAiBhF,O,GAnBpB1mB,IAAvBurB,GACV3K,SAAW,OADD2K,GAEVzK,sBAAwB,CAAC,OAAQ,S,ICFvB8K,G,4KAIb,sEAEA/0B,KAAKg1B,mCAAqChJ,EAAe3wB,eAAe,6BAChE,CAAC/H,MAAO,iBAAkB8G,SAAU,kCAC5C4xB,EAAexwB,kBAAkBwE,KAAKg1B,mCAAoCh1B,KAAKi1B,4BAG/E,IAAIC,EAAkClJ,EAAenwB,mBAAmB,mCAAoCmE,KAAKg1B,oCAEjH,0EAAuBE,O,GAbiBR,IAA3BK,GACV9K,sBAAwB,CAAC,8B,ICDfkL,G,4KAIb,sEAEAn1B,KAAKo1B,iCAAmCpJ,EAAe3wB,eAAe,2BAC9D,CAAC/H,MAAO,YAAa8G,SAAU,6BAC/B,CAAC9G,MAAO,YAAa8G,SAAU,8BACvC4xB,EAAexwB,kBAAkBwE,KAAKo1B,iCAAkC,CAAChhC,SAAU4L,KAAKq1B,yBAA0B55B,aAAa,IAG/H,IAAI65B,EAAgCtJ,EAAenwB,mBAAmB,iCAAkCmE,KAAKo1B,kCAE7G,0EAAuBE,O,GAdcZ,IAAxBS,GACVlL,sBAAwB,CAAC,4B,ICDfsL,G,4KAKbvJ,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,OAAQO,OAAQ,oCAAqCzB,UAAU,GAAQ43B,EAAe10B,iBAAiB,EAAE,KAC3J00B,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,MAAOO,OAAQ,gBAAiBzB,UAAU,EAAOK,KAAM,CAAC8E,KAAM,IAAKyyB,EAAe70B,4BACpI60B,EAAepzB,eAAeoH,KAAKw1B,UAAWx1B,KAAKy1B,OAC3C,CACI58B,mBAAmB,EACnBC,UAAW,CACPnE,MAAOqL,KAAK01B,SACZ18B,OAAO,KAIvBgzB,EAAepzB,eAAeoH,KAAK01B,SAAU11B,KAAKy1B,OAC1C,CACI58B,mBAAmB,EACnBC,UAAW,CACPnE,MAAOqL,KAAKw1B,UACZz8B,cAAc,EACdC,OAAO,KAKvBgzB,EAAe52B,uBAAuB4K,KAAM,SAAU,CAACrL,MAAOqL,KAAKw1B,UAAWxgC,OAAO,GAAOgL,KAAK01B,UAEjG1J,EAAep2B,iBAAiBoK,KAAM,QAASA,KAAKw1B,WAEpDx1B,KAAKo1B,iCAAmCpJ,EAAe3wB,eAAe,2BAC9D,CAAC/H,MAAO,YAAa8G,SAAU,6BAC/B,CAAC9G,MAAO,YAAa8G,SAAU,8BACvC4xB,EAAexwB,kBAAkBwE,KAAKo1B,iCAAkC,CAAChhC,SAAU4L,KAAKq1B,yBAA0B55B,aAAa,IAG/HuwB,EAAehwB,cAAcgE,KAAKqvB,YAAarvB,KAAKw1B,WAGpD,IAAIG,EAAiB3J,EAAenwB,mBAAmB,CAACjC,GAAI,mBAAoBP,QAAQ,CAAC,kBAAkB,QAAS2G,KAAKw1B,WACrHI,EAAgB5J,EAAenwB,mBAAmB,kBAAmBmE,KAAK01B,UAC1EG,EAAoB7J,EAAenwB,mBAAmB,sBAAuBmE,KAAK81B,cAClFjG,EAAa7D,EAAenwB,mBAAmB,cAAemE,KAAKqvB,aACnEiG,EAAgCtJ,EAAenwB,mBAAmB,iCAAkCmE,KAAKo1B,kCAE7G,0EAAuBO,EAAgBC,EAAeC,EAAmBhG,EAAYyF,O,GA9C/CnsB,IAAzBosB,GACVxL,SAAW,cADDwL,GAEVtL,sBAAwB,CAAC,SAAU,QAAS,4B,UCDlC8L,G,4HAA6BhB,IAA7BgB,GACV3J,oBAAsBxD,GADZmN,GAEVpH,UAAY,cAFFoH,GAGV3K,KAAO,c,UCHG4K,G,4HAAqCjB,IAArCiB,GACV5J,oBAAsBvD,GADZmN,GAEVrH,UAAY,uBAFFqH,GAGV5K,KAAO,uB,UCHG6K,G,4HAAgCvB,IAAhCuB,GACV7J,oBAAsBtD,GADZmN,GAEVtH,UAAY,iBAFFsH,GAGV7K,KAAO,iB,UCHG8K,G,4HAAgCxB,IAAhCwB,GACV9J,oBAAsBrD,GADZmN,GAEVvH,UAAY,iBAFFuH,GAGV9K,KAAO,iB,UCHG+K,G,4HAA4BhB,IAA5BgB,GACV/J,oBAAsBpD,GADZmN,GAEVxH,UAAY,aAFFwH,GAGV/K,KAAO,a,UCHGgL,G,4HAA8Bb,IAA9Ba,GACVhK,oBAAsBnD,GADZmN,GAEVzH,UAAY,eAFFyH,GAGVhL,KAAO,sC,UCHGiL,G,4HAA4B3B,IAA5B2B,GACVjK,oBAAsBlD,GADZmN,GAEV1H,UAAY,aAFF0H,GAGVjL,KAAO,a,UCHGkL,G,4HAA+B5B,IAA/B4B,GACVlK,oBAAsBjD,GADZmN,GAEV3H,UAAY,iBAFF2H,GAGVlL,KAAO,iB,ICJGmL,G,4KAIgB,IAArBC,EAAoB,wDAC5BxK,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,aAAcO,OAAQ,OAAQzB,UAAU,GAAQ43B,EAAexzB,mBAAmB,MACpIwzB,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,UAAWlB,UAAU,EAAOK,KAAM,CAAC8E,KAAM,KAAMyyB,EAAexzB,mBAAmB,MACnIwzB,EAAepzB,eAAeoH,KAAKy2B,gBAAiBz2B,KAAKuD,OACjD,CACI1K,mBAAmB,EACnBC,UAAW,CACPnE,MAAOqL,KAAK02B,aACZ19B,OAAO,KAIvBgzB,EAAepzB,eAAeoH,KAAK02B,aAAcF,EAAax2B,KAAK22B,WAAa32B,KAAKuD,OAC7E,CACI1K,mBAAoB29B,EACpB19B,UAAW,CACPnE,MAAOqL,KAAKy2B,gBACZriC,SAAU4L,KAAKuD,OACfxK,cAAc,EACdC,OAAO,KAKvBgzB,EAAe52B,uBAAuB4K,KAAM,SAAU,CAACrL,MAAOqL,KAAKy2B,gBAAiBzhC,OAAO,GAAOgL,KAAK02B,cAEnGF,GACAxK,EAAe52B,uBAAuB4K,KAAM,CAAC1K,KAAM,aAAcC,SAAS,SAAD,OAAWihC,EAAX,WAAgCx2B,KAAK02B,cAGlH1K,EAAep2B,iBAAiBoK,KAAM,QAASA,KAAKy2B,iBAGpDzK,EAAehwB,cAAcgE,KAAKqvB,YAAarvB,KAAKy2B,iBAGpD,IAAIG,EAAuB5K,EAAenwB,mBAAmB,CAACjC,GAAI,yBAA0BP,QAAQ,CAAC,kBAAkB,QAAS2G,KAAKy2B,iBACjII,EAAoB7K,EAAenwB,mBAAmB,sBAAuBmE,KAAK02B,cAClFI,EAAoB9K,EAAenwB,mBAAmB,sBAAuBmE,KAAK+2B,cAClFC,EAAkBR,EAAaxK,EAAenwB,mBAAmB,0BAA2BmE,KAAKi3B,uBAAoB3iC,EACrHu7B,EAAa7D,EAAenwB,mBAAmB,cAAemE,KAAKqvB,aAEvE,0EAAuBuH,EAAsBC,EAAmBC,GAC5DN,GACA,0EAAuBQ,GAE3B,0EAAuBnH,O,GAlDe1mB,IAAzBotB,GACVxM,SAAW,SADDwM,GAEVtM,sBAAwB,CAAC,SAAU,S,ICHzBiN,G,4KAIb,qEAAkBl3B,KAAK/J,YAAYkhC,gB,GAJYZ,IAAlCW,GACVjN,sBAAwB,CAAC,c,UCCfmN,G,4HAA6Bb,IAA7Ba,GACVhL,oBAAsBhD,GADZgO,GAEVzI,UAAY,cAFFyI,GAGVhM,KAAO,qB,UCHGiM,G,4HAA6BH,IAA7BG,GACVjL,oBAAsB/C,GADZgO,GAEV1I,UAAY,cAFF0I,GAGVjM,KAAO,wBAHGiM,GAKVF,WAAa,iB,UCLHG,G,4HAAsBJ,IAAtBI,GACVlL,oBAAsB9C,GADZgO,GAEV3I,UAAY,MAFF2I,GAGVlM,KAAO,yCAHGkM,GAKVH,WAAa,U,UCLHI,G,4HAA4BhB,IAA5BgB,GACVnL,oBAAsB7C,GADZgO,GAEV5I,UAAY,aAFF4I,GAGVnM,KAAO,uB,UCJGoM,G,4HAAwBruB,ICFtC,SAASsuB,GAAkCpiC,GAC9C22B,EAAe5yB,sBAAsB/D,EAAY,CAACC,KAAM,cAAeO,OAAQ,eAAgBzB,SAAU,MAAOK,KAAM,CAAC8E,KAAM,KAAMyyB,EAAexzB,mBAAmB,IACrKwzB,EAAe52B,uBAAuBC,EAAY,MAAOA,EAAWqiC,kBACpE,IAAIC,EAAW3L,EAAenwB,mBAAmB,YAAaxG,EAAWqiC,iBAAkBriC,EAAWuiC,WACtGviC,EAAWwiC,iBAAiBF,GAGzB,SAASG,GAAaziC,GACzB22B,EAAe52B,uBAAuBC,EAAY,OAClD,IAAI0iC,EAAiB/L,EAAenwB,mBAAmB,mBAAoBxG,EAAWuiC,WACtFviC,EAAWwiC,iBAAiBE,GAGzB,SAASC,GAAgB3iC,GAC5BA,EAAW4iC,mBAAqBjM,EAAerxB,YAAY,gBAAiB,QAAS,aACrFqxB,EAAe/wB,eAAe5F,EAAW4iC,mBAAoB5iC,EAAW6iC,eACxE,IAAIC,EAAoBnM,EAAenwB,mBAAmB,gBAAiBxG,EAAW4iC,oBACtF5iC,EAAWwiC,iBAAiBM,GAGzB,SAASC,GAAmB/iC,GAC/B22B,EAAe52B,uBAAuBC,EAAY,iBAClD22B,EAAe52B,uBAAuBC,EAAY,iBAClD,IAAIgjC,EAAuBrM,EAAenwB,mBAAmB,kBAAmBxG,EAAWijC,oBAAqBjjC,EAAWkjC,qBAC3HljC,EAAWwiC,iBAAiBQ,GAGzB,SAASG,GAA2BnjC,GACvCA,EAAWojC,8BAAgCzM,EAAerxB,YAAY,2BAA4B,aAAc,YAChHqxB,EAAe/wB,eAAe5F,EAAWojC,8BAA+BpjC,EAAWqjC,0BACnF,IAAIC,EAA+B3M,EAAenwB,mBAAmB,2BAA4BxG,EAAWojC,+BAC5GpjC,EAAWwiC,iBAAiBc,GAGzB,SAASC,GAAuBvjC,GACnCA,EAAWwjC,0BAA4B7M,EAAerxB,YAAY,uBAC1D,CAACrH,MAAO,WAAY8G,SAAU,6BAC9B,CAAC9G,MAAO,gBAAiB8G,SAAU,kCACnC,CAAC9G,MAAO,kBAAmB8G,SAAU,qCAE7C4xB,EAAe/wB,eAAe5F,EAAWwjC,0BAA2BxjC,EAAWyjC,sBAC/E,IAAIC,EAA2B/M,EAAenwB,mBAAmB,uBAAwBxG,EAAWwjC,2BACpGxjC,EAAWwiC,iBAAiBkB,GDxCXvB,GACVzN,SAAW,QADDyN,GAEVvN,sBAAwB,CAAC,MAAO,gBAAiB,gBAAiB,wBEJ9D+O,SCKMC,I,mLAQbC,GAAczB,kCAAkCz3B,MAChDk5B,GAAcd,mBAAmBp4B,MACjCk5B,GAAcV,2BAA2Bx4B,MACzCk5B,GAAcN,uBAAuB54B,U,GAXFw3B,KAAtByB,GACVhP,sBAAwB,CAAC,4BADfgP,GAGV7M,oBAAsB5C,GAHZyP,GAIVtK,UAAY,MAJFsK,GAKV7N,KAAO,uB,WCLG+N,G,4KAQbD,GAAczB,kCAAkCz3B,MAChDk5B,GAAclB,gBAAgBh4B,MAC9Bk5B,GAAcd,mBAAmBp4B,MACjCk5B,GAAcV,2BAA2Bx4B,MACzCk5B,GAAcN,uBAAuB54B,U,GAZFw3B,IAAtB2B,GACVlP,sBAAwB,CAAC,gBAAiB,4BADhCkP,GAGV/M,oBAAsB3C,GAHZ0P,GAIVxK,UAAY,MAJFwK,GAKV/N,KAAO,qB,WCLGgO,G,4KAQbF,GAAczB,kCAAkCz3B,MAChDk5B,GAAcd,mBAAmBp4B,MACjCk5B,GAAcV,2BAA2Bx4B,MACzCk5B,GAAcN,uBAAuB54B,U,GAXIw3B,IAA5B4B,GACVnP,sBAAwB,CAAC,4BADfmP,GAGVhN,oBAAsB1C,GAHZ0P,GAIVzK,UAAY,YAJFyK,GAKVhO,KAAO,uC,WCLGiO,G,4KAMbH,GAAczB,kCAAkCz3B,MAChDk5B,GAAcd,mBAAmBp4B,MACjCk5B,GAAcN,uBAAuB54B,U,GARAw3B,IAAxB6B,GACVjN,oBAAsBzC,GADZ0P,GAEV1K,UAAY,QAFF0K,GAGVjO,KAAO,2C,WCHGkO,G,4KAMbJ,GAAcpB,aAAa93B,MAC3Bk5B,GAAcd,mBAAmBp4B,MACjCk5B,GAAcN,uBAAuB54B,U,GARGw3B,IAA3B8B,GACVlN,oBAAsBxC,GADZ0P,GAEV3K,UAAY,WAFF2K,GAGVlO,KAAO,8C,WCHGmO,G,4KASbvN,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,cAAeO,OAAQ,eAAgBzB,UAAU,GAAQ43B,EAAexzB,mBAAmB,MAC7IwzB,EAAe5yB,sBAAsB4G,KAAM,CAAC1K,KAAM,eAAgBO,OAAQ,gBAAiBzB,UAAU,GAAQ43B,EAAexzB,mBAAmB,MAC/IwzB,EAAepzB,eAAeoH,KAAKw5B,iBAAkBx5B,KAAKy5B,QAClD,CACI5gC,mBAAmB,EACnBC,UAAW,CACPnE,MAAOqL,KAAK05B,kBACZ1gC,OAAO,KAIvBgzB,EAAepzB,eAAeoH,KAAK05B,kBAAmB15B,KAAKy5B,QACnD,CACI5gC,mBAAmB,EACnBC,UAAW,CACPnE,MAAOqL,KAAKw5B,iBACZzgC,cAAc,EACdC,OAAO,KAKvBgzB,EAAe52B,uBAAuB4K,KAAM,CAAC1K,KAAM,UAAWC,SAAS,YAAc,CAACZ,MAAOqL,KAAKw5B,iBAAkBxkC,OAAO,GAAOgL,KAAK05B,mBAGvI1N,EAAehwB,cAAcgE,KAAK25B,cAAe35B,KAAKw5B,kBAGtD,IAAII,EAAmB5N,EAAenwB,mBAAmB,CAACjC,GAAI,0BAA2BP,QAAQ,CAAC,kBAAkB,QAAS2G,KAAKw5B,iBAAkBx5B,KAAK05B,mBACrJG,EAAiB7N,EAAenwB,mBAAmB,mBAAoBmE,KAAK25B,eAEhF,0EAAuBC,EAAkBC,O,GAxCN1wB,IAAtBowB,GACVxP,SAAW,MADDwP,GAEVtP,sBAAwB,CAAC,WAFfsP,GAIVnN,oBAAsBvC,GAJZ0P,GAKV5K,UAAY,MALF4K,GAMVnO,KAAO,6B,WCNG0O,G,4KASbZ,GAAcpB,aAAa93B,MAC3Bk5B,GAAcd,mBAAmBp4B,MACjCk5B,GAAcV,2BAA2Bx4B,MACzCk5B,GAAcN,uBAAuB54B,U,GAZQw3B,IAAhCsC,GACV/P,SAAW,QADD+P,GAEV7P,sBAAwB,CAAC,4BAFf6P,GAIV1N,oBAAsBtC,GAJZgQ,GAKVnL,UAAY,iBALFmL,GAMV1O,KAAO,2CCgCX,IAAMnpB,GACb,CACI,CACIE,KAAM,iBACNZ,KAAM,UACNw4B,WAAY,kBACZ33B,MAAO,CACH,CACID,KAAM,QACN43B,WAAY,QACZ1gC,QAAS,CACL,CACI8I,KAAM,YACN43B,WAAY,YACZt7B,UAAWqxB,GACXxtB,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,MAAO,SAAU,OACxBL,KAAM,CAAC,QAAS,aAAc,QAC9BD,SAAU,YACVq3B,UAAW,CACPn2B,QAAS,QAEbo2B,YAAa,CACTp2B,QAAS,QAEbq2B,SAAU,CACNp2B,UAAW,OACXC,MAAO,QAEXo2B,aAAc,CACVt2B,QAAS,QAEbu2B,eAAgB,CACZv2B,QAAS,QAEbw2B,YAAa,CACTx2B,QAAS,QAEbknB,IAAK,CACDlnB,QAAS,WAKzB,CACI1B,KAAM,MACN43B,WAAY,oBACZt7B,UAAWsxB,GACXztB,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,MAAO,SAAU,OACxBL,KAAM,CAAC,QAAS,aAAc,QAC9BD,SAAU,YACVq3B,UAAW,CACPn2B,QAAS,QAEbo2B,YAAa,CACTp2B,QAAS,QAEbq2B,SAAU,CACNr2B,QAAS,QAEbs2B,aAAc,CACVt2B,QAAS,QAEbu2B,eAAgB,CACZv2B,QAAS,QAEbw2B,YAAa,CACTx2B,QAAS,QAEby2B,UAAW,CACPz2B,QAAS,QAEb02B,YAAa,CACT12B,QAAS,QAEb22B,SAAU,CACN32B,QAAS,SAGjB42B,eAAgB,CACZnlC,KAAM,oBACN4kC,SAAU,CACN/1B,QAAS,QAEbq2B,SAAU,CACNr2B,QAAS,WAKzB,CACIhC,KAAM,MACN43B,WAAY,oBACZt7B,UAAWuxB,GACX1tB,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,MAAO,SAAU,OACxBL,KAAM,CAAC,QAAS,aAAc,QAC9BD,SAAU,YACVq3B,UAAW,CACPn2B,QAAS,QAEbo2B,YAAa,CACTp2B,QAAS,QAEbq2B,SAAU,CACNr2B,QAAS,QAEbs2B,aAAc,CACVt2B,QAAS,QAEbu2B,eAAgB,CACZv2B,QAAS,QAEbw2B,YAAa,CACTx2B,QAAS,QAEby2B,UAAW,CACPz2B,QAAS,QAEb02B,YAAa,CACT12B,QAAS,QAEb22B,SAAU,CACN32B,QAAS,SAGjB42B,eAAgB,CACZnlC,KAAM,oBACNolC,KAAM,CACFv2B,QAAS,WAKzB,CACIhC,KAAM,QACN43B,WAAY,6BACZt7B,UAAWwxB,GACX3tB,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,MAAO,SAAU,OACxBL,KAAM,CAAC,QAAS,aAAc,QAC9BD,SAAU,YACVq3B,UAAW,CACPn2B,QAAS,QAEbo2B,YAAa,CACTp2B,QAAS,QAEbq2B,SAAU,CACNr2B,QAAS,QAEbs2B,aAAc,CACVt2B,QAAS,QAEbu2B,eAAgB,CACZv2B,QAAS,QAEbw2B,YAAa,CACTx2B,QAAS,QAEby2B,UAAW,CACPz2B,QAAS,QAEb02B,YAAa,CACT12B,QAAS,QAEb22B,SAAU,CACN32B,QAAS,SAGjB42B,eAAgB,CACZnlC,KAAM,oBACNklC,SAAU,CACNr2B,QAAS,aAOjC,CACIhC,KAAM,uBACN43B,WAAY,uBACZY,aAAc,YACdr4B,SAAU,CACN,CACIy3B,WAAY,QACZ13B,MAAO,eAEX,CACI03B,WAAY,QACZ13B,MAAO,eAEX,CACI03B,WAAY,QACZ13B,MAAO,gBAGfhJ,QAAS,CACL,CACI8I,KAAM,cACN43B,WAAY,gBACZt7B,UAAWyyB,GACX5uB,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,QAAS,cAChBL,KAAM,CAAC,OAAQ,MAAO,QACtBD,SAAU,oBACVi4B,WAAY,CACR92B,UAAW,OACXC,MAAO,QAEX82B,UAAW,CACPh3B,QAAS,QAEbi3B,WAAY,CACRj3B,QAAS,QAEbk3B,WAAY,CACRl3B,QAAS,WAKzB,CACI1B,KAAM,mBACN43B,WAAY,qBACZt7B,UAAW0yB,GACX7uB,SAAU,CAAC,iBAAkB,uBAAwB,gBAEzD,CACIH,KAAM,cACN43B,WAAY,gBACZt7B,UAAW2yB,GACX9uB,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,iBAAkB,mBAAoB,oBAC7CL,KAAM,CAAC,UAAW,UAAW,QAC7BD,SAAU,oBACVq4B,iBAAkB,CACdl3B,UAAW,OACXC,MAAO,QAEXk3B,iBAAkB,CACdp3B,QAAS,QAEbq3B,cAAe,CACXr3B,QAAS,QAEbs3B,yBAA0B,CACtBt3B,QAAS,QAEbu3B,yBAA0B,CACtBv3B,QAAS,QAEbw3B,sBAAuB,CACnBx3B,QAAS,QAEby3B,yBAA0B,CACtBz3B,QAAS,QAEb03B,yBAA0B,CACtB13B,QAAS,QAEb23B,sBAAuB,CACnB33B,QAAS,SAGjB42B,eAAgB,CACZnlC,KAAM,oBACN6lC,yBAA0B,CACtBh3B,QAAS,QAEbm3B,yBAA0B,CACtBn3B,QAAS,WAKzB,CACIhC,KAAM,mBACN43B,WAAY,qBACZt7B,UAAW4yB,GACX/uB,SAAU,CAAC,iBAAkB,uBAAwB,gBAEzD,CACIH,KAAM,cACN43B,WAAY,gBACZt7B,UAAW6yB,GACXhvB,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,iBAAkB,uBACzBL,KAAM,CAAC,WAAY,UAAW,cAAe,cAC7CD,SAAU,oBACV84B,kBAAmB,CACf33B,UAAW,OACXC,MAAO,QAEX23B,iBAAkB,CACd53B,UAAW,OACXC,MAAO,QAEX43B,qBAAsB,CAClB93B,QAAS,QAEb+3B,oBAAqB,CACjB/3B,QAAS,QAEbg4B,IAAK,CACDh4B,QAAS,WAKzB,CACI1B,KAAM,mBACN43B,WAAY,qBACZt7B,UAAW8yB,GACXjvB,SAAU,CAAC,iBAAkB,uBAAwB,kBAIjE,CACIH,KAAM,iBACN43B,WAAY,qBACZ1gC,QAAS,CACL,CACI8I,KAAM,MACN43B,WAAY,qBACZt7B,UAAWo1B,GACX1sB,SAAU,CACN,CACIP,YAAa,4EACbI,UAAW,kBACXF,cAAe,CACX,CAAE0L,WAAY,SAAUlM,OAAQ,CAAC,IACjC,CAAEkM,WAAY,SAAUlM,OAAQ,CAAC,IACjC,CAAEkM,WAAY,SAAUlM,OAAQ,CAAC,KAErCS,YAAY,GAEhB,CACIH,YAAa,0DACbI,UAAW,0BACXF,cAAe,CACX,CAAE0L,WAAY,SAAUlM,OAAQ,CAAC,MACjC,CAAEkM,WAAY,SAAUlM,OAAQ,CAAC,MACjC,CAAEkM,WAAY,SAAUlM,OAAQ,CAAC,MACjC,CAAEkM,WAAY,SAAUlM,OAAQ,CAAC,MACjC,CAAEkM,WAAY,SAAUlM,OAAQ,CAAC,OAErCS,YAAY,GAEhB,CACIH,YAAa,4DACbI,UAAW,sBACXF,cAAe,CACX,CAAE0L,WAAY,SAAUlM,OAAQ,CAAC,MACjC,CAAEkM,WAAY,SAAUlM,OAAQ,CAAC,MACjC,CAAEkM,WAAY,SAAUlM,OAAQ,CAAC,MACjC,CAAEkM,WAAY,SAAUlM,OAAQ,CAAC,OAErCS,YAAY,GAEhB,CACIH,YAAa,uEACbI,UAAW,0BACXF,cAAe,CACX,CAAE0L,WAAY,SAAUlM,OAAQ,CAAC,MACjC,CAAEkM,WAAY,SAAUlM,OAAQ,CAAC,MACjC,CAAEkM,WAAY,SAAUlM,OAAQ,CAAC,MACjC,CAAEkM,WAAY,SAAUlM,OAAQ,CAAC,MACjC,CAAEkM,WAAY,SAAUlM,OAAQ,CAAC,OAErCS,YAAY,IAGpBzE,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,cACPL,KAAM,CAAC,MAAO,SAAU,SAAU,SAAU,aAC5CD,SAAU,GACVlP,IAAK,CACDoQ,QAAS,YACTE,MAAO,QAEXlD,OAAQ,CACJgD,QAAS,YACTE,MAAO,QAEXR,OAAQ,CACJK,KAAM,OACNC,QAAS,YACTE,MAAO,QAEXoB,OAAQ,CACJtB,QAAS,QAEbi4B,UAAW,CACPj4B,QAAS,WAKzB,CACI1B,KAAM,UACN43B,WAAY,wBACZt7B,UAAW+zB,GACXlwB,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,cACPL,KAAM,CAAC,MAAO,SAAU,SAAU,SAAU,WAAY,aACxDD,SAAU,GACVlP,IAAK,CACDmQ,KAAM,OACNE,UAAW,YACXC,MAAO,QAEXlD,OAAQ,CACJ+C,KAAM,OACNC,QAAS,aAEbN,OAAQ,CACJM,QAAS,QAEbk4B,OAAQ,CACJl4B,QAAS,aAEbm4B,SAAU,CACNn4B,QAAS,aAEbo4B,UAAW,CACPp4B,QAAS,WAKzB,CACI1B,KAAM,MACN43B,WAAY,MACZt7B,UAAWs1B,GACXzxB,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,cACPL,KAAM,CAAC,MAAO,SAAU,SAAU,kBAAmB,mBACrDD,SAAU,GACVlP,IAAK,CACDoQ,QAAS,aAEbhD,OAAQ,CACJgD,QAAS,aAEbN,OAAQ,CACJK,KAAM,OACNC,QAAS,aAEbq4B,OAAQ,CACJr4B,QAAS,QAEbs4B,OAAQ,CACJt4B,QAAS,WAKzB,CACI1B,KAAM,UACN43B,WAAY,WACZt7B,UAAWw1B,GACX3xB,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,cACPL,KAAM,CAAC,MAAO,SAAU,UACxBD,SAAU,GACVlP,IAAK,CACDoQ,QAAS,aAEbhD,OAAQ,CACJgD,QAAS,aAEbN,OAAQ,CACJK,KAAM,OACNC,QAAS,gBAKzB,CACI1B,KAAM,YACN43B,WAAY,YACZt7B,UAAWu1B,GACX1xB,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,cACPL,KAAM,CAAC,MAAO,SAAU,UACxBD,SAAU,GACVlP,IAAK,CACDoQ,QAAS,aAEbhD,OAAQ,CACJgD,QAAS,aAEbN,OAAQ,CACJM,QAAS,gBAKzB,CACI1B,KAAM,WACN43B,WAAY,WACZt7B,UAAWy1B,GACX5xB,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,cACPL,KAAM,CAAC,MAAO,SAAU,SAAU,SAClCD,SAAU,GACVlP,IAAK,CACDoQ,QAAS,YACTE,MAAO,QAEXlD,OAAQ,CACJgD,QAAS,YACTE,MAAO,QAEXR,OAAQ,CACJK,KAAM,OACNC,QAAS,YACTE,MAAO,QAEXq4B,MAAO,CACHv4B,QAAS,OACTE,MAAO,oBAO/B,CACI5B,KAAM,WACN43B,WAAY,WACZ1gC,QAAS,CACL,CACI8I,KAAM,kBACN43B,WAAY,oBACZt7B,UAAW+1B,GACXlyB,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,mBAAoB,eAC3BL,KAAM,CAAC,MAAO,SAAU,UACxBD,SAAU,iBACVK,YAAa,uDACbq5B,IAAK,CACDx4B,QAAS,OACTE,MAAO,OACPC,YAAa,YAEjBnD,OAAQ,CACJgD,QAAS,OACTE,MAAO,QAEXR,OAAQ,CACJM,QAAS,OACTE,MAAO,WAKvB,CACI5B,KAAM,mBACN43B,WAAY,qBACZt7B,UAAWg2B,GACXnyB,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,sBAAuB,gBAC9BL,KAAM,CAAC,MAAO,SAAU,UACxBD,SAAU,sBACVK,YAAa,uDACbs5B,eAAgB,CACZz4B,QAAS,OACTE,MAAO,QAEXw4B,kBAAmB,CACf14B,QAAS,OACTE,MAAO,QAEXy4B,kBAAmB,CACf34B,QAAS,OACTE,MAAO,QAEX04B,QAAS,CACL54B,QAAS,OACTE,MAAO,aAEX24B,WAAY,CACR74B,QAAS,OACTE,MAAO,aAEX44B,WAAY,CACR94B,QAAS,OACTE,MAAO,oBASvC,CACI5B,KAAM,aACNZ,KAAM,CAAC,MAAM,eACbw4B,WAAY,aACZ33B,MAAO,CACH,CACID,KAAM,sBACN43B,WAAY,0BACZY,aAAc,aACdthC,QAAS,CACL,CACI8I,KAAM,cACN43B,WAAY,cACZt7B,UAAWs3B,GACXzzB,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,SACPL,KAAM,CAAC,OAAQ,SAAU,WAAY,eACrCD,SAAU,GACVi6B,KAAM,CACFh5B,KAAM,OACNC,QAAS,YAEbg5B,OAAQ,CAAC,MAAO,gBAChBC,SAAU,CAAC,MAAO,gBAClBC,MAAO,CACHl5B,QAAS,WAKzB,CACI1B,KAAM,uBACN43B,WAAY,uBACZt7B,UAAWu3B,GACX1zB,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,SACPL,KAAM,CAAC,OAAQ,SAAU,WAAY,eACrCD,SAAU,GACVi6B,KAAM,CACFh5B,KAAM,OACNC,QAAS,YAEbg5B,OAAQ,CAAC,MAAO,gBAChBC,SAAU,CAAC,MAAO,gBAClBC,MAAO,CACHl5B,QAAS,WAKzB,CACI1B,KAAM,iBACN43B,WAAY,iBACZt7B,UAAWw3B,GACX3zB,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,SACPL,KAAM,CAAC,OAAQ,SAAU,WAAY,eACrCD,SAAU,GACVi6B,KAAM,CACFh5B,KAAM,OACNC,QAAS,YAEbg5B,OAAQ,CAAC,MAAO,gBAChBC,SAAU,CAAC,MAAO,gBAClBC,MAAO,CACHl5B,QAAS,WAKzB,CACI1B,KAAM,iBACN43B,WAAY,iBACZt7B,UAAWy3B,GACX5zB,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,SACPL,KAAM,CAAC,OAAQ,SAAU,WAAY,eACrCD,SAAU,GACVi6B,KAAM,CACF/4B,QAAS,YAEbg5B,OAAQ,CAAC,MAAO,gBAChBC,SAAU,CAAC,MAAO,gBAClBC,MAAO,CACHl5B,QAAS,WAKzB,CACI1B,KAAM,aACN43B,WAAY,aACZt7B,UAAW03B,GACX7zB,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,SACPL,KAAM,CAAC,OAAQ,SAAU,WAAY,eACrCD,SAAU,GACVi6B,KAAM,CACF/4B,QAAS,cACTE,MAAO,OACPf,YAAa,sCAEjB65B,OAAQ,CAAC,MAAO,gBAChBC,SAAU,CAAC,MAAO,gBAClBC,MAAO,CACHl5B,QAAS,WAKzB,CACI1B,KAAM,aACN43B,WAAY,sCACZt7B,UAAW23B,GACX9zB,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,SACPL,KAAM,CAAC,OAAQ,SAAU,eACzBD,SAAU,GACVi6B,KAAM,CACF/4B,QAAS,cACTE,MAAO,OACPf,YAAa,sCAEjB65B,OAAQ,CAAC,MAAO,gBAChBE,MAAO,CACHl5B,QAAS,WAKzB,CACI1B,KAAM,aACN43B,WAAY,aACZt7B,UAAW43B,GACX/zB,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,SACPL,KAAM,CAAC,OAAQ,SAAU,WAAY,eACrCD,SAAU,GACVi6B,KAAM,CACF/4B,QAAS,eAEbg5B,OAAQ,CAAC,MAAO,gBAChBC,SAAU,CAAC,MAAO,gBAClBC,MAAO,CACHl5B,QAAS,WAKzB,CACI1B,KAAM,iBACN43B,WAAY,iBACZt7B,UAAW63B,GACXh0B,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,SACPL,KAAM,CAAC,OAAQ,SAAU,WAAY,eACrCD,SAAU,GACVi6B,KAAM,CACF/4B,QAAS,SAEbg5B,OAAQ,CAAC,MAAO,gBAChBC,SAAU,CAAC,MAAO,gBAClBC,MAAO,CACHl5B,QAAS,eAOjC,CACI1B,KAAM,mBACN43B,WAAY,mBACZY,aAAc,aACdthC,QAAS,CACL,CACI8I,KAAM,cACN43B,WAAY,cACZt7B,UAAW24B,GACX90B,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,SACPL,KAAM,CAAC,aAAc,oBAAqB,kBAAmB,WAC7DD,SAAU,GACVq6B,GAAI,CACAp5B,KAAM,OACNZ,YAAa,mDAEjBi6B,OAAQ,CACJr5B,KAAM,OACNZ,YAAa,8BAEjBk6B,IAAK,CACDt5B,KAAM,SAEVu5B,QAAS,CACLt5B,QAAS,QACTE,MAAO,QACPf,YAAa,qDAK7B,CACIb,KAAM,cACN43B,WAAY,cACZt7B,UAAW44B,GACX/0B,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,SACPL,KAAM,CAAC,oBAAqB,kBAAmB,WAC/CD,SAAU,GACVs6B,OAAQ,CACJr5B,KAAM,OACNZ,YAAa,8BAEjBk6B,IAAK,CACDt5B,KAAM,WACNZ,YAAa,kEACbqB,KAAM,GAEV84B,QAAS,CACLp5B,MAAO,QACPf,YAAa,sGAK7B,CACIb,KAAM,MACN43B,WAAY,MACZt7B,UAAW64B,GACXh1B,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,SACPL,KAAM,CAAC,oBAAqB,kBAAmB,WAC/CD,SAAU,GACVs6B,OAAQ,CACJr5B,KAAM,OACNZ,YAAa,8BAEjBk6B,IAAK,CACDt5B,KAAM,UAEVu5B,QAAS,CACLt5B,QAAS,SACTE,MAAO,SACPf,YAAa,gDAK7B,CACIb,KAAM,aACN43B,WAAY,aACZt7B,UAAW84B,GACXj1B,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,SACPL,KAAM,CAAC,oBAAqB,kBAAmB,WAC/CD,SAAU,GACVs6B,OAAQ,CACJr5B,KAAM,OACNZ,YAAa,8BAEjBk6B,IAAK,CACDt5B,KAAM,UAEVu5B,QAAS,CACLt5B,QAAS,SACTE,MAAO,cAO/B,CACI5B,KAAM,SACN43B,WAAY,mBACZY,aAAc,0BACdr4B,SAAU,CACN,CACIy3B,WAAY,8BACZ/3B,KAAM,CACFiB,KAAM,CAAC,QAAS,mBAAoB,mBAAoB,qBAAsB,oBAAqB,kBAAmB,iBACtHL,KAAM,CAAC,gBAAiB,kBAAmB,YAC3CD,SAAU,YACVy6B,WAAY,CACRv5B,QAAS,QAEbw5B,WAAY,CACRx5B,QAAS,QAEby5B,gBAAiB,CACbz5B,QAAS,WACTQ,KAAM,GAEVk5B,SAAU,CACN15B,QAAS,OACTQ,KAAM,GAEVm5B,oBAAqB,CACjB35B,QAAS,SACTQ,KAAM,GAEVo5B,eAAgB,CACZ55B,QAAS,SACTQ,KAAM,GAEVq5B,4BAA6B,CACzB75B,QAAS,YACTQ,KAAM,GAEVs5B,8BAA+B,CAC3B95B,QAAS,OACTQ,KAAM,GAEVu5B,0BAA2B,CACvB/5B,QAAS,wBACTQ,KAAM,GAEVw5B,4BAA6B,CACzBh6B,QAAS,QAEbi6B,2BAA4B,CACxBj6B,QAAS,QAEbk6B,sBAAuB,CACnBl6B,QAAS,QAEbm6B,2BAA4B,CACxBn6B,QAAS,YACTQ,KAAM,MAKtBhL,QAAS,CACL,CACI8I,KAAM,MACN43B,WAAY,uBACZt7B,UAAWw6B,GACX32B,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,SACPL,KAAM,CAAC,QACPD,SAAU,GACVi6B,KAAM,CACF74B,MAAO,SACPM,KAAM,MAKtB,CACIlC,KAAM,MACN43B,WAAY,qBACZt7B,UAAW06B,GACX72B,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,SACPL,KAAM,CAAC,QACPD,SAAU,GACVi6B,KAAM,CACF74B,MAAO,SACPM,KAAM,MAKtB,CACIlC,KAAM,YACN43B,WAAY,aACZt7B,UAAW26B,GACX92B,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,SACPL,KAAM,CAAC,QACPD,SAAU,GACVi6B,KAAM,CACF74B,MAAO,iBACPM,KAAM,MAKtB,CACIlC,KAAM,QACN43B,WAAY,SACZt7B,UAAW46B,GACX/2B,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,SACPL,KAAM,CAAC,QACPD,SAAU,GACVi6B,KAAM,CACF74B,MAAO,iBACPM,KAAM,MAKtB,CACIlC,KAAM,WACN43B,WAAY,YACZt7B,UAAW66B,GACXh3B,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,SACPL,KAAM,CAAC,QACPD,SAAU,GACVi6B,KAAM,CACF74B,MAAO,cACPM,KAAM,QAO9B,CACIlC,KAAM,UACN43B,WAAY,sBACZ1gC,QAAS,CACL,CACI8I,KAAM,MACN43B,WAAY,MACZt7B,UAAW86B,GACXj3B,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,SACPL,KAAM,CAAC,QACPD,SAAU,GACVi6B,KAAM,CACF/4B,QAAS,YAKzB,CACI1B,KAAM,iBACN43B,WAAY,iBACZt7B,UAAWq7B,GACXx3B,SAAU,CACNE,cAAe,CACXS,KAAM,CAAC,SACPL,KAAM,CAAC,OAAQ,SACfD,SAAU,GACVi6B,KAAM,CACF/4B,QAAS,YAEbu4B,MAAO,CACHv4B,QAAS,mBASzC,CACI1B,KAAM,QACNZ,KAAM,OACNw4B,WAAY,U,oCC/lCpBkE,KAAQxqC,IAAIyqC,KAAKC,KAAKC,M,IAEDC,G,kDAEjB,WAAY5+B,GAAQ,IAAD,8BACf,cAAMA,IAED8rB,MAAQ,CACT+S,YAAY,GAGhB,EAAKC,QAAU5+B,IAAMC,YACrB,EAAK4+B,oBAAsB,EAAKA,oBAAoB33B,KAAzB,gBAC3B,EAAK7N,MAAQ,EAAKA,MAAM6N,KAAX,gBATE,E,0DAaf5T,SAASwrC,KAAKC,UAAY,EAC1BzrC,SAAS2L,gBAAgB8/B,UAAY,I,4CAKrC1+B,KAAKwuB,UAAS,SAACjD,GACP,MAAO,CACH+S,YAAa/S,EAAM+S,iB,0CAO/BrrC,SAASsB,iBAAiB,YAAayL,KAAKw+B,uB,6CAI5CvrC,SAASqS,oBAAoB,YAAatF,KAAKw+B,uB,0CAE/BhqC,GAIZwL,KAAKu+B,QAAQn+B,UAAYJ,KAAKu+B,QAAQn+B,QAAQE,SAAS9L,EAAM4G,SAE7D4E,KAAKhH,U,8BAKTgH,KAAKwuB,SAAS,CAAC8P,YAAY,IAC3Bt+B,KAAK2+B,gB,+BAGC,IAAD,OACL,OACQ,yBAAK/kC,GAAG,UAAUoH,UAAS,kBAAahB,KAAKurB,MAAM+S,WAAa,aAAe,GAApD,kBAAwEr9B,IAAKjB,KAAKu+B,SACzG,kBAAC,IAAD,CAAMv9B,UAAU,eAAepH,GAAG,WAAWglC,GAAI1iC,OAAO2iC,SAASC,KAAKlnC,UAAUsE,OAAO2iC,SAASC,KAAK16B,QAAQ,QAAQnP,OAAS,EAAI,IAAM,IAAK,yBAAK8pC,IAAKC,IAAMh+B,UAAU,WAAWi+B,IAAI,UACrLj/B,KAAKP,MAAMy/B,UAAU3oC,KAAK,SAAC4oC,GACxB,OACQ,kBAAC,GAAD,CAAYlmC,IAAG,cAASkmC,EAASh9B,MAAQi9B,QAASD,EAAUE,UAAW,OAGnF,4BAAQr+B,UAAU,oDAAoDpH,GAAG,eAAeyH,QAAS,kBAAM,EAAKi+B,wBAAuB,kBAAC,KAAD,CAAiB/9B,KAAM,OAAQg+B,YAAU,EAAChmC,KAAM,a,GA5DnKimC,aAkE9BC,G,kDACF,WAAYhgC,GAAQ,IAAD,8BACf,cAAMA,IAED8rB,MAAQ,CACTppB,KAAM,EAAK1C,MAAM2/B,QAAQj9B,KACzBZ,KAAM,EAAK9B,MAAM2/B,QAAQ79B,KACzBw4B,WAAY,EAAKt6B,MAAM2/B,QAAQrF,WAC/B2F,gBAAiB,EAAKjgC,MAAM2/B,QAAQh9B,OAGxC,EAAKm8B,QAAU5+B,IAAMC,YAEjB,EAAK2rB,MAAMmU,kBACX,EAAKnU,MAAMoU,cAAe,GAI9B,EAAK3mC,MAAQ,EAAKA,MAAM6N,KAAX,gBAjBE,E,4DAoBH+4B,GACR5/B,KAAKurB,MAAMmU,iBACX1/B,KAAKwuB,UAAU,SAACjD,GACZ,MAAO,CACHoU,aAAcC,MAEnB,iB,yCAMQA,GACX5/B,KAAKurB,MAAMmU,iBACX1/B,KAAKwuB,UAAU,SAACjD,GACZ,MAAO,CACHoU,cAAepU,EAAMoU,iBAE1B,iB,8BAOP3/B,KAAK6/B,iBAAgB,GACrB7/B,KAAKP,MAAM4/B,UAAUrmC,U,+BAIrB,OACQ,yBAAKgI,UAAS,gCAA2BhB,KAAKurB,MAAMmU,iBAAmB1/B,KAAKurB,MAAMoU,aAAe,SAAW,IAAM1+B,IAAKjB,KAAKu+B,SACxH,kBAAC,GAAD,CAAiBp8B,KAAMnC,KAAKurB,MAAMppB,KAAMZ,KAAMvB,KAAKurB,MAAMhqB,KAAMw4B,WAAY/5B,KAAKurB,MAAMwO,WAAY+F,UAAW9/B,KAAKu+B,QAAS5Z,OAAQ3kB,OAClIA,KAAKurB,MAAMmU,iBAAmB1/B,KAAKurB,MAAMoU,aACtC,kBAAC,GAAD,CAAgBI,MAAO//B,KAAKurB,MAAMmU,gBAAiBM,YAAW,WAAMhgC,KAAKurB,MAAMppB,MAAQwiB,OAAQ3kB,OAE/F,U,GAzDCw/B,aAiEnBS,G,kDACF,WAAYxgC,GAAQ,IAAD,8BACf,cAAMA,IAGD8rB,MAAQ,CACTppB,KAAM,EAAK1C,MAAM0C,KACjBZ,KAAM,EAAK9B,MAAM8B,KACjBw4B,WAAY,EAAKt6B,MAAMs6B,WACvBmG,cAAe,EAAKzgC,MAAMklB,QAG9B,EAAK6Z,oBAAsB,EAAKA,oBAAoB33B,KAAzB,gBAC3B,EAAKs5B,YAAc,EAAKA,YAAYt5B,KAAjB,gBACnB,EAAK7N,MAAQ,EAAKA,MAAM6N,KAAX,gBAbE,E,gEAiBf7G,KAAKwuB,SAAS,CAAC4R,qBAAsBpgC,KAAKP,MAAMqgC,YAAY,eAG5D7sC,SAASsB,iBAAiB,YAAayL,KAAKw+B,uB,6CAI5CvrC,SAASqS,oBAAoB,YAAatF,KAAKw+B,uB,0CAE/BhqC,GAIZwL,KAAKurB,MAAM6U,qBAAqBhgC,UAAYJ,KAAKurB,MAAM6U,qBAAqBhgC,QAAQE,SAAS9L,EAAM4G,SAEnG4E,KAAKurB,MAAM2U,cAAcL,iBAAgB,K,kCAIrCjrB,GACoB,IAAxBA,EAAEyrB,YAAY7b,QACVxkB,KAAKurB,MAAM2U,cAAc3U,MAAMoU,eAAiB3/B,KAAKurB,MAAM2U,cAAc3U,MAAMmU,iBAC/ExjC,OAAO2iC,SAASyB,KAAhB,YAA4BtgC,KAAKurB,MAAM2U,cAAc3U,MAAMppB,MAC3DnC,KAAKhH,SAELgH,KAAKurB,MAAM2U,cAAcL,iBAAgB,M,8BAMjD7/B,KAAKurB,MAAM2U,cAAclnC,U,+BAIzB,OACQgH,KAAKurB,MAAM2U,cAAc3U,MAAMmU,gBAC3B,yBAAKS,YAAangC,KAAKmgC,YAAan/B,UAAU,oCAAoCpH,GAAE,cAASoG,KAAKurB,MAAMppB,OAAQ,kBAAC,KAAD,CAAiBZ,KAAMvB,KAAKurB,MAAMhqB,KAAMg+B,YAAU,EAAChmC,KAAMyG,KAAKurB,MAAMhqB,KAAKzD,SAAS,kBAAoB,KAAO,OAA7N,IAAuOkC,KAAKurB,MAAMwO,YAElP,kBAAC,IAAD,CAAMoG,YAAangC,KAAKmgC,YAAan/B,UAAU,oCAAoCpH,GAAE,cAASoG,KAAKurB,MAAMppB,MAAQy8B,GAAE,WAAM5+B,KAAKurB,MAAMppB,OAAQ,kBAAC,KAAD,CAAiBZ,KAAMvB,KAAKurB,MAAMhqB,KAAMg+B,YAAU,EAAChmC,KAAMyG,KAAKurB,MAAMhqB,KAAKzD,SAAS,kBAAoB,KAAO,OAAzP,IAAmQkC,KAAKurB,MAAMwO,gB,GAzDpQyF,aA8DxBe,G,kDACF,WAAY9gC,GAAQ,IAAD,8BACf,cAAMA,IACD8rB,MAAQ,CACTmU,gBAAiB,EAAKjgC,MAAMsgC,MAC5BG,cAAe,EAAKzgC,MAAMklB,QAG9B,EAAK3rB,MAAQ,EAAKA,MAAM6N,KAAX,gBAPE,E,oDAWf7G,KAAKurB,MAAM2U,cAAclnC,U,+BAGnB,IAAD,OACL,OACQ,yBAAKgI,UAAU,mCAAf,IACIhB,KAAKurB,MAAMmU,gBAAgBnpC,KAAK,SAACiqC,GACjC,OACQ,kBAAC,GAAD,CAAoBvnC,IAAG,cAASunC,EAAer+B,MAAQi9B,QAASoB,EAAgB7b,OAAQ,EAAMqb,YAAa,EAAKvgC,MAAMugC,iBAHlI,S,GAjBaR,aA2BvBiB,G,kDACF,WAAYhhC,GAAQ,IAAD,8BACf,cAAMA,IAGD8rB,MAAQ,CACTppB,KAAM,EAAK1C,MAAM2/B,QAAQj9B,KACzB43B,WAAY,EAAKt6B,MAAM2/B,QAAQrF,WAC/B2G,gBAAiB,EAAKjhC,MAAM2/B,QAAQ/lC,QACpC2mC,YAAa,EAAKvgC,MAAMugC,YACxBrb,OAAQ,EAAKllB,MAAMklB,QAGvB,EAAK4Z,QAAU5+B,IAAMC,YAEjB,EAAK2rB,MAAMmV,kBACX,EAAKnV,MAAMoV,cAAe,GAG9B,EAAK3nC,MAAQ,EAAKA,MAAM6N,KAAX,gBAlBE,E,yGAyBH+4B,GACR5/B,KAAKurB,MAAMmV,iBACX1gC,KAAKwuB,UAAU,SAACjD,GACZ,MAAO,CACHoV,aAAcf,Q,yCAMXA,GACX5/B,KAAKurB,MAAMmV,iBACX1gC,KAAKwuB,UAAU,SAACjD,GACZ,MAAO,CACHoV,cAAepV,EAAMoV,mB,oCAOjC3gC,KAAK4gC,uB,8BAIL5gC,KAAK6gC,iBAAgB,GACrB7gC,KAAKurB,MAAM5G,OAAO3rB,U,+BAIlB,OACQ,yBAAKgI,UAAS,0CAAqChB,KAAKurB,MAAMmV,iBAAmB1gC,KAAKurB,MAAMoV,aAAe,SAAU,IAAM1/B,IAAKjB,KAAKu+B,SACjI,kBAAC,GAAD,CAAyBp8B,KAAMnC,KAAKurB,MAAMppB,KAAM69B,YAAahgC,KAAKurB,MAAMyU,YAAajG,WAAY/5B,KAAKurB,MAAMwO,WAAY+F,UAAW9/B,KAAKu+B,QAAS5Z,OAAQ3kB,OACxJA,KAAKurB,MAAMmV,iBAAmB1gC,KAAKurB,MAAMoV,aACtC,kBAAC,GAAD,CAAgBZ,MAAO//B,KAAKurB,MAAMmV,gBAAiBV,YAAW,UAAKhgC,KAAKP,MAAMugC,YAAhB,YAA+BhgC,KAAKurB,MAAMppB,MAAQwiB,OAAQ3kB,OAExH,U,GA9DSw/B,aAsE3BsB,G,kDACF,WAAYrhC,GAAQ,IAAD,8BACf,cAAMA,IAGD8rB,MAAQ,CACTppB,KAAM,EAAK1C,MAAM0C,KACjB69B,YAAa,EAAKvgC,MAAMugC,YACxBjG,WAAY,EAAKt6B,MAAMs6B,WAEvBgH,mBAAoB,EAAKthC,MAAMklB,QAGnC,EAAK6Z,oBAAsB,EAAKA,oBAAoB33B,KAAzB,gBAC3B,EAAKs5B,YAAc,EAAKA,YAAYt5B,KAAjB,gBACnB,EAAK7N,MAAQ,EAAKA,MAAM6N,KAAX,gBAdE,E,gEAkBf7G,KAAKwuB,SAAS,CAACwS,0BAA2BhhC,KAAKP,MAAMqgC,YAAY,eAGjE7sC,SAASsB,iBAAiB,YAAayL,KAAKw+B,uB,6CAI5CvrC,SAASqS,oBAAoB,YAAatF,KAAKw+B,uB,0CAE/BhqC,GAIZwL,KAAKurB,MAAMyV,0BAA0B5gC,UAAYJ,KAAKurB,MAAMyV,0BAA0B5gC,QAAQE,SAAS9L,EAAM4G,SAE7G4E,KAAKurB,MAAMwV,mBAAmBF,iBAAgB,K,kCAI1CjsB,GACoB,IAAxBA,EAAEyrB,YAAY7b,QACVxkB,KAAKurB,MAAMwV,mBAAmBxV,MAAMoV,cACpCzkC,OAAO2iC,SAASyB,KAAhB,WAA2BtgC,KAAKurB,MAAMyU,YAAtC,YAAqDhgC,KAAKurB,MAAMppB,MAChEnC,KAAKhH,SAELgH,KAAKurB,MAAMwV,mBAAmBH,wB,8BAMtC5gC,KAAKurB,MAAMwV,mBAAmB/nC,U,+BAI9B,OACQgH,KAAKurB,MAAMwV,mBAAmBxV,MAAMmV,gBAChC,yBAAKP,YAAangC,KAAKmgC,YAAan/B,UAAU,8CAA8CpH,GAAE,cAASoG,KAAKurB,MAAMppB,OAC7G8C,EAAM/F,aAAac,KAAKurB,MAAMwO,WAAW,MAG9C,kBAAC,IAAD,CAAMoG,YAAangC,KAAKhH,MAAOgI,UAAU,8CAA8CpH,GAAE,cAASoG,KAAKurB,MAAMppB,MAAQy8B,GAAE,UAAK5+B,KAAKurB,MAAMyU,YAAhB,YAA+BhgC,KAAKurB,MAAMppB,OAASnC,KAAKurB,MAAMwO,gB,GA5DnKyF,aAiEhCyB,G,kDACF,WAAYxhC,GAAQ,IAAD,8BACf,cAAMA,IAGD8rB,MAAQ,CACTmV,gBAAiB,EAAKjhC,MAAMsgC,MAC5BgB,mBAAoB,EAAKthC,MAAMklB,QAGnC,EAAK3rB,MAAQ,EAAKA,MAAM6N,KAAX,gBATE,E,oDAaf7G,KAAKurB,MAAMwV,mBAAmB/nC,U,+BAGxB,IAAD,OACL,OACQ,yBAAKgI,UAAU,mCAAf,IACIhB,KAAKurB,MAAMmV,gBAAgBnqC,KAAK,SAAC2qC,GAC7B,OACQ,kBAAC,GAAD,CAAgBjoC,IAAG,cAASioC,EAAe/+B,MAAQi9B,QAAS8B,EAAgBlB,YAAa,EAAKvgC,MAAMugC,YAAarb,OAAQ,OAHzI,S,GAnBa6a,aA8BvB2B,G,kDACF,WAAY1hC,GAAQ,IAAD,8BACf,cAAMA,IAED8rB,MAAQ,CACTppB,KAAM,EAAK1C,MAAM2/B,QAAQj9B,KACzB43B,WAAY,EAAKt6B,MAAM2/B,QAAQrF,WAC/BiG,YAAa,EAAKvgC,MAAMugC,YACxBrb,OAAQ,EAAKllB,MAAMklB,QAGvB,EAAK3rB,MAAQ,EAAKA,MAAM6N,KAAX,gBAVE,E,oDAcf3K,OAAO2iC,SAASyB,KAAhB,WAA2BtgC,KAAKurB,MAAMyU,YAAtC,YAAqDhgC,KAAKurB,MAAMppB,MAChEnC,KAAKurB,MAAM5G,OAAO3rB,U,+BAIlB,OACQ,yBAAKgI,UAAU,8BACX,kBAAC,IAAD,CAAMm/B,YAAangC,KAAKhH,MAAOgI,UAAU,8CAA8CpH,GAAE,cAASoG,KAAKurB,MAAMppB,MAAQy8B,GAAE,UAAK5+B,KAAKurB,MAAMyU,YAAhB,YAA+BhgC,KAAKurB,MAAMppB,OAASnC,KAAKurB,MAAMwO,iB,GAtB5KyF,aC5Yd,SAAS4B,KACpB,OACQ,4BAAQpgC,UAAU,cACd,kBAAC,GAAD,CAAQk+B,UAAWj9B,M,OCJpB,SAASo/B,KACpB,OACQ,4BAAQrgC,UAAU,cACd,yBAAKA,UAAU,kBACX,qI,gCCPLsgC,GCEgB,SAAC7hC,GAC5B,OACQ,yBAAKuB,UAAU,mBAAmBK,QAAS,WAAOnF,OAAO2iC,SAASyB,KAAhB,YAA4B7gC,EAAMyC,MAAlC,YAA2CzC,EAAMpM,KAAjD,YAAyDoM,EAAM0C,QAC7G,uBAAGnB,UAAU,cAAcvB,EAAM4G,S,SCLlCk7B,I,OCMS,SAAC9hC,GACrB,IAAI7I,EAAQuP,YAAc,CACtBC,KAAK,IAAD,OAAM3G,EAAMyC,MAAZ,YAAqBzC,EAAMpM,QAEnCmR,qBAAU,WACNvR,SAASyhB,cAAc,gBAAgBpY,MAAM,cAAgB1F,EAAQ,GAAK,YAE9E,IAmFoD,EAnFhDvD,EAAO4O,GAAQpE,QAAO,SAAAqE,GAAK,OAAIA,EAAMC,OAAS1C,EAAMyC,SAAO,GAAGE,MAAMvE,QAAO,SAAAxK,GAAI,OAAIA,EAAK8O,OAAS1C,EAAMpM,QAAM,GAC7GgG,EAAUhG,EAAKsnC,aAAe,GAAKtnC,EAAKgG,QACxCmoC,GAAkB,EAClBnuC,EAAKsnC,eACDtnC,EAAKsnC,aAAa78B,SAAS,aAC3BzE,EAAUhG,EAAKiP,SAAS/L,KAAI,SAAAkrC,GACxB,IAAIC,EAAMruC,EAAKgG,QAAQwE,QAAO,SAAA6jC,GAAG,OAAIA,EAAIv/B,OAASs/B,EAASp/B,SAAO,GAElE,OAAO,6BAAKq/B,GAAZ,IAAiB3H,WAAY0H,EAAS1H,gBAEnC1mC,EAAKsnC,aAAa78B,SAAS,eAClCzE,EAAU,CAAC,6BACJhG,EAAKgG,QAAQ,IADV,IAEN0gC,WAAY,GACZ/3B,KAAM3O,EAAKgG,QAAQxC,QAAO,SAACmL,EAAM2/B,GAE7B3/B,EAAKiB,KAAKpO,KAAK8sC,EAAU5H,YACrB4H,EAAUr/B,SAASE,cAAcI,KAAK3N,OAAS+M,EAAKY,KAAK3N,SACzD+M,EAAKY,KAAO++B,EAAUr/B,SAASE,cAAcI,KAC7CZ,EAAK4/B,gBAAkBD,EAAUr/B,SAASE,cAAco/B,iBAE5D,IAAIv7B,EAAQs7B,EAAU5H,WAAWniC,UAAU,EAAG+pC,EAAU5H,WAAWx2B,OAAO,SAC1E,IAAK,IAAIH,KAAOu+B,EAAUr/B,SAASE,cACnB,SAARY,GAA0B,SAARA,GAA0B,aAARA,IAEpCpB,EAAK,GAAD,OAAIqE,EAAJ,YAAajD,IAASu+B,EAAUr/B,SAASE,cAAcY,IAGnE,IAAK,IAAIO,KAAUg+B,EAAUr/B,SACzB,GAAe,kBAAXqB,EAEA,IAAK,IAAIP,KADTlO,QAAQC,IAAIwO,GACIg+B,EAAUr/B,SAASqB,GACnB,SAARP,IACAlO,QAAQC,IAAIiO,GACZpB,EAAK,GAAD,OAAIqE,EAAJ,YAAajD,IAAOu+B,EAAUr/B,SAASqB,GAAQrO,MAAQqsC,EAAUr/B,SAASqB,GAAQP,GAAKe,SAM3G,OADAjP,QAAQC,IAAI6M,GACLA,IACR,CACCiB,KAAM,GACNL,KAAM,GACND,SAAU,QAIlB6+B,GAAkB,GACXnuC,EAAKsnC,aAAa78B,SAAS,gBAClCzE,EAAU,CAAC,6BACJhG,EAAKgG,QAAQ,IADV,IAEN0gC,WAAY,GACZ/3B,KAAM3O,EAAKgG,QAAQxC,QAAO,SAACmL,EAAM2/B,GAE7B3/B,EAAKY,KAAK/N,KAAK8sC,EAAU5H,YACzB/3B,EAAKiB,KAAO0+B,EAAUr/B,SAASE,cAAcI,KAC7C,IAAIyD,EAAQs7B,EAAU5H,WAAWniC,UAAU,EAAG+pC,EAAU5H,WAAWx2B,OAAO,SAC1E,IAAK,IAAIH,KAAOu+B,EAAUr/B,SAASE,cACnB,SAARY,GAA0B,SAARA,GAA0B,aAARA,IAEpCpB,EAAK,GAAD,OAAIoB,EAAJ,YAAWiD,IAAWs7B,EAAUr/B,SAASE,cAAcY,IAGnE,IAAK,IAAIO,KAAUg+B,EAAUr/B,SACzB,GAAe,kBAAXqB,EAEA,IAAK,IAAIP,KADTlO,QAAQC,IAAIwO,GACIg+B,EAAUr/B,SAASqB,GACnB,SAARP,IACApB,EAAK,GAAD,OAAIoB,EAAJ,YAAWiD,IAASs7B,EAAUr/B,SAASqB,GAAQrO,MAAQqsC,EAAUr/B,SAASqB,GAAQP,GAAKe,SAK3G,OAAOnC,IACR,CACCiB,KAAM,GACNL,KAAM,GACND,SAAU,QAGlB6+B,GAAkB,GAElBnuC,EAAKsnC,aAAa78B,SAAS,mBAC3B,EAAAzE,GAAQxE,KAAR,oBAAgBxB,EAAKiP,SAAS/L,KAAI,SAACsrC,EAAgBnrC,GAC/C,OAAO,6BAAKmrC,GAAZ,IAA4B1/B,KAAK,YAAD,OAAczL,UAElD8qC,GAAkB,IAG1B,OACQ,yBAAKxgC,UAAU,cACP,wBAAIA,UAAU,oBAAoB3N,EAAK0mC,WAAvC,kBACA,yBAAK/4B,UAAU,gCACV3H,EAAQ9C,KAAK,SAAClB,GACX,OACQ,yBAAK4D,IAAK5D,EAAW8M,KAAMnB,UAAS,iCAA4BwgC,EAAkB,aAAe,KAC7F,wBAAIxgC,UAAU,uBAAuB3L,EAAW0kC,YAChD,kBAAC,GAAD,CAAa73B,MAAOzC,EAAMyC,MAAO7O,KAAMoM,EAAMpM,KAAMgP,MAAOhN,EAAW8M,KAAMH,KAAM3M,EAAW2M,eC/GrH8/B,GCOe,SAACriC,GAC3B,IAAIsiC,EAAY57B,YAAc,CAC1BC,KAAK,IAAD,OAAM3G,EAAMyC,MAAZ,YAAqBzC,EAAMpM,QAE/B2uC,EAA2B77B,YAAc,CACzCC,KAAK,IAAD,OAAM3G,EAAMyC,MAAZ,YAAqBzC,EAAMpM,KAA3B,uBAERmR,qBAAU,WAEN,OADAvR,SAASyhB,cAAc,gBAAgBpY,MAAM,cAAgB0lC,EAA2B,GAAK,SACtF,WACH/uC,SAASyhB,cAAc,gBAAgBpY,MAAM,cAAgB,MAElE,CAAC0lC,IACJ,IAAI3uC,EAAO4O,GAAQpE,QAAO,SAAAqE,GAAK,OAAIA,EAAMC,OAAS1C,EAAMyC,SAAO,GAAGE,MAAMvE,QAAO,SAAAxK,GAAI,OAAIA,EAAK8O,OAAS1C,EAAMpM,QAAM,GAC7G4uC,EAAaD,GAA4B3uC,EAAKgG,QAAQ9C,KAAI,SAAAlB,GAAU,OAAIA,EAAW8M,QAAMrE,SAASkkC,EAAyB17B,OAAOG,iBAClIA,EAAkBw7B,EAAa5uC,EAAKgG,QAAQwE,QAAO,SAAAxI,GAAU,OAAIA,EAAW8M,OAAS6/B,EAAyB17B,OAAOG,mBAAiB,GAAK,KAC3Iy7B,EAAsBz7B,GAAmBA,EAAgBhI,UAC7D,OACQwjC,EACM,kBAACC,EAAD,CAAqBz7B,gBAAiBA,IACtC,yBAAKzF,UAAU,mBACT,wBAAIA,UAAS,+BAA0B+gC,EAAY,eAAiB,IAAM1gC,QAAS0gC,EAAY,KAAO,WAAO7lC,OAAO2iC,SAASyB,KAAhB,YAA4B7gC,EAAMyC,MAAlC,YAA2CzC,EAAMpM,QAAWA,EAAK0mC,YAC9K,yBAAK/4B,UAAU,8BACV3N,EAAKgG,QAAQ9C,KAAK,SAAClB,GAChB,OAAOA,EAAWoJ,WACV,kBAAC,GAAD,CAAiBxF,IAAK5D,EAAW8M,KAAMD,MAAOzC,EAAMyC,MAAO7O,KAAMoM,EAAMpM,KAAMgT,MAAOhR,EAAW0kC,WAAY53B,KAAM9M,EAAW8M,WAI3I4/B,GAAa,kBAAC,GAAD,CAAU7/B,MAAOzC,EAAMyC,MAAO7O,KAAMoM,EAAMpM,SCpCjE8uC,GCMgB,SAAC1iC,GAC5B,IAAI7I,EAAQuP,YAAc,CACtBC,KAAK,IAAD,OAAM3G,EAAMyC,MAAZ,sBAGR,OACQtL,GAASqL,GAAQpE,QAAO,SAAAqE,GAAK,OAAIA,EAAMC,OAAS1C,EAAMyC,SAAO,GAAGE,MAAM7L,KAAI,SAAAlD,GAAI,OAAIA,EAAK8O,QAAMrE,SAASlH,EAAM0P,OAAOE,gBAC7G,kBAAC,GAAD,CAAgBtE,MAAOzC,EAAMyC,MAAO7O,KAAMuD,EAAM0P,OAAOE,iBACvD,yBAAKxF,UAAU,oBACZiB,GAAQpE,QAAO,SAAAqE,GAAK,OAAIA,EAAMC,OAAS1C,EAAMyC,SAAO,GAAGE,MAAM7L,KAAK,SAAClD,GAChE,OACQ,kBAAC,GAAD,CAAgB4F,IAAK5F,EAAK8O,KAAMD,MAAOzC,EAAMyC,MAAO7O,KAAMA,EAAK8O,YCjBhFigC,GCMK,WAChB,IAAIxrC,EAAQuP,YAAc,CACtBC,KAAK,sBAGT,OACQxP,GAASqL,GAAQ1J,MAAM,GAAG,GAAGhC,KAAI,SAAA2L,GAAK,OAAIA,EAAMC,QAAMrE,SAASlH,EAAM0P,OAAOC,iBACtE,kBAAC,GAAD,CAAiBrE,MAAOtL,EAAM0P,OAAOC,kBACrC,yBAAKvF,UAAU,QACZiB,GAAQ1J,MAAM,GAAG,GAAGhC,KAAK,SAAC2L,GACvB,OACQ,kBAAC,GAAD,CAAiBjJ,IAAKiJ,EAAMC,KAAMD,MAAOA,EAAMC,Y,OCdhE,SAASkgC,KACpB,OACQ,yBAAKrhC,UAAU,SACX,4CACA,oLAC4D,uBAAG89B,KAAK,yBAAR,iBAD5D,yJAIA,4CAAiB,uBAAGA,KAAK,uCAAR,oBAAjB,KACA,wCACA,qKACqB,kBAAC,KAAD,CAAiBv9B,KAAM,CAAC,MAAM,WADnD,2EAEQ,0CAFR,wBAEkD,uCAFlD,YAE6E,2CAF7E,4DAGM,wCAHN,mCAIA,mCACA,sNACuC,uBAAGu9B,KAAK,kCAAR,4BCRxC,SAASwD,GAAI7iC,GAIxB,OAHA+E,qBAAU,WACNS,EAAM7G,qBACP,IAEK,kBAAC,IAAD,CAAYmkC,SAAS,KACjB,kBAAC,IAAMC,WAAP,KACI,yBAAKxhC,UAAU,OACX,kBAACogC,GAAD,MACA,yBAAKpgC,UAAU,eACX,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOoF,KAAK,UACR,kBAACi8B,GAAD,OAEJ,kBAAC,IAAD,CAAOj8B,KAAK,KACR,kBAAC,GAAD,SAIZ,kBAACi7B,GAAD,SCnBJoB,QACW,cAA7BvmC,OAAO2iC,SAAS6D,UAEe,UAA7BxmC,OAAO2iC,SAAS6D,UAEhBxmC,OAAO2iC,SAAS6D,SAAS9rC,MACvB,2DCZN+rC,IAASC,OAAO,kBAAC,GAAD,MAAmB3vC,SAAS4vC,eAAe,SD6HrD,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,mB","file":"static/js/main.ae691aa6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.2d46fc74.svg\";","export function newEmptyControl() {\r\n    let emptyControl = document.createElement(\"input\");\r\n    applyStyle(emptyControl, \"visibility\", \"hidden\");\r\n    return emptyControl;\r\n}\r\n\r\nexport function createControl(type, value) {\r\n    let newControl = document.createElement(\"input\");\r\n    newControl.classList.add(\"visual-control\", type);\r\n\r\n    newControl.setAttribute(\"type\", type);\r\n    if (value) {\r\n        newControl.setAttribute(\"value\", value);\r\n    }\r\n\r\n    return newControl;\r\n};\r\n\r\nexport function createButton(label, options) {\r\n    // let button = createControl(\"button\", label);\r\n\r\n    let button = document.createElement(\"button\");\r\n    button.classList.add(\"visual-control\", \"button\");\r\n    button.setAttribute(\"type\", \"button\");\r\n    button.innerHTML = label;\r\n\r\n    if (options) {\r\n        if (options.tooltipText) {\r\n            button.setAttribute(\"data-tooltip\",options.tooltipText);\r\n        }\r\n        for (let attr in options.attributes) {\r\n            button.setAttribute(attr, options.attributes[attr]);\r\n        }\r\n    }\r\n\r\n    return button;\r\n};\r\n\r\nexport function addButtonSubmit(button, callback, ...fields) {\r\n    if (button.type !== \"button\") {\r\n        console.log(\"cannot add callback to nonbutton\");\r\n        return;\r\n    }\r\n    if (callback === undefined) {\r\n        console.log(button, \"cannot set button submit to undefined callback\");\r\n        return;\r\n    }\r\n    button.addEventListener(\"click\", (event) => {\r\n        let args = [];\r\n        fields.forEach((field) => {\r\n            if (args) {\r\n                let f = field.field || field;\r\n                let value = f.parse();\r\n                if (value !== null) {\r\n                    args.push(value);\r\n                } else {\r\n                    args = null;\r\n                }\r\n            }\r\n        });\r\n        if (args) {\r\n            callback(...args);\r\n            fields.forEach((field) => {\r\n                let f = field.field || field;\r\n                if (f.clearOnSuccess) {\r\n                    f.value = \"\";\r\n                }\r\n                if (field.focus === true || fields.length === 1) {\r\n                    f.focus();\r\n                }\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\nexport function applyNewCallbackButton(visualizer, name, ...fields) {\r\n    let longName = name.longName || name;\r\n    let options = name.options || undefined;\r\n    name = name.name || name;\r\n    visualizer[name + \"Button\"] = createButton(longName, options);\r\n    addButtonSubmit(visualizer[name + \"Button\"], visualizer[name], ...fields);\r\n    if (options && options.addAnimatorEnableDisable) {\r\n        visualizer.animator.on(`disable-${name}`, () => {\r\n            visualizer[name + \"Button\"].disabled = true;\r\n        });\r\n        visualizer.animator.on(`enable-${name}`, () => {\r\n            visualizer[name + \"Button\"].disabled = false;\r\n        });\r\n    }\r\n}\r\n\r\nexport function applyResetButton(visualizer, prompt, fieldToFocus) {\r\n    visualizer[prompt + \"Button\"] = createButton(prompt);\r\n    visualizer[prompt + \"Button\"].addEventListener(\"click\", (event) => {\r\n        for (let property in visualizer) {\r\n            if (property.endsWith(\"Field\") && visualizer[property].constructor === HTMLInputElement && visualizer[property].type === \"text\") {\r\n                visualizer[property].value = \"\";\r\n            }\r\n        }\r\n        if (fieldToFocus) {\r\n            fieldToFocus.focus();\r\n        }\r\n    });\r\n    addButtonSubmit(visualizer[prompt + \"Button\"], visualizer[prompt]);\r\n}\r\n\r\nexport function createField(prompt, ...validators) {\r\n    let field = createControl(\"text\");\r\n    field.setAttribute(\"placeHolder\", prompt);\r\n\r\n    field.inputValidators = validators;\r\n    field.parsers = validators.map(validator => validator.parser);\r\n\r\n    field.addEventListener(\"input\", () => {\r\n        field.inputValidators.forEach((validator) => {\r\n            validator(field);\r\n        });\r\n    });\r\n\r\n    field.parse = () => {\r\n        let value = field.value;\r\n        let i = 0;\r\n        while (value && i < field.parsers.length) {\r\n            value = field.parsers[i++](value);\r\n        }\r\n        return value || (value === 0 ? 0 : null);\r\n    }\r\n\r\n    return field;\r\n};\r\n\r\nexport function validatorIntOnly() {\r\n    let validator = (field) => {\r\n        let regex = /^[-+]?\\d*|\\d*/g;\r\n        field.value = field.value.match(regex).reduce((sum, char) => sum + char);\r\n    };\r\n    validator.parser = (value) => {\r\n        let val = parseInt(value);\r\n        if (isNaN(val)) {\r\n            return null;\r\n        } else {\r\n            return val;\r\n        }\r\n    };\r\n    return validator;\r\n};\r\n\r\nexport function validatorPositiveIntOnly() {\r\n    let validator = (field) => {\r\n        let regex = /^[+]?\\d*|\\d*/g;\r\n        field.value = field.value.match(regex).reduce((sum, char) => sum + char);\r\n    }\r\n    validator.parser = (value) => {\r\n        let val = Math.abs(parseInt(value));\r\n        if (isNaN(val)) {\r\n            return null;\r\n        } else {\r\n            return val;\r\n        }\r\n    };\r\n    return validator;\r\n};\r\n\r\nexport function validatorIntList(numLength, maxNums) {\r\n    let validator = (field) => {\r\n        // ^(((\\d+)|(\\d+-\\d+))(,((\\d+)|(\\d+-\\d+)))*)$\r\n        // let regex = /^(((\\d+)|(\\d+-\\d+))(,((\\d+)|(\\d+-\\d+)))*)$/g;\r\n        // let regex = /((\\d+)|(\\d+-\\d+))|(,(\\d+)|(\\d+-\\d+))/g;\r\n        let cursorPos = field.selectionStart;\r\n        let regex = /[+-\\d,]/g;\r\n        field.value = (field.value.match(regex) || [\"\"]).reduce((sum, char) => sum + char);\r\n        field.value = field.value.replace(/\\+{2,}/g,\"+\");\r\n        field.value = field.value.replace(/-{3,}/g,\"--\");\r\n        field.value = field.value.replace(/,{3,}/g,\",,\");\r\n        if ((field.value.match(/,/g) || []).length > maxNums) {\r\n            field.value = field.value.substring(0, field.value.lastIndexOf(\",\"));\r\n        }\r\n        field.selectionStart = field.selectionEnd = cursorPos;\r\n    };\r\n    validator.parser = (value) => {\r\n        // let regex = /^(((-?\\d+)|(-?\\d+--?\\d+))(,((-?\\d+)|(-?\\d+--?\\d+)))*)$/g;\r\n        let regex = /((-?\\d+(--?\\d+)*)|(-?\\d+))/g;\r\n        let values = value.match(regex);\r\n        let ints = [];\r\n        ints.add = ints.push;\r\n        ints.push = (num) => {\r\n            while (num >= Math.pow(10,numLength) || num <= -Math.pow(10,numLength-1)) {\r\n                num /= 10;\r\n            }\r\n            ints.add(parseInt(num));\r\n        };\r\n        values.forEach((intStr, i, arr) => {\r\n            if (intStr.match(/(-?\\d+(--?\\d+){2,})/g)) {\r\n                return null;\r\n            } else if (intStr.match(/(-?\\d+(--?\\d+))/g)) {\r\n                let match = intStr.match(/(-?\\d+)-(-?\\d+)/);\r\n                let [ first, second ] = [ parseInt(match[1]), parseInt(match[2]) ];\r\n                if (first === second) {\r\n                    ints.push(first);\r\n                } else {\r\n                    if (first < second) {\r\n                        for (let i = first; i <= second; i++) {\r\n                            ints.push(i);\r\n                        }\r\n                    } else {\r\n                        for (let i = first; i >= second; i--) {\r\n                            ints.push(i);\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                ints.push(parseInt(intStr));\r\n            }\r\n        });\r\n        return ints.slice(0, maxNums);\r\n    };\r\n    return validator;\r\n}\r\n\r\nexport function validatorMaxLength(maxLength) {\r\n    let validator = (field) => {\r\n        if (field.value.length > maxLength) {\r\n            field.value = field.value.substring(0, maxLength);\r\n        }\r\n    };\r\n    validator.parser = (value) => {\r\n        value = String(value);\r\n        if (value.length === 0) {\r\n            return null;\r\n        } else {\r\n            return value.substring(0, maxLength);\r\n        }\r\n    };;\r\n    return validator;\r\n};\r\n\r\nexport function validatorSkipListHeads() {\r\n    let validator = (field) => {\r\n        let regex = /([HT]+)/gi;\r\n        field.value = (field.value.match(regex) || [\"\"]).reduce((sum, char) => sum + char);\r\n    };\r\n    validator.parser = (value) => {\r\n        let regex = /(^H+T?)/i;\r\n        let val = (value.match(regex) || [\"\"])[0];\r\n        if (val.length === 0) {\r\n            return null;\r\n        } else {\r\n            return (val.match(/H/gi) || []).length;\r\n        }\r\n    };\r\n    return validator;\r\n}\r\n\r\nexport function addFieldSubmit(field, callback, {secondaryRequired = false, secondary = {field: undefined, isFirstParam: false, callback: undefined, clear: false}} = {}) {\r\n    if (field.type !== \"text\") {\r\n        console.log(\"cannot add callback to nontextfield\");\r\n        return;\r\n    }\r\n    if (callback === undefined) {\r\n        console.log(\"cannot set field submit to undefined callback\");\r\n        return;\r\n    }\r\n    field.addEventListener(\"keydown\", (event) => {\r\n        if (event.key === \"Enter\") {\r\n            let value = field.parse();\r\n            if (value !== null) {\r\n                let success;\r\n                let secondaryValue;\r\n                if (secondary.field && (secondaryValue = secondary.field.parse()) !== null) {\r\n                    if (secondaryRequired) {\r\n                        secondary.callback = callback;\r\n                    }\r\n                    if (secondary.isFirstParam) {\r\n                        success = secondary.callback(secondaryValue,value) !== false;\r\n                    } else {\r\n                        success = secondary.callback(value,secondaryValue) !== false;\r\n                    }\r\n                } else if (!secondaryRequired) {\r\n                    success = callback(value) !== false;\r\n                }\r\n                if (success) {\r\n                    if (field.clearOnSuccess) {\r\n                        field.value = \"\";\r\n                    }\r\n                    if (secondary.field && secondary.clear) {\r\n                        secondary.field.value = \"\";\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nexport function applyFieldWithOptions(visualizer, name, ...validators) {\r\n    let prompt = name.prompt || name.longName || name.name || name;\r\n    let args = name.args || {};\r\n    let classes = name.classes || [];\r\n    let callback = name.callback !== false ? (name.callback || name.name || name) : null;\r\n    name = name.name || name;\r\n    visualizer[name + \"Field\"] = createField(prompt, ...validators);\r\n    let defaultArgs = {clearOnSuccess: true, size: 20};\r\n    for (let property in defaultArgs) {\r\n        visualizer[name + \"Field\"][property] = defaultArgs[property];\r\n    }\r\n    for (let property in (args || {})) {\r\n        visualizer[name + \"Field\"][property] = args[property];\r\n    }\r\n    visualizer[name + \"Field\"].classList.add(...classes);\r\n    if (callback) {\r\n        addFieldSubmit(visualizer[name + \"Field\"], visualizer[callback]);\r\n    }\r\n}\r\n\r\nexport function createLabel(text, control) {\r\n    let newLabel = document.createElement(\"label\");\r\n    newLabel.classList.add(\"visual-control\",\"label\");\r\n\r\n    newLabel.setAttribute(\"for\", control.id);\r\n    newLabel.innerHTML = text;\r\n\r\n    return newLabel;\r\n}\r\n\r\nexport function createSlider(min, max, defaultValue, step) {\r\n    let slider = createControl(\"range\");\r\n\r\n    slider.setAttribute(\"min\", min);\r\n    slider.setAttribute(\"max\", max);\r\n    slider.setAttribute(\"step\", step === 0 ? \"1e-18\" : step);\r\n    slider.setAttribute(\"defaultValue\", defaultValue);\r\n    slider.value = defaultValue;\r\n\r\n    return slider;\r\n};\r\n\r\nfunction createRadioButton(name, value) {\r\n    let text = value.longText || value;\r\n    value = value.value || value;\r\n    let buttonContainer = document.createElement(\"div\");\r\n    buttonContainer.classList.add(\"radio-button-container\");\r\n    let radioButton = createControl(\"radio\", value);\r\n    radioButton.name = name;\r\n    radioButton.tabindex = 0;\r\n    radioButton.addEventListener(\"focus\", (event) => {\r\n        radioButton.blur();\r\n    });\r\n    let label = createLabel(text, radioButton);\r\n    buttonContainer.appendChild(radioButton);\r\n    buttonContainer.appendChild(label);\r\n    buttonContainer.addEventListener(\"click\", () => {\r\n        radioButton.click();\r\n        radioButton.focus();\r\n    });\r\n    return buttonContainer;\r\n}\r\n\r\nexport function createRadio(name, ...options) {\r\n    let radioContainer = document.createElement(\"div\");\r\n    radioContainer.classList.add(\"radio-container\", \"visual-control\")\r\n    radioContainer.id = name;\r\n    options.forEach((option) => {\r\n        let radioButtonContainer = createRadioButton(name, option);\r\n        radioContainer.appendChild(radioButtonContainer);\r\n    });\r\n    radioContainer.childNodes[0].childNodes[0].checked = true;\r\n    return radioContainer;\r\n}\r\n\r\nexport function addRadioSubmit(radioContainer, callback) {\r\n    radioContainer.childNodes.forEach((radioButtonContainer) => {\r\n        radioButtonContainer.childNodes[0].addEventListener(\"change\", () => {\r\n            callback(radioButtonContainer.childNodes[0].value);\r\n        });\r\n    });\r\n}\r\n\r\nfunction createCheckButton(name, value) {\r\n    let text = value.longText || value;\r\n    let checked = value.checked || false;\r\n    value = value.value || value;\r\n    let buttonContainer = document.createElement(\"div\");\r\n    buttonContainer.classList.add(\"check-button-container\");\r\n    let checkButton = createControl(\"checkbox\", value);\r\n    checkButton.name = name;\r\n    checkButton.tabindex = 0;\r\n    checkButton.addEventListener(\"focus\", (event) => {\r\n        checkButton.blur();\r\n    });\r\n    if (checked) {\r\n        checkButton.checked = true;\r\n    }\r\n    let label = createLabel(text, checkButton);\r\n    buttonContainer.appendChild(checkButton);\r\n    buttonContainer.appendChild(label);\r\n    buttonContainer.addEventListener(\"click\", (event) => {\r\n        if (event.target !== checkButton) {\r\n            checkButton.click();\r\n            checkButton.focus();\r\n        }\r\n    });\r\n    return buttonContainer;\r\n}\r\n\r\nexport function createCheckBox(name, ...options) {\r\n    let checkBoxContainer = document.createElement(\"div\");\r\n    checkBoxContainer.classList.add(\"checkbox-container\", \"visual-control\")\r\n    checkBoxContainer.id = name;\r\n    options.forEach((option) => {\r\n        let checkButtonContainer = createCheckButton(name, option);\r\n        checkBoxContainer.appendChild(checkButtonContainer);\r\n    });\r\n    return checkBoxContainer;\r\n}\r\n\r\nexport function addCheckBoxSubmit(checkBoxContainer, callback) {\r\n    let max1Checked = callback.max1Checked || false;\r\n    callback = callback.callback || callback;\r\n    checkBoxContainer.childNodes.forEach((checkButtonContainer) => {\r\n        checkButtonContainer.childNodes[0].addEventListener(\"click\", () => {\r\n            let checkedButton = checkButtonContainer.childNodes[0];\r\n            let checkedValues = {};\r\n            checkBoxContainer.childNodes.forEach((checkButtonBox) => {\r\n                let checkButton = checkButtonBox.childNodes[0];\r\n                checkedValues[checkButton.value] = checkButton.checked;\r\n                if (max1Checked && checkButton !== checkedButton) {\r\n                    checkButton.checked = false;\r\n                    checkedValues[checkButton.value] = false;\r\n                }\r\n            });\r\n            callback(checkedValues);\r\n        });\r\n    });\r\n}\r\n\r\n\r\nexport function createControlGroup(id, ...controls) {\r\n    let classes = id.classes || [];\r\n    id = id.id || id;\r\n    let controlGroup = document.createElement(\"div\");\r\n    controlGroup.classList.add(\"control-group\", ...classes);\r\n    controlGroup.id = id;\r\n\r\n    controls.forEach((control) => {\r\n        controlGroup.appendChild(control);\r\n    });\r\n\r\n    return controlGroup;\r\n};\r\n\r\nexport function setTabControl(control, nextControl) {\r\n    if (control === undefined || nextControl === undefined) {\r\n        console.log(\"cannot link undefined controls\");\r\n        return;\r\n    }\r\n    enableShift();\r\n    control.addEventListener(\"keydown\", (event) => {\r\n        if (event.key === \"Tab\" && (window.shifted !== undefined && !window.shifted)) {\r\n            event.preventDefault();\r\n            control.blur();\r\n            nextControl.focus();\r\n        }\r\n    });\r\n    nextControl.addEventListener(\"keydown\", (event) => {\r\n        if (event.key === \"Tab\" && window.shifted) {\r\n            event.preventDefault();\r\n            nextControl.blur();\r\n            control.focus();\r\n        }\r\n    });\r\n};\r\n\r\nfunction enableShift() {\r\n    if (window.shifted === undefined) {\r\n        window.shifted = false;\r\n        window.addEventListener(\"keydown\", (event) => {\r\n            if (event.key === \"Shift\") {\r\n                event.preventDefault();\r\n                window.shifted = true;\r\n            }\r\n        });\r\n        window.addEventListener(\"keyup\", (event) => {\r\n            if (event.key === \"Shift\") {\r\n                event.preventDefault();\r\n                window.shifted = false;\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nexport function applyStyle(control, styleType, value) {\r\n    control.style[styleType] = value;\r\n}\r\n","export const RED = [255,0,0];\r\nexport const GREEN = [60, 181, 60];\r\nexport const BLUE = [0,0,255];\r\nexport const BLACK = [0,0,0];\r\nexport const WHITE = [255,255,255];\r\n","import React from 'react';\r\n\r\nexport function addArray(array, ...arrays) {\r\n    let newArr = [...array];\r\n    arrays.forEach(array => {\r\n        array.forEach((item, i) => {\r\n            newArr[i] += item;\r\n        });\r\n    });\r\n    return newArr;\r\n}\r\n\r\nexport function isDev() {\r\n    return !process.env.NODE_ENV || process.env.NODE_ENV === 'development';\r\n}\r\n\r\nexport function unfoldUndoRedo(object) {\r\n    let properties = new Set();\r\n    let currObj = object;\r\n    do {\r\n        Object.getOwnPropertyNames(currObj).map(item => properties.add(item));\r\n    } while ((currObj = Object.getPrototypeOf(currObj)));\r\n    let functions = [...properties.keys()].filter(item => typeof object[item] === 'function');\r\n    for (const i in functions) {\r\n        let property = functions[i];\r\n        if (property.includes(\"undo_\")) {\r\n            object[property.substring(5)].undo = object[property];\r\n        }\r\n        if (property.includes(\"redo_\")) {\r\n            object[property.substring(5)].redo = object[property];\r\n        }\r\n    }\r\n}\r\n\r\nexport const DOM_SELECORS_USING_MOBILE = [\"[data-tooltip]\", \".canvas-container\", \".app\"];\r\n\r\nexport function isMobile() {\r\n    return window.ontouchstart !== undefined;\r\n}\r\n\r\nexport function addMobileClasses() {\r\n    if (isMobile()) {\r\n        DOM_SELECORS_USING_MOBILE.forEach((selector) => {\r\n            document.querySelectorAll(`${selector}`).forEach((node) => {\r\n                node.classList.add(\"mobile\");\r\n                console.log(node);\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\nexport function isReactComponent(component) {\r\n    (typeof component === 'function' &&\r\n                (!!component.prototype.isReactComponent\r\n                    || String(component).includes('return React.createElement')))\r\n}\r\n\r\nexport function windowWidth() {\r\n    return Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\r\n}\r\n\r\nexport function windowHeight() {\r\n    return Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\r\n}\r\n\r\nexport function spannifyText(text, afterTheseString) {\r\n    if (afterTheseString === \"CAPITALS\") {\r\n        return text.split(\"\").map((char, i) => {\r\n            if (i > 0 && char === char.toUpperCase()) {\r\n                return (\r\n                    <span key={i}>\r\n                        <wbr />{char}\r\n                    </span>\r\n                );\r\n            }\r\n            return char;\r\n        });\r\n    } else if (afterTheseString) {\r\n        return text.split(new RegExp(`([${afterTheseString}])`,\"g\")).map((str, i) => {\r\n            if (i > 0) {\r\n                return (\r\n                    <>\r\n                        <wbr key={i} />\r\n                        {str}\r\n                    </>\r\n                );\r\n            }\r\n            return str;\r\n        });\r\n    } else {\r\n        return text.split(\"\").map((char, i) => {\r\n            if (i > 0) {\r\n                return (\r\n                    <span key={i}>\r\n                        <wbr />{char}\r\n                    </span>\r\n                );\r\n            }\r\n            return char;\r\n        });\r\n    }\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport './controlBar.scss';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default class ControlBar extends PureComponent {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.defaultContainer = React.createRef();\r\n        this.defaults = React.createRef();\r\n        this.mainContainer = React.createRef();\r\n        this.controlBar = React.createRef();\r\n    }\r\n\r\n    setDefaultsLabel(label) {\r\n        this.defaultsLabel = label;\r\n        this.forceUpdate();\r\n    }\r\n\r\n    setMainLabel(label) {\r\n        this.mainLabel = label;\r\n        this.forceUpdate();\r\n    }\r\n\r\n    addDefaultGroup(controlGroup) {\r\n        this.defaults.current.appendChild(controlGroup);\r\n    }\r\n\r\n    addControlGroup(controlGroup) {\r\n        this.controlBar.current.appendChild(controlGroup);\r\n    }\r\n\r\n    testCenterControls() {\r\n        let all1 = true;\r\n        document.querySelectorAll(\"#main-control-label+.controls>.control-group\").forEach((controlGroup) => {\r\n            if (all1) {\r\n                if (!(controlGroup.childNodes[0].classList.contains(\"radio-container\") || controlGroup.childNodes[0].classList.contains(\"checkbox-container\"))) {\r\n                    if (controlGroup.childNodes.length > 1) {\r\n                        all1 = false;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        if (all1) {\r\n            document.querySelectorAll(\"#main-control-label+.controls>.control-group\").forEach((controlGroup) => {\r\n                if (!(controlGroup.childNodes[0].classList.contains(\"radio-container\") || controlGroup.childNodes[0].classList.contains(\"checkbox-container\"))) {\r\n                    controlGroup.style[\"justify-content\"] = \"center\";\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    testSize() {\r\n        let transformed = 0;\r\n        if (this.controlBar.current.getBoundingClientRect().width\r\n                > (this.mainContainer.current.getBoundingClientRect().width - 0*parseFloat(window.getComputedStyle(this.mainContainer.current).getPropertyValue(\"padding\")))) {\r\n            this.mainContainer.current.classList.add(\"overflow\");\r\n            transformed++;\r\n        } else {\r\n            this.mainContainer.current.classList.remove(\"overflow\");\r\n        }\r\n        if (this.defaults.current.getBoundingClientRect().width\r\n                > (this.defaultContainer.current.getBoundingClientRect().width - 0*parseFloat(window.getComputedStyle(this.defaultContainer.current).getPropertyValue(\"padding\")))) {\r\n            this.defaultContainer.current.classList.add(\"overflow\");\r\n            transformed++;\r\n        } else {\r\n            this.defaultContainer.current.classList.remove(\"overflow\");\r\n        }\r\n        return transformed;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.testCenterControls();\r\n        this.testSize();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.testCenterControls();\r\n        this.testSize();\r\n    }\r\n\r\n    windowResized() {\r\n        return this.testSize();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"control-bar\">\r\n                    <div className=\"control-container\" id=\"main-control\" ref={this.mainContainer}>\r\n                        <div className=\"control-wrapper\">\r\n                            {this.mainLabel &&\r\n                                <div id=\"main-control-label\" className=\"control-title\">\r\n                                    <p className=\"control-label\">\r\n                                        {this.mainLabel}\r\n                                    </p>\r\n                                    <div className=\"visualizer-icons-container\">\r\n                                        <div id=\"big-o-icon\" className=\"visualizer-icon\" data-tooltip=\"Big-O Info\" tt-bottom=\"\" tt-right=\"\" onClick={this.props.showBigODisplay}>\r\n                                            <FontAwesomeIcon icon={[\"far\",\"clock\"]} size=\"lg\" className=\"hoverable-icon\" />\r\n                                            {// <span id=\"big-o-tooltip\" className=\"tooltip tt-bottom tt-right\">Big-O Info</span>\r\n                                            }\r\n                                        </div>\r\n                                        {this.props.hasExamples &&\r\n                                            <div id=\"examples-icon\" className=\"visualizer-icon\" data-tooltip=\"Examples\" tt-bottom=\"\" tt-right=\"\" onClick={this.props.showExamplesDisplay}>\r\n                                                <FontAwesomeIcon icon={[\"far\",\"lightbulb\"]} size=\"lg\" className=\"hoverable-icon\" />\r\n                                                {// <span id=\"big-o-tooltip\" className=\"tooltip tt-bottom tt-right\">Big-O Info</span>\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                            <div className=\"controls control-group\"  ref={this.controlBar}></div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"control-container\" id=\"default-control\" ref={this.defaultContainer}>\r\n                        <div className=\"control-wrapper\">\r\n                            {// {this.defaultsLabel && <p className=\"control-label\" id=\"default-control-label\">{this.defaultsLabel}</p>}\r\n                            }\r\n                            <div className=\"controls default control-group\" ref={this.defaults}></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n    }\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport {StickyTable, Row, Cell} from 'react-sticky-table';\r\nimport './big-o-display.scss';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { SiteMap, Utils } from 'utils';\r\n\r\nconst bigODatumToDivClass = (bigODatum) => {\r\n    return bigODatum.replace(/[( ^+/]/g,\"-\").replace(/\\)/g,\"\") + \" data-cell\";\r\n}\r\n\r\nconst extractDataFromSpecs = (BIG_O_DATA, bigOSpecs) => {\r\n    console.log(BIG_O_DATA, bigOSpecs);\r\n    const DATA = [];\r\n    let headers = [bigOSpecs.col1Name, ...bigOSpecs.cols].map(header => { return { dataString: header, styleClass: \"big-o-header col\"}});\r\n    headers[0].explanation = bigOSpecs.explanation;\r\n    DATA.push(headers);\r\n    for (let row of bigOSpecs.rows) {\r\n        const ROW = [{ dataString: row, styleClass: \"big-o-header row\"}];\r\n        for (let col of bigOSpecs.cols) {\r\n            let regexIgnoreSymbol = /[\\W]/;\r\n            let row_ = row.substring(0, row.search(regexIgnoreSymbol)) || row;\r\n            let col_ = col.substring(0, col.search(regexIgnoreSymbol)) || col;\r\n            // console.log([`${row_}_${col_}`] , [row_] , [col_]);\r\n            const BIG_O_OP_INFO = bigOSpecs[`${row_}_${col_}`] || bigOSpecs[row_] || bigOSpecs[col_];\r\n            let extraConfigData = [];\r\n            if (BIG_O_DATA) {\r\n                Object.keys(BIG_O_DATA).forEach(config => {\r\n                    if (config !== \"defaultConfig\" && (BIG_O_DATA[config][`${row_}_${col_}`] || BIG_O_DATA[config][row_] || BIG_O_DATA[config][col_])) {\r\n                        extraConfigData.push({name: BIG_O_DATA[config].name, data: BIG_O_DATA[config][`${row_}_${col_}`] || BIG_O_DATA[config][row_] || BIG_O_DATA[config][col_]});\r\n                    }\r\n                });\r\n            }\r\n            let dataString = \"\";\r\n            let styleClass = \"\";\r\n            if (BIG_O_OP_INFO && BIG_O_OP_INFO.__proto__.constructor.name !== \"Array\") {\r\n                if (BIG_O_OP_INFO.best) {\r\n                    dataString += `Best: ${BIG_O_OP_INFO.best}`;\r\n                    styleClass = bigODatumToDivClass(BIG_O_OP_INFO.best);\r\n                }\r\n                if (BIG_O_OP_INFO.average) {\r\n                    dataString += `\\nAverage: ${BIG_O_OP_INFO.average}`;\r\n                    styleClass = bigODatumToDivClass(BIG_O_OP_INFO.average);\r\n                }\r\n                if (BIG_O_OP_INFO.amortized) {\r\n                    dataString += `\\nAmortized: ${BIG_O_OP_INFO.amortized}`;\r\n                    if (!BIG_O_OP_INFO.average) {\r\n                        styleClass = bigODatumToDivClass(BIG_O_OP_INFO.amortized);\r\n                    }\r\n                }\r\n                if (BIG_O_OP_INFO.worst) {\r\n                    dataString += `\\nWorst: ${BIG_O_OP_INFO.worst}`;\r\n                    if (!styleClass) {\r\n                        styleClass = bigODatumToDivClass(BIG_O_OP_INFO.worst);\r\n                    }\r\n                }\r\n                if (BIG_O_OP_INFO.unamortized) {\r\n                    dataString += `\\nUnamortized: ${BIG_O_OP_INFO.unamortized}`;\r\n                    if (!styleClass) {\r\n                        styleClass = bigODatumToDivClass(BIG_O_OP_INFO.unamortized);\r\n                    }\r\n                }\r\n                // for (let bigOValue in BIG_O_OP_INFO) {\r\n                //     if (![\"best\",\"average\",\"amortized\",\"worst\",\"unamortized\"].includes(bigOValue)) {\r\n                //         dataString += `\\n${bigOValue}: ${BIG_O_OP_INFO[bigOValue]}`;\r\n                //     }\r\n                // }\r\n                if (extraConfigData.length > 0) {\r\n                    extraConfigData.forEach((extraConfig) => {\r\n                        dataString += `\\n${extraConfig.name.trim()}: ${extraConfig.data.newBigO}`;\r\n                    });\r\n                }\r\n                dataString = dataString.trim();\r\n                if (!dataString.includes(\"\\n\") && dataString.includes(\"Average\")) {\r\n                    dataString = dataString.substring(dataString.indexOf(\":\")+2);\r\n                }\r\n                if (BIG_O_OP_INFO.tier) {\r\n                    styleClass = bigODatumToDivClass(`tier-${BIG_O_OP_INFO.tier}`);\r\n                }\r\n            } else if (BIG_O_OP_INFO) {\r\n                dataString = <FontAwesomeIcon icon={BIG_O_OP_INFO} size=\"2x\" />;\r\n                styleClass = \"data-cell big-o-icon-cell\";\r\n            }\r\n            if (!styleClass) {\r\n                styleClass = bigODatumToDivClass(\"\");\r\n            }\r\n            let explanation = (!!BIG_O_OP_INFO && BIG_O_OP_INFO.explanation) || null;\r\n            ROW.push({ dataString, styleClass, explanation });\r\n        }\r\n        DATA.push(ROW);\r\n    }\r\n    if (DATA.length > 2) {\r\n        for (let col = 1; col < headers.length; col++) {\r\n            let allSame = true;\r\n            for (let row = 2; row < DATA.length; row++) {\r\n                if (DATA[row][col].explanation !== DATA[row-1][col].explanation) {\r\n                    allSame = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (allSame) {\r\n                headers[col].explanation = DATA[1][col].explanation;\r\n                for (let row = 1; row < DATA.length; row++) {\r\n                    DATA[row][col].explanation = \"\";\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (headers.length > 2) {\r\n        for (let row = 1; row < DATA.length; row++) {\r\n            let allSame = true;\r\n            for (let col = 2; col < DATA[row].length; col++) {\r\n                if (DATA[row][col].explanation !== DATA[row][col-1].explanation) {\r\n                    allSame = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (allSame) {\r\n                DATA[row][0].explanation = DATA[row][1].explanation;\r\n                for (let col = 1; col < DATA[row].length; col++) {\r\n                    DATA[row][col].explanation = \"\";\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return DATA;\r\n}\r\n\r\nexport const BigODisplay = (props) => {\r\n    let bigOSpecs = props.data;\r\n    let BIG_O_DATA;\r\n    if (!bigOSpecs) {\r\n        BIG_O_DATA = SiteMap.filter(group => group.link === props.group)[0]\r\n                .types.filter(type => type.link === props.type)[0]\r\n                .classes.filter(visualizer => visualizer.link === props.class)[0]\r\n                .bigOData;\r\n\r\n        if (BIG_O_DATA.__proto__.constructor.name === \"Array\") {\r\n            BIG_O_DATA = SiteMap.filter(group => group.link === BIG_O_DATA[0])[0]\r\n                    .types.filter(type => type.link === BIG_O_DATA[1])[0]\r\n                    .classes.filter(visualizer => visualizer.link === BIG_O_DATA[2])[0]\r\n                    .bigOData;\r\n        }\r\n\r\n        // console.log(BIG_O_DATA);\r\n\r\n        bigOSpecs = BIG_O_DATA.defaultConfig;\r\n    }\r\n\r\n    const DATA = extractDataFromSpecs(BIG_O_DATA, bigOSpecs);\r\n\r\n    useEffect(() => {\r\n        const mouseEnterHandler = (event) => {\r\n            let explanationNode = event.target.lastChild;\r\n            let tableCellBounds = event.target.getBoundingClientRect();\r\n            let explanationNodeBounds = explanationNode.getBoundingClientRect();\r\n            let left, top;\r\n            if (tableCellBounds.right + explanationNodeBounds.width <= Utils.windowWidth()) {\r\n                left = tableCellBounds.left + tableCellBounds.width / 2;\r\n            } else {\r\n                left = tableCellBounds.right - tableCellBounds.width / 2 - explanationNodeBounds.width;\r\n            }\r\n            if (tableCellBounds.bottom + explanationNodeBounds.height <= Utils.windowHeight()) {\r\n                top = tableCellBounds.top + tableCellBounds.height / 2;\r\n            } else {\r\n                top = tableCellBounds.bottom - tableCellBounds.height / 2 - explanationNodeBounds.height;\r\n            }\r\n            left = Math.max(5, Math.min(left, Utils.windowWidth() - explanationNodeBounds.width));\r\n            top = Math.max(5, Math.min(top, Utils.windowHeight() - explanationNodeBounds.height - 5));\r\n            explanationNode.style.left = `${left}px`;\r\n            explanationNode.style.top = `${top}px`;\r\n        };\r\n\r\n        let cellsWithExplanations = document.querySelectorAll(\".big-o-cell.big-o-has-explanation\");\r\n        cellsWithExplanations.forEach((explanationCell) => {\r\n            explanationCell.addEventListener(\"mouseenter\", mouseEnterHandler);\r\n        });\r\n\r\n        return () => {\r\n            cellsWithExplanations.forEach((explanationCell) => {\r\n                explanationCell.removeEventListener(\"mouseenter\", mouseEnterHandler);\r\n            });\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n            <div className=\"big-o-display\">\r\n                <StickyTable className=\"big-o-table\" borderColor={`#778bebcc`}>\r\n                    {DATA.map((row, i) =>\r\n                        <Row key={i} className={`big-o-row${i === 0 ? \" big-o-header-row\" : \"\"}`}>\r\n                            {row.map((cell, j) =>\r\n                                <Cell key={j} className={`big-o-cell ${cell.styleClass}${cell.explanation ? \" big-o-has-explanation\" : \"\"}`}>\r\n                                    {(typeof cell.dataString === \"string\")\r\n                                        ? cell.dataString.split(\"\\n\").map((line, k, arr) => {\r\n                                            return (\r\n                                                    <div key={k} className=\"big-o-datum\">\r\n                                                        {line.includes(\":\")\r\n                                                            ? <div className=\"big-o-datum-inner\">\r\n                                                                <span className=\"big-o-datum-label\">\r\n                                                                    {line.substring(0, line.indexOf(\":\"))}\r\n                                                                </span>\r\n                                                                <span className=\"big-o-datum-colon\">\r\n                                                                    :\r\n                                                                </span>\r\n                                                                <span className=\"big-o-datum-value\">\r\n                                                                    {line.substring(line.indexOf(\":\") + 1)}\r\n                                                                </span>\r\n                                                            </div>\r\n                                                            : line\r\n                                                        }\r\n                                                    </div>\r\n                                                );\r\n                                            })\r\n                                        : cell.dataString\r\n                                    }\r\n                                    {cell.explanation\r\n                                        ? <p className=\"big-o-explanation-container\">{cell.explanation}</p>\r\n                                        : null\r\n                                    }\r\n                                </Cell>\r\n                            )}\r\n                        </Row>\r\n                    )}\r\n                </StickyTable>\r\n            </div>\r\n        );\r\n}\r\n","import { BigODisplay } from './big-o-display';\r\nexport default BigODisplay;\r\n","import React, { useRef, useEffect } from 'react';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport './bigOWindow.scss';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport BigODisplay from 'components/big-o-type/big-o-display';\r\n\r\nconst BigOWindow = React.forwardRef((props, ref) => {\r\n    let { closeBigODisplay } = props;\r\n    const containerRef = useRef(null);\r\n    useEffect(() => {\r\n        const documentClickHandler = (event) => {\r\n            if (containerRef.current && !containerRef.current.contains(event.target)) {\r\n                closeBigODisplay();\r\n                event.preventDefault();\r\n            }\r\n        }\r\n        const escapeKeyHandler = (event) => {\r\n            if (event.key === \"Escape\") {\r\n                closeBigODisplay();\r\n                event.preventDefault();\r\n            }\r\n        };\r\n        document.addEventListener(\"click\", documentClickHandler);\r\n        document.addEventListener(\"keydown\", escapeKeyHandler);\r\n        // console.log(\"open big o\");\r\n        return () => {\r\n            document.removeEventListener(\"click\", documentClickHandler);\r\n            document.removeEventListener(\"keydown\", escapeKeyHandler);\r\n            // console.log(\"close big o\");\r\n        }\r\n    }, [closeBigODisplay]);\r\n    let match = useRouteMatch({\r\n        path: `/:visualizerGroup/:visualizerType/:visualizerClass`\r\n    });\r\n\r\n\r\n    return (\r\n            <div className=\"big-o-window-container\" ref={ref}>\r\n                <div className=\"big-o-window\" ref={containerRef}>\r\n                    <FontAwesomeIcon id=\"exit-big-o\" icon={[\"far\",\"times-circle\"]} className=\"hoverable-icon\" onClick={closeBigODisplay} />\r\n                    <p id=\"close-box-tip\">(Click outside or press Esc. to close.)</p>\r\n                    <h2 id=\"big-o-title\">\r\n                        {props.title.split(\"\").map((char, i) => {\r\n                            if (i > 0 && char === char.toUpperCase()) {\r\n                                return (\r\n                                    <span key={i}>\r\n                                        <wbr />{char}\r\n                                    </span>\r\n                                );\r\n                            }\r\n                            return char;\r\n                        })} Big-O\r\n                    </h2>\r\n                    <BigODisplay group={match.params.visualizerGroup} type={match.params.visualizerType} class={match.params.visualizerClass} title={props.title}/>\r\n                </div>\r\n            </div>\r\n        );\r\n});\r\n\r\nexport default BigOWindow;\r\n","import React, { useRef, useEffect } from 'react';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport './examplesWindow.scss';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { SiteMap } from 'utils';\r\n\r\nconst ExamplesDisplay = (props) => {\r\n    let { example, callback } = props;\r\n    return (\r\n            <li className={`example-display`}>\r\n                <p className={`example-text`}>{example.exampleText}</p>\r\n                <button className={`example-try-it-button`} onClick={callback.bind(null,example.operationList,example.needsReset)}>{example.tryItText}</button>\r\n            </li>\r\n        );\r\n}\r\n\r\nconst ExamplesWindow = React.forwardRef((props, ref) => {\r\n    let { closeExamplesDisplay } = props;\r\n    const containerRef = useRef(null);\r\n    useEffect(() => {\r\n        const documentClickHandler = (event) => {\r\n            if (containerRef.current && !containerRef.current.contains(event.target)) {\r\n                closeExamplesDisplay();\r\n                event.preventDefault();\r\n            }\r\n        }\r\n        const escapeKeyHandler = (event) => {\r\n            if (event.key === \"Escape\") {\r\n                closeExamplesDisplay();\r\n                event.preventDefault();\r\n            }\r\n        };\r\n        document.addEventListener(\"click\", documentClickHandler);\r\n        document.addEventListener(\"keydown\", escapeKeyHandler);\r\n        // console.log(\"open big o\");\r\n        return () => {\r\n            document.removeEventListener(\"click\", documentClickHandler);\r\n            document.removeEventListener(\"keydown\", escapeKeyHandler);\r\n            // console.log(\"close big o\");\r\n        }\r\n    }, [closeExamplesDisplay]);\r\n    let match = useRouteMatch({\r\n        path: `/:visualizerGroup/:visualizerType/:visualizerClass`\r\n    });\r\n\r\n    let visualizerClass = SiteMap.filter(group => group.link === match.params.visualizerGroup)[0]\r\n            .types.filter(type => type.link === match.params.visualizerType)[0]\r\n            .classes.filter(visualizer => visualizer.link === match.params.visualizerClass)[0];\r\n\r\n    let callback = (...exampleParams) => {\r\n        closeExamplesDisplay(...exampleParams);\r\n    };\r\n\r\n    return (\r\n            <div className=\"examples-window-container\" ref={ref}>\r\n                <div className=\"examples-window\" ref={containerRef}>\r\n                    <FontAwesomeIcon id=\"exit-examples\" icon={[\"far\",\"times-circle\"]} className=\"hoverable-icon\" onClick={closeExamplesDisplay} />\r\n                    <p id=\"close-box-tip\">(Click outside or press Esc. to close.)</p>\r\n                    <h2 id=\"examples-title\">\r\n                        {props.title.split(\"\").map((char, i) => {\r\n                            if (i > 0 && char === char.toUpperCase()) {\r\n                                return (\r\n                                    <span key={i}>\r\n                                        <wbr />{char}\r\n                                    </span>\r\n                                );\r\n                            }\r\n                            return char;\r\n                        })} Examples\r\n                    </h2>\r\n                    <ul className={`examples-display-list`}>\r\n                        {visualizerClass.examples.map((example,i) => {\r\n                            return <ExamplesDisplay key={i} example={example} callback={callback} />\r\n                        })}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        );\r\n});\r\n\r\nexport default ExamplesWindow;\r\n","export default class AnimatedObject {\r\n    constructor() {\r\n        this.xProgress = 1;\r\n        this.yProgress = 1;\r\n        // this.translationFrames = 0;\r\n\r\n        // this.animating = false;\r\n        this.direction = 0;\r\n    }\r\n\r\n    travel(direction) {\r\n        this.xProgress = 0;\r\n        this.yProgress = 0;\r\n        this.direction = direction;\r\n    }\r\n\r\n    inPosition() {\r\n        return this.direction >= 0\r\n                ? this.xProgress >= 1 && this.yProgress >= 1\r\n                : this.xProgress <= -1 && this.yProgress <= -1;\r\n    }\r\n\r\n    update(animationSpeed) {\r\n        if (!this.inPosition()) {\r\n            // this.animating = true;\r\n            this.xProgress += Math.sign(this.direction) * animationSpeed/200;\r\n            this.yProgress += Math.sign(this.direction) * animationSpeed/200;\r\n        } else {\r\n            // this.animating = false;\r\n        }\r\n    }\r\n\r\n\r\n}\r\n","import Visualizer from 'components/visualizer'\r\nexport default class AttractedDraggableObject {\r\n\r\n    static ATTRACTION = 0.3;\r\n    static MIN_DISTANCE = 5;\r\n\r\n    constructor(x,y) {\r\n        this.currentX = x;\r\n        this.currentY = y;\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n        this.vx = 0;\r\n        this.vy = 0;\r\n        this.frozen = false;\r\n        this.onStop = [];\r\n\r\n        this.pinnedToMouse = false;\r\n        this.mouseOffsetX = 0;\r\n        this.mouseOffsetY = 0;\r\n    }\r\n\r\n    shift(x,y) {\r\n        // console.log(this.data,\":\",x,y);\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n    }\r\n\r\n    goTo(x,y) {\r\n        // let oldX = this.desiredX;\r\n        // let oldY = this.desiredY;\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n        this.stop();\r\n        // return [oldX, oldY];\r\n    }\r\n\r\n    displacement() {\r\n        return Math.sqrt(Math.pow(this.desiredX - this.currentX,2) + Math.pow(this.desiredY - this.currentY,2));\r\n    }\r\n\r\n    addOnStop(callback) {\r\n        this.onStop.push(callback);\r\n    }\r\n\r\n    stop() {\r\n        this.currentX = this.desiredX;\r\n        this.vx = 0;\r\n        this.currentY = this.desiredY;\r\n        this.vy = 0;\r\n        while (this.onStop.length > 0) {\r\n            this.onStop.shift()(this);\r\n        }\r\n    }\r\n\r\n    pin(mouseX, mouseY) {\r\n        if (this.constructor.CAN_DRAG) {\r\n            if (!this.frozen) {\r\n                this.pinnedToMouse = true;\r\n                this.mouseOffsetX = mouseX - this.currentX;\r\n                this.mouseOffsetY = mouseY - this.currentY;\r\n            }\r\n        }\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedToMouse = false;\r\n        this.mouseOffsetX = 0;\r\n        this.mouseOffsetY = 0;\r\n        this.vx = 0;\r\n        this.vy = 0;\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        if (this.frozen) {\r\n            this.desiredX = this.currentX;\r\n            this.desiredY = this.currentY;\r\n        }\r\n        let deltaX = this.desiredX - this.currentX;\r\n        let deltaY = this.desiredY - this.currentY;\r\n        if (this.pinnedToMouse) {\r\n            this.currentX = p5.mouseX - this.mouseOffsetX;\r\n            this.currentY = p5.mouseY - this.mouseOffsetY;\r\n        } else if ((animationSpeed >= Math.floor(Visualizer.maxAnimationSpeed()))\r\n                || (isNaN(this.currentX) || isNaN(this.currentY) || isNaN(this.vx) || isNaN(this.vy))) {\r\n            this.stop();\r\n        } else {\r\n            // console.log(\"moving\", this.desiredY, this.currentY);\r\n            if (deltaY !== 0 || deltaX !== 0) {\r\n                let angle = Math.atan(deltaY/deltaX);\r\n                if (deltaX < 0) {\r\n                    angle += Math.PI;\r\n                }\r\n                let magnitude = AttractedDraggableObject.ATTRACTION * animationSpeed;\r\n                let prevAngle = Math.atan(this.vy/this.vx);\r\n                if (this.vx < 0) {\r\n                    prevAngle += Math.PI;\r\n                }\r\n                this.vx += magnitude * Math.cos(angle);\r\n                this.vy += magnitude * Math.sin(angle);\r\n\r\n                this.vx *= 0.75;\r\n                this.vy *= 0.75;\r\n\r\n                if (Math.abs(Math.abs(prevAngle - angle) - Math.PI) < (Math.PI/12)) {\r\n                    this.stop();\r\n                }\r\n                this.currentX += this.vx;\r\n                this.currentY += this.vy;\r\n            } else {\r\n                // console.log(\"stop\");\r\n                this.stop();\r\n            }\r\n        }\r\n        return Math.sqrt(Math.pow(deltaX,2) + Math.pow(deltaY,2));\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer'\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class AttractedHighlightableObject {\r\n    static ATTRACTION = 0.2;\r\n    static MIN_DISTANCE = 5;\r\n\r\n    static HIGHTLIGHT_WIDTH = 5;\r\n    static HIGHLIGHT_CIRCLE = 0;\r\n    static HIGHLIGHT_SQUARE = 1;\r\n\r\n    constructor(x,y, options = {}) {\r\n        this.value = options.value || null;\r\n\r\n        this.currentX = x;\r\n        this.currentY = y;\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n        this.vx = 0;\r\n        this.vy = 0;\r\n        this.frozen = false;\r\n        this.onStop = [];\r\n\r\n        this.highlighted = false;\r\n        this.highlightColor = Colors.BLUE;\r\n        this.highlightShape = AttractedHighlightableObject.HIGHLIGHT_CIRCLE;\r\n\r\n        Object.entries(options).forEach((option) => {\r\n            this[option[0]] = option[1];\r\n        });\r\n        Utils.unfoldUndoRedo(this);\r\n    }\r\n\r\n    shift(x,y) {\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n    }\r\n\r\n    goTo(x,y) {\r\n        let oldX = this.desiredX;\r\n        let oldY = this.desiredY;\r\n        this.desiredX = x;\r\n        this.desiredY = y;\r\n        this.stop();\r\n        return [oldX, oldY];\r\n    }\r\n    undo_goTo(oldX,oldY) {\r\n        this.desiredX = oldX;\r\n        this.desiredY = oldY;\r\n        this.stop();\r\n    }\r\n\r\n    displacement() {\r\n        return Math.sqrt(Math.pow(this.desiredX - this.currentX,2) + Math.pow(this.desiredY - this.currentY,2));\r\n    }\r\n\r\n    addOnStop(callback) {\r\n        this.onStop.push(callback);\r\n    }\r\n\r\n    stop() {\r\n        this.currentX = this.desiredX;\r\n        this.vx = 0;\r\n        this.currentY = this.desiredY;\r\n        this.vy = 0;\r\n        while (this.onStop.length > 0) {\r\n            this.onStop.shift()(this);\r\n        }\r\n    }\r\n\r\n    highlight(color = Colors.BLUE, shape = AttractedHighlightableObject.HIGHLIGHT_CIRCLE) {\r\n        this.highlightColor = color;\r\n        this.highlightShape = shape;\r\n        this.highlighted = true;\r\n    }\r\n    undo_highlight() {\r\n        this.unhighlight();\r\n    }\r\n\r\n    unhighlight() {\r\n        this.highlighted = false;\r\n    }\r\n    undo_unhighlight(color, shape) {\r\n        this.highlight(color, shape);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        if (this.frozen) {\r\n            this.desiredX = this.currentX;\r\n            this.desiredY = this.currentY;\r\n        }\r\n        let deltaX = this.desiredX - this.currentX;\r\n        let deltaY = this.desiredY - this.currentY;\r\n        if ((animationSpeed >= Math.floor(Visualizer.maxAnimationSpeed()))\r\n                || (isNaN(this.currentX) || isNaN(this.currentY) || isNaN(this.vx) || isNaN(this.vy))) {\r\n            this.stop();\r\n        } else {\r\n            if (deltaY !== 0 || deltaX !== 0) {\r\n                let angle = Math.atan(deltaY/deltaX);\r\n                if (deltaX < 0) {\r\n                    angle += Math.PI;\r\n                }\r\n                let magnitude = AttractedHighlightableObject.ATTRACTION * animationSpeed;\r\n                let prevAngle = Math.atan(this.vy/this.vx);\r\n                if (this.vx < 0) {\r\n                    prevAngle += Math.PI;\r\n                }\r\n                this.vx = magnitude * Math.cos(angle);\r\n                this.vy = magnitude * Math.sin(angle);\r\n\r\n                // this.vx *= 0.75;\r\n                // this.vy *= 0.75;\r\n\r\n                if (Math.abs(Math.abs(prevAngle - angle) - Math.PI) < (Math.PI/12)) {\r\n                    this.stop();\r\n                }\r\n                this.currentX += this.vx;\r\n                this.currentY += this.vy;\r\n            } else {\r\n                this.stop();\r\n            }\r\n        }\r\n        return Math.sqrt(Math.pow(deltaX,2) + Math.pow(deltaY,2));\r\n    }\r\n\r\n    drawHighlight(p5) {\r\n        p5.push();\r\n        p5.stroke(...this.highlightColor);\r\n        p5.noFill();\r\n        p5.strokeWeight(AttractedHighlightableObject.HIGHTLIGHT_WIDTH);\r\n        let diameter = 2 * (this.highlightInnerRadius || this.highlightOuterRadius) + (this.highlightInnerRadius ? 1 : -1) * AttractedHighlightableObject.HIGHTLIGHT_WIDTH;\r\n        if (this.highlightShape === AttractedHighlightableObject.HIGHLIGHT_CIRCLE) {\r\n            p5.circle(this.currentX, this.currentY, diameter);\r\n        } else if (this.highlightShape === AttractedHighlightableObject.HIGHLIGHT_SQUARE) {\r\n            p5.square(this.currentX - diameter/2, this.currentY - diameter/2, diameter);\r\n        }\r\n        p5.pop();\r\n    }\r\n\r\n    drawValue(p5) {\r\n        if (this.value) {\r\n            p5.textAlign(p5.CENTER, p5.CENTER);\r\n            p5.fill(0);\r\n            p5.stroke(0);\r\n            let radius = 2 * (this.highlightInnerRadius || this.highlightOuterRadius) + (this.highlightInnerRadius ? 1 : -1) * AttractedHighlightableObject.HIGHTLIGHT_WIDTH;\r\n            p5.text(this.value.toString(), this.currentX - radius,this.currentY - radius, 2*radius, 2*radius);\r\n        }\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        if (this.highlighted) {\r\n            this.drawHighlight(p5);\r\n        }\r\n        this.drawValue(p5);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { AttractedDraggableObject } from './';\r\nimport { Colors, Utils } from 'utils';\r\n\r\nexport default class TreeNode extends AttractedDraggableObject {\r\n    static SIZE = 50;\r\n\r\n    constructor(x,y, data) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n\r\n        this.left = null;\r\n        this.right = null;\r\n\r\n        this.readyToFollow = true;\r\n    }\r\n\r\n    getCenterXY() {\r\n        let centerX = this.currentX + this.constructor.SIZE/2;\r\n        let centerY = this.currentY + this.constructor.SIZE/2;\r\n        return [centerX, centerY];\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        let [centerX, centerY] = this.getCenterXY();\r\n        return Math.pow(Math.pow(centerX - x, 2) + Math.pow(centerY - y, 2), 0.5) <= this.constructor.SIZE/2;\r\n    }\r\n\r\n    containsMousePin() {\r\n        return this.pinnedToMouse || (this.left && this.left.containsMousePin()) || (this.right && this.right.containsMousePin());\r\n    }\r\n\r\n    shiftDown() {\r\n        super.shift(this.desiredX, this.desiredY + this.constructor.VSPACE);\r\n    }\r\n\r\n    shiftUp() {\r\n        super.shift(this.desiredX, this.desiredY - this.constructor.VSPACE);\r\n    }\r\n\r\n    shiftX(x) {\r\n        super.shift(x, this.desiredY);\r\n    }\r\n\r\n    setY(y) {\r\n        super.shift(this.desiredX, y);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5)\r\n        // if (this.left) {\r\n        //     this.left.update(animationSpeed, p5);\r\n        // }\r\n        // if (this.right) {\r\n        //     this.right.update(animationSpeed, p5);\r\n        // }\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.circle(...this.getCenterXY(), this.constructor.SIZE);\r\n        // p5.rect(this.currentX, this.currentY, this.constructor.SIZE, this.constructor.SIZE);\r\n        // p5.line(this.currentX + this.constructor.SIZE, this.currentY, this.currentX + this.constructor.SIZE, this.currentY + this.constructor.SIZE);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, this.constructor.SIZE,this.constructor.SIZE);\r\n        if (this.left) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            let deltaX = this.left.currentX - this.currentX;\r\n            let deltaY = this.left.currentY - this.currentY;\r\n            let angle = Math.atan(deltaY/deltaX);\r\n            if (deltaX < 0) {\r\n                angle += Math.PI;\r\n            }\r\n            p5.line(...Utils.addArray(this.getCenterXY(),[Math.cos(angle)*this.constructor.SIZE/2,Math.sin(angle)*this.constructor.SIZE/2]),...Utils.addArray(this.left.getCenterXY(),[-Math.cos(angle)*this.constructor.SIZE/2,-Math.sin(angle)*this.constructor.SIZE/2]));\r\n        } else {\r\n            // p5.line(this.currentX + this.constructor.SIZE, this.currentY, this.currentX + this.constructor.SIZE, this.currentY + this.constructor.SIZE);\r\n        }\r\n        if (this.right) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            let deltaX = this.right.currentX - this.currentX;\r\n            let deltaY = this.right.currentY - this.currentY;\r\n            let angle = Math.atan(deltaY/deltaX);\r\n            if (deltaX < 0) {\r\n                angle += Math.PI;\r\n            }\r\n            p5.line(...Utils.addArray(this.getCenterXY(),[Math.cos(angle)*this.constructor.SIZE/2,Math.sin(angle)*this.constructor.SIZE/2]),...Utils.addArray(this.right.getCenterXY(),[-Math.cos(angle)*this.constructor.SIZE/2,-Math.sin(angle)*this.constructor.SIZE/2]));\r\n        } else {\r\n            // p5.line(this.currentX + this.constructor.SIZE, this.currentY, this.currentX + this.constructor.SIZE, this.currentY + this.constructor.SIZE);\r\n        }\r\n        p5.pop();\r\n        // if (this.left) {\r\n        //     this.left.draw(p5);\r\n        // }\r\n        // if (this.right) {\r\n        //     this.right.draw(p5);\r\n        // }\r\n    }\r\n}\r\n","import { AttractedHighlightableObject } from './';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class TrackingHighlighter extends AttractedHighlightableObject {\r\n    constructor(target, offset, options = {}) {\r\n        super(0,0, options);\r\n\r\n        this.highlightInnerRadius = offset;\r\n\r\n        this.target = target;\r\n        this.locked = false;\r\n    }\r\n\r\n    stop() {\r\n        super.stop();\r\n        this.locked = true;\r\n    }\r\n\r\n    setTarget(target, innerRadius, asRedSquare) {\r\n        this.locked = this.target === null;\r\n        this.target = target;\r\n        if (innerRadius) {\r\n            this.highlightInnerRadius = innerRadius;\r\n        }\r\n        if (target) {\r\n            this.highlight(asRedSquare ? Colors.RED : undefined, asRedSquare ? AttractedHighlightableObject.HIGHLIGHT_SQUARE : undefined);\r\n        } else {\r\n            this.unhighlight();\r\n        }\r\n        // console.log(this.highlightInnerRadius);\r\n    }\r\n\r\n    trackTarget() {\r\n        if (this.target) {\r\n            // console.log(\"tracking\");\r\n            this.desiredX = this.target.currentX + this.highlightInnerRadius;\r\n            this.desiredY = this.target.currentY + this.highlightInnerRadius;\r\n            if (this.locked) {\r\n                this.currentX = this.desiredX;\r\n                this.currentY = this.desiredY;\r\n            }\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        this.trackTarget();\r\n        super.update(animationSpeed, p5)\r\n    }\r\n}\r\n","export default class Animator {\r\n    constructor() {\r\n        this.events = [];\r\n    }\r\n\r\n    on(type, callback) {\r\n        if (!this.events[type]) {\r\n            this.events[type] = [];\r\n        }\r\n        this.events[type].push(callback);\r\n    }\r\n\r\n    off(type, callback) {\r\n        if (this.events[type]) {\r\n            this.events[type] = this.events[type].filter( event => {\r\n                return event !== callback;\r\n            });\r\n        }\r\n    }\r\n\r\n    emit(type) {\r\n        if (this.events[type]) {\r\n            this.events[type].forEach( event => {\r\n                event();\r\n            });\r\n        }\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class Visualization {\r\n\r\n    static INITIAL_SPEED = 50;\r\n\r\n    static LOG_UNDO_REDO = false;\r\n    static LOG_ANIMATIONS = false;\r\n    static LOG_DONE_ANIMATING = false;\r\n    static LOG_DRAW = false;\r\n    static TEST_ANIMATION_STEPS = false;\r\n\r\n    testAnimation(howMany = 1) {\r\n        this.animationHistory.slice(-howMany).forEach(animationSet => {\r\n            let stepData = animationSet.map(animation => {\r\n                return {\r\n                    method: animation.method.name,\r\n                    isBackStep: animation.isBackStep || animation.isAnimationStep,\r\n                    isForwardStep: animation.isForwardStep || animation.isAnimationStep\r\n                };\r\n            });\r\n            let success = true;\r\n            let i = 0;\r\n            let alsoForward = false;\r\n            while (i < stepData.length) {\r\n                let lastForward = alsoForward ? i - 1 : null;\r\n                while (i < stepData.length && !stepData[i].isBackStep) {\r\n                    console.log(stepData[i]);\r\n                    if (stepData[i].isForwardStep) {\r\n                        if (lastForward !== null) {\r\n                            console.log(\"EARLY FORWARD\");\r\n                            success = false;\r\n                        }\r\n                        lastForward = i;\r\n                    }\r\n                    i++;\r\n                }\r\n                if (i < stepData.length) {\r\n                    console.log(stepData[i]);\r\n                    if (lastForward === null) {\r\n                        console.log(\"EARLY BACK\");\r\n                        success = false;\r\n                    }\r\n                    alsoForward = stepData[i].isForwardStep;\r\n                }\r\n                i++;\r\n            }\r\n            if (success) {\r\n                console.log(\"ANIMATION PASSED\");\r\n            }\r\n        });\r\n    }\r\n\r\n    constructor(animator, width, height) {\r\n        this.x = 20;\r\n        this.y = 20;\r\n        if (this.constructor.SET_BOUNDS) {\r\n            this.width = width;\r\n            this.height = height;\r\n        }\r\n\r\n        if (this.constructor.SUPPORTS_TEXT) {\r\n            // this.displayText = \"Animation Ready\";\r\n            // if (this.constructor.CAN_DRAG) {\r\n            //     this.displayText += \" | Click and drag on a node to move it!\";\r\n            // }\r\n            // console.log(this.displayText);\r\n            // this.displayTextColor = [0,0,0];\r\n        } else {\r\n            delete this.showText;\r\n            delete this.updateText;\r\n        }\r\n\r\n        this.animator = animator;\r\n\r\n        // this.drawing = true;\r\n        if (this.constructor.SUPPORTS_NO_LOOP) {\r\n            this.drawing = false;\r\n        } else {\r\n            // this.drawing = true;\r\n            delete this.beginDrawLoop;\r\n            delete this.endDrawLoop;\r\n        }\r\n\r\n        if (this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n            this.paused = false;\r\n            Utils.unfoldUndoRedo(this);\r\n        } else {\r\n            delete this.playPause;\r\n            delete this.play;\r\n            delete this.pause;\r\n            delete this.skipBack;\r\n            delete this.stepBack;\r\n            delete this.undoAnimation;\r\n            delete this.undoText;\r\n            delete this.skipForward;\r\n            delete this.stepForward;\r\n            delete this.redoAnimation;\r\n\r\n            delete this.undo;\r\n            delete this.undoAction;\r\n            delete this.doExample;\r\n        }\r\n\r\n        if (this.constructor.SUPPORTS_STOP_ID) {\r\n            this.stopID = 0;\r\n        }\r\n\r\n        if (!Utils.isDev()) {\r\n            delete this.testAnimation;\r\n        }\r\n\r\n        this.reset();\r\n        this.made = true;\r\n    }\r\n\r\n    reset(callback) {\r\n        if (this.made) {\r\n            if (this.constructor.SUPPORTS_NO_LOOP) {\r\n                this.beginDrawLoop();\r\n            }\r\n        }\r\n\r\n        if (this.constructor.SUPPORTS_TEXT) {\r\n            this.displayText = \"Animation Ready\";\r\n            if (this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n                this.displayText += \" | Press ctrl-z to undo! (permanantly deletes action)\";\r\n            }\r\n            if (this.constructor.CAN_DRAG) {\r\n                this.displayText += \" | Click and drag on a node to move it!\";\r\n            }\r\n            this.displayTextColor = [0,0,0];\r\n        }\r\n\r\n        this.animationHistory = [];\r\n        this.runningAnimation = [];\r\n        this.animationQueue = [];\r\n        this.animating = false;\r\n\r\n        if (this.constructor.SUPPORTS_NO_LOOP) {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n        if (this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n            // this.paused = false;\r\n        }\r\n\r\n        if (callback) {\r\n            callback();\r\n        } else {\r\n            this.animator.noLoop();\r\n        }\r\n\r\n        if (this.made) {\r\n            if (this.constructor.SUPPORTS_NO_LOOP) {\r\n                this.endDrawLoop();\r\n                this.stepForward();\r\n            }\r\n        }\r\n    }\r\n\r\n    noAction() {}\r\n    undo_noAction() {}\r\n\r\n    playPause() {\r\n        if (this.paused) {\r\n            this.play();\r\n        } else {\r\n            this.pause();\r\n        }\r\n        return true;\r\n    }\r\n\r\n    play() {\r\n        this.paused = false;\r\n        if (this.animationQueue.length > 0) {\r\n            this.beginDrawLoop();\r\n        } else {\r\n            this.animator.emit(\"anim-end\");\r\n        }\r\n        this.animator.enable(\"playPause\");\r\n        this.animator.disable(\"stepBack\");\r\n        this.animator.disable(\"skipBack\");\r\n        this.animator.disable(\"stepForward\");\r\n        this.animator.disable(\"skipForward\");\r\n    }\r\n\r\n    pause() {\r\n        if (this.animationQueue.length === 0 || !this.isPauseTrigger(this.animationQueue[0])) {\r\n            this.animationQueue.unshift({method:this.setPaused,noAnim:true});\r\n        }\r\n        this.beginDrawLoop();\r\n        this.animator.disable(\"playPause\");\r\n    }\r\n\r\n    setPaused() {\r\n        this.stopDrawing.apply(this, (this.constructor.SUPPORTS_STOP_ID ? [++this.stopID,true] : []));\r\n        this.paused = true;\r\n        this.animator.emit(\"paused\");\r\n        this.animator.enable(\"playPause\");\r\n        if (this.canStepBack()) {\r\n            this.animator.enable(\"stepBack\");\r\n        }\r\n        if (this.canSkipBack()) {\r\n            this.animator.enable(\"skipBack\");\r\n        }\r\n        if (this.canStepForward()) {\r\n            this.animator.enable(\"stepForward\");\r\n        }\r\n        if (this.canSkipForward()) {\r\n            this.animator.enable(\"skipForward\");\r\n        }\r\n    }\r\n\r\n    getLastTextAnimation() {\r\n        if (this.runningAnimation) {\r\n            for (let i = this.runningAnimation.length-1; i >= 0; i--) {\r\n                if (this.runningAnimation[i].method === this.showText || this.runningAnimation[i].explanation) {\r\n                    return this.runningAnimation[i];\r\n                }\r\n            }\r\n        }\r\n        for (let i = this.animationHistory.length - 1; i >= 0; i--) {\r\n            for (let j = this.animationHistory[i].length - 1; j >= 0; j--) {\r\n                if (this.animationHistory[i][j]) {\r\n                    if (this.animationHistory[i][j].method === this.showText || this.animationHistory[i][j].explanation) {\r\n                        return this.animationHistory[i][j];\r\n                    }\r\n                } else {\r\n                    console.log(this.animationHistory, i, j, this.animationHistory[i], this.animationHistory[i][j]);\r\n                }\r\n            }\r\n        }\r\n        return {method:this.showText,params:[\"Animation Ready\"]};\r\n    }\r\n    undoText(explanation) {\r\n        if (explanation) {\r\n            this.showText(explanation);\r\n            return;\r\n        }\r\n        let textAnimation = this.getLastTextAnimation();\r\n        if (textAnimation) {\r\n            if (textAnimation.method === this.showText) {\r\n                this.showText(...textAnimation.params);\r\n            } else {\r\n                this.showText(textAnimation.explanation);\r\n            }\r\n        }\r\n    }\r\n\r\n    undoAnimation(previousAnimation, doDraw) {\r\n        let scope = previousAnimation.scope || this;\r\n        // let undo = scope.undo;\r\n        let undoMethod = previousAnimation.method.undo;\r\n        let params = previousAnimation.undoData || previousAnimation.params || [];\r\n        // console.log(require('util').inspect(previousAnimation, { depth: null }));\r\n        if (undoMethod) {\r\n            if (this.constructor.LOG_UNDO_REDO) {\r\n                console.log(\"undo\",params,undoMethod);\r\n            }\r\n            // if (previousAnimation.returnsUndoData) {\r\n            //     params = previousAnimation.returnValue;\r\n            // }\r\n            if (doDraw) {\r\n                this.beginDrawLoop();\r\n            }\r\n            undoMethod.apply(scope, params);\r\n            this.undoText();//previousAnimation.explanation);\r\n            if (!previousAnimation.customUndoEnd) {\r\n                this.stopDrawing(++this.stopID);\r\n                // console.log(this.stopID);\r\n            }\r\n        } else {\r\n            if (this.constructor.LOG_UNDO_REDO) {\r\n                console.log(\"failed\",previousAnimation);\r\n            }\r\n        }\r\n        this.animationQueue.unshift(previousAnimation);\r\n    }\r\n\r\n    unAnimate(doDraw) {\r\n        if (doDraw) {\r\n            this.ensureDrawn(true);\r\n        }\r\n        let previousAnimation = this.runningAnimation.pop();\r\n        let lastUndo = null;\r\n        while (!(previousAnimation.isAnimationStep || previousAnimation.isBackStep)) {\r\n            this.undoAnimation(previousAnimation,doDraw);\r\n            lastUndo = previousAnimation;\r\n            previousAnimation = this.runningAnimation.pop();\r\n            if (!previousAnimation) {\r\n                break;\r\n            }\r\n        }\r\n        if (previousAnimation) {\r\n            this.undoAnimation(previousAnimation,doDraw);\r\n            lastUndo = previousAnimation;\r\n        }\r\n        if (doDraw && !lastUndo.customUndoEnd) {\r\n            this.ensureDrawn();\r\n        }\r\n    }\r\n\r\n    canStepBack() {\r\n        return this.animationHistory.length > 0 || this.runningAnimation.length > 0;\r\n    }\r\n    stepBack(doDraw = true) {\r\n        if (this.paused) {\r\n            if (this.runningAnimation && this.runningAnimation.length > 0) {\r\n                this.unAnimate(doDraw);\r\n                this.animator.enable(\"stepForward\");\r\n                this.animator.enable(\"skipForward\");\r\n                if (this.runningAnimation.length === 0) {\r\n                    this.animationQueue.unshift({method:this.animator.emit,scope:this.animator,params:[\"anim-start\",],noAnim:true});\r\n                    this.runningAnimation = null;\r\n                    this.undoText();\r\n                    if (this.animationHistory.length === 0) {\r\n                        this.animator.disable(\"stepBack\");\r\n                        this.animator.disable(\"skipBack\");\r\n                    }\r\n                }\r\n                return true;\r\n            } else if (this.animationHistory.length > 0) {\r\n                this.popHistoryToRunningAnimation();\r\n                this.stepBack();\r\n            } else {\r\n                this.animator.disable(\"stepBack\");\r\n                this.animator.disable(\"skipBack\");\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    redoAnimation(nextAnimation,doDraw) {\r\n        let scope = nextAnimation.scope || this;\r\n        let method = nextAnimation.method;\r\n        method = method.redo || method;\r\n        let params = nextAnimation.redoData || nextAnimation.params || [];\r\n        if (doDraw) {\r\n            this.beginDrawLoop();\r\n        }\r\n        let retVal;\r\n        if (!this.isAnimEnd(nextAnimation)) {\r\n            if (this.constructor.LOG_UNDO_REDO) {\r\n                console.log(\"redo\",params,method);\r\n            }\r\n            retVal = method.apply(scope, params);\r\n        }\r\n        if (this.isAnimStart(nextAnimation)) {\r\n            this.runningAnimation = [];\r\n        } else if (this.isAnimEnd(nextAnimation)) {\r\n            this.animationHistory.push(this.runningAnimation);\r\n            this.runningAnimation = null;\r\n        } else if (this.isEndDrawLoopTrigger(nextAnimation)) {\r\n\r\n        } else if (this.isPauseTrigger(nextAnimation)) {\r\n\r\n        } else {\r\n            if (this.runningAnimation) {\r\n                this.runningAnimation.push(nextAnimation);\r\n            } else {\r\n                if (!this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n                    this.animationHistory.push(nextAnimation);\r\n                }\r\n            }\r\n        }\r\n        if (nextAnimation.explanation) {\r\n            if (nextAnimation.explanationUsesReturn) {\r\n                nextAnimation.explanation = nextAnimation.explanation.replace(\"|RETURN|\", retVal);\r\n            }\r\n            this.showText(nextAnimation.explanation);\r\n        }\r\n        if (!nextAnimation.customRedoEnd) {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n        if (nextAnimation.returnsUndoData && !nextAnimation.undoData) {\r\n            nextAnimation.undoData = nextAnimation.explanationUsesReturn ? retVal[1] : retVal;\r\n        }\r\n        if (nextAnimation.returnsRedoData && !nextAnimation.redoData) {\r\n            nextAnimation.redoData = nextAnimation.explanationUsesReturn ? retVal[1] : retVal;\r\n        }\r\n    }\r\n\r\n    reAnimate(doDraw) {\r\n        if (doDraw) {\r\n            this.ensureDrawn(true);\r\n        }\r\n        let nextAnimation = this.animationQueue.shift();\r\n        let lastRedo = null;\r\n        while (!(nextAnimation.isAnimationStep || nextAnimation.isForwardStep) && !this.isEndDrawLoopTrigger(nextAnimation)) {\r\n            this.redoAnimation(nextAnimation,doDraw);\r\n            lastRedo = nextAnimation;\r\n            nextAnimation = this.animationQueue.shift();\r\n            if (!nextAnimation) {\r\n                break;\r\n            }\r\n        }\r\n        if (nextAnimation) {\r\n            this.redoAnimation(nextAnimation,doDraw);\r\n            lastRedo = nextAnimation;\r\n        }\r\n        if (doDraw && !lastRedo.customRedoEnd) {\r\n            this.ensureDrawn();\r\n        }\r\n    }\r\n\r\n    canStepForward() {\r\n        return this.animationQueue.length > 0;\r\n    }\r\n    stepForward(doDraw = true) {\r\n        if (this.paused) {\r\n            if (this.animationQueue.length > 0) {\r\n                this.reAnimate(doDraw);\r\n                this.animator.enable(\"stepBack\");\r\n                this.animator.enable(\"skipBack\");\r\n                if (this.animationQueue.length === 0) {\r\n                    this.animator.emit(\"anim-end\");\r\n                    this.animator.disable(\"stepForward\");\r\n                    this.animator.disable(\"skipForward\");\r\n                } else {\r\n                    this.animator.enable(\"stepForward\");\r\n                    this.animator.enable(\"skipForward\");\r\n                }\r\n                return true;\r\n            } else {\r\n                this.animator.emit(\"anim-end\");\r\n                this.animator.disable(\"stepForward\");\r\n                this.animator.disable(\"skipForward\");\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    canSkipBack() {\r\n        return this.animationHistory.length > 0 || this.runningAnimation.length > 0;\r\n    }\r\n    skipBack() {\r\n        if (this.paused) {\r\n            if (this.runningAnimation) {\r\n                while (this.runningAnimation && this.runningAnimation.length > 0) {\r\n                    this.stepBack(false);\r\n                }\r\n                this.animator.enable(\"stepForward\");\r\n                this.animator.enable(\"skipForward\");\r\n                if (this.animationHistory.length === 0) {\r\n                    this.animator.disable(\"stepBack\");\r\n                    this.animator.disable(\"skipBack\");\r\n                }\r\n                this.ensureDrawn(true);\r\n                return true;\r\n            } else if (this.animationHistory.length > 0) {\r\n                this.popHistoryToRunningAnimation();\r\n                this.skipBack();\r\n            } else {\r\n                this.animator.disable(\"stepBack\");\r\n                this.animator.disable(\"skipBack\");\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    canSkipForward() {\r\n        return this.animationQueue.length > 0;\r\n    }\r\n    skipForward() {\r\n        if (this.paused) {\r\n            if (this.animationQueue.length > 0) {\r\n                if (this.isAnimStart(this.animationQueue[0])) {\r\n                    this.stepForward(false);\r\n                }\r\n                while (this.animationQueue.length > 0 && !this.isAnimStart(this.animationQueue[0])) {\r\n                    this.stepForward(false);\r\n                }\r\n                this.ensureDrawn(true);\r\n                this.animator.enable(\"stepBack\");\r\n                this.animator.enable(\"skipBack\");\r\n                if (this.animationQueue.length === 0) {\r\n                    this.animator.emit(\"anim-end\");\r\n                    this.animator.disable(\"stepForward\");\r\n                    this.animator.disable(\"skipForward\");\r\n                }\r\n                return true;\r\n            } else {\r\n                this.animator.emit(\"anim-end\");\r\n                this.animator.disable(\"stepForward\");\r\n                this.animator.disable(\"skipForward\");\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    popHistoryToRunningAnimation() {\r\n        let previousAnimationSequence = this.animationHistory.pop();\r\n        this.animator.emit(\"anim-start\");\r\n        this.animationQueue.unshift({method:this.stopDrawing,params:this.constructor.SUPPORTS_STOP_ID ? [++this.stopID,true] : [],noAnim:true});\r\n        this.animationQueue.unshift({method:this.animator.emit,scope:this.animator,params:[\"anim-end\",],noAnim:true});\r\n        this.runningAnimation = previousAnimationSequence;\r\n    }\r\n\r\n    noAnimStartsInQueue() {\r\n        let containsAnimStart = false;\r\n        for (let animation of this.animationQueue) {\r\n            if (this.isAnimStart(animation)) {\r\n                containsAnimStart = true;\r\n                break;\r\n            }\r\n        }\r\n        return !containsAnimStart;\r\n    }\r\n\r\n    canUndo() {\r\n        return this.noAnimStartsInQueue() && (this.animationHistory.length > 0 || (this.runningAnimation && this.runningAnimation.length > 0))\r\n    }\r\n    undo() {\r\n        if (this.canUndo()) {\r\n            if (!this.paused) {\r\n                this.ensureDrawn(true);\r\n                if (this.animationQueue.length === 0 || !this.isUndoTrigger(this.animationQueue[0])) {\r\n                    this.animationQueue.unshift({method:this.undoAction,params:[false],noAnim:true});\r\n                }\r\n                this.beginDrawLoop();\r\n                return true;\r\n            } else {\r\n                this.undoAction(true);\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    undoAction(wasPaused) {\r\n        if (!wasPaused) {\r\n            this.setPaused();\r\n        }\r\n        this.skipBack();\r\n        this.animationQueue.splice(0,this.animationQueue.length);\r\n        if (!wasPaused) {\r\n            this.play();\r\n        } else {\r\n            this.animator.emit(\"anim-end\");\r\n            this.animator.disable(\"stepForward\");\r\n            this.animator.disable(\"skipForward\");\r\n        }\r\n    }\r\n\r\n    doExample(operationList, needsReset) {\r\n        if (needsReset) {\r\n            this.reset();\r\n        }\r\n        let f;\r\n        for (let i = operationList.length - 1; i > 0; i--) {\r\n            let temp = f;\r\n            f = () => {\r\n                this[operationList[i].methodName](...operationList[i].params, temp, true);\r\n            }\r\n        }\r\n        this[operationList[0].methodName](...operationList[0].params, f);\r\n        this.play();\r\n    }\r\n\r\n    ensureDrawn() {\r\n        throw new TypeError(\"Need to implement ensure drawn in instance class\");\r\n    }\r\n\r\n\r\n    updateText(text, color = Colors.BLACK) {\r\n        this.animationQueue.push({method:this.showText,params:[text,color],});\r\n    }\r\n\r\n    showText(text, color = Colors.BLACK) {\r\n        this.displayText = text;\r\n        this.displayTextColor = color;\r\n    }\r\n    undo_showText(text, color) {\r\n        return this.showText(text, color);\r\n    }\r\n\r\n    addAnimation(animation) {\r\n        this.animationQueue.push({method:this.animator.emit,scope:this.animator,params:[\"anim-start\",],noAnim:true});\r\n        this.animationQueue.push(...animation);\r\n        this.animationQueue.push({method:this.animator.emit,scope:this.animator,params:[\"anim-end\",],noAnim:true});\r\n    }\r\n\r\n    doneAnimating(time = 250, caller = \"\") {\r\n        if (time === 0) {\r\n            this.animating = false;\r\n            if (this.constructor.LOG_DONE_ANIMATING) {\r\n                console.log(\"done\",caller);\r\n            }\r\n            return;\r\n        }\r\n        setTimeout(() => {\r\n            this.animating = false;\r\n            if (this.constructor.LOG_DONE_ANIMATING) {\r\n                console.log(\"done\",caller);\r\n            }\r\n        }, time);\r\n    }\r\n\r\n    update(animationSpeed, p5, callForward) {\r\n        if (this.constructor.SET_BOUNDS) {\r\n            this.width = p5.width - 2 * this.x;\r\n            this.height = p5.height - 2 * this.y;\r\n        }\r\n        if (callForward) {\r\n            callForward();\r\n        }\r\n        if (!this.constructor.SUPPORTS_ANIMATION_CONTROL || !this.paused) {\r\n            let testsWindowSize = this.popAnimation(animationSpeed);\r\n            if (this.constructor.SUPPORTS_INFREQUENT_RESIZE && testsWindowSize) {\r\n                this.animator.testWindowSize();\r\n            }\r\n        }\r\n        // if (!this.constructor.SUPPORTS_INFREQUENT_RESIZE) {\r\n        //     this.animator.testWindowSize();\r\n        // }\r\n    }\r\n\r\n    isAnimStart(animation) {\r\n        return animation.method === this.animator.emit && animation.params[0] === \"anim-start\";\r\n    }\r\n\r\n    isAnimEnd(animation) {\r\n        return animation.method === this.animator.emit && animation.params[0] === \"anim-end\";\r\n    }\r\n\r\n    isEndDrawLoopTrigger(animation) {\r\n        return animation.method === this.stopDrawing;\r\n    }\r\n\r\n    isPauseTrigger(animation) {\r\n        return animation.method === this.setPaused;\r\n    }\r\n\r\n    isUndoTrigger(animation) {\r\n        return animation.method === this.undoAction;\r\n    }\r\n\r\n    noAnimation(animation) {\r\n        return animation.noAnim\r\n                || (animation.method === this.animator.emit && (animation.params[0] === \"anim-start\" || animation.params[0] === \"anim-end\"))\r\n                || false;\r\n    }\r\n\r\n    popAnimation(animationSpeed) {\r\n        if (!this.animating) {\r\n            if (this.animationQueue.length > 0) {\r\n                let animation = this.animationQueue.shift();\r\n                this.animating = true;\r\n                if (this.constructor.LOG_ANIMATIONS) {\r\n                    console.log(\"animate\",animation.params,animation.method);\r\n                }\r\n                let retVal = animation.method.apply(animation.scope || this, animation.params);\r\n                animation.returnValue = retVal;\r\n                if (this.isAnimStart(animation)) {\r\n                    this.runningAnimation = [];\r\n                } else if (this.isAnimEnd(animation)) {\r\n                    this.animationHistory.push(this.runningAnimation);\r\n                    if (this.constructor.TEST_ANIMATION_STEPS) {\r\n                        this.testAnimation();\r\n                    }\r\n                    this.runningAnimation = null;\r\n                } else if (this.isEndDrawLoopTrigger(animation)) {\r\n                    if (this.animationQueue.length > 0) {\r\n                        this.beginDrawLoop();\r\n                    }\r\n                } else if (this.isPauseTrigger(animation) || this.isUndoTrigger(animation)) {\r\n\r\n                } else {\r\n                    if (this.runningAnimation) {\r\n                        this.runningAnimation.push(animation);\r\n                    } else {\r\n                        if (!this.constructor.SUPPORTS_ANIMATION_CONTROL) {\r\n                            this.animationHistory.push(animation);\r\n                        }\r\n                    }\r\n                }\r\n                if (animation.explanation) {\r\n                    if (animation.explanationUsesReturn) {\r\n                        animation.explanation = animation.explanation.replace(\"|RETURN|\", animation.returnsUndoData ? retVal[0] : retVal);\r\n                        if (animation.returnsUndoData) {\r\n                            // console.log(retVal);\r\n                        }\r\n                    }\r\n                    this.showText(animation.explanation);\r\n                }\r\n                if (animation.returnsUndoData) {\r\n                    animation.undoData = animation.explanationUsesReturn ? retVal[1] : retVal;\r\n                }\r\n                if (animation.returnsRedoData) {\r\n                    animation.redoData = animation.explanationUsesReturn ? retVal[1] : retVal;\r\n                }\r\n                if (this.constructor.SUPPORTS_CUSTOM_END) {\r\n                    if (this.noAnimation(animation)) {\r\n                        this.animating = false;\r\n                    } else if (!animation.customEnd) {\r\n                        if (animationSpeed >= Math.floor(Visualizer.maxAnimationSpeed())) {\r\n                            this.doneAnimating(0, animation.method.name);\r\n                        } else {\r\n                            this.doneAnimating(this.constructor.MAX_ANIM_TIME / animationSpeed / (animation.quick ? 2 : 1), animation.method.name);\r\n                        }\r\n                    }\r\n                }\r\n                return animation.testsWindowSize;\r\n            }\r\n        }\r\n    }\r\n\r\n    beginDrawLoop() {\r\n        this.animator.loop();\r\n        this.drawing = true;\r\n    }\r\n\r\n    endDrawLoop(callback) {\r\n        if (this.drawing) {\r\n            this.animationQueue.push({method:this.stopDrawing,params:this.constructor.SUPPORTS_STOP_ID ? [++this.stopID,true,callback] : [null,null,callback],noAnim:true});\r\n        }\r\n    }\r\n\r\n    stopDrawing(stopID,force,callback) {\r\n        if (!this.constructor.SUPPORTS_STOP_ID || force || stopID === this.stopID) {\r\n            this.animator.noLoop();\r\n            this.drawing = false;\r\n            if (callback) {\r\n                callback();\r\n            }\r\n        }\r\n    }\r\n\r\n    draw(p5) {\r\n        if (this.constructor.LOG_DRAW) {\r\n            console.log(\"draw\");\r\n        }\r\n        p5.push();\r\n        if (this.constructor.SUPPORTS_TEXT) {\r\n            p5.fill(...this.displayTextColor);\r\n            p5.textSize(15);\r\n            p5.textAlign(p5.LEFT, p5.TOP);\r\n            p5.text(this.displayText, 2.5,2.5, p5.width-2.5,(this.getDisplayTextExtraLines(p5) + 1)*20);\r\n        }\r\n        p5.pop();\r\n        if (this.constructor.SUPPORTS_TEXT) {\r\n            p5.translate(0,this.getDisplayTextExtraLines(p5)*20);\r\n        }\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        return true;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        return true;\r\n    }\r\n\r\n    getDisplayTextExtraLines(p5) {\r\n        p5.push();\r\n        p5.textSize(15);\r\n        let width = p5.textWidth(this.displayText);\r\n        let lines = Math.ceil(width / (p5.width - 10));\r\n        // console.log(width,lines);\r\n        p5.pop();\r\n        return lines - 1;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars, maxY, callback, maxWidth) {\r\n        maxY += this.getDisplayTextExtraLines(p5)*20;\r\n        if (!document.querySelector(\".canvas-container\").classList.contains(\"mobile\")) {\r\n            height -= numScrollbars * 16;\r\n        }\r\n        let width = p5.windowWidth;\r\n        if (maxY > (height - (2*this.y))) {\r\n            height = (maxY + (3*this.y));\r\n            if (!document.querySelector(\".canvas-container\").classList.contains(\"mobile\")) {\r\n                width -= 16;\r\n            }\r\n            document.querySelector(\".canvas-container\").classList.add(\"overflow-y\");\r\n        } else {\r\n            document.querySelector(\".canvas-container\").classList.remove(\"overflow-y\");\r\n        }\r\n        if (maxWidth) {\r\n            if (maxWidth > (width - (2*this.x))) {\r\n                width = (maxWidth + (4*this.x));\r\n                if (!document.querySelector(\".canvas-container\").classList.contains(\"mobile\")) {\r\n                    height -= 16;\r\n                    if (maxY > (height - (3*this.y))) {\r\n                        height = (maxY + (3*this.y));\r\n                        document.querySelector(\".canvas-container\").classList.add(\"overflow-y\");\r\n                    } else {\r\n                        document.querySelector(\".canvas-container\").classList.remove(\"overflow-y\");\r\n                    }\r\n                }\r\n                document.querySelector(\".canvas-container\").classList.add(\"overflow-x\");\r\n            } else {\r\n                document.querySelector(\".canvas-container\").classList.remove(\"overflow-x\");\r\n            }\r\n        }\r\n\r\n        height = Math.max(height, p5.height);\r\n        p5.resizeCanvas(width, height);\r\n\r\n        if (this.constructor.SET_BOUNDS) {\r\n            this.width = p5.width - 2 * this.x;\r\n            this.height = p5.height - 2 * this.y;\r\n        }\r\n\r\n\r\n        if (callback) {\r\n            callback();\r\n        }\r\n        try {\r\n            this.ensureDrawn(this.animationQueue.length === 0);\r\n            if (this.animationQueue.length > 0 && !this.paused) {\r\n                this.stopID++;\r\n            }\r\n        } catch (e) {\r\n\r\n        } finally {\r\n\r\n        }\r\n    }\r\n}\r\n","import { Visualization, AnimatedObject } from 'animation';\r\n\r\nexport default class ArrayList extends Visualization {\r\n    static USE_CANVAS = true;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.backingArray = {};\r\n            this.backingArray.length = ArrayList.INITIAL_CAPACITY;\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.backingArray[i] = new ArrayElement(\"\");\r\n            }\r\n            this.size = 0;\r\n        });\r\n    }\r\n\r\n\r\n    addAtIndex(index, data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index > this.size) {\r\n            //console.log(\"index out of bounds\");\r\n            return false;\r\n        }\r\n        if (data === null) {\r\n            //console.log(\"Cannot add null to ArrayList.\");\r\n            return false;\r\n        }\r\n        this.animating = true;\r\n        let animation = [];\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push(...this.doubleSize());\r\n        }\r\n        if (index < this.size) {\r\n            animation.push(...this.shiftForIndex(index));\r\n        }\r\n        animation.push({method:this.setIndex,params:[index,data,],});\r\n        animation.push({method:this.sizeIncr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation);\r\n        return true;\r\n    }\r\n\r\n    addToFront(data) {\r\n        return this.addAtIndex(0,data);\r\n    }\r\n\r\n    addToBack(data) {\r\n        return this.addAtIndex(this.size,data);\r\n    }\r\n\r\n\r\n    removeFromIndex(index) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index >= this.size) {\r\n            //console.log(`Index invalid: ${index} for ArrayList of length ${this.size}. Should be [0,${this.size-1}].`);\r\n            return false;\r\n        }\r\n        this.animating = true;\r\n        let animation = [];\r\n        let element = this.backingArray[index];\r\n        let data = element.data;\r\n        element.data = \"\";\r\n        if (index < this.size - 1) {\r\n            animation.push(...this.shiftIntoIndex(index));\r\n        }\r\n        animation.push({method:this.sizeDecr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    removeFromFront() {\r\n        return this.removeFromIndex(0);\r\n    }\r\n\r\n    removeFromBack() {\r\n        return this.removeFromIndex(this.size-1);\r\n    }\r\n\r\n\r\n    setIndex(index,data) {\r\n        this.backingArray[index].data = data;\r\n    }\r\n\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    doubleSize() {\r\n        let animation = []\r\n        let prevCapacity = this.backingArray.length;\r\n        for (let i = prevCapacity; i < this.backingArray.length * 2; i++) {\r\n            animation.push({method:this.resetElement,params:[i,],});\r\n        }\r\n        animation.push({method:this.incrLength,params:[],});\r\n        return animation;\r\n    }\r\n\r\n    incrLength() {\r\n        this.backingArray.length = 2 * this.backingArray.length;\r\n    }\r\n\r\n    shiftForIndex(index) {\r\n        let animation = []\r\n        for (let i = this.size - 1; i >= index; i--) {\r\n            animation.push(...this.shiftElement(i,1));\r\n        }\r\n        animation.push({method:this.resetElement,params:[index,],});\r\n        return animation;\r\n    }\r\n\r\n    shiftIntoIndex(index) {\r\n        let animation = [];\r\n        for (let i = index + 1; i < this.size; i++) {\r\n            animation.push(...this.shiftElement(i,-1));\r\n        }\r\n        animation.push({method:this.resetElement,params:[this.size-1,],});\r\n        return animation;\r\n    }\r\n\r\n    shiftElement(index, direction) {\r\n        let animation = [];\r\n        animation.push({method:this.shiftElementMovement,params:[index,direction,],});\r\n        animation.push({method:this.shiftElementIndex,params:[index,direction,],});\r\n        return animation;\r\n    }\r\n\r\n    shiftElementMovement(index, direction) {\r\n        this.backingArray[index].shift(direction);\r\n        // console.log(\"move\",index,JSON.stringify(this.backingArray));\r\n    }\r\n\r\n    shiftElementIndex(index, direction) {\r\n        // console.log(\"index\",index,JSON.stringify(this.backingArray));\r\n        // console.log(index+direction, this.backingArray[index].data);\r\n        this.backingArray[index+direction].data = this.backingArray[index].data;\r\n        this.backingArray[index].data = \"\";\r\n    }\r\n\r\n\r\n    resetElement(index) {\r\n        if (this.backingArray[index]) {\r\n            this.backingArray[index].data = \"\";\r\n        } else {\r\n            this.backingArray[index] = new ArrayElement(\"\", ArrayList.ELEMENT_SIZE);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                if (this.backingArray[i]) {\r\n                    this.backingArray[i].update(animationSpeed);\r\n                }\r\n            }\r\n            let foundAnimElement = false;\r\n            for (let i = 0; i < this.size; i++) {\r\n                if (!this.backingArray[i].inPosition()) {\r\n                    foundAnimElement = true;\r\n                    break;\r\n                }\r\n            }\r\n            this.animating = foundAnimElement;\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        let maxPerRow = Math.floor((p5.width - 2 * this.x) / ArrayList.ELEMENT_SIZE);\r\n        let rows = Math.ceil(this.backingArray.length / maxPerRow);\r\n\r\n        p5.push();\r\n        p5.translate(this.x,this.y);\r\n\r\n        for (let row = 0; row < rows; row++) {\r\n            let numElements = row !== rows-1 ? maxPerRow\r\n                    : (this.backingArray.length % maxPerRow === 0 ? maxPerRow : (this.backingArray.length % maxPerRow));\r\n            p5.noStroke();\r\n            p5.fill(200);\r\n            p5.rect(ArrayList.ELEMENT_SIZE/10,ArrayList.ELEMENT_SIZE/10 + (2 * ArrayList.ELEMENT_SIZE * row),ArrayList.ELEMENT_SIZE*numElements,ArrayList.ELEMENT_SIZE,ArrayList.ELEMENT_SIZE/20);\r\n\r\n            p5.stroke(0);\r\n            p5.fill(255);\r\n            p5.rect(0,(2 * ArrayList.ELEMENT_SIZE * row), ArrayList.ELEMENT_SIZE*numElements,ArrayList.ELEMENT_SIZE);\r\n        }\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(ArrayList.ELEMENT_SIZE/3 - 2);\r\n\r\n        let i = 0;\r\n        for (let row = 0; row < rows; row++) {\r\n            let numElements = row !== rows-1 ? maxPerRow\r\n                    : (this.backingArray.length % maxPerRow === 0 ? maxPerRow : (this.backingArray.length % maxPerRow));\r\n            let x = 0;\r\n            let y = 2 * row * ArrayList.ELEMENT_SIZE;\r\n            for (let block = 0; block < numElements; block++) {\r\n                p5.stroke(0);\r\n                p5.line(x,y, x, y+ArrayList.ELEMENT_SIZE);\r\n\r\n                p5.noStroke();\r\n                p5.fill(0,0,255);\r\n                p5.text(i.toString(), x,y+ArrayList.ELEMENT_SIZE, ArrayList.ELEMENT_SIZE,ArrayList.ELEMENT_SIZE);\r\n\r\n                let element = this.backingArray[i++];\r\n                let nextX = block < (numElements - 1) ? x + ArrayList.ELEMENT_SIZE : 0;\r\n                let nextY = block < (numElements - 1) ? y : (y + (ArrayList.ELEMENT_SIZE*2));\r\n                if (element.data) {\r\n                    element.draw(p5, x,y,nextX,nextY);\r\n                }\r\n                x = nextX;\r\n                y = nextY;\r\n                if (y >= document.querySelector(\".canvas-container\").getBoundingClientRect().height - ArrayList.ELEMENT_SIZE) {\r\n                    // this.windowResized(p5, document.querySelector(\".canvas-container\").getBoundingClientRect().height);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (Math.ceil(this.backingArray.length / (Math.floor((p5.width - 2 * this.x) / ArrayList.ELEMENT_SIZE))))*2*ArrayList.ELEMENT_SIZE);\r\n    }\r\n}\r\n\r\n\r\nclass ArrayElement extends AnimatedObject {\r\n    constructor(data) {\r\n        super();\r\n\r\n        this.data = data;\r\n    }\r\n\r\n    shift(direction) {\r\n        super.travel(direction);\r\n    }\r\n\r\n    draw(p5, x,y, toX,toY) {\r\n        p5.push();\r\n        p5.fill(0);\r\n        p5.stroke(50);\r\n        if (!this.inPosition()) {\r\n            let posX = (toX-x)*this.xProgress + x;\r\n            let posY = (toY-y)*this.yProgress + y;\r\n            p5.text(this.data.toString(), posX,posY, ArrayList.ELEMENT_SIZE,ArrayList.ELEMENT_SIZE);\r\n        } else {\r\n            p5.text(this.data.toString(), x,y, ArrayList.ELEMENT_SIZE,ArrayList.ELEMENT_SIZE)\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization, AttractedDraggableObject } from 'animation';\r\nimport { Utils } from 'utils';\r\n\r\nexport default class SinglyLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = SinglyLinkedList.ELEMENT_WIDTH + SinglyLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = SinglyLinkedList.ITEM_WIDTH + SinglyLinkedList.SPACING;\r\n\r\n    static MAX_DIST_REMOVE = 300;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.head = null;\r\n            this.size = 0;\r\n            this.nodes = [];\r\n            this.tempNode = null;\r\n            this.pinnedNode = null;\r\n        });\r\n    }\r\n\r\n\r\n    addAtIndex(index, data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index > this.size) {\r\n            //console.log(\"index out of bounds\");\r\n            return false;\r\n        }\r\n        if (data === null) {\r\n            //console.log(\"Cannot add null to SinglyLinkedList.\");\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let node = null;\r\n        let nextNode = this.head;\r\n        for (let i = 0; i < index; i++) {\r\n            animation.push({method:this.moveHighlight,params:[node,nextNode,],});\r\n            node = nextNode;\r\n            nextNode = nextNode.next;\r\n        }\r\n        animation.push({method:this.makeNode,params:[index,data,],});\r\n        animation.push({method:this.moveHighlight,params:[node,null,],});\r\n        animation.push({method:this.setTempNodeBefore,params:[nextNode,],});\r\n        animation.push({method:this.setTempNodePrev,params:[node,],});\r\n        if (index < this.size) {\r\n            animation.push({method:this.shiftForNode,params:[nextNode,],});\r\n        }\r\n        animation.push({method:this.insertTempNode,params:[index,],});\r\n        animation.push({method:this.sizeIncr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation);\r\n        return true;\r\n    }\r\n\r\n    addToFront(data) {\r\n        return this.addAtIndex(0,data);\r\n    }\r\n\r\n    addToBack(data) {\r\n        return this.addAtIndex(this.size,data);\r\n    }\r\n\r\n\r\n    removeFromIndex(index) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index >= this.size) {\r\n            //console.log(`Index invalid: ${index} for SinglyLinkedList of length ${this.size}. Should be [0,${this.size-1}].`);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let prev;\r\n        let toDelete;\r\n        let next;\r\n        if (index === 0) {\r\n            prev = null;\r\n            toDelete = this.head;\r\n            next = toDelete.next;\r\n        } else {\r\n            let node = this.head;\r\n            animation.push({method:this.moveHighlight,params:[null,node,],});\r\n            for (let i = 0; i < index - 1; i++) {\r\n                animation.push({method:this.moveHighlight,params:[node,node.next,],});\r\n                node = node.next;\r\n            }\r\n            prev = node;\r\n            toDelete = prev.next;\r\n            next = toDelete.next;\r\n        }\r\n        let data = toDelete.data;\r\n        animation.push({method:this.markNodeForDeletion,params:[prev,toDelete,],});\r\n        animation.push({method:this.unmakeNode,params:[toDelete,],customEnd:true,});\r\n        if (index < this.size - 1) {\r\n            animation.push({method:this.shiftIntoNode,params:[next,],});\r\n        }\r\n        animation.push({method:this.skipTempNode,params:[prev,],});\r\n        animation.push({method:this.sizeDecr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    removeFromFront() {\r\n        return this.removeFromIndex(0);\r\n    }\r\n\r\n    removeFromBack() {\r\n        return this.removeFromIndex(this.size-1);\r\n    }\r\n\r\n\r\n    makeNode(index, data) {\r\n        this.tempNode = new SinglyLinkedListNode({data: data, index: index, x:20,y:20,},);\r\n    }\r\n\r\n    setTempNodeBefore(next) {\r\n        this.tempNode.next = next;\r\n    }\r\n\r\n    setTempNodePrev(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode;\r\n        } else {\r\n            // this.head = this.tempNode;\r\n        }\r\n    }\r\n\r\n    insertTempNode(index) {\r\n        this.nodes.splice(index, 0, this.tempNode);\r\n        if (index === 0) {\r\n            this.head = this.tempNode;\r\n        }\r\n        this.tempNode.shift(...this.getNodePosition(index));\r\n        this.tempNode = null;\r\n    }\r\n\r\n    moveHighlight(fromNode, toNode) {\r\n        if (fromNode) {\r\n            fromNode.unHighlight();\r\n        }\r\n        if (toNode) {\r\n            toNode.highlight();\r\n        }\r\n    }\r\n\r\n    markNodeForDeletion(highlighted, nodeToDelete) {\r\n        if (highlighted) {\r\n            highlighted.unHighlight();\r\n        }\r\n        nodeToDelete.markForDeletion();\r\n    }\r\n\r\n    unmakeNode(node) {\r\n        this.tempNode = this.nodes.splice(node.index, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    skipTempNode(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode.next;\r\n        } else {\r\n            this.head = this.head.next;\r\n        }\r\n        this.tempNode = null;\r\n    }\r\n\r\n    shiftForNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftIntoNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    addAnimation(animation) {\r\n        this.animationQueue.push({method:this.animator.emit,scope:this.animator,params:[\"anim-start\",],});\r\n        this.animationQueue.push(...animation);\r\n        this.animationQueue.push({method:this.animator.emit,scope:this.animator,params:[\"anim-end\",],});\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / SinglyLinkedList.ELEMENT_SIZE));\r\n        let x = SinglyLinkedList.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * SinglyLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * SinglyLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        if (this.pinnedNode.unpin()) {\r\n            this.removeFromIndex(this.pinnedNode.index);\r\n            this.pinnedNode.markBroken();\r\n        }\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        if (node.update(animationSpeed, p5)) {\r\n            node.highlightForDeletion();\r\n        } else if (node.pinnedToMouse && !node.toDelete) {\r\n            node.unHighlight();\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        // let maxPerRow = Math.floor(this.width / SinglyLinkedList.ELEMENT_SIZE);\r\n        // let rows = Math.ceil(this.nodes.length / maxPerRow);\r\n\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return !pressedNode;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.unpin();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getNodePosition(this.size-1)[1] + SinglyLinkedList.ELEMENT_HEIGHT);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.shift(...this.getNodePosition(node.index));\r\n            node = node.next;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nclass SinglyLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + SinglyLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + SinglyLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unHighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    markBroken() {\r\n        this.markForDeletion();\r\n        this.frozen = true;\r\n        this.handBroken = true;\r\n    }\r\n\r\n    unpin() {\r\n        super.unpin();\r\n        return this.displacement() > SinglyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        let dist = super.update(animationSpeed, p5);\r\n        return this.pinnedToMouse && !this.handBroken && dist > SinglyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(this);\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, SinglyLinkedList.ITEM_WIDTH, SinglyLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + SinglyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + SinglyLinkedList.ELEMENT_WIDTH, this.currentY + SinglyLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, SinglyLinkedList.ELEMENT_WIDTH,SinglyLinkedList.ELEMENT_HEIGHT);\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.fill(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.circle(this.currentX + SinglyLinkedList.ELEMENT_WIDTH + SinglyLinkedList.POINTER_WIDTH / 2, this.currentY + SinglyLinkedList.ELEMENT_HEIGHT / 2, 5);\r\n            p5.line(this.currentX + SinglyLinkedList.ELEMENT_WIDTH + SinglyLinkedList.POINTER_WIDTH / 2, this.currentY + SinglyLinkedList.ELEMENT_HEIGHT / 2, this.next.currentX, this.next.currentY + SinglyLinkedList.ELEMENT_HEIGHT / 2)\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + SinglyLinkedList.ELEMENT_HEIGHT / 2 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX + SinglyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + SinglyLinkedList.ITEM_WIDTH, this.currentY + SinglyLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization , AttractedDraggableObject } from 'animation';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class DoublyLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = DoublyLinkedList.ELEMENT_WIDTH + 2 * DoublyLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_PADDED_WIDTH = DoublyLinkedList.ITEM_WIDTH + DoublyLinkedList.SPACING;\r\n\r\n    static MAX_DIST_REMOVE = 300;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.head = null;\r\n            this.tail = null;\r\n            this.size = 0;\r\n            this.nodes = [];\r\n            this.tempNode = null;\r\n            this.pinnedNode = null;\r\n        });\r\n    }\r\n\r\n\r\n    addAtIndex(index, data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index > this.size) {\r\n            //console.log(\"index out of bounds\");\r\n            return false;\r\n        }\r\n        if (data === null) {\r\n            //console.log(\"Cannot add null to DoublyLinkedList.\");\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let node;\r\n        let nextNode;\r\n        let highlighted;\r\n        if (index < this.size / 2) {\r\n            node = null;\r\n            nextNode = this.head;\r\n            for (let i = 0; i < index; i++) {\r\n                animation.push({method:this.moveHighlight,params:[node,nextNode,],});\r\n                node = nextNode;\r\n                nextNode = nextNode.next;\r\n            }\r\n            highlighted = node;\r\n        } else {\r\n            node = this.tail;\r\n            nextNode = null;\r\n            for (let i = this.size - 1; i > index-1; i--) {\r\n                animation.push({method:this.moveHighlight,params:[nextNode,node,],});\r\n                nextNode = node;\r\n                node = node.prev;\r\n            }\r\n            highlighted = nextNode;\r\n        }\r\n        animation.push({method:this.makeNode,params:[index,data,],});\r\n        animation.push({method:this.moveHighlight,params:[highlighted,null,],});\r\n        animation.push({method:this.setTempNodeBefore,params:[nextNode,],});\r\n        animation.push({method:this.setTempNodePrev,params:[node,],});\r\n        if (index < this.size) {\r\n            animation.push({method:this.shiftForNode,params:[nextNode,],});\r\n        }\r\n        animation.push({method:this.insertTempNode,params:[index,],});\r\n        animation.push({method:this.sizeIncr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation);\r\n        return true;\r\n    }\r\n\r\n    addToFront(data) {\r\n        return this.addAtIndex(0,data);\r\n    }\r\n\r\n    addToBack(data) {\r\n        return this.addAtIndex(this.size,data);\r\n    }\r\n\r\n\r\n    removeFromIndex(index) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index >= this.size) {\r\n            //console.log(`Index invalid: ${index} for DoublyLinkedList of length ${this.size}. Should be [0,${this.size-1}].`);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let prev;\r\n        let toDelete;\r\n        let next;\r\n        if (index === 0) {\r\n            prev = null;\r\n            toDelete = this.head;\r\n            next = toDelete.next;\r\n        } else if (index === this.size - 1) {\r\n            next = null;\r\n            toDelete = this.tail;\r\n            prev = toDelete.prev;\r\n        } else {\r\n            if (index < this.size / 2) {\r\n                let node = this.head;\r\n                animation.push({method:this.moveHighlight,params:[null,node,],});\r\n                for (let i = 0; i < index; i++) {\r\n                    animation.push({method:this.moveHighlight,params:[node,node.next,],});\r\n                    node = node.next;\r\n                }\r\n                prev = node.prev;\r\n                toDelete = node;\r\n                next = node.next;\r\n            } else {\r\n                let node = this.tail;\r\n                animation.push({method:this.moveHighlight,params:[null,node,],});\r\n                for (let i = this.size - 1; i > index; i--) {\r\n                    animation.push({method:this.moveHighlight,params:[node,node.prev,],});\r\n                    node = node.prev;\r\n                }\r\n                prev = node.prev;\r\n                toDelete = node;\r\n                next = node.next;\r\n            }\r\n        }\r\n        let data = toDelete.data;\r\n        animation.push({method:this.markNodeForDeletion,params:[toDelete,toDelete,],});\r\n        animation.push({method:this.unmakeNode,params:[toDelete,],customEnd:true,});\r\n        if (index < this.size - 1) {\r\n            animation.push({method:this.shiftIntoNode,params:[next,],});\r\n        }\r\n        animation.push({method:this.skipTempNodePrev,params:[prev,],});\r\n        animation.push({method:this.skipTempNodeNext,params:[next,],});\r\n        animation.push({method:this.sizeDecr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    removeFromFront() {\r\n        return this.removeFromIndex(0);\r\n    }\r\n\r\n    removeFromBack() {\r\n        return this.removeFromIndex(this.size-1);\r\n    }\r\n\r\n\r\n\r\n    makeNode(index, data) {\r\n        this.tempNode = new DoublyLinkedListNode({data: data, index: index, x:20,y:20,},);\r\n    }\r\n\r\n    setTempNodeBefore(next) {\r\n        this.tempNode.next = next;\r\n        if (next) {\r\n            next.prev = this.tempNode;\r\n        }\r\n    }\r\n\r\n    setTempNodePrev(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode;\r\n        }\r\n        this.tempNode.prev = prev;\r\n    }\r\n\r\n    insertTempNode(index) {\r\n        this.nodes.splice(index, 0, this.tempNode);\r\n        if (index === 0) {\r\n            this.head = this.tempNode;\r\n        }\r\n        if (index === this.size) {\r\n            this.tail = this.tempNode;\r\n        }\r\n        this.tempNode.shift(...this.getNodePosition(index));\r\n        this.tempNode = null;\r\n    }\r\n\r\n    moveHighlight(fromNode, toNode) {\r\n        if (fromNode) {\r\n            fromNode.unHighlight();\r\n        }\r\n        if (toNode) {\r\n            toNode.highlight();\r\n        }\r\n    }\r\n\r\n    markNodeForDeletion(highlighted, nodeToDelete) {\r\n        if (highlighted) {\r\n            highlighted.unHighlight();\r\n        }\r\n        nodeToDelete.markForDeletion();\r\n    }\r\n\r\n    unmakeNode(node) {\r\n        this.tempNode = this.nodes.splice(node.index, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    skipTempNodePrev(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode.next;\r\n        } else {\r\n            this.head = this.head.next;\r\n        }\r\n    }\r\n\r\n    skipTempNodeNext(next) {\r\n        if (next) {\r\n            next.prev = this.tempNode.prev;\r\n        } else {\r\n            this.tail = this.tail.prev;\r\n        }\r\n        this.tempNode = null;\r\n    }\r\n\r\n    shiftForNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftIntoNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / DoublyLinkedList.ELEMENT_PADDED_WIDTH));\r\n        let x = DoublyLinkedList.ELEMENT_PADDED_WIDTH * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * DoublyLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * DoublyLinkedList.ELEMENT_PADDED_WIDTH;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        if (this.pinnedNode.unpin()) {\r\n            this.removeFromIndex(this.pinnedNode.index);\r\n            this.pinnedNode.markBroken();\r\n        }\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        if (node.update(animationSpeed, p5)) {\r\n            node.highlightForDeletion();\r\n        } else if (node.pinnedToMouse && !node.toDelete) {\r\n            node.unHighlight();\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return !pressedNode;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.unpin();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getNodePosition(this.size-1)[1] + DoublyLinkedList.ELEMENT_HEIGHT);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.shift(...this.getNodePosition(node.index));\r\n            node = node.next;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nclass DoublyLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n        this.prev = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + DoublyLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + DoublyLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unHighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    markBroken() {\r\n        this.markForDeletion();\r\n        this.frozen = true;\r\n        this.handBroken = true;\r\n    }\r\n\r\n    unpin() {\r\n        super.unpin();\r\n        return this.displacement() > DoublyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        let dist = super.update(animationSpeed, p5);\r\n        return this.pinnedToMouse && !this.handBroken && dist > DoublyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(this);\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, DoublyLinkedList.ITEM_WIDTH, DoublyLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + DoublyLinkedList.POINTER_WIDTH, this.currentY, this.currentX + DoublyLinkedList.POINTER_WIDTH, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + DoublyLinkedList.POINTER_WIDTH + DoublyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + DoublyLinkedList.POINTER_WIDTH + DoublyLinkedList.ELEMENT_WIDTH, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX + DoublyLinkedList.POINTER_WIDTH,this.currentY, DoublyLinkedList.ELEMENT_WIDTH,DoublyLinkedList.ELEMENT_HEIGHT);\r\n        if (this.prev) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.circle(this.currentX + DoublyLinkedList.POINTER_WIDTH / 2, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT *2/3, 5);\r\n            p5.line(this.currentX + DoublyLinkedList.POINTER_WIDTH / 2, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT *2/3, this.prev.currentX + DoublyLinkedList.ITEM_WIDTH, this.prev.currentY + DoublyLinkedList.ELEMENT_HEIGHT *2/3)\r\n            p5.rect(this.prev.currentX + DoublyLinkedList.ITEM_WIDTH - 3, this.prev.currentY + DoublyLinkedList.ELEMENT_HEIGHT *2/3 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX, this.currentY, this.currentX + DoublyLinkedList.POINTER_WIDTH, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.circle(this.currentX + DoublyLinkedList.ITEM_WIDTH - DoublyLinkedList.POINTER_WIDTH / 2, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT / 3, 5);\r\n            p5.line(this.currentX + DoublyLinkedList.ITEM_WIDTH - DoublyLinkedList.POINTER_WIDTH / 2, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT / 3, this.next.currentX, this.next.currentY + DoublyLinkedList.ELEMENT_HEIGHT / 3)\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + DoublyLinkedList.ELEMENT_HEIGHT / 3 - 3, 6,6);\r\n        } else {\r\n            p5.stroke(...this.color);\r\n            p5.line(this.currentX + DoublyLinkedList.POINTER_WIDTH + DoublyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + DoublyLinkedList.ITEM_WIDTH, this.currentY + DoublyLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization, AttractedDraggableObject } from 'animation';\r\nimport { Utils } from 'utils';\r\n\r\nexport default class CircularSinglyLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = CircularSinglyLinkedList.ITEM_WIDTH + CircularSinglyLinkedList.SPACING;\r\n\r\n    static MAX_DIST_REMOVE = 300;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.head = null;\r\n            this.size = 0;\r\n            this.nodes = [];\r\n            this.tempNode = null;\r\n            this.pinnedNode = null;\r\n        });\r\n    }\r\n\r\n\r\n    addAtIndex(index, data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index > this.size) {\r\n            //console.log(\"index out of bounds\");\r\n            return false;\r\n        }\r\n        if (data === null) {\r\n            //console.log(\"Cannot add null to CircularSinglyLinkedList.\");\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        if (this.size > 0 && (index === 0 || index === this.size)) {\r\n            animation.push({method:this.makeNode,params:[index === 0 ? 1 : index,this.head.data,],});\r\n            animation.push({method:this.setTempNodeBefore,params:[this.head.next,],});\r\n            animation.push({method:this.setTempNodePrev,params:[this.head,],});\r\n            animation.push({method:this.changeHeadData,params:[data],});\r\n            if (this.size >= 2) {\r\n                animation.push({method:this.shiftForNode,params:[this.head.next,],});\r\n            }\r\n            animation.push({method:this.insertTempNode,params:[1,],});\r\n            animation.push({method:this.sizeIncr,params:[],});\r\n            if (index === this.size) {\r\n                animation.push({method:this.customNodeShift,params:[this.head, this.head.currentX - 10, this.getNodePosition(this.size)[1] + CircularSinglyLinkedList.ELEMENT_HEIGHT * 2,],customEnd:true});\r\n                // animation.push({method:this.head.shift,scope:this.head,params:[this.head.currentX - 10, this.getNodePosition(this.size)[1] + CircularSinglyLinkedList.ELEMENT_HEIGHT * 2,],});\r\n                animation.push({method:this.resetHead,params:[],});\r\n            }\r\n        } else {\r\n            let node = null;\r\n            let nextNode = this.head;\r\n            for (let i = 0; i < index; i++) {\r\n                animation.push({method:this.moveHighlight,params:[node,nextNode,],});\r\n                node = nextNode;\r\n                nextNode = nextNode.next;\r\n            }\r\n            animation.push({method:this.makeNode,params:[index,data,],});\r\n            animation.push({method:this.moveHighlight,params:[node,null,],});\r\n            animation.push({method:this.setTempNodeBefore,params:[nextNode,],});\r\n            animation.push({method:this.setTempNodePrev,params:[node,],});\r\n            if (index < this.size) {\r\n                animation.push({method:this.shiftForNode,params:[nextNode,],});\r\n            }\r\n            animation.push({method:this.insertTempNode,params:[index,],});\r\n            animation.push({method:this.sizeIncr,params:[],});\r\n        }\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation);\r\n        return true;\r\n    }\r\n\r\n    addToFront(data) {\r\n        return this.addAtIndex(0,data);\r\n    }\r\n\r\n    addToBack(data) {\r\n        return this.addAtIndex(this.size,data);\r\n    }\r\n\r\n\r\n    removeFromIndex(index) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        if (index < 0 || index >= this.size) {\r\n            //console.log(`Index invalid: ${index} for CircularSinglyLinkedList of length ${this.size}. Should be [0,${this.size-1}].`);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data;\r\n        if (index === 0) {\r\n            data = this.head.data;\r\n            animation.push({method:this.moveHighlight,params:[null,this.head,],});\r\n            animation.push({method:this.changeHeadData,params:[this.head.next.data],});\r\n            if (this.size > 1) {\r\n                index = 1;\r\n            }\r\n        }\r\n        let prev;\r\n        let toDelete;\r\n        let next;\r\n        let node = this.head;\r\n        animation.push({method:this.moveHighlight,params:[null,node,],});\r\n        for (let i = 0; i < index - 1; i++) {\r\n            animation.push({method:this.moveHighlight,params:[node,node.next,],});\r\n            node = node.next;\r\n        }\r\n        prev = node;\r\n        toDelete = prev.next;\r\n        next = toDelete.next;\r\n        if (!data) {\r\n            data = toDelete.data;\r\n        }\r\n        animation.push({method:this.markNodeForDeletion,params:[prev,toDelete,],});\r\n        animation.push({method:this.unmakeNode,params:[toDelete,],customEnd:true,});\r\n        if (index < this.size - 1) {\r\n            animation.push({method:this.shiftIntoNode,params:[next,],});\r\n        }\r\n        animation.push({method:this.skipTempNode,params:[prev,],});\r\n        animation.push({method:this.sizeDecr,params:[],});\r\n        if (index === 0) {\r\n            animation.push({method:this.reset,params:[],});\r\n        }\r\n        this.addAnimation(animation);\r\n        this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    removeFromFront() {\r\n        return this.removeFromIndex(0);\r\n    }\r\n\r\n    removeFromBack() {\r\n        return this.removeFromIndex(this.size-1);\r\n    }\r\n\r\n\r\n    makeNode(index, data) {\r\n        this.tempNode = new CircularSinglyLinkedListNode({data: data, index: index, x:20,y:20,},);\r\n    }\r\n\r\n    setTempNodeBefore(next) {\r\n        if (next) {\r\n            this.tempNode.next = next;\r\n        } else {\r\n            if (this.head) {\r\n                this.tempNode.next = this.head;\r\n            } else {\r\n                this.tempNode.next = this.tempNode;\r\n            }\r\n        }\r\n    }\r\n\r\n    setTempNodePrev(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode;\r\n        } else {\r\n            // this.head = this.tempNode;\r\n        }\r\n    }\r\n\r\n    changeHeadData(data) {\r\n        this.head.data = data;\r\n    }\r\n\r\n    resetHead() {\r\n        this.head = this.head.next;\r\n        let node = this.head;\r\n        let i = 0;\r\n        while (node) {\r\n            node.index = i;\r\n            node.shift(...this.getNodePosition(i++));\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    insertTempNode(index) {\r\n        this.nodes.splice(index, 0, this.tempNode);\r\n        if (index === 0) {\r\n            this.head = this.tempNode;\r\n        }\r\n        this.tempNode.shift(...this.getNodePosition(index));\r\n        this.tempNode = null;\r\n    }\r\n\r\n    moveHighlight(fromNode, toNode) {\r\n        if (fromNode) {\r\n            fromNode.unHighlight();\r\n        }\r\n        if (toNode) {\r\n            toNode.highlight();\r\n        }\r\n    }\r\n\r\n    markNodeForDeletion(highlighted, nodeToDelete) {\r\n        if (highlighted) {\r\n            highlighted.unHighlight();\r\n        }\r\n        nodeToDelete.markForDeletion();\r\n    }\r\n\r\n    unmakeNode(node) {\r\n        this.tempNode = node;//this.nodes.splice(node.index, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    skipTempNode(prev) {\r\n        if (prev) {\r\n            prev.next = this.tempNode.next;\r\n        } else {\r\n            this.head = this.head.next;\r\n        }\r\n        this.tempNode = null;\r\n    }\r\n\r\n    shiftForNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    shiftIntoNode(node) {\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction = 0) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n\r\n    customNodeShift(node, x, y) {\r\n        node.shift(x,y);\r\n        node.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / CircularSinglyLinkedList.ELEMENT_SIZE));\r\n        let x = CircularSinglyLinkedList.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * CircularSinglyLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * CircularSinglyLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        if (this.pinnedNode.unpin() && this.animationQueue.length === 0) {\r\n            this.pinnedNode.markBroken();\r\n            this.removeFromIndex(this.pinnedNode.index);\r\n            if (this.pinnedNode.index === 0 && this.size > 1) {\r\n                this.animationQueue.push({method:this.pinnedNode.unfreeze,scope:this.pinnedNode,params:[],});\r\n                this.animationQueue.push({method:this.shiftNode,params:[this.pinnedNode,],});\r\n            }\r\n        }\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        let update = node.update(animationSpeed, p5);\r\n        if (this.animationQueue.length === 0) {\r\n            if (update) {\r\n                node.highlightForDeletion();\r\n            } else if (node.pinnedToMouse && !node.toDelete) {\r\n                node.unHighlight();\r\n            }\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n                if (node === this.head) {\r\n                    break;\r\n                }\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5, node.next === this.head);\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return !pressedNode;\r\n    }\r\n\r\n    touchMoved(p5) {\r\n        return this.pinnedNode === null;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.unpin();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getNodePosition(this.size-1)[1] + CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.shift(...this.getNodePosition(node.index));\r\n            node = node.next;\r\n            if (node === this.head) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nclass CircularSinglyLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + CircularSinglyLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unHighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    markBroken() {\r\n        this.markForDeletion();\r\n        this.frozen = true;\r\n        this.handBroken = true;\r\n    }\r\n\r\n    unfreeze() {\r\n        this.frozen = false;\r\n        this.handBroken = false;\r\n    }\r\n\r\n    unpin() {\r\n        super.unpin();\r\n        return this.displacement() > CircularSinglyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        let dist = super.update(animationSpeed, p5);\r\n        return this.pinnedToMouse && !this.handBroken && dist > CircularSinglyLinkedList.MAX_DIST_REMOVE;\r\n    }\r\n\r\n    draw(p5, pointsToHead = false) {\r\n        // console.log(this);\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, CircularSinglyLinkedList.ITEM_WIDTH, CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, CircularSinglyLinkedList.ELEMENT_WIDTH,CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.fill(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.circle(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2, 5);\r\n            if (pointsToHead) {\r\n                p5.push();\r\n                p5.noFill();\r\n                p5.curveTightness(0.8);\r\n                p5.beginShape();\r\n                p5.curveVertex(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n                p5.curveVertex(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n\r\n                p5.curveVertex(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT * 2);\r\n                p5.curveVertex(15, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT * 2);\r\n\r\n                p5.curveVertex(this.next.currentX, this.next.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n                p5.curveVertex(this.next.currentX, this.next.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n                p5.endShape();\r\n                p5.pop();\r\n            } else {\r\n                p5.line(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH + CircularSinglyLinkedList.POINTER_WIDTH / 2, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2, this.next.currentX, this.next.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2);\r\n            }\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT / 2 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX + CircularSinglyLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + CircularSinglyLinkedList.ITEM_WIDTH, this.currentY + CircularSinglyLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class StackArray extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static TOP_LOCATION_X = 125;\r\n    static TOP_LOCATION_Y = 45;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.backingArray = new Array(StackArray.INITIAL_CAPACITY);\r\n            this.size = 0;\r\n            this.copyArray = null;\r\n            this.tempElement = null;\r\n            this.topPointerValue = 0;\r\n            this.topPointerHighlighter = new AttractedHighlightableObject(StackArray.TOP_LOCATION_X, StackArray.TOP_LOCATION_Y, {\r\n                highlightOuterRadius: 15//StackArray.ELEMENT_SIZE/2,\r\n            });\r\n\r\n            this.resizing = false;\r\n        });\r\n    }\r\n\r\n    push(data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Stack.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push({method:this.showText,params:[`Stack full, resizing to length ${this.backingArray.length*2}`,],});\r\n            animation.push(...this.createCopyArray());\r\n        }\r\n        animation.push({method:this.makeElement,params:[this.size,data],explanation:`Create value: ${data}`,});\r\n        animation.push(...this.useTopPointer());\r\n        animation.push({method:this.highlightTemp,params:[],noAnim:true});\r\n        animation.push({method:this.insertElement,params:[this.size],customEnd:true,explanation:`Added ${data} to backingArray`});\r\n        animation.push({method:this.sizeIncr,params:[],noAnim:true});\r\n        animation.push(...this.updateTopPointer());\r\n        animation.push({method:this.showText,params:[`Successfully pushed ${data} to stack.`,Colors.GREEN,],});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        return true;\r\n    }\r\n\r\n    pop() {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Stack\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.backingArray[this.size - 1].value;\r\n        animation.push({method:this.sizeDecr,params:[],noAnim:true});\r\n        animation.push(...this.updateTopPointer());\r\n        animation.push(...this.useTopPointer());\r\n        animation.push({method:this.extractElement,params:[],explanation:`Pop value: ${data} from stack`,customEnd:true});\r\n        animation.push({method:this.unmakeElement,params:[],noAnim:true});\r\n        // animation.push({method:this.highlightTemp,params:[],noAnim:true});\r\n        // animation.push({method:this.insertElement,params:[this.size],customEnd:true,explanation:`Added ${data} to backingArray`});\r\n        // animation.push({method:this.makeElement,params:[this.size,data],explanation:`Create value: ${data}`});\r\n\r\n        // if (index === 0) {\r\n        //     data = this.head.data;\r\n        //     animation.push({method:this.moveHighlight,params:[null,this.head,],});\r\n        //     animation.push({method:this.changeHeadData,params:[this.head.next.data],});\r\n        //     index = 1;\r\n        // }\r\n        // let prev;\r\n        // let toDelete;\r\n        // let next;\r\n        // let node = this.head;\r\n        // animation.push({method:this.moveHighlight,params:[null,node,],});\r\n        // for (let i = 0; i < index - 1; i++) {\r\n        //     animation.push({method:this.moveHighlight,params:[node,node.next,],});\r\n        //     node = node.next;\r\n        // }\r\n        // prev = node;\r\n        // toDelete = prev.next;\r\n        // next = toDelete.next;\r\n        // if (!data) {\r\n        //     data = toDelete.data;\r\n        // }\r\n        // animation.push({method:this.markNodeForDeletion,params:[prev,toDelete,],});\r\n        // animation.push({method:this.unmakeNode,params:[toDelete,],customEnd:true,});\r\n        // if (index < this.size - 1) {\r\n        //     animation.push({method:this.shiftIntoNode,params:[next,],});\r\n        // }\r\n        // animation.push({method:this.skipTempNode,params:[prev,],});\r\n        // animation.push({method:this.sizeDecr,params:[],});\r\n        this.addAnimation(animation);\r\n        this.updateText(`Successfully popped ${data} from stack.`, Colors.GREEN);\r\n        this.endDrawLoop();\r\n        // this.animationHistory.push(animation)\r\n        return data;\r\n    }\r\n\r\n    createCopyArray() {\r\n        let animation = [];\r\n        animation.push({method:this.initCopyArray,params:[],noAnim:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push(...this.addItemToCopy(i));\r\n        }\r\n        animation.push(...this.useCopyArr());\r\n        return animation;\r\n    }\r\n\r\n    initCopyArray() {\r\n        this.copyArray = new Array(this.backingArray.length * 2);\r\n        for (let i = 0; i < this.size; i++) {\r\n            let pos = this.getElementPosition(i);\r\n            this.copyArray[i] = new StackArrayElement({data: this.backingArray[i].value, index: i, x:pos[0],y:pos[1],},);\r\n        }\r\n    }\r\n\r\n    addItemToCopy(index) {\r\n        let animation = [];\r\n        animation.push({method:this.customEndingElementShift,params:[index,...this.getElementPosition(index,true),true],customEnd:true});\r\n        return animation;\r\n    }\r\n\r\n    useCopyArr() {\r\n        let animation = [];\r\n        animation.push({method:this.assignCopyArray,params:[],noAnim:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push({method:this.shiftElementToBackingArray,params:[i,],noAnim:true});\r\n        }\r\n        return animation;\r\n    }\r\n\r\n    assignCopyArray() {\r\n        this.backingArray = this.copyArray;\r\n        this.copyArray = null;\r\n    }\r\n\r\n    shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n    }\r\n\r\n    makeElement(index, data, immediateHighlight = false) {\r\n        this.tempElement = new StackArrayElement({data: data, index: index, x:45,y:45,},);\r\n        if (immediateHighlight) {\r\n            this.tempElement.highlightForMovement();\r\n        }\r\n    }\r\n\r\n    useTopPointer() {\r\n        let animation = [];\r\n        animation.push({method:this.topPointerHighlighter.highlight,scope:this.topPointerHighlighter,params:[],noAnim:true});\r\n        animation.push({method:this.moveTopTracker,params:[],customEnd:true,explanation:`Top points to index |RETURN|`,explanationUsesReturn:true});\r\n        animation.push({method:this.topPointerHighlighter.unhighlight,scope:this.topPointerHighlighter,params:[],noAnim:true});\r\n        animation.push({method:this.topPointerHighlighter.goTo,scope:this.topPointerHighlighter,params:[StackArray.TOP_LOCATION_X,StackArray.TOP_LOCATION_Y,],noAnim:true});\r\n        return animation;\r\n    }\r\n\r\n    moveTopTracker() {\r\n        let pos = this.getElementPosition(this.topPointerValue);\r\n        this.topPointerHighlighter.shift(pos[0], pos[1] + StackArray.ELEMENT_SIZE);\r\n        this.topPointerHighlighter.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n        return this.topPointerValue;\r\n    }\r\n\r\n    highlightTemp(color = Colors.BLUE) {\r\n        this.tempElement.highlight(color);\r\n    }\r\n\r\n    insertElement(index) {\r\n        this.backingArray[index] = this.tempElement;\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        this.tempElement = null;\r\n    }\r\n\r\n    extractElement() {\r\n        this.tempElement = this.backingArray[this.topPointerValue];\r\n        this.backingArray[this.topPointerValue] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        this.tempElement.addOnStop(() => {\r\n            this.tempElement.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    unmakeElement(index) {\r\n        this.tempElement = null;\r\n    }\r\n\r\n    shiftElement(element, direction = 0) {\r\n        element.shift(...this.getElementPosition(element.index + direction), direction);\r\n    }\r\n\r\n    customEndingElementShift(index, x, y, copy = false) {\r\n        let element = (copy ? this.copyArray : this.backingArray)[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        element.addOnStop(() => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n\r\n    updateTopPointer() {\r\n        let animation = [];\r\n        animation.push({method:this.topPointerHighlighter.highlight,scope:this.topPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE]});\r\n        animation.push({method:this.changeTopPointerValue,params:[],explanation:`Update top pointer to |RETURN|`,explanationUsesReturn:true});\r\n        animation.push({method:this.topPointerHighlighter.unhighlight,scope:this.topPointerHighlighter,params:[],noAnim:true});\r\n        return animation;\r\n    }\r\n\r\n    changeTopPointerValue() {\r\n        this.topPointerValue = this.size;\r\n        return this.size;\r\n    }\r\n\r\n    getElementPosition(index, copy = false) {\r\n        let maxPerRow = Math.floor(this.width / StackArray.ELEMENT_SIZE);\r\n        let x = StackArray.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * StackArray.ELEMENT_SIZE;\r\n        x = (index % maxPerRow) * StackArray.ELEMENT_SIZE;\r\n        return [x + StackArray.ELEMENT_SIZE/2 + this.x,y + StackArray.ELEMENT_SIZE/2 + this.y + (copy ? (Math.ceil(this.backingArray.length / maxPerRow)*StackArray.ELEMENT_SIZE*2) : 0)];\r\n    }\r\n\r\n    allInPosition() {\r\n        let moving = false;\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i] && this.backingArray[i].displacement() > 0) {\r\n                moving = true;\r\n            }\r\n        }\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i] && this.copyArray[i].displacement() > 0) {\r\n                    moving = true;\r\n                }\r\n            }\r\n        }\r\n        return !moving;\r\n    }\r\n\r\n    updateElement(element, animationSpeed, p5) {\r\n        if (element) {\r\n            element.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.updateElement(this.backingArray[i], animationSpeed, p5);\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    this.updateElement(this.copyArray[i], animationSpeed, p5);\r\n                }\r\n            }\r\n            if (this.tempElement) {\r\n                this.updateElement(this.tempElement, animationSpeed, p5);\r\n            }\r\n            this.topPointerHighlighter.update(animationSpeed, p5);\r\n            if (this.resizing && this.allInPosition()) {\r\n                if (!this.animating && this.animationQueue.length === 0) {\r\n                    this.animator.noLoop();\r\n                }\r\n                this.resizing = false;\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        super.draw(p5);\r\n        // console.log(\"draw\");\r\n        p5.push();\r\n        // let maxPerRow = Math.max(1, Math.floor((p5.width - 2 * this.x) / StackArray.ELEMENT_SIZE));\r\n        // let rows = Math.ceil(this.backingArray.length / maxPerRow);\r\n\r\n        // p5.translate(this.x,this.y+50);\r\n        //\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n        //\r\n        // for (let row = 0; row < rows; row++) {\r\n        //     let numElements = row !== rows-1 ? maxPerRow\r\n        //             : (this.backingArray.length % maxPerRow === 0 ? maxPerRow : (this.backingArray.length % maxPerRow));\r\n        //     p5.noStroke();\r\n        //     p5.fill(200);\r\n        //     p5.rect(StackArray.ELEMENT_SIZE/10,StackArray.ELEMENT_SIZE/10 + (2 * StackArray.ELEMENT_SIZE * row),StackArray.ELEMENT_SIZE*numElements,StackArray.ELEMENT_SIZE,StackArray.ELEMENT_SIZE/20);\r\n        //\r\n        //     p5.stroke(0);\r\n        //     p5.fill(255);\r\n        //     p5.rect(0,(2 * StackArray.ELEMENT_SIZE * row), StackArray.ELEMENT_SIZE*numElements,StackArray.ELEMENT_SIZE);\r\n        // }\r\n        //\r\n        // let i = 0;\r\n        // for (let row = 0; row < rows; row++) {\r\n        //     let numElements = row !== rows-1 ? maxPerRow\r\n        //             : (this.backingArray.length % maxPerRow === 0 ? maxPerRow : (this.backingArray.length % maxPerRow));\r\n        //     let x = 0;\r\n        //     let y = 2 * row * StackArray.ELEMENT_SIZE;\r\n        //     for (let block = 0; block < numElements; block++) {\r\n        //         p5.stroke(0);\r\n        //         p5.line(x,y, x, y+StackArray.ELEMENT_SIZE);\r\n        //\r\n        //         p5.noStroke();\r\n        //         p5.fill(0,0,255);\r\n        //         p5.text(i.toString(), x,y+StackArray.ELEMENT_SIZE, StackArray.ELEMENT_SIZE,StackArray.ELEMENT_SIZE);\r\n        //         //\r\n        //         // let element = this.backingArray[i++];\r\n        //         i++;\r\n        //         let nextX = block < (numElements - 1) ? x + StackArray.ELEMENT_SIZE : 0;\r\n        //         let nextY = block < (numElements - 1) ? y : (y + (StackArray.ELEMENT_SIZE*2));\r\n        //         // if (element.data) {\r\n        //         //     element.draw(p5, x,y,nextX,nextY);\r\n        //         // }\r\n        //         x = nextX;\r\n        //         y = nextY;\r\n        //         // if (y >= document.querySelector(\".canvas-container\").getBoundingClientRect().height - StackArray.ELEMENT_SIZE) {\r\n        //         //     // this.windowResized(p5, document.querySelector(\".canvas-container\").getBoundingClientRect().height);\r\n        //         // }\r\n        //     }\r\n        // }\r\n        //\r\n        // p5.translate(-this.x, -this.y - 50);\r\n\r\n        p5.fill(0);\r\n        p5.text(\"Top: \", StackArray.TOP_LOCATION_X - 50, StackArray.TOP_LOCATION_Y, StackArray.ELEMENT_SIZE);\r\n\r\n        p5.text(this.topPointerValue.toString(), StackArray.TOP_LOCATION_X-25, StackArray.TOP_LOCATION_Y, StackArray.ELEMENT_SIZE);\r\n\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].draw(p5);\r\n            }\r\n            let pos = this.getElementPosition(i);\r\n            p5.noFill();\r\n            p5.stroke(0);\r\n            p5.square(pos[0] - StackArray.ELEMENT_SIZE/2,pos[1] - StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE);\r\n            p5.fill(...Colors.BLUE);\r\n            p5.stroke(...Colors.BLUE);\r\n            p5.text(i.toString(), pos[0] - StackArray.ELEMENT_SIZE/2,pos[1] + StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE, StackArray.ELEMENT_SIZE);\r\n        }\r\n\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i]) {\r\n                    this.copyArray[i].draw(p5);\r\n                }\r\n                let pos = this.getElementPosition(i, true);\r\n                p5.noFill();\r\n                p5.stroke(0);\r\n                p5.square(pos[0] - StackArray.ELEMENT_SIZE/2,pos[1] - StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE);\r\n                p5.fill(...Colors.BLUE);\r\n                p5.stroke(...Colors.BLUE);\r\n                p5.text(i.toString(), pos[0] - StackArray.ELEMENT_SIZE/2,pos[1] + StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE, StackArray.ELEMENT_SIZE);\r\n            }\r\n        }\r\n        if (this.tempElement) {\r\n            this.tempElement.draw(p5);\r\n        }\r\n        this.topPointerHighlighter.draw(p5);\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (this.copyArray ? this.getElementPosition(this.copyArray.length-1, true)[1] : this.getElementPosition(this.backingArray.length-1)[1]) + StackArray.ELEMENT_SIZE);\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].shift(...this.getElementPosition(i));\r\n            }\r\n        }\r\n        this.resizing = true;\r\n        this.animator.loop();\r\n    }\r\n}\r\n\r\n\r\nclass StackArrayElement extends AttractedHighlightableObject {\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        // this.highlightInnerRadius = StackArray.ELEMENT_SIZE/2 - 5;\r\n        this.highlightOuterRadius = StackArray.ELEMENT_SIZE/2;\r\n\r\n        this.value = data;\r\n        this.index = index;\r\n\r\n        this.toDelete = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    highlightForMovement() {\r\n        super.highlight(Colors.BLUE);\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        super.highlight(Colors.RED);\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5);\r\n    }\r\n\r\n    drawValue(p5) {\r\n        p5.push();\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.stroke(...this.color);\r\n        p5.text(this.value.toString(), this.currentX - StackArray.ELEMENT_SIZE/2,this.currentY - StackArray.ELEMENT_SIZE/2, StackArray.ELEMENT_SIZE, StackArray.ELEMENT_SIZE);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedDraggableObject } from 'animation';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class StackLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static CAN_DRAG = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = StackLinkedList.ELEMENT_WIDTH + StackLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = StackLinkedList.ITEM_WIDTH + StackLinkedList.SPACING;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.head = null;\r\n            this.size = 0;\r\n            this.nodes = [];\r\n            this.tempNode = null;\r\n            this.pinnedNode = null;\r\n\r\n            this.resizing = false;\r\n        });\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let maxNode = this.head;\r\n        let curr = this.head;\r\n        while (curr) {\r\n            if (curr.displacement() > maxNode.displacement()) {\r\n                maxNode = curr;\r\n            }\r\n            curr = curr.next;\r\n        }\r\n        if (maxNode && maxNode.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            maxNode.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                let curr = this.head;\r\n                while (curr) {\r\n                    curr.stop();\r\n                    curr = curr.next;\r\n                }\r\n            }\r\n        } else {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n    }\r\n\r\n\r\n    push(data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Stack.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.makeNode,params:[data,],explanation:`Create value: ${data}`,isAnimationStep:true,});\r\n        if (this.size > 0) {\r\n            animation.push({method:this.setTempNodeBeforeHead,explanation:`Assign next pointer`,isAnimationStep:true,});\r\n            animation.push({method:this.shiftHeadForNode,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.insertTempNode,explanation:`Reset top pointer to new head`,isAnimationStep:true,});\r\n        animation.push({method:this.shiftHead,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.sizeIncr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully pushed ${data} to stack.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n\r\n    pop() {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Stack\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.head.data;\r\n        animation.push({method:this.markHeadForDeletion,noAnim:true,});\r\n        animation.push({method:this.unmakeHead,explanation:`Extract data`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (this.size > 1) {\r\n            animation.push({method:this.shiftIntoNode,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.skipTempNode,explanation:`Reset top pointer to new head`,isAnimationStep:true,undoData:[this.head.data,],});\r\n        animation.push({method:this.sizeDecr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully popped ${data} from stack.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n\r\n    makeNode(data) {\r\n        this.tempNode = new StackLinkedListNode({data: data, index: 0, x:20,y:20,});\r\n    }\r\n    undo_makeNode(data) {\r\n        this.tempNode = null;\r\n    }\r\n\r\n    setTempNodeBeforeHead() {\r\n        this.tempNode.next = this.head;\r\n    }\r\n    undo_setTempNodeBeforeHead() {\r\n        this.tempNode.next = null;\r\n    }\r\n\r\n    insertTempNode() {\r\n        this.nodes.splice(0, 0, this.tempNode);\r\n        this.head = this.tempNode;\r\n    }\r\n    undo_insertTempNode() {\r\n        this.head = this.tempNode.next;\r\n        this.nodes.splice(0, 1);\r\n    }\r\n\r\n    shiftHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        this.tempNode = null;\r\n    }\r\n    undo_shiftHead() {\r\n        this.tempNode = this.nodes[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_shiftHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        let temp = this.tempNode;\r\n        let stopID = ++this.stopID;\r\n        temp.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n\r\n    markHeadForDeletion() {\r\n        this.head.markForDeletion();\r\n    }\r\n    undo_markHeadForDeletion() {\r\n        this.head.unhighlight();\r\n    }\r\n\r\n    unmakeHead() {\r\n        this.tempNode = this.nodes.splice(0, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_unmakeHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        this.nodes.splice(0, 0, this.tempNode);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    redo_unmakeHead() {\r\n        this.tempNode = this.nodes.splice(0, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    skipTempNode() {\r\n        this.head = this.head.next;\r\n        this.tempNode = null;\r\n    }\r\n    undo_skipTempNode(oldData) {\r\n        this.tempNode = new StackLinkedListNode({data: oldData, index: 0, x:20,y:20,});\r\n        this.tempNode.next = this.head;\r\n        this.tempNode.markForDeletion();\r\n        this.head = this.tempNode;\r\n    }\r\n\r\n    shiftHeadForNode() {\r\n        let node = this.head;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            node = node.next;\r\n        }\r\n    }\r\n    undo_shiftHeadForNode() {\r\n        let node = this.head;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n    redo_shiftHeadForNode() {\r\n        let node = this.head;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n        }\r\n    }\r\n    undo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n    redo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n    undo_shiftNode(node, direction) {\r\n        // console.log(\"undo_shiftNode\");\r\n        this.shiftNode(node, -direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / StackLinkedList.ELEMENT_SIZE));\r\n        let x = StackLinkedList.ELEMENT_SIZE * index;\r\n        let y = 75 + Math.floor(index / maxPerRow) * 2 * StackLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * StackLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedNode.unpin();\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        node.update(animationSpeed, p5);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(\"draw\");\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        // p5.noFill();\r\n        p5.stroke(0);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.text(\"Top:\",95,20,35,35);\r\n        p5.square(130,20,35);\r\n        if (this.head) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(130 + 35 / 2, 20 + 35 / 2, 5);\r\n            p5.line(130 + 35 / 2, 20 + 35 / 2, this.head.currentX + StackLinkedList.ITEM_WIDTH / 2, this.head.currentY);\r\n            p5.rect(this.head.currentX + StackLinkedList.ITEM_WIDTH / 2 - 3, this.head.currentY - 3, 6,6);\r\n        } else {\r\n            p5.line(130,20,165,55);\r\n        }\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5, node.next === this.head);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        // this.drawingBeforeMouseDown = this.drawing;\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.animator.loop();\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.pinnedNode.addOnStop(() => {\r\n                this.ensureDrawn();\r\n            });\r\n            this.unpin();\r\n        } else {\r\n            // this.ensureDrawn();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getNodePosition(this.size-1)[1] + StackLinkedList.ELEMENT_HEIGHT,() => {\r\n            let node = this.head;\r\n            while (node) {\r\n                node.shift(...this.getNodePosition(node.index));\r\n                node = node.next;\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass StackLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + StackLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + StackLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unhighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, StackLinkedList.ITEM_WIDTH, StackLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + StackLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + StackLinkedList.ELEMENT_WIDTH, this.currentY + StackLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, StackLinkedList.ELEMENT_WIDTH,StackLinkedList.ELEMENT_HEIGHT);\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.fill(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.circle(this.currentX + StackLinkedList.ELEMENT_WIDTH + StackLinkedList.POINTER_WIDTH / 2, this.currentY + StackLinkedList.ELEMENT_HEIGHT / 2, 5);\r\n            p5.line(this.currentX + StackLinkedList.ELEMENT_WIDTH + StackLinkedList.POINTER_WIDTH / 2, this.currentY + StackLinkedList.ELEMENT_HEIGHT / 2, this.next.currentX, this.next.currentY + StackLinkedList.ELEMENT_HEIGHT / 2);\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + StackLinkedList.ELEMENT_HEIGHT / 2 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX + StackLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + StackLinkedList.ITEM_WIDTH, this.currentY + StackLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class QueueArray extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static HEAD_LOCATION_X = 125;\r\n    static HEAD_LOCATION_Y = 35;\r\n    static TAIL_LOCATION_X = 125;\r\n    static TAIL_LOCATION_Y = 55;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.backingArray = new Array(QueueArray.INITIAL_CAPACITY);\r\n            this.size = 0;\r\n            this.copyArray = null;\r\n            this.tempElement = null;\r\n            this.headPointerValue = 0;\r\n            this.headPointerHighlighter = new AttractedHighlightableObject(QueueArray.HEAD_LOCATION_X, QueueArray.HEAD_LOCATION_Y, {\r\n                highlightOuterRadius: 15\r\n            });\r\n            this.tailPointerValue = 0;\r\n            this.tailPointerHighlighter = new AttractedHighlightableObject(QueueArray.TAIL_LOCATION_X, QueueArray.TAIL_LOCATION_Y, {\r\n                highlightOuterRadius: 15\r\n            });\r\n        });\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let furthestObject = this.headPointerHighlighter;\r\n        if (this.tailPointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.tailPointerHighlighter;\r\n        }\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i] && this.backingArray[i].displacement() > furthestObject.displacement()) {\r\n                furthestObject = this.backingArray[i];\r\n            }\r\n        }\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i] && this.copyArray[i].displacement() > furthestObject.displacement()) {\r\n                    furthestObject = this.copyArray[i];\r\n                }\r\n            }\r\n        }\r\n        if (furthestObject.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            furthestObject.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                this.headPointerHighlighter.stop();\r\n                this.tailPointerHighlighter.stop();\r\n                for (let i = 0; i < this.backingArray.length; i++) {\r\n                    if (this.backingArray[i]) {\r\n                        this.backingArray[i].stop();\r\n                    }\r\n                }\r\n                if (this.copyArray) {\r\n                    for (let i = 0; i < this.copyArray.length; i++) {\r\n                        if (this.copyArray[i]) {\r\n                            this.copyArray[i].stop();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n    }\r\n\r\n\r\n    enqueue(data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Queue.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.showText,params:[`Enqueuing at index ${this.tailPointerValue}.`]});\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push(...this.createCopyArray());\r\n        }\r\n        animation.push({method:this.createElement,params:[data],explanation:`Create value: ${data}`,isAnimationStep:true,});\r\n        animation.push(...this.useTailPointer());\r\n        // animation.push({method:this.highlightTemp,params:[],noAnim:true});\r\n        animation.push({method:this.insertElement,params:[],customEnd:true,explanation:`Added ${data} to backingArray`,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push(...this.updateTailPointer());\r\n        animation.push({method:this.sizeIncr,params:[],noAnim:true});\r\n        animation.push({method:this.showText,params:[`Successfully pushed ${data} to queue.`,Colors.GREEN,],});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    dequeue() {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Queue\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.backingArray[this.headPointerValue].value;\r\n        animation.push({method:this.showText,params:[`Dequeuing from index ${this.headPointerValue}.`]});\r\n        animation.push(...this.useHeadPointer());\r\n        animation.push({method:this.extractElement,params:[],explanation:`Pop value: ${data} from queue`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.unmakeElement,params:[],noAnim:true,returnsUndoData:true});\r\n        animation.push(...this.updateHeadPointer());\r\n        animation.push({method:this.sizeDecr,params:[],noAnim:true});\r\n        animation.push({method:this.showText,params:[`Successfully popped ${data} from queue.`,Colors.GREEN],noAnim:true});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n    createCopyArray() {\r\n        let animation = [];\r\n        animation.push({method:this.initCopyArray,params:[],noAnim:true,explanation:`Queue full, resizing to length ${this.backingArray.length*2}`,isForwardStep:true,});\r\n        animation.push(...this.useHeadPointer());\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push(...this.addItemToCopy(i));\r\n        }\r\n        animation.push(...this.useCopyArr());\r\n        animation.push(...this.updateHeadPointer(0));\r\n        animation.push(...this.updateTailPointer(this.size));\r\n        return animation;\r\n    }\r\n\r\n    initCopyArray() {\r\n        this.copyArray = new Array(this.backingArray.length * 2);\r\n        for (let i = 0; i < this.size; i++) {\r\n            let arrIndex = (i + this.headPointerValue) % this.backingArray.length;\r\n            let pos = this.getElementPosition(arrIndex);\r\n            this.copyArray[i] = new QueueArrayElement({data: this.backingArray[arrIndex].value, index: i, x:pos[0],y:pos[1],},);\r\n        }\r\n    }\r\n    undo_initCopyArray() {\r\n        this.copyArray = null;\r\n    }\r\n\r\n    addItemToCopy(index) {\r\n        let animation = [];\r\n        // animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isBackStep:(index === 0),isForwardStep:(index === this.size - 1),customUndoEnd:(index === 0),customRedoEnd:(index === this.size - 1),});\r\n        animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n\r\n    shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        let oldX = element.desiredX;\r\n        let oldY = element.desiredY;\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        element.addOnStop((el) => {\r\n            el.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, oldX, oldY];\r\n    }\r\n    undo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === 0) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n    redo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        let oldX = element.desiredX;\r\n        let oldY = element.desiredY;\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === this.size - 1) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n        return [index, oldX, oldY];\r\n    }\r\n\r\n    useCopyArr() {\r\n        let animation = [];\r\n        animation.push({method:this.assignCopyArray,params:[],noAnim:true,isBackStep:true,customUndoEnd:true,returnsUndoData:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push({method:this.shiftElementToBackingArray,params:[i,],noAnim:true,isForwardStep:(i === this.size - 1),customUndoEnd:true,customRedoEnd:true});\r\n        }\r\n        animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n        return animation;\r\n    }\r\n\r\n    assignCopyArray() {\r\n        let oldBacking = this.backingArray;\r\n        this.backingArray = this.copyArray;\r\n        this.copyArray = null;\r\n        return [oldBacking];\r\n    }\r\n    undo_assignCopyArray(oldBacking) {\r\n        this.copyArray = this.backingArray;\r\n        this.backingArray = oldBacking;\r\n    }\r\n\r\n    shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n    }\r\n    undo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(index,true));\r\n        if (index === 0) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n    redo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n        if (index === this.size - 1) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n\r\n    createElement(data) {\r\n        this.tempElement = new QueueArrayElement({data: data, index: this.tailPointerValue, x:45,y:45,},);\r\n    }\r\n    undo_createElement(data) {\r\n        this.tempElement = null;\r\n    }\r\n\r\n    useTailPointer() {\r\n        let animation = [];\r\n        animation.push({method:this.tailPointerHighlighter.highlight,scope:this.tailPointerHighlighter,params:[],noAnim:true,});\r\n        animation.push({method:this.moveTailTracker,params:[],customEnd:true,explanation:`Tail points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.tailPointerHighlighter.unhighlight,scope:this.tailPointerHighlighter,params:[],noAnim:true,});\r\n        animation.push({method:this.tailPointerHighlighter.goTo,scope:this.tailPointerHighlighter,params:[QueueArray.TAIL_LOCATION_X,QueueArray.TAIL_LOCATION_Y,],noAnim:true,returnsUndoData:true});\r\n        return animation;\r\n    }\r\n\r\n    moveTailTracker() {\r\n        let pos = this.getElementPosition(this.tailPointerValue);\r\n        this.tailPointerHighlighter.highlight();\r\n        this.tailPointerHighlighter.shift(pos[0], pos[1] + QueueArray.ELEMENT_SIZE);\r\n        this.tailPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return this.tailPointerValue;\r\n    }\r\n    undo_moveTailTracker() {\r\n        this.tailPointerHighlighter.shift(QueueArray.TAIL_LOCATION_X,QueueArray.TAIL_LOCATION_Y);\r\n        this.tailPointerHighlighter.highlight();\r\n        let stopID = ++this.stopID;\r\n        this.tailPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_moveTailTracker() {\r\n        let pos = this.getElementPosition(this.tailPointerValue);\r\n        this.tailPointerHighlighter.highlight();\r\n        this.tailPointerHighlighter.shift(pos[0], pos[1] + QueueArray.ELEMENT_SIZE);\r\n        let stopID = ++this.stopID;\r\n        this.tailPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        return this.tailPointerValue;\r\n    }\r\n\r\n    highlightTemp(color = Colors.BLUE) {\r\n        this.tempElement.highlight(color);\r\n    }\r\n    undo_highlightTemp() {\r\n        this.tempElement.unhighlight();\r\n    }\r\n\r\n    insertElement() {\r\n        let index = this.tailPointerValue;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        this.tempElement = null;\r\n    }\r\n    undo_insertElement() {\r\n        let index = this.tailPointerValue;// - 1;\r\n        // if (index < 0) {\r\n        //     index += this.backingArray.length;\r\n        // }\r\n        this.tempElement = this.backingArray[index];\r\n        this.highlightTemp();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = null;\r\n    }\r\n    redo_insertElement() {\r\n        let index = this.tailPointerValue;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempElement = null;\r\n    }\r\n\r\n    useHeadPointer() {\r\n        let animation = [];\r\n        animation.push({method:this.headPointerHighlighter.highlight,scope:this.headPointerHighlighter,params:[],noAnim:true,});\r\n        animation.push({method:this.moveHeadTracker,params:[],customEnd:true,explanation:`Head points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.headPointerHighlighter.unhighlight,scope:this.headPointerHighlighter,params:[],noAnim:true,});\r\n        animation.push({method:this.headPointerHighlighter.goTo,scope:this.headPointerHighlighter,params:[QueueArray.HEAD_LOCATION_X,QueueArray.HEAD_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n\r\n    moveHeadTracker() {\r\n        let pos = this.getElementPosition(this.headPointerValue);\r\n        this.headPointerHighlighter.highlight();\r\n        this.headPointerHighlighter.shift(pos[0], pos[1] + QueueArray.ELEMENT_SIZE);\r\n        this.headPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return this.headPointerValue;\r\n    }\r\n    undo_moveHeadTracker() {\r\n        this.headPointerHighlighter.shift(QueueArray.HEAD_LOCATION_X,QueueArray.HEAD_LOCATION_Y);\r\n        this.headPointerHighlighter.highlight();\r\n        let stopID = ++this.stopID;\r\n        this.headPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_moveHeadTracker() {\r\n        let pos = this.getElementPosition(this.headPointerValue);\r\n        this.headPointerHighlighter.highlight();\r\n        this.headPointerHighlighter.shift(pos[0], pos[1] + QueueArray.ELEMENT_SIZE);\r\n        let stopID = ++this.stopID;\r\n        this.headPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        return this.headPointerValue;\r\n    }\r\n\r\n    extractElement() {\r\n        this.tempElement = this.backingArray[this.headPointerValue];\r\n        this.backingArray[this.headPointerValue] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_extractElement() {\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(...this.getElementPosition(this.headPointerValue));\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[this.headPointerValue] = this.tempElement;\r\n        this.tempElement = null;\r\n    }\r\n    redo_extractElement() {\r\n        this.tempElement = this.backingArray[this.headPointerValue];\r\n        this.backingArray[this.headPointerValue] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    unmakeElement(index) {\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_unmakeElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    updateHeadPointer(newHead) {\r\n        let animation = [];\r\n        animation.push({method:this.headPointerHighlighter.highlight,scope:this.headPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:true,});\r\n        animation.push({method:this.changeHeadPointerValue,params:[newHead],explanation:`Update head pointer to |RETURN|`,explanationUsesReturn:true,returnsUndoData:true,});\r\n        animation.push({method:this.headPointerHighlighter.unhighlight,scope:this.headPointerHighlighter,params:[],noAnim:true,isBackStep:true,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeHeadPointerValue(newHead) {\r\n        let oldHead = this.headPointerValue;\r\n        if (newHead !== undefined) {\r\n            this.headPointerValue = newHead;\r\n        } else {\r\n            this.headPointerValue++;\r\n            this.headPointerValue %= this.backingArray.length;\r\n        }\r\n        return [this.headPointerValue,[oldHead]];\r\n    }\r\n    undo_changeHeadPointerValue(oldHead) {\r\n        this.headPointerValue = oldHead;\r\n        return this.headPointerValue;\r\n    }\r\n\r\n    updateTailPointer(newTail) {\r\n        let animation = [];\r\n        animation.push({method:this.tailPointerHighlighter.highlight,scope:this.tailPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:true,});\r\n        animation.push({method:this.changeTailPointerValue,params:[newTail],explanation:`Update tail pointer to |RETURN|`,explanationUsesReturn:true,returnsUndoData:true,});\r\n        animation.push({method:this.tailPointerHighlighter.unhighlight,scope:this.tailPointerHighlighter,params:[],noAnim:true,isBackStep:true,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeTailPointerValue(newTail) {\r\n        let oldTail = this.tailPointerValue;\r\n        if (newTail) {\r\n            this.tailPointerValue = newTail;\r\n        } else {\r\n            this.tailPointerValue++;\r\n            this.tailPointerValue %= this.backingArray.length;\r\n        }\r\n        return [this.tailPointerValue,[oldTail]];\r\n    }\r\n    undo_changeTailPointerValue(oldTail) {\r\n        this.tailPointerValue = oldTail;\r\n        return this.tailPointerValue;\r\n    }\r\n\r\n    getElementPosition(index, copy = false) {\r\n        let maxPerRow = Math.floor(this.width / QueueArray.ELEMENT_SIZE);\r\n        let x = QueueArray.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * QueueArray.ELEMENT_SIZE;\r\n        x = (index % maxPerRow) * QueueArray.ELEMENT_SIZE;\r\n        return [x + QueueArray.ELEMENT_SIZE/2 + this.x,y + QueueArray.ELEMENT_SIZE/2 + this.y + (copy ? (Math.ceil(this.backingArray.length / maxPerRow)*QueueArray.ELEMENT_SIZE*2) : 0)];\r\n    }\r\n\r\n    updateElement(element, animationSpeed, p5) {\r\n        if (element) {\r\n            element.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.updateElement(this.backingArray[i], animationSpeed, p5);\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    this.updateElement(this.copyArray[i], animationSpeed, p5);\r\n                }\r\n            }\r\n            if (this.tempElement) {\r\n                this.updateElement(this.tempElement, animationSpeed, p5);\r\n            }\r\n            this.headPointerHighlighter.update(animationSpeed, p5);\r\n            this.tailPointerHighlighter.update(animationSpeed, p5);\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n\r\n        p5.fill(0);\r\n        p5.text(\"Head: \", QueueArray.HEAD_LOCATION_X - 50, QueueArray.HEAD_LOCATION_Y, QueueArray.ELEMENT_SIZE);\r\n        p5.text(this.headPointerValue.toString(), QueueArray.HEAD_LOCATION_X-25, QueueArray.HEAD_LOCATION_Y, QueueArray.ELEMENT_SIZE);\r\n        p5.text(\"Tail: \", QueueArray.TAIL_LOCATION_X - 50, QueueArray.TAIL_LOCATION_Y, QueueArray.ELEMENT_SIZE);\r\n        p5.text(this.tailPointerValue.toString(), QueueArray.TAIL_LOCATION_X-25, QueueArray.TAIL_LOCATION_Y, QueueArray.ELEMENT_SIZE);\r\n\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].draw(p5);\r\n            }\r\n            let pos = this.getElementPosition(i);\r\n            p5.noFill();\r\n            p5.stroke(0);\r\n            p5.square(pos[0] - QueueArray.ELEMENT_SIZE/2,pos[1] - QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE);\r\n            p5.fill(...Colors.BLUE);\r\n            p5.stroke(...Colors.BLUE);\r\n            p5.text(i.toString(), pos[0] - QueueArray.ELEMENT_SIZE/2,pos[1] + QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE, QueueArray.ELEMENT_SIZE);\r\n        }\r\n\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i]) {\r\n                    this.copyArray[i].draw(p5);\r\n                }\r\n                let pos = this.getElementPosition(i, true);\r\n                p5.noFill();\r\n                p5.stroke(0);\r\n                p5.square(pos[0] - QueueArray.ELEMENT_SIZE/2,pos[1] - QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE);\r\n                p5.fill(...Colors.BLUE);\r\n                p5.stroke(...Colors.BLUE);\r\n                p5.text(i.toString(), pos[0] - QueueArray.ELEMENT_SIZE/2,pos[1] + QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE, QueueArray.ELEMENT_SIZE);\r\n            }\r\n        }\r\n        if (this.tempElement) {\r\n            this.tempElement.draw(p5);\r\n        }\r\n        this.headPointerHighlighter.draw(p5);\r\n        this.tailPointerHighlighter.draw(p5);\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (this.copyArray ? this.getElementPosition(this.copyArray.length-1, true)[1] : this.getElementPosition(this.backingArray.length-1)[1]) + QueueArray.ELEMENT_SIZE, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                if (this.backingArray[i]) {\r\n                    this.backingArray[i].shift(...this.getElementPosition(i));\r\n                }\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    if (this.copyArray[i]) {\r\n                        this.copyArray[i].shift(...this.getElementPosition(i,true));\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass QueueArrayElement extends AttractedHighlightableObject {\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        // this.highlightInnerRadius = QueueArray.ELEMENT_SIZE/2 - 5;\r\n        this.highlightOuterRadius = QueueArray.ELEMENT_SIZE/2;\r\n\r\n        this.value = data;\r\n        this.index = index;\r\n\r\n        this.toDelete = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    highlightForMovement() {\r\n        super.highlight(Colors.BLUE);\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        super.highlight(Colors.RED);\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5);\r\n    }\r\n\r\n    drawValue(p5) {\r\n        p5.push();\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.stroke(...this.color);\r\n        p5.text(this.value.toString(), this.currentX - QueueArray.ELEMENT_SIZE/2,this.currentY - QueueArray.ELEMENT_SIZE/2, QueueArray.ELEMENT_SIZE, QueueArray.ELEMENT_SIZE);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedDraggableObject } from 'animation';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class QueueLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static CAN_DRAG = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = QueueLinkedList.ELEMENT_WIDTH + QueueLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = QueueLinkedList.ITEM_WIDTH + QueueLinkedList.SPACING;\r\n\r\n    static HEAD_TAIL_SIZE = 35;\r\n    static HEAD_TAIL_X = 130;\r\n\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.head = null;\r\n            this.tail = null;\r\n            this.size = 0;\r\n            this.nodes = [];\r\n            this.tempNode = null;\r\n            this.pinnedNode = null;\r\n\r\n            this.resizing = false;\r\n        });\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let maxNode = this.tempNode || this.head;\r\n        let curr = this.head;\r\n        while (curr) {\r\n            if (curr.displacement() > maxNode.displacement()) {\r\n                maxNode = curr;\r\n            }\r\n            curr = curr.next;\r\n        }\r\n        if (maxNode && maxNode.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            maxNode.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                let curr = this.head;\r\n                while (curr) {\r\n                    curr.stop();\r\n                    curr = curr.next;\r\n                }\r\n                if (this.tempNode) {\r\n                    this.tempNode.stop();\r\n                }\r\n            }\r\n        } else {\r\n            this.stopDrawing(++this.stopID);\r\n        }\r\n    }\r\n\r\n\r\n    enqueue(data) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Queue.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.makeNode,params:[data,],explanation:`Create value: ${data}`,isAnimationStep:true,returnsRedoData:true});\r\n        if (this.size > 0) {\r\n            animation.push({method:this.setTempNodeAfterTail,explanation:`Assign next pointer`,isAnimationStep:true,});\r\n        }\r\n        animation.push({method:this.insertTempNode,explanation:`Reset tail pointer`,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.shiftTail,customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.sizeIncr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully enqueued ${data} to queue.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n\r\n    dequeue() {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot dequeue empty Queue\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.head.data;\r\n        animation.push({method:this.markHeadForDeletion,noAnim:true,});\r\n        animation.push({method:this.unmakeHead,explanation:`Extract data`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (this.size > 1) {\r\n            animation.push({method:this.shiftIntoNode,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.skipTempNode,explanation:`Reset head pointer to new head`,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.sizeDecr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully dequeued ${data} from queue.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n\r\n    makeNode(data) {\r\n        this.tempNode = new QueueLinkedListNode({data: data, index: this.size, x:20,y:20,});\r\n        return [this.tempNode];\r\n    }\r\n    undo_makeNode(data) {\r\n        this.tempNode = null;\r\n    }\r\n    redo_makeNode(newTemp) {\r\n        if (typeof newTemp !== \"object\") {\r\n            return this.makeNode(...arguments);\r\n        }\r\n        this.tempNode = newTemp;\r\n    }\r\n\r\n    setTempNodeAfterTail() {\r\n        this.tail.next = this.tempNode;\r\n    }\r\n    undo_setTempNodeAfterTail() {\r\n        this.tail.next = null;\r\n    }\r\n\r\n    insertTempNode() {\r\n        let oldTail = this.tail;\r\n        this.nodes.splice(this.size, 0, this.tempNode);\r\n        this.tail = this.tempNode;\r\n        if (!oldTail) {\r\n            this.head = this.tempNode;\r\n        }\r\n        return [oldTail];\r\n    }\r\n    undo_insertTempNode(oldTail) {\r\n        this.tail = oldTail;\r\n        if (!oldTail) {\r\n            this.head = null;\r\n        }\r\n        this.nodes.splice(this.size, 1);\r\n    }\r\n\r\n    shiftTail() {\r\n        this.tempNode.shift(...this.getNodePosition(this.size));\r\n        this.tempNode.addOnStop((element) => {\r\n            this.doneAnimating(0);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    undo_shiftTail() {\r\n        this.tempNode = this.tail;\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_shiftTail() {\r\n        this.tempNode.shift(...this.getNodePosition(this.size));\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n\r\n    markHeadForDeletion() {\r\n        this.head.markForDeletion();\r\n    }\r\n    undo_markHeadForDeletion() {\r\n        this.head.unhighlight();\r\n    }\r\n\r\n    unmakeHead() {\r\n        this.tempNode = this.nodes.splice(0, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_unmakeHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        this.nodes.splice(0, 0, this.tempNode);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    redo_unmakeHead() {\r\n        this.tempNode = this.nodes.splice(0, 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    skipTempNode() {\r\n        let oldTemp = this.tempNode;\r\n        this.head = this.head.next;\r\n        this.tempNode = null;\r\n        if (!this.head) {\r\n            this.tail = null;\r\n        }\r\n        return [oldTemp, this.tail === null]\r\n    }\r\n    undo_skipTempNode(oldTemp, noTail) {\r\n        this.tempNode = oldTemp;\r\n        this.tempNode.next = this.head;\r\n        this.tempNode.markForDeletion();\r\n        this.head = this.tempNode;\r\n        if (noTail) {\r\n            this.tail = this.tempNode;\r\n        }\r\n    }\r\n\r\n    shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            node = node.next;\r\n        }\r\n    }\r\n    undo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n    redo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (!node.next) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop(() => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n            }\r\n            node = node.next;\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n    undo_shiftNode(node, direction) {\r\n        // console.log(\"undo_shiftNode\");\r\n        this.shiftNode(node, -direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / QueueLinkedList.ELEMENT_SIZE));\r\n        let x = QueueLinkedList.ELEMENT_SIZE * index;\r\n        let y = 75 + Math.floor(index / maxPerRow) * 2 * QueueLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * QueueLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getTailY() {\r\n        return this.getNodePosition(this.size-1)[1] + QueueLinkedList.ELEMENT_HEIGHT + QueueLinkedList.HEAD_TAIL_SIZE;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedNode.unpin();\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        node.update(animationSpeed, p5);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(\"draw\");\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        let headY = 20;\r\n        p5.text(\"Head:\",95-5,headY,QueueLinkedList.HEAD_TAIL_SIZE + 10,QueueLinkedList.HEAD_TAIL_SIZE);\r\n        p5.square(QueueLinkedList.HEAD_TAIL_X,headY,QueueLinkedList.HEAD_TAIL_SIZE);\r\n        if (this.head) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE / 2, headY + QueueLinkedList.HEAD_TAIL_SIZE / 2, 5);\r\n            p5.line(QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE / 2, headY + QueueLinkedList.HEAD_TAIL_SIZE / 2, this.head.currentX + QueueLinkedList.ITEM_WIDTH / 2, this.head.currentY);\r\n            p5.rect(this.head.currentX + QueueLinkedList.ITEM_WIDTH / 2 - 3, this.head.currentY - 3, 6,6);\r\n        } else {\r\n            p5.line(QueueLinkedList.HEAD_TAIL_X,headY,QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE,headY + QueueLinkedList.HEAD_TAIL_SIZE);\r\n        }\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        let tailY = this.getTailY();\r\n        p5.text(\"Tail:\",95,tailY,QueueLinkedList.HEAD_TAIL_SIZE,QueueLinkedList.HEAD_TAIL_SIZE);\r\n        p5.square(QueueLinkedList.HEAD_TAIL_X,tailY,QueueLinkedList.HEAD_TAIL_SIZE);\r\n        if (this.tail) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE / 2, tailY + QueueLinkedList.HEAD_TAIL_SIZE / 2, 5);\r\n            p5.line(QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE / 2, tailY + QueueLinkedList.HEAD_TAIL_SIZE / 2, this.tail.currentX + QueueLinkedList.ITEM_WIDTH / 2, this.tail.currentY + QueueLinkedList.ELEMENT_HEIGHT);\r\n            p5.rect(this.tail.currentX + QueueLinkedList.ITEM_WIDTH / 2 - 3, this.tail.currentY + QueueLinkedList.ELEMENT_HEIGHT - 3, 6,6);\r\n        } else {\r\n            p5.line(QueueLinkedList.HEAD_TAIL_X,tailY,QueueLinkedList.HEAD_TAIL_X + QueueLinkedList.HEAD_TAIL_SIZE,tailY + QueueLinkedList.HEAD_TAIL_SIZE);\r\n        }\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5, node.next === this.head);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        // this.drawingBeforeMouseDown = this.drawing;\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.animator.loop();\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.pinnedNode.addOnStop(() => {\r\n                this.ensureDrawn();\r\n            });\r\n            this.unpin();\r\n        } else {\r\n            // this.ensureDrawn();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getTailY() + QueueLinkedList.HEAD_TAIL_SIZE + 20,() => {\r\n            let shiftTemp = this.tempNode && this.tempNode.desiredX === 20 && this.tempNode.desiredY === 20;\r\n            let node = this.head;\r\n            while (node) {\r\n                node.shift(...this.getNodePosition(node.index));\r\n                node = node.next;\r\n            }\r\n            if (shiftTemp) {\r\n                this.tempNode.shift(20,20);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass QueueLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + QueueLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + QueueLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unhighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, QueueLinkedList.ITEM_WIDTH, QueueLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + QueueLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + QueueLinkedList.ELEMENT_WIDTH, this.currentY + QueueLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX,this.currentY, QueueLinkedList.ELEMENT_WIDTH,QueueLinkedList.ELEMENT_HEIGHT);\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.fill(...Utils.addArray(this.color, [0,0,255]));\r\n            p5.circle(this.currentX + QueueLinkedList.ELEMENT_WIDTH + QueueLinkedList.POINTER_WIDTH / 2, this.currentY + QueueLinkedList.ELEMENT_HEIGHT / 2, 5);\r\n            p5.line(this.currentX + QueueLinkedList.ELEMENT_WIDTH + QueueLinkedList.POINTER_WIDTH / 2, this.currentY + QueueLinkedList.ELEMENT_HEIGHT / 2, this.next.currentX, this.next.currentY + QueueLinkedList.ELEMENT_HEIGHT / 2);\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + QueueLinkedList.ELEMENT_HEIGHT / 2 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX + QueueLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + QueueLinkedList.ITEM_WIDTH, this.currentY + QueueLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class DequeArray extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static FRONT_LOCATION_X = 125;\r\n    static FRONT_LOCATION_Y = 35;\r\n    static SIZE_LOCATION_X = 125;\r\n    static SIZE_LOCATION_Y = 55;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.backingArray = new Array(DequeArray.INITIAL_CAPACITY);\r\n            this.size = 0;\r\n            this.copyArray = null;\r\n            this.tempElement = null;\r\n            this.frontPointerValue = 0;\r\n            this.frontPointerHighlighter = new AttractedHighlightableObject(DequeArray.FRONT_LOCATION_X, DequeArray.FRONT_LOCATION_Y, {\r\n                highlightOuterRadius: 15\r\n            });\r\n            this.sizePointerHighlighter = new AttractedHighlightableObject(DequeArray.SIZE_LOCATION_X, DequeArray.SIZE_LOCATION_Y, {\r\n                highlightOuterRadius: 15\r\n            });\r\n        });\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let furthestObject = this.tempElement || this.frontPointerHighlighter;\r\n        if (this.frontPointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.frontPointerHighlighter;\r\n        }\r\n        if (this.sizePointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.sizePointerHighlighter;\r\n        }\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i] && this.backingArray[i].displacement() > furthestObject.displacement()) {\r\n                furthestObject = this.backingArray[i];\r\n            }\r\n        }\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i] && this.copyArray[i].displacement() > furthestObject.displacement()) {\r\n                    furthestObject = this.copyArray[i];\r\n                }\r\n            }\r\n        }\r\n        if (furthestObject.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            furthestObject.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                if (this.tempElement) {\r\n                    this.tempElement.stop();\r\n                }\r\n                this.frontPointerHighlighter.stop();\r\n                this.sizePointerHighlighter.stop();\r\n                for (let i = 0; i < this.backingArray.length; i++) {\r\n                    if (this.backingArray[i]) {\r\n                        this.backingArray[i].stop();\r\n                    }\r\n                }\r\n                if (this.copyArray) {\r\n                    for (let i = 0; i < this.copyArray.length; i++) {\r\n                        if (this.copyArray[i]) {\r\n                            this.copyArray[i].stop();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            let stopID = ++this.stopID;\r\n            this.stopDrawing(stopID);\r\n        }\r\n    }\r\n\r\n\r\n    add(data,front) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Deque.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push({method:this.showText,params:[`Deque full, resizing to length ${this.backingArray.length*2}`,Colors.GREEN,],});\r\n            animation.push(...this.createCopyArray());\r\n        }\r\n        animation.push({method:this.createElement,params:[data,front],explanation:`Create value: ${data}`,isAnimationStep:true,returnsRedoData:true,});\r\n        animation.push(...this.useFrontPointer());\r\n        if (front) {\r\n            animation.push(...this.useFrontDecrementPointer(true));\r\n        } else {\r\n            animation.push(...this.useFrontSizePointer(true));\r\n        }\r\n        animation.push({method:this.highlightTemp,noAnim:true});\r\n        animation.push({method:this.insertElement,customEnd:true,explanation:`Added ${data} to backingArray`,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (front) {\r\n            // animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n            animation.push(...this.updateFrontPointer(-1));\r\n        }\r\n        animation.push(...this.updateSizePointer(1));\r\n        animation.push({method:this.showText,params:[`Successfully added ${data} to ${front ? \"front\" : \"back\"} of deque.`,Colors.GREEN,],});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    addFirst(data) {\r\n        return this.add(data, true);\r\n    }\r\n\r\n    addLast(data) {\r\n        return this.add(data, false);\r\n    }\r\n\r\n    remove(front) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Deque\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.backingArray[front ? this.frontPointerValue : this.getIndex(this.frontPointerValue + this.size - 1)].value;\r\n        animation.push({method:this.showText,params:[`Dequeuing from index ${this.frontPointerValue}.`]});\r\n        animation.push(...this.useFrontPointer(front));\r\n        if (!front) {\r\n            animation.push(...this.useFrontSizePointer(false,false));\r\n            animation.push(...this.useFrontDecrementPointer(false));\r\n        }\r\n        animation.push({method:this.extractElement,params:[front],explanation:`Remove value: ${data} from deque`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.unmakeElement,noAnim:true,returnsUndoData:true});\r\n        if (front) {\r\n            animation.push(...this.updateFrontPointer(1));\r\n        }\r\n        animation.push(...this.updateSizePointer(-1));\r\n        animation.push({method:this.showText,params:[`Successfully removed ${data} from ${front ? \"front of \" : \"back of\"} deque.`,Colors.GREEN],noAnim:true});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n    removeFirst() {\r\n        return this.remove(true);\r\n    }\r\n\r\n    removeLast() {\r\n        return this.remove(false);\r\n    }\r\n\r\n    createCopyArray() {\r\n        let animation = [];\r\n        animation.push({method:this.initCopyArray,noAnim:true,explanation:`Deque full, resizing to length ${this.backingArray.length*2}`,isForwardStep:true,});\r\n        animation.push(...this.useFrontPointer(true));\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push(...this.addItemToCopy(i));\r\n        }\r\n        animation.push(...this.useCopyArr());\r\n        animation.push(...this.updateFrontPointer(0));\r\n        return animation;\r\n    }\r\n\r\n    initCopyArray() {\r\n        this.copyArray = new Array(this.backingArray.length * 2);\r\n        for (let i = 0; i < this.size; i++) {\r\n            let arrIndex = (i + this.frontPointerValue) % this.backingArray.length;\r\n            let pos = this.getElementPosition(arrIndex);\r\n            this.copyArray[i] = new DequeArrayElement({data: this.backingArray[arrIndex].value, index: i, x:pos[0],y:pos[1],},);\r\n        }\r\n    }\r\n    undo_initCopyArray() {\r\n        this.copyArray = null;\r\n    }\r\n\r\n    addItemToCopy(index) {\r\n        let animation = [];\r\n        // animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isBackStep:(index === 0),isForwardStep:(index === this.size - 1),customUndoEnd:(index === 0),customRedoEnd:(index === this.size - 1),});\r\n        animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n\r\n    shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        let oldX = element.desiredX;\r\n        let oldY = element.desiredY;\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        element.addOnStop((el) => {\r\n            el.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, oldX, oldY];\r\n    }\r\n    undo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === 0) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n    redo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        let oldX = element.desiredX;\r\n        let oldY = element.desiredY;\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === this.size - 1) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n        return [index, oldX, oldY];\r\n    }\r\n\r\n    useCopyArr() {\r\n        let animation = [];\r\n        animation.push({method:this.assignCopyArray,noAnim:true,isBackStep:true,customUndoEnd:true,returnsUndoData:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push({method:this.shiftElementToBackingArray,params:[i,],noAnim:true,isForwardStep:(i === this.size - 1),customUndoEnd:true,customRedoEnd:true});\r\n        }\r\n        animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n        return animation;\r\n    }\r\n\r\n    assignCopyArray() {\r\n        let oldBacking = this.backingArray;\r\n        this.backingArray = this.copyArray;\r\n        this.copyArray = null;\r\n        return [oldBacking];\r\n    }\r\n    undo_assignCopyArray(oldBacking) {\r\n        this.copyArray = this.backingArray;\r\n        this.backingArray = oldBacking;\r\n    }\r\n\r\n    shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n    }\r\n    undo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(index,true));\r\n        if (index === 0) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n    redo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n        if (index === this.size - 1) {\r\n            let stopID = ++this.stopID;\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n\r\n    createElement(data, front) {\r\n        this.tempElement = new DequeArrayElement({data: data, index: this.getIndex(front ? this.frontPointerValue - 1 : this.frontPointerValue + this.size), x:45,y:45,},);\r\n        return [this.tempElement];\r\n    }\r\n    undo_createElement() {\r\n        this.tempElement = null;\r\n    }\r\n    redo_createElement(newTemp) {\r\n        if (typeof newTemp !== \"object\") {\r\n            return this.createElement(...arguments);\r\n        }\r\n        this.tempElement = newTemp;\r\n        this.tempElement.goTo(45,45);\r\n    }\r\n\r\n    highlightTemp(color = Colors.BLUE) {\r\n        this.tempElement.highlight(color);\r\n    }\r\n    undo_highlightTemp() {\r\n        this.tempElement.unhighlight();\r\n    }\r\n\r\n    insertElement() {\r\n        let index = this.tempElement.index;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_insertElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n        let index = this.tempElement.index;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = null;\r\n    }\r\n    redo_insertElement() {\r\n        let index = this.tempElement.index;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n\r\n    useFrontPointer(end = false) {\r\n        let animation = [];\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[0,false],customEnd:true,explanation:`Front points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        if (end) {\r\n            animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[DequeArray.FRONT_LOCATION_X,DequeArray.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        }\r\n        return animation;\r\n    }\r\n    useFrontDecrementPointer(add) {\r\n        let animation = [];\r\n        // animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[...this.getElementPosition(this.frontPointerValue)],noAnim:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[-1,!add],customEnd:true,explanation:`${add ? \"Add at\" : \"Remove from\"} index (front${add ? \" \" : \" + size \"}- 1) % backingArray.length = |RETURN|`,explanationUsesReturn:true,isForwardStep:true,isBackStep:add,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[DequeArray.FRONT_LOCATION_X,DequeArray.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n    useFrontSizePointer(add, end = true) {\r\n        let animation = [];\r\n        // animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[...this.getElementPosition(this.frontPointerValue)],noAnim:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[0,true],customEnd:true,explanation:`${add ? \"Add at\" : \"Remove from\"} index (front + size${add ? \"\" : \" - 1\"}) % backingArray.length = |RETURN|`,explanationUsesReturn:true,isForwardStep:end,isBackStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        if (end) {\r\n            animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[DequeArray.FRONT_LOCATION_X,DequeArray.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        }\r\n        return animation;\r\n    }\r\n\r\n    moveFrontTracker(offset, fromSize) {\r\n        let oldX = this.frontPointerHighlighter.desiredX;\r\n        let oldY = this.frontPointerHighlighter.desiredY;\r\n        let index = this.getIndex(this.frontPointerValue + offset + (fromSize ? this.size : 0));\r\n        let pos = this.getElementPosition(index);\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(pos[0], pos[1] + DequeArray.ELEMENT_SIZE);\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, [oldX,oldY]];\r\n    }\r\n    undo_moveFrontTracker(oldX,oldY) {\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(oldX, oldY);\r\n        let stopID = ++this.stopID;\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_moveFrontTracker(offset, fromSize) {\r\n        let oldX = this.frontPointerHighlighter.desiredX;\r\n        let oldY = this.frontPointerHighlighter.desiredY;\r\n        let index = this.getIndex(this.frontPointerValue + offset + (fromSize ? this.size : 0));\r\n        let pos = this.getElementPosition(index);\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(pos[0], pos[1] + DequeArray.ELEMENT_SIZE);\r\n        let stopID = ++this.stopID;\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        return [index, [oldX,oldY]];\r\n    }\r\n\r\n    extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement = this.backingArray[index];\r\n        this.backingArray[index] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = this.tempElement;\r\n        this.tempElement = null;\r\n    }\r\n    redo_extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement = this.backingArray[index];\r\n        this.backingArray[index] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    unmakeElement() {\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_unmakeElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    updateFrontPointer(offset) {\r\n        let animation = [];\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:false,});\r\n        animation.push({method:this.changeFrontPointerValue,params:[offset],explanation:`Update front pointer to |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,isBackStep:false,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeFrontPointerValue(offset) {\r\n        let oldFront = this.frontPointerValue;\r\n        if (offset === 0) {\r\n            this.frontPointerValue = 0;\r\n        } else {\r\n            this.frontPointerValue = this.getIndex(this.frontPointerValue + offset);\r\n        }\r\n        return [this.frontPointerValue,[oldFront]];\r\n    }\r\n    undo_changeFrontPointerValue(oldFront) {\r\n        this.frontPointerValue = oldFront;\r\n        return this.frontPointerValue;\r\n    }\r\n\r\n    updateSizePointer(offset) {\r\n        let animation = [];\r\n        animation.push({method:this.sizePointerHighlighter.highlight,scope:this.sizePointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:false,});\r\n        animation.push({method:this.changeSizePointerValue,params:[offset],explanation:`Update size to |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.sizePointerHighlighter.unhighlight,scope:this.sizePointerHighlighter,noAnim:true,isBackStep:false,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeSizePointerValue(offset) {\r\n        let oldSize = this.size;\r\n        this.size += offset;\r\n        return [this.size,[oldSize]];\r\n    }\r\n    undo_changeSizePointerValue(oldSize) {\r\n        this.size = oldSize;\r\n        return this.size;\r\n    }\r\n\r\n\r\n    getIndex(index, copy = false) {\r\n        let array = copy ? this.copyArray : this.backingArray;\r\n        index %= array.length;\r\n        if (index < 0) {\r\n            index += array.length;\r\n        }\r\n        return index;\r\n    }\r\n\r\n    getElementPosition(index, copy = false) {\r\n        let maxPerRow = Math.floor(this.width / DequeArray.ELEMENT_SIZE);\r\n        let x = DequeArray.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * DequeArray.ELEMENT_SIZE;\r\n        x = (index % maxPerRow) * DequeArray.ELEMENT_SIZE;\r\n        return [x + DequeArray.ELEMENT_SIZE/2 + this.x,y + DequeArray.ELEMENT_SIZE/2 + this.y + (copy ? (Math.ceil(this.backingArray.length / maxPerRow)*DequeArray.ELEMENT_SIZE*2) : 0)];\r\n    }\r\n\r\n    updateElement(element, animationSpeed, p5) {\r\n        if (element) {\r\n            element.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.updateElement(this.backingArray[i], animationSpeed, p5);\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    this.updateElement(this.copyArray[i], animationSpeed, p5);\r\n                }\r\n            }\r\n            if (this.tempElement) {\r\n                this.updateElement(this.tempElement, animationSpeed, p5);\r\n            }\r\n            this.frontPointerHighlighter.update(animationSpeed, p5);\r\n            this.sizePointerHighlighter.update(animationSpeed, p5);\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n\r\n        p5.fill(0);\r\n        p5.text(\"Front: \", DequeArray.FRONT_LOCATION_X - 50, DequeArray.FRONT_LOCATION_Y, DequeArray.ELEMENT_SIZE);\r\n        p5.text(this.frontPointerValue.toString(), DequeArray.FRONT_LOCATION_X-25, DequeArray.FRONT_LOCATION_Y, DequeArray.ELEMENT_SIZE);\r\n        p5.text(\"Size: \", DequeArray.SIZE_LOCATION_X - 50, DequeArray.SIZE_LOCATION_Y, DequeArray.ELEMENT_SIZE);\r\n        p5.text(this.size.toString(), DequeArray.SIZE_LOCATION_X-25, DequeArray.SIZE_LOCATION_Y, DequeArray.ELEMENT_SIZE);\r\n\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].draw(p5);\r\n            }\r\n            let pos = this.getElementPosition(i);\r\n            p5.noFill();\r\n            p5.stroke(0);\r\n            p5.square(pos[0] - DequeArray.ELEMENT_SIZE/2,pos[1] - DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE);\r\n            p5.fill(...Colors.BLUE);\r\n            p5.stroke(...Colors.BLUE);\r\n            p5.text(i.toString(), pos[0] - DequeArray.ELEMENT_SIZE/2,pos[1] + DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE, DequeArray.ELEMENT_SIZE);\r\n        }\r\n\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i]) {\r\n                    this.copyArray[i].draw(p5);\r\n                }\r\n                let pos = this.getElementPosition(i, true);\r\n                p5.noFill();\r\n                p5.stroke(0);\r\n                p5.square(pos[0] - DequeArray.ELEMENT_SIZE/2,pos[1] - DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE);\r\n                p5.fill(...Colors.BLUE);\r\n                p5.stroke(...Colors.BLUE);\r\n                p5.text(i.toString(), pos[0] - DequeArray.ELEMENT_SIZE/2,pos[1] + DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE, DequeArray.ELEMENT_SIZE);\r\n            }\r\n        }\r\n        if (this.tempElement) {\r\n            this.tempElement.draw(p5);\r\n        }\r\n        this.frontPointerHighlighter.draw(p5);\r\n        this.sizePointerHighlighter.draw(p5);\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (this.copyArray ? this.getElementPosition(this.copyArray.length-1, true)[1] : this.getElementPosition(this.backingArray.length-1)[1]) + DequeArray.ELEMENT_SIZE, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                if (this.backingArray[i]) {\r\n                    this.backingArray[i].shift(...this.getElementPosition(i));\r\n                }\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    if (this.copyArray[i]) {\r\n                        this.copyArray[i].shift(...this.getElementPosition(i,true));\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass DequeArrayElement extends AttractedHighlightableObject {\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        // this.highlightInnerRadius = DequeArray.ELEMENT_SIZE/2 - 5;\r\n        this.highlightOuterRadius = DequeArray.ELEMENT_SIZE/2;\r\n\r\n        this.value = data;\r\n        this.index = index;\r\n\r\n        this.toDelete = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    highlightForMovement() {\r\n        super.highlight(Colors.BLUE);\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        super.highlight(Colors.RED);\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5);\r\n    }\r\n\r\n    drawValue(p5) {\r\n        p5.push();\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.stroke(...this.color);\r\n        p5.text(this.value.toString(), this.currentX - DequeArray.ELEMENT_SIZE/2,this.currentY - DequeArray.ELEMENT_SIZE/2, DequeArray.ELEMENT_SIZE, DequeArray.ELEMENT_SIZE);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedDraggableObject } from 'animation';\r\nimport { Utils, Colors } from 'utils';\r\n\r\nexport default class DequeLinkedList extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static CAN_DRAG = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static ELEMENT_HEIGHT = 35;\r\n    static ELEMENT_WIDTH = 50;\r\n    static POINTER_WIDTH = 15;\r\n    static ITEM_WIDTH = DequeLinkedList.ELEMENT_WIDTH + 2 * DequeLinkedList.POINTER_WIDTH;\r\n    static SPACING = 50;\r\n    static ELEMENT_SIZE = DequeLinkedList.ITEM_WIDTH + DequeLinkedList.SPACING;\r\n\r\n    static HEAD_TAIL_SIZE = 35;\r\n    static HEAD_TAIL_X = 130;\r\n\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.head = null;\r\n            this.tail = null;\r\n            this.size = 0;\r\n            this.nodes = [];\r\n            this.tempNode = null;\r\n            this.pinnedNode = null;\r\n\r\n            this.resizing = false;\r\n        });\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let maxNode = this.tempNode || this.head;\r\n        let curr = this.head;\r\n        while (curr) {\r\n            if (curr.displacement() > maxNode.displacement()) {\r\n                maxNode = curr;\r\n            }\r\n            curr = curr.next;\r\n        }\r\n        if (maxNode && maxNode.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            maxNode.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                let curr = this.head;\r\n                while (curr) {\r\n                    curr.stop();\r\n                    curr = curr.next;\r\n                }\r\n                if (this.tempNode) {\r\n                    this.tempNode.stop();\r\n                }\r\n            }\r\n        } else {\r\n            let stopID = ++this.stopID;\r\n            this.stopDrawing(stopID);\r\n        }\r\n    }\r\n\r\n\r\n    add(data,front) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Deque.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.makeNode,params:[data,front],explanation:`Create value: ${data}`,isAnimationStep:true,returnsRedoData:true,});\r\n        if (this.size > 0) {\r\n            if (front) {\r\n                animation.push({method:this.setTempNodeBeforeHead,explanation:`Assign next pointer`,isAnimationStep:true,});\r\n                animation.push({method:this.setHeadAfterTempNode,explanation:`Assign prev pointer`,isAnimationStep:true,});\r\n                animation.push({method:this.shiftHeadForNode,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n            } else {\r\n                animation.push({method:this.setTempNodeAfterTail,explanation:`Assign next pointer`,isAnimationStep:true,});\r\n                animation.push({method:this.setTailBeforeTempNode,explanation:`Assign prev pointer`,isAnimationStep:true,});\r\n            }\r\n        }\r\n        animation.push({method:this.insertTempNode,params:[front],explanation:`Reset ${front ? \"head\" : \"tail\"} pointer`,quick:true,isAnimationStep:true,returnsUndoData:true,});\r\n        if (front) {\r\n            animation.push({method:this.shiftNewHead,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        } else {\r\n            animation.push({method:this.shiftNewTail,customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.sizeIncr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully added ${data} to ${front ? \"front\" : \"back\"} of deque.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    addFirst(data) {\r\n        return this.add(data,true);\r\n    }\r\n\r\n    addLast(data) {\r\n        return this.add(data,false);\r\n    }\r\n\r\n    remove(front) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot dedeque empty Deque\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = (front ? this.head : this.tail).data;\r\n        animation.push({method:this.markNodeForDeletion,params:[front],quick:true,});\r\n        animation.push({method:this.unmakeNode,params:[front],explanation:`Extract data`,customEnd:true,isForwardStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (front && this.size > 1) {\r\n            animation.push({method:this.shiftIntoNode,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        }\r\n        animation.push({method:this.skipTempNode,params:[front],explanation:`Reset ${front ? \"head\" : \"tail\"} pointer`,quick:true,isBackStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.sizeDecr,noAnim:true,});\r\n        animation.push({method:this.showText,params:[`Successfully removed ${data} from ${front ? \"front of \" : \"back of\"} deque.`, Colors.GREEN],noAnim:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n    removeFirst() {\r\n        return this.remove(true);\r\n    }\r\n\r\n    removeLast() {\r\n        return this.remove(false);\r\n    }\r\n\r\n    makeNode(data,front) {\r\n        this.tempNode = new DequeLinkedListNode({data: data, index: front ? 0 : this.size, x:20,y:20,});\r\n        return [this.tempNode];\r\n    }\r\n    undo_makeNode(data) {\r\n        this.tempNode = null;\r\n    }\r\n    redo_makeNode(newTemp) {\r\n        if (typeof newTemp !== \"object\") {\r\n            return this.makeNode(...arguments);\r\n        }\r\n        this.tempNode = newTemp;\r\n    }\r\n\r\n    setTempNodeBeforeHead() {\r\n        this.tempNode.next = this.head;\r\n    }\r\n    undo_setTempNodeBeforeHead() {\r\n        this.tempNode.next = null;\r\n    }\r\n\r\n    setHeadAfterTempNode() {\r\n        this.head.prev = this.tempNode;\r\n    }\r\n    undo_setHeadAfterTempNode() {\r\n        this.head.prev = null;\r\n    }\r\n\r\n    setTempNodeAfterTail() {\r\n        this.tail.next = this.tempNode;\r\n    }\r\n    undo_setTempNodeAfterTail() {\r\n        this.tail.next = null;\r\n    }\r\n\r\n    setTailBeforeTempNode() {\r\n        this.tempNode.prev = this.tail;\r\n    }\r\n    undo_setTailBeforeTempNode() {\r\n        this.tempNode.prev = null;\r\n    }\r\n\r\n    insertTempNode(atHead) {\r\n        let oldTail = this.tail;\r\n        if (atHead) {\r\n            this.nodes.splice(0, 0, this.tempNode);\r\n            if (!oldTail) {\r\n                this.tail = this.tempNode;\r\n            }\r\n            this.head = this.tempNode;\r\n        } else {\r\n            this.nodes.splice(this.size, 0, this.tempNode);\r\n            this.tail = this.tempNode;\r\n            if (!oldTail) {\r\n                this.head = this.tempNode;\r\n            }\r\n        }\r\n        return [atHead, oldTail];\r\n    }\r\n    undo_insertTempNode(atHead, oldTail) {\r\n        if (atHead) {\r\n            this.head = this.tempNode.next;\r\n            this.nodes.splice(0, 1);\r\n        } else {\r\n            this.tail = oldTail;\r\n            if (!oldTail) {\r\n                this.head = null;\r\n            }\r\n            this.nodes.splice(this.size, 1);\r\n        }\r\n    }\r\n\r\n    shiftNewHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        this.tempNode = null;\r\n    }\r\n    undo_shiftNewHead() {\r\n        this.tempNode = this.nodes[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_shiftNewHead() {\r\n        this.tempNode.shift(...this.getNodePosition(0));\r\n        let temp = this.tempNode;\r\n        let stopID = ++this.stopID;\r\n        temp.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n\r\n    shiftNewTail() {\r\n        this.tempNode.shift(...this.getNodePosition(this.size));\r\n        this.tempNode.addOnStop((element) => {\r\n            this.doneAnimating(0);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    undo_shiftNewTail() {\r\n        this.tempNode = this.tail;\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_shiftNewTail() {\r\n        this.tempNode.shift(...this.getNodePosition(this.size));\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n\r\n    markNodeForDeletion(front) {\r\n        (front ? this.head : this.tail).markForDeletion();\r\n    }\r\n    undo_markNodeForDeletion(front) {\r\n        (front ? this.head : this.tail).unhighlight();\r\n    }\r\n\r\n    unmakeNode(front) {\r\n        this.tempNode = this.nodes.splice(front ? 0 : (this.size - 1), 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop(() => {\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_unmakeNode(front) {\r\n        this.tempNode.shift(...this.getNodePosition(front ? 0 : (this.size - 1)));\r\n        this.nodes.splice(front ? 0 : (this.size - 1), 0, this.tempNode);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    redo_unmakeNode(front) {\r\n        this.tempNode = this.nodes.splice(front ? 0 : (this.size - 1), 1)[0];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    skipTempNode(front) {\r\n        let oldTemp = this.tempNode;\r\n        if (front) {\r\n            this.head = this.head.next;\r\n            if (this.head) {\r\n                this.head.prev = null;\r\n            }\r\n        } else {\r\n            this.tail = this.tail.prev;\r\n            if (this.tail) {\r\n                this.tail.next = null;\r\n            }\r\n        }\r\n        if (!this.head || !this.tail) {\r\n            this.head = this.tail = null;\r\n        }\r\n        this.tempNode = null;\r\n        return [front,oldTemp, this.head === null || this.tail === null];\r\n    }\r\n    undo_skipTempNode(front,oldTemp, noData) {\r\n        this.tempNode = oldTemp;\r\n        if (front) {\r\n            this.tempNode.next = this.head;\r\n            if (this.head) {\r\n                this.head.prev = this.tempNode;\r\n            }\r\n            this.head = this.tempNode;\r\n        } else {\r\n            this.tempNode.prev = this.tail;\r\n            if (this.tail) {\r\n                this.tail.next = this.tempNode;\r\n            }\r\n            this.tail = this.tempNode;\r\n        }\r\n        if (noData) {\r\n            this.head = this.tail = this.tempNode;\r\n        }\r\n        this.tempNode.markForDeletion();\r\n    }\r\n\r\n    shiftHeadForNode() {\r\n        let node = this.head;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            furthest.addOnStop(() => {\r\n                this.doneAnimating(0);\r\n            });\r\n        }\r\n    }\r\n    undo_shiftHeadForNode() {\r\n        let node = this.head;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            let stopID = ++this.stopID;\r\n            furthest.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n    redo_shiftHeadForNode() {\r\n        let node = this.head;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            let stopID = ++this.stopID;\r\n            furthest.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n\r\n    shiftIntoNode() {\r\n        let node = this.head.next;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            furthest.addOnStop((element) => {\r\n                this.doneAnimating(0);\r\n            });\r\n        }\r\n    }\r\n    undo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, 1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            let stopID = ++this.stopID;\r\n            furthest.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n    redo_shiftIntoNode() {\r\n        let node = this.head.next;\r\n        let furthest = node;\r\n        while (node) {\r\n            this.shiftNode(node, -1);\r\n            if (node.displacement() > furthest.displacement()) {\r\n                furthest = node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (furthest) {\r\n            let stopID = ++this.stopID;\r\n            furthest.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n\r\n    shiftNode(node, direction) {\r\n        node.shift(...this.getNodePosition(node.index + direction), direction);\r\n    }\r\n    undo_shiftNode(node, direction) {\r\n        // console.log(\"undo_shiftNode\");\r\n        this.shiftNode(node, -direction);\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    getNodePosition(index) {\r\n        let maxPerRow = Math.max(1, Math.floor(this.width / DequeLinkedList.ELEMENT_SIZE));\r\n        let x = DequeLinkedList.ELEMENT_SIZE * index;\r\n        let y = 75 + Math.floor(index / maxPerRow) * 2 * DequeLinkedList.ELEMENT_HEIGHT;\r\n        x = (index % maxPerRow) * DequeLinkedList.ELEMENT_SIZE;\r\n        return [x + this.x,y + this.y];\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        let node = this.head;\r\n        while (node) {\r\n            if (node.containsPos(x,y)) {\r\n                return node;\r\n            }\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getTailY() {\r\n        return this.getNodePosition(this.size)[1] + DequeLinkedList.ELEMENT_HEIGHT + DequeLinkedList.HEAD_TAIL_SIZE;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedNode.unpin();\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        node.update(animationSpeed, p5);\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            let node = this.head;\r\n            while (node) {\r\n                this.updateNode(node, animationSpeed, p5);\r\n                node = node.next;\r\n            }\r\n            if (this.tempNode) {\r\n                this.updateNode(this.tempNode, animationSpeed, p5);\r\n            }\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(\"draw\");\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_WIDTH/3 - 2);\r\n\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        let headY = 20;\r\n        p5.text(\"Head:\",95-5,headY,DequeLinkedList.HEAD_TAIL_SIZE + 10,DequeLinkedList.HEAD_TAIL_SIZE);\r\n        p5.square(DequeLinkedList.HEAD_TAIL_X,headY,DequeLinkedList.HEAD_TAIL_SIZE);\r\n        if (this.head) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE / 2, headY + DequeLinkedList.HEAD_TAIL_SIZE / 2, 5);\r\n            p5.line(DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE / 2, headY + DequeLinkedList.HEAD_TAIL_SIZE / 2, this.head.currentX + DequeLinkedList.ITEM_WIDTH / 2, this.head.currentY);\r\n            p5.rect(this.head.currentX + DequeLinkedList.ITEM_WIDTH / 2 - 3, this.head.currentY - 3, 6,6);\r\n        } else {\r\n            p5.line(DequeLinkedList.HEAD_TAIL_X,headY,DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE,headY + DequeLinkedList.HEAD_TAIL_SIZE);\r\n        }\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        let tailY = this.getTailY();\r\n        p5.text(\"Tail:\",95,tailY,DequeLinkedList.HEAD_TAIL_SIZE,DequeLinkedList.HEAD_TAIL_SIZE);\r\n        p5.square(DequeLinkedList.HEAD_TAIL_X,tailY,DequeLinkedList.HEAD_TAIL_SIZE);\r\n        if (this.tail) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE / 2, tailY + DequeLinkedList.HEAD_TAIL_SIZE / 2, 5);\r\n            p5.line(DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE / 2, tailY + DequeLinkedList.HEAD_TAIL_SIZE / 2, this.tail.currentX + DequeLinkedList.ITEM_WIDTH / 2, this.tail.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n            p5.rect(this.tail.currentX + DequeLinkedList.ITEM_WIDTH / 2 - 3, this.tail.currentY + DequeLinkedList.ELEMENT_HEIGHT - 3, 6,6);\r\n        } else {\r\n            p5.line(DequeLinkedList.HEAD_TAIL_X,tailY,DequeLinkedList.HEAD_TAIL_X + DequeLinkedList.HEAD_TAIL_SIZE,tailY + DequeLinkedList.HEAD_TAIL_SIZE);\r\n        }\r\n\r\n        let node = this.head;\r\n        while (node) {\r\n            node.draw(p5, node.next === this.head);\r\n            node = node.next;\r\n        }\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        // this.drawingBeforeMouseDown = this.drawing;\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.animator.loop();\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.pinnedNode.addOnStop(() => {\r\n                this.ensureDrawn();\r\n            });\r\n            this.unpin();\r\n        } else {\r\n            // this.ensureDrawn();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getTailY() + DequeLinkedList.HEAD_TAIL_SIZE + 20,() => {\r\n            let shiftTemp = this.tempNode && this.tempNode.desiredX === 20 && this.tempNode.desiredY === 20;\r\n            let node = this.head;\r\n            while (node) {\r\n                node.shift(...this.getNodePosition(node.index));\r\n                node = node.next;\r\n            }\r\n            if (shiftTemp) {\r\n                this.tempNode.shift(20,20);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass DequeLinkedListNode extends AttractedDraggableObject {\r\n    static CAN_DRAG = true;\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        this.data = data;\r\n        this.index = index;\r\n        this.next = null;\r\n        this.prev = null;\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.frozen = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    containsPos(x,y) {\r\n        return ((this.currentX <= x && x <= (this.currentX + DequeLinkedList.ITEM_WIDTH)) && (this.currentY <= y && y <= (this.currentY + DequeLinkedList.ELEMENT_HEIGHT)))\r\n    }\r\n\r\n    highlight() {\r\n        this.color = [255,165,0];\r\n    }\r\n\r\n    unhighlight() {\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    draw(p5) {\r\n        p5.push();\r\n        p5.fill(255);\r\n        p5.stroke(...this.color);\r\n        p5.rect(this.currentX, this.currentY, DequeLinkedList.ITEM_WIDTH, DequeLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + DequeLinkedList.POINTER_WIDTH, this.currentY, this.currentX + DequeLinkedList.POINTER_WIDTH, this.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n        p5.line(this.currentX + DequeLinkedList.POINTER_WIDTH + DequeLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + DequeLinkedList.POINTER_WIDTH + DequeLinkedList.ELEMENT_WIDTH, this.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.text(this.data.toString(), this.currentX + DequeLinkedList.POINTER_WIDTH,this.currentY, DequeLinkedList.ELEMENT_WIDTH,DequeLinkedList.ELEMENT_HEIGHT);\r\n        if (this.prev) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.circle(this.currentX + DequeLinkedList.POINTER_WIDTH / 2, this.currentY + DequeLinkedList.ELEMENT_HEIGHT *2/3, 5);\r\n            p5.line(this.currentX + DequeLinkedList.POINTER_WIDTH / 2, this.currentY + DequeLinkedList.ELEMENT_HEIGHT *2/3, this.prev.currentX + DequeLinkedList.ITEM_WIDTH, this.prev.currentY + DequeLinkedList.ELEMENT_HEIGHT *2/3)\r\n            p5.rect(this.prev.currentX + DequeLinkedList.ITEM_WIDTH - 3, this.prev.currentY + DequeLinkedList.ELEMENT_HEIGHT *2/3 - 3, 6,6);\r\n        } else {\r\n            p5.line(this.currentX, this.currentY, this.currentX + DequeLinkedList.POINTER_WIDTH, this.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        if (this.next) {\r\n            p5.stroke(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.fill(...Utils.addArray(this.color, Colors.BLUE));\r\n            p5.circle(this.currentX + DequeLinkedList.ITEM_WIDTH - DequeLinkedList.POINTER_WIDTH / 2, this.currentY + DequeLinkedList.ELEMENT_HEIGHT / 3, 5);\r\n            p5.line(this.currentX + DequeLinkedList.ITEM_WIDTH - DequeLinkedList.POINTER_WIDTH / 2, this.currentY + DequeLinkedList.ELEMENT_HEIGHT / 3, this.next.currentX, this.next.currentY + DequeLinkedList.ELEMENT_HEIGHT / 3)\r\n            p5.rect(this.next.currentX - 3, this.next.currentY + DequeLinkedList.ELEMENT_HEIGHT / 3 - 3, 6,6);\r\n        } else {\r\n            p5.stroke(...this.color);\r\n            p5.line(this.currentX + DequeLinkedList.POINTER_WIDTH + DequeLinkedList.ELEMENT_WIDTH, this.currentY, this.currentX + DequeLinkedList.ITEM_WIDTH, this.currentY + DequeLinkedList.ELEMENT_HEIGHT);\r\n        }\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { TreeNode, TrackingHighlighter, AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class BST extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static CAN_DRAG = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n    static SUPPORTS_INFREQUENT_RESIZE = true;\r\n    static HAS_MIN_WIDTH = true;\r\n\r\n    static ELEMENT_SIZE = 40;\r\n    static VERTICAL_SPACING = 7.5;\r\n    static HORIZONTAL_SPACING = -17.5;\r\n\r\n    static ROOT_SIZE = 25;\r\n    static ROOT_X_MIN = 50;\r\n    static ROOT_X_OFFSET = -40;\r\n    static ROOT_Y = 20;\r\n    static ROOT_HIGHLIGHT_DIAMETER = 10;\r\n\r\n    reset() {\r\n        super.reset(() => {\r\n            this.root = null;\r\n            this.inOrder = [];\r\n            this.size = 0;\r\n            this.predSuccMode = this.predSuccMode !== undefined ? this.predSuccMode : true;\r\n            this.tempNode = null;\r\n            this.pinnedNode = null;\r\n            this.highlighter = new TrackingHighlighter(null, this.constructor.ELEMENT_SIZE/2, {\r\n                highlightInnerRadius: this.constructor.ELEMENT_SIZE/2\r\n            });\r\n            this.rootPointerPos = {currentX: this.getRootPointerX() + this.constructor.ROOT_SIZE / 2 - this.constructor.ROOT_HIGHLIGHT_DIAMETER / 2, currentY: this.constructor.ROOT_Y + this.constructor.ROOT_SIZE / 2 - this.constructor.ROOT_HIGHLIGHT_DIAMETER / 2};\r\n        });\r\n\r\n    }\r\n\r\n    mostDisplacedRecursive(curr) {\r\n        if (curr) {\r\n            let left = this.mostDisplacedRecursive(curr.left) || curr;\r\n            let right = this.mostDisplacedRecursive(curr.right) || curr;\r\n            return [left, curr, right].sort((a,b) => b.displacement() - a.displacement())[0];\r\n        }\r\n        return null;\r\n    }\r\n\r\n    stopNodesRecursive(curr) {\r\n        if (curr) {\r\n            curr.stop();\r\n            curr.left && curr.left.stop();\r\n            curr.right && curr.right.stop();\r\n        }\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let maxNode = this.highlighter;\r\n        if (this.tempNode && this.tempNode.displacement() > maxNode.displacement()) {\r\n            maxNode = this.tempNode;\r\n        }\r\n        if (this.dataMover && this.dataMover.displacement() > maxNode.displacement()) {\r\n            maxNode = this.dataMover;\r\n        }\r\n        let furthestTreeNode = this.mostDisplacedRecursive(this.root);\r\n        if (furthestTreeNode && furthestTreeNode.displacement() > maxNode.displacement()) {\r\n            maxNode = furthestTreeNode;\r\n        }\r\n        if (maxNode && maxNode.displacement() > 0) {\r\n            let stopID = ++this.stopID;\r\n            maxNode.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                this.stopNodesRecursive(this.root);\r\n                if (this.tempNode) {\r\n                    this.tempNode.stop();\r\n                }\r\n                if (this.dataMover) {\r\n                    this.dataMover.stop();\r\n                }\r\n                this.highlighter.stop();\r\n            }\r\n        } else {\r\n            let stopID = ++this.stopID;\r\n            this.stopDrawing(stopID);\r\n        }\r\n    }\r\n\r\n\r\n    insert(data, callback, calledFromCallback) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to BST.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.showText,params:[`Attempt add: ${data} to BST`],noAnim:true});\r\n        animation.push({method:this.setHighlighter,params:[this.rootPointerPos],customEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        animation.push({method:this.showText,params:[`Searching tree for value: ${data}`],quick:true,isForwardStep:true,customRedoEnd:true});\r\n        let [ recurredAnimation, newRoot, nodeJustAdded, added ] = this.insertRecursive(this.root, data);\r\n        animation.push(...recurredAnimation);\r\n        animation.push({method:this.setHighlighter,params:[this.rootPointerPos],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        animation.push({method:this.setRoot,params:[newRoot],explanation:`${this.root ? \"Res\" : \"S\"}et root pointer to node containing ${newRoot.data}`,quick:true,isForwardStep:true,returnsUndoData:true,customRedoEnd:true});\r\n        if (nodeJustAdded) {\r\n            animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Add node:${data} to root of tree`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true});\r\n        }\r\n        animation.push({method:this.setHighlighter,params:[null],noAnim:true,isBackStep:true,customUndoEnd:true,returnsUndoData:true,});\r\n        animation.push({method:this.clearTemp,noAnim:true,returnsUndoData:true,});\r\n        if (added) {\r\n            animation.push({method:this.showText,params:[`Successfully inserted ${data} into BST.`, Colors.GREEN],noAnim:true});\r\n        } else {\r\n            animation.push({method:this.showText,params:[`Failed to insert duplicate ${data} into BST.`, Colors.RED],noAnim:true});\r\n        }\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop(callback);\r\n        if (!calledFromCallback || !this.paused) {\r\n            this.stepForward();\r\n        }\r\n        return true;\r\n    }\r\n\r\n    delete(data, callback, calledFromCallback) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot remove null from BST.\", Colors.RED);\r\n            return false;\r\n        }\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot delete from empty BST\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.showText,params:[`Attempt delete: ${data} to BST`],noAnim:true});\r\n        animation.push({method:this.setHighlighter,params:[this.rootPointerPos],customEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        animation.push({method:this.showText,params:[`Searching tree for value: ${data}`],quick:true,isForwardStep:true,customRedoEnd:true});\r\n        let [ recurredAnimation, newRoot, nodeJustDeleted, deleted ] = this.deleteRecursive(this.root, data);\r\n        animation.push(...recurredAnimation);\r\n        animation.push({method:this.setHighlighter,params:[this.rootPointerPos],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        animation.push({method:this.setRoot,params:[newRoot],explanation:`${this.root ? \"Res\" : \"S\"}et root pointer to ${newRoot ? `node containing ${newRoot.data}` : \"null\"}`,quick:true,isForwardStep:true,returnsUndoData:true,customRedoEnd:true});\r\n        if (nodeJustDeleted) {\r\n            animation.push({method:this.clearTemp,noAnim:true,returnsUndoData:true,});\r\n            animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Remove node:${data} from root of tree`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true});\r\n        }\r\n        animation.push({method:this.setHighlighter,params:[null],noAnim:true,isBackStep:true,customUndoEnd:true,returnsUndoData:true,});\r\n        if (deleted) {\r\n            animation.push({method:this.showText,params:[`Successfully deleted ${data} from BST.`, Colors.GREEN],noAnim:true});\r\n        } else {\r\n            animation.push({method:this.showText,params:[`Failed to delete ${data} from BST.`, Colors.RED],noAnim:true});\r\n        }\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop(callback);\r\n        if (!calledFromCallback || !this.paused) {\r\n            this.stepForward();\r\n        }\r\n        return true;\r\n    }\r\n\r\n    find(data, callback, calledFromCallback) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot search for null in BST.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.showText,params:[`Search for ${data} in BST`],noAnim:true});\r\n        animation.push({method:this.setHighlighter,params:[this.rootPointerPos],customEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        animation.push({method:this.showText,params:[`Searching tree for value: ${data}`],quick:true,isForwardStep:true,customRedoEnd:true});\r\n        let [ recurredAnimation ] = this.findRecursive(this.root, data);\r\n        animation.push(...recurredAnimation);\r\n        animation.push({method:this.setHighlighter,params:[null],noAnim:true,customUndoEnd:true,returnsUndoData:true,});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop(callback);\r\n        if (!calledFromCallback || !this.paused) {\r\n            this.stepForward();\r\n        }\r\n        return true;\r\n    }\r\n\r\n    print(callback, calledFromCallback) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot print in order for empty BST.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        animation.push({method:this.showText,params:[`Print BST in order`],noAnim:true});\r\n        animation.push({method:this.setHighlighter,params:[this.rootPointerPos],customEnd:true,customRedoEnd:true,returnsUndoData:true,isForwardStep:true});\r\n        let inOrder = [];\r\n        let [ recurredAnimation ] = this.printInOrderRecursive(this.root, inOrder);\r\n        animation.push(...recurredAnimation);\r\n        animation.push({method:this.setHighlighter,params:[null],noAnim:true,customUndoEnd:true,returnsUndoData:true,isBackStep:true,});\r\n        animation.push({method:this.showText,params:[`[${inOrder.join(\",    \")}]`],quick:true});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop(callback);\r\n        if (!calledFromCallback || !this.paused) {\r\n            this.stepForward();\r\n        }\r\n        return true;\r\n    }\r\n\r\n    togglePredecessorSuccessor(which, callback, calledFromCallback) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        let animation = [];\r\n        animation.push({method:this.switchMode,params:[which],explanation:`Switching BST modes`,quick:true});\r\n        animation.push({method:this.showText,params:[`Successfully changed to ${which} mode.`, Colors.GREEN],noAnim:true});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop(callback);\r\n        if (!calledFromCallback || !this.paused) {\r\n            this.stepForward();\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n    setRoot(newRoot) {\r\n        let oldRoot = this.root;\r\n        this.root = newRoot;\r\n        return [oldRoot];\r\n    }\r\n    undo_setRoot(oldRoot) {\r\n        this.root = oldRoot;\r\n    }\r\n\r\n    setLeft(parent, newLeft) {\r\n        let oldLeft = parent.left;\r\n        parent.left = newLeft;\r\n        return [parent, oldLeft];\r\n    }\r\n    undo_setLeft(parent, oldLeft) {\r\n        parent.left = oldLeft;\r\n    }\r\n\r\n    setRight(parent, newRight) {\r\n        let oldRight = parent.right;\r\n        parent.right = newRight;\r\n        return [parent, oldRight];\r\n    }\r\n    undo_setRight(parent, oldRight) {\r\n        parent.right = oldRight;\r\n    }\r\n\r\n    setHighlighter(node,color = Colors.BLUE) {\r\n        let oldTarget = this.highlighter.target;\r\n        let oldColor = this.highlighter.highlightColor;\r\n        this.highlighter.setTarget(node, node === this.rootPointerPos ? this.constructor.ROOT_HIGHLIGHT_DIAMETER/2 : this.constructor.ELEMENT_SIZE/2);\r\n        this.highlighter.highlightColor = color;\r\n        if (node) {\r\n            this.highlighter.addOnStop((highlighter) => {\r\n                this.doneAnimating(0, \"setHighlighter\"+(node ? node.data : \"\"));\r\n            });\r\n        }\r\n        return [oldTarget, oldColor];\r\n    }\r\n    undo_setHighlighter(oldTarget, oldColor) {\r\n        this.highlighter.setTarget(oldTarget, oldTarget === this.rootPointerPos ? this.constructor.ROOT_HIGHLIGHT_DIAMETER/2 : this.constructor.ELEMENT_SIZE/2);\r\n        this.highlighter.highlightColor = oldColor;\r\n        if (oldTarget) {\r\n            let stopID = ++this.stopID;\r\n            this.highlighter.addOnStop((highlighter) => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n    }\r\n    redo_setHighlighter(node, color = Colors.BLUE) {\r\n        let oldTarget = this.highlighter.target;\r\n        let oldColor = this.highlighter.highlightColor;\r\n        this.highlighter.setTarget(node, node === this.rootPointerPos ? this.constructor.ROOT_HIGHLIGHT_DIAMETER/2 : this.constructor.ELEMENT_SIZE/2);\r\n        this.highlighter.highlightColor = color;\r\n        if (node) {\r\n            let stopID = ++this.stopID;\r\n            this.highlighter.addOnStop((highlighter) => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n        }\r\n        return [oldTarget, oldColor];\r\n    }\r\n\r\n    getInOrder(recalculate) {\r\n        return this.inOrder = (recalculate ? this.getInOrderRecursive(this.root, 0, []) : this.inOrder);\r\n    }\r\n    getInOrderRecursive(curr, depth, list) {\r\n        if (curr) {\r\n            this.getInOrderRecursive(curr.left, depth + 1, list);\r\n            curr.depth = depth;\r\n            list.push(curr);\r\n            this.getInOrderRecursive(curr.right, depth + 1, list);\r\n        }\r\n        return list;\r\n    }\r\n\r\n    shiftByInOrder() {\r\n        let order = this.getInOrder(true);\r\n        let oldPositions = order.map(node => [node.desiredX - ((this.width - this.constructor.ELEMENT_SIZE)/2),node.desiredY]);\r\n        let centerIndex = order.indexOf(this.root);\r\n        let displaced = null;\r\n        // console.log(centerIndex);\r\n        order.forEach((node, i) => {\r\n            // console.log(node.data,\":\",i - centerIndex, ((this.width - this.constructor.ELEMENT_SIZE)/2), node.constructor.HSPACE);\r\n            node.shiftX(((this.width - this.constructor.ELEMENT_SIZE)/2) + (i - centerIndex) * node.constructor.HSPACE);\r\n            node.setY(this.getNodeY(node.depth));\r\n            if ((!displaced && node.displacement()) || (displaced && node.displacement() > displaced.displacement())) {\r\n                displaced = node;\r\n            }\r\n        });\r\n        if (!displaced) {\r\n            this.doneAnimating(0, \"shift by order none displaced\");\r\n        } else {\r\n            displaced.addOnStop((element) => {\r\n                this.doneAnimating(0, \"shift by order:end with \"+element.data);\r\n            });\r\n        }\r\n        return [order, oldPositions];\r\n    }\r\n    undo_shiftByInOrder(order, oldPositions) {\r\n        let stopID = ++this.stopID;\r\n        if (order) {\r\n            // console.log(oldPositions);\r\n            let displaced = null;\r\n            order.forEach((node, i) => {\r\n                node.shift(((this.width - this.constructor.ELEMENT_SIZE)/2) + oldPositions[i][0], oldPositions[i][1]);\r\n                if ((!displaced && node.displacement()) || (displaced && node.displacement() > displaced.displacement())) {\r\n                    node.addOnStop((element) => {\r\n                        this.stopDrawing(stopID);\r\n                    });\r\n                    displaced = node;\r\n                }\r\n            });\r\n            if (!displaced) {\r\n                this.stopDrawing(stopID);\r\n            }\r\n        } else {\r\n            this.stopDrawing(stopID);\r\n        }\r\n    }\r\n    redo_shiftByInOrder() {\r\n        let order = this.getInOrder();\r\n        let oldPositions = order.map(node => [node.desiredX - ((this.width - this.constructor.ELEMENT_SIZE)/2),node.desiredY]);\r\n        let centerIndex = order.indexOf(this.root);\r\n        let displaced = null;\r\n        // console.log(centerIndex);\r\n        order.forEach((node, i) => {\r\n            // console.log(node.data,\":\",i - centerIndex, ((this.width - this.constructor.ELEMENT_SIZE)/2), node.constructor.HSPACE);\r\n            node.shiftX(((this.width - this.constructor.ELEMENT_SIZE)/2) + (i - centerIndex) * node.constructor.HSPACE);\r\n            node.setY(this.getNodeY(node.depth));\r\n            if ((!displaced && node.displacement()) || (displaced && node.displacement() > displaced.displacement())) {\r\n                let stopID = ++this.stopID;\r\n                node.addOnStop((element) => {\r\n                    this.stopDrawing(stopID);\r\n                });\r\n                displaced = node;\r\n            }\r\n        });\r\n        if (!displaced) {\r\n            let stopID = ++this.stopID;\r\n            this.stopDrawing(stopID);\r\n        }\r\n        return [order, oldPositions];\r\n    }\r\n\r\n    insertRecursive(curr, value) {\r\n        let animation = [];\r\n        let justAdded = false;\r\n        let added = false;\r\n        animation.push({method:this.setHighlighter,params:[curr],customEnd:curr!==null,noAnim:curr===null,isBackStep:true,customUndoEnd:true,customRedoEnd:curr!==null,returnsUndoData:true});\r\n        if (!curr) {\r\n            animation.push({method:this.showText,params:[`Reached null: ${value} not found in tree`],isForwardStep:true,});\r\n            curr = new BSTNode({data: value});\r\n            animation.push({method:this.makeNode,params:[curr],explanation:`Create value: ${value}`,isAnimationStep:true});\r\n            animation.push({method:this.sizeIncr,noAnim:true,});\r\n            justAdded = true;\r\n            added = true;\r\n        } else if (value === curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} == ${curr.data}: value found in tree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            animation.push({method:this.showText,params:[`${value} already in BST, failed to add.`],noAnim:true,isAnimationStep:true,});\r\n        } else if (value < curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} < ${curr.data}: look to left subtree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation, newLeft, nodeJustAdded, nodeAdded] = this.insertRecursive(curr.left, value);\r\n            animation.push(...recurredAnimation);\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.setLeft,params:[curr, newLeft],explanation:`${curr.left ? \"Res\" : \"S\"}et left pointer to node containing ${newLeft.data}`,quick:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true});\r\n            if (nodeJustAdded) {\r\n                animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Add node:${value} to left of node:${curr.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true});\r\n            }\r\n            added = nodeAdded;\r\n        } else if (value > curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} > ${curr.data}: look to right subtree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation, newRight, nodeJustAdded, nodeAdded] = this.insertRecursive(curr.right, value);\r\n            animation.push(...recurredAnimation);\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.setRight,params:[curr, newRight],explanation:`${curr.right ? \"Res\" : \"S\"}et right pointer to node containing ${newRight.data}`,quick:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true,});\r\n            if (nodeJustAdded) {\r\n                animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Add node:${value} to right of node:${curr.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true});\r\n            }\r\n            added = nodeAdded;\r\n        }\r\n        return [animation, curr, justAdded, added];\r\n    }\r\n\r\n    makeNode(newTemp) {\r\n        this.tempNode = newTemp;\r\n        this.tempNode.goTo(20,20);\r\n    }\r\n    undo_makeNode(data, parent) {\r\n        this.tempNode = null;\r\n    }\r\n\r\n    deleteRecursive(curr, value) {\r\n        let animation = [];\r\n        let justDeleted = false;\r\n        let deleted = false;\r\n        animation.push({method:this.setHighlighter,params:[curr],customEnd:curr!==null,noAnim:curr===null,isBackStep:true,customUndoEnd:true,customRedoEnd:curr!==null,returnsUndoData:true});\r\n        if (!curr) {\r\n            animation.push({method:this.showText,params:[`Reached null: ${value} not found in tree`],quick:true,isForwardStep:true,});\r\n        } else if (value === curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} == ${curr.data}: value found in tree`],isForwardStep:true,customRedoEnd:true,});\r\n            // animation.push({method:this.showText,params:[`Deleting ${value} from BST.`],noAnim:true,isAnimationStep:true,});\r\n            if (!curr.left || !curr.right) {\r\n                if (!curr.left && !curr.right) {\r\n                    animation.push({method:this.unmakeNode,params:[curr],explanation:`Remove leaf node:${value} from BST`,customEnd:true,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true});\r\n                    curr = null;\r\n                } else {\r\n                    animation.push({method:this.unmakeNode,params:[curr],explanation:`Replace node:${value} with single child:${curr.left ? curr.left.data : curr.right.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true});\r\n                    curr = curr.left || curr.right;\r\n                }\r\n                animation.push({method:this.setHighlighter,params:[null],customUndoEnd:true,returnsUndoData:true,});\r\n                justDeleted = true;\r\n            } else {\r\n                animation.push({method:this.showText,params:[`2 children: finding ${this.predSuccMode ? \"predecessor\" : \"successor\"}`],quick:true,customRedoEnd:true,});\r\n                // console.log([`find${this.predSuccMode ? \"Predecessor\" : \"Successor\"}Recursive`], this[`find${this.predSuccMode ? \"Predecessor\" : \"Successor\"}Recursive`], [`${this.predSuccMode ? \"left\" : \"right\"}`]);\r\n                let [recurredAnimation, newChild, justFoundPredSucc, predSuccValue] = this[`find${this.predSuccMode ? \"Predecessor\" : \"Successor\"}Recursive`](curr[`${this.predSuccMode ? \"left\" : \"right\"}`]);\r\n                animation.push(...recurredAnimation);\r\n                animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n                animation.push({method:this[`set${this.predSuccMode ? \"Left\" : \"Right\"}`],params:[curr,newChild],\r\n                        explanation:`${curr[`${this.predSuccMode ? \"left\" : \"right\"}`] ? \"Res\" : \"S\"}et ${this.predSuccMode ? \"left\" : \"right\"} pointer to ${newChild ? `node containing ${newChild.data}` : \"null\"}`,\r\n                        customEnd:false,quick:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true});\r\n                animation.push({method:this.pullTempDataToCurr,params:[curr],explanation:`Set curr data to dummy data from ${this.predSuccMode ? \"predecessor\" : \"successor\"}`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n                animation.push({method:this.clearTemp,noAnim:true,returnsUndoData:true,});\r\n                if (justFoundPredSucc) {\r\n                    animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Remove ${this.predSuccMode ? \"predecessor\" : \"successor\"}:${predSuccValue} of node:${curr.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true});\r\n                }\r\n            }\r\n            animation.push({method:this.sizeDecr,noAnim:true,});\r\n            deleted = true;\r\n        } else if (value < curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} < ${curr.data}: look to left subtree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation, newLeft, nodeJustDeleted, nodeDeleted] = this.deleteRecursive(curr.left, value);\r\n            animation.push(...recurredAnimation);\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.setLeft,params:[curr, newLeft],explanation:`${curr.left ? \"Res\" : \"S\"}et left pointer to ${newLeft ? `node containing ${newLeft.data}` : \"null\"}`,quick:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true});\r\n            if (nodeJustDeleted) {\r\n                animation.push({method:this.clearTemp,noAnim:true,returnsUndoData:true,});\r\n                animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Remove node:${value} from left of node:${curr.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true});\r\n            }\r\n            deleted = nodeDeleted;\r\n        } else if (value > curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} > ${curr.data}: look to right subtree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation, newRight, nodeJustDeleted, nodeDeleted] = this.deleteRecursive(curr.right, value);\r\n            animation.push(...recurredAnimation);\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.setRight,params:[curr, newRight],explanation:`${curr.right ? \"Res\" : \"S\"}et right pointer to ${newRight ? `node containing ${newRight.data}` : \"null\"}`,quick:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true,});\r\n            if (nodeJustDeleted) {\r\n                animation.push({method:this.clearTemp,noAnim:true,returnsUndoData:true,});\r\n                animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Remove node:${value} from right of node:${curr.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true});\r\n            }\r\n            deleted = nodeDeleted;\r\n        }\r\n        return [animation, curr, justDeleted, deleted];\r\n    }\r\n\r\n    findPredecessorRecursive(curr) {\r\n        let animation = [];\r\n        let justFound = false;\r\n        let predecessorValue = null;\r\n        animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true});\r\n        if (!curr.right) {\r\n            animation.push({method:this.showText,params:[`Predecessor found: ${curr.data}`],quick:true,isForwardStep:true,});\r\n            animation.push({method:this.unmakeNode,params:[curr],explanation:`${curr.left ? `Replace predecessor with left child:${curr.left.data}` : `Remove predecessor`}`,customEnd:true,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true});\r\n            animation.push({method:this.setHighlighter,params:[null],customUndoEnd:true,returnsUndoData:true,});\r\n            // animation.push({method:this.setRight,params:[curr, null],noAnim:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true,});\r\n            predecessorValue = curr.data;\r\n            curr = curr.left;\r\n            justFound = true;\r\n        } else {\r\n            animation.push({method:this.showText,params:[`Node ${curr.data} has right child, look right for successor`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation, newRight, justFoundPredSucc, predValue] = this.findPredecessorRecursive(curr.right);\r\n            animation.push(...recurredAnimation);\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.setRight,params:[curr,newRight],explanation:`Reset right pointer to ${newRight ? `node containing ${newRight.data}` : \"null\"}`,quick:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true});\r\n            // animation.push({method:this.pullTempDataToCurr,params:[curr],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            // animation.push({method:this.clearTemp,noAnim:true,returnsUndoData:true,});\r\n            if (justFoundPredSucc) {\r\n                animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Remove predecessor:${predValue} of node:${curr.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true});\r\n            }\r\n            predecessorValue = predValue;\r\n        }\r\n        return [animation, curr, justFound, predecessorValue];\r\n    }\r\n\r\n    findSuccessorRecursive(curr) {\r\n        let animation = [];\r\n        let justFound = false;\r\n        let successorValue = null;\r\n        animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true});\r\n        if (!curr.left) {\r\n            animation.push({method:this.showText,params:[`Successor found: ${curr.data}`],quick:true,isForwardStep:true,});\r\n            animation.push({method:this.unmakeNode,params:[curr],explanation:`${curr.right ? `Replace successor with right child:${curr.right.data}` : `Remove successor`}`,customEnd:true,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true});\r\n            animation.push({method:this.setHighlighter,params:[null],customUndoEnd:true,returnsUndoData:true,});\r\n            // animation.push({method:this.setRight,params:[curr, null],noAnim:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true,});\r\n            successorValue = curr.data;\r\n            curr = curr.right;\r\n            justFound = true;\r\n        } else {\r\n            animation.push({method:this.showText,params:[`Node ${curr.data} has left child, look left for successor`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation, newLeft, justFoundPredSucc, succValue] = this.findSuccessorRecursive(curr.left);\r\n            animation.push(...recurredAnimation);\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.setLeft,params:[curr,newLeft],explanation:`Reset left pointer to ${newLeft ? `node containing ${newLeft.data}` : \"null\"}`,quick:true,returnsUndoData:true,isForwardStep:true,customRedoEnd:true});\r\n            // animation.push({method:this.pullTempDataToCurr,params:[curr],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            // animation.push({method:this.clearTemp,noAnim:true,returnsUndoData:true,});\r\n            if (justFoundPredSucc) {\r\n                animation.push({method:this.shiftByInOrder,testsWindowSize:true,explanation:`Remove successor:${succValue} of node:${curr.data}`,customEnd:true,isAnimationStep:true,returnsUndoData:true});\r\n            }\r\n            successorValue = succValue;\r\n        }\r\n        return [animation, curr, justFound, successorValue];\r\n    }\r\n\r\n    unmakeNode(node) {\r\n        this.tempNode = node;\r\n        let oldPosition = [node.desiredX, node.desiredY];\r\n        this.tempNode.shift(20,20);\r\n        this.tempNode.addOnStop((element) => {\r\n            // element.frozen = true;\r\n            this.doneAnimating(0, \"unmake\"+element.data);\r\n        });\r\n        return [oldPosition];\r\n    }\r\n    undo_unmakeNode(oldPosition) {\r\n        // this.tempNode.frozen = false;\r\n        this.tempNode.shift(...oldPosition);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop(() => {\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempNode = null;\r\n    }\r\n    redo_unmakeNode(node) {\r\n        this.tempNode = node;\r\n        let oldPosition = [node.desiredX, node.desiredY];\r\n        this.tempNode.shift(20,20);\r\n        let stopID = ++this.stopID;\r\n        this.tempNode.addOnStop((element) => {\r\n            // element.frozen = true;\r\n            this.stopDrawing(stopID);\r\n        });\r\n        return [oldPosition];\r\n    }\r\n\r\n    pullTempDataToCurr(node) {\r\n        this.dataMover = new AttractedHighlightableObject(20+this.constructor.ELEMENT_SIZE/2,20+this.constructor.ELEMENT_SIZE/2,\r\n                {\r\n                    value:this.tempNode.data,\r\n                    highlightInnerRadius: this.constructor.ELEMENT_SIZE/2,\r\n                }\r\n            );\r\n        let oldData = node.data;\r\n        let nodePos = [node.currentX+this.constructor.ELEMENT_SIZE/2, node.currentY+this.constructor.ELEMENT_SIZE/2]\r\n        this.dataMover.shift(...nodePos);\r\n        this.dataMover.addOnStop((element) => {\r\n            this.doneAnimating(0,\"move data\"+element.value+\"to\"+oldData);\r\n            node.data = element.value;\r\n            this.dataMover = null;\r\n        });\r\n        return [node, oldData, nodePos];\r\n    }\r\n    undo_pullTempDataToCurr(node, oldData, nodePos) {\r\n        this.dataMover = new AttractedHighlightableObject(...nodePos,\r\n                {\r\n                    value:this.tempNode.data,\r\n                    highlightInnerRadius: this.constructor.ELEMENT_SIZE/2,\r\n                }\r\n            );\r\n        this.dataMover.shift(20+this.constructor.ELEMENT_SIZE/2,20+this.constructor.ELEMENT_SIZE/2);\r\n        node.data = oldData;\r\n        let stopID = ++this.stopID;\r\n        this.dataMover.addOnStop((element) => {\r\n            this.stopDrawing(stopID);\r\n            this.dataMover = null;\r\n        });\r\n    }\r\n    redo_pullTempDataToCurr(node) {\r\n        this.dataMover = new AttractedHighlightableObject(20+this.constructor.ELEMENT_SIZE/2,20+this.constructor.ELEMENT_SIZE/2,\r\n                {\r\n                    value:this.tempNode.data,\r\n                    highlightInnerRadius: this.constructor.ELEMENT_SIZE/2,\r\n                }\r\n            );\r\n        let oldData = node.data;\r\n        let nodePos = [node.currentX+this.constructor.ELEMENT_SIZE/2, node.currentY+this.constructor.ELEMENT_SIZE/2]\r\n        this.dataMover.shift(...nodePos);\r\n        let stopID = ++this.stopID;\r\n        this.dataMover.addOnStop((element) => {\r\n            this.stopDrawing(stopID);\r\n            node.data = element.value;\r\n            this.dataMover = null;\r\n        });\r\n        return [node, oldData, nodePos];\r\n    }\r\n\r\n    findRecursive(curr, value) {\r\n        let animation = [];\r\n        animation.push({method:this.setHighlighter,params:[curr],customEnd:curr!==null,noAnim:curr===null,isBackStep:true,customUndoEnd:true,customRedoEnd:curr!==null,returnsUndoData:true});\r\n        if (!curr) {\r\n            animation.push({method:this.showText,params:[`Reached null: ${value} not found in tree`],quick:true,isForwardStep:true,});\r\n            animation.push({method:this.showText,params:[`${value} is not in BST.`, Colors.RED],noAnim:true,isBackStep:true,});\r\n        } else if (value === curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} == ${curr.data}: value found in tree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            animation.push({method:this.showText,params:[`${value} was found in BST.`, Colors.GREEN],noAnim:true,isBackStep:true,});\r\n        } else if (value < curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} < ${curr.data}: look to left subtree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation] = this.findRecursive(curr.left, value);\r\n            animation.push(...recurredAnimation);\r\n        } else if (value > curr.data) {\r\n            animation.push({method:this.showText,params:[`${value} > ${curr.data}: look to right subtree`],quick:true,isForwardStep:true,customRedoEnd:true,});\r\n            let [recurredAnimation] = this.findRecursive(curr.right, value);\r\n            animation.push(...recurredAnimation);\r\n        }\r\n        return [animation];\r\n    }\r\n\r\n    printInOrderRecursive(curr, list) {\r\n        let animation = [];\r\n        if (curr) {\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true});\r\n            let [leftAnimation] = this.printInOrderRecursive(curr.left, list);\r\n            animation.push(...leftAnimation);\r\n            animation.push({method:this.setHighlighter,params:[curr],customEnd:true,isBackStep:false,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            list.push(curr.data);\r\n            animation.push({method:this.setHighlighter,params:[curr, Colors.GREEN],explanation:`[${list.join(\",    \")}]`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            animation.push({method:this.noAction,quick:true});\r\n            animation.push({method:this.setHighlighter,params:[curr, Colors.BLUE],customEnd:true,isBackStep:false,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n            let [rightAnimation] = this.printInOrderRecursive(curr.right, list);\r\n            animation.push(...rightAnimation);\r\n        }\r\n        return [animation];\r\n    }\r\n\r\n    switchMode(which) {\r\n        this.predSuccMode = which === \"Predecessor\";\r\n    }\r\n    undo_switchMode(which) {\r\n        this.predSuccMode = which !== \"Predecessor\";\r\n    }\r\n\r\n    clearTemp() {\r\n        let oldTemp = this.tempNode;\r\n        this.tempNode = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_clearTemp(oldTemp) {\r\n        this.tempNode = oldTemp;\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    getNodeY(depth) {\r\n        let y = depth * (this.constructor.ELEMENT_SIZE + this.constructor.VERTICAL_SPACING);\r\n        return y + this.y + this.constructor.ROOT_SIZE+10;\r\n    }\r\n\r\n    getTreeNodeAtPosRecursive(curr, x,y) {\r\n        if (curr) {\r\n            if (curr.containsPos(x,y)) {\r\n                return curr;\r\n            }\r\n            return this.getTreeNodeAtPosRecursive(curr.left, x,y) || this.getTreeNodeAtPosRecursive(curr.right, x,y);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getNodeAtPos(x,y) {\r\n        if (this.tempNode && this.tempNode.containsPos(x,y)) {\r\n            return this.tempNode;\r\n        }\r\n        return this.getTreeNodeAtPosRecursive(this.root, x,y);\r\n    }\r\n\r\n    getRootPointerX() {\r\n        return Math.max(this.width / 2 - this.constructor.ROOT_SIZE - 50, this.constructor.ROOT_X_MIN);\r\n    }\r\n\r\n    getHeight() {\r\n        return this.getHeightRecursive(this.root);\r\n    }\r\n    getHeightRecursive(curr) {\r\n        if (curr) {\r\n            return Math.max(this.getHeightRecursive(curr.left),this.getHeightRecursive(curr.right)) + 1;\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    getMaxY() {\r\n        return this.getNodeY(Math.max(this.getHeight(), 1)) + 20;\r\n    }\r\n\r\n    getMaxWidth() {\r\n        if (!this.root) {\r\n            return this.constructor.ROOT_SIZE + 80;\r\n        }\r\n        let order = this.getInOrder();\r\n        let centerIndex = order.indexOf(this.root);\r\n        let leftOffset = centerIndex * order[0].constructor.HSPACE;\r\n        let rightOffset = (order.length - 1 - centerIndex) * order[0].constructor.HSPACE;\r\n        return Math.max(leftOffset,rightOffset)*2+order[0].constructor.SIZE;\r\n    }\r\n\r\n    pin(node, x,y) {\r\n        this.pinnedNode = node;\r\n        node.pin(x,y);\r\n    }\r\n\r\n    unpin() {\r\n        this.pinnedNode.unpin();\r\n        this.pinnedNode = null;\r\n    }\r\n\r\n    updateNode(node, animationSpeed, p5) {\r\n        if (node) {\r\n            node.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            this.getInOrder().forEach((node) => {\r\n                this.updateNode(node, animationSpeed, p5);\r\n            });\r\n            this.updateNode(this.tempNode, animationSpeed, p5);\r\n            this.highlighter.update(animationSpeed, p5);\r\n            this.updateNode(this.dataMover, animationSpeed, p5);\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        // console.log(\"draw\");\r\n        super.draw(p5);\r\n        p5.push();\r\n        // p5.translate(this.x,this.y);\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n\r\n        p5.noFill();\r\n        p5.stroke(0);\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        let rootX = this.getRootPointerX();\r\n        p5.text(\"Root:\",rootX - 40,this.constructor.ROOT_Y,this.constructor.ROOT_SIZE + 10,this.constructor.ROOT_SIZE);\r\n        p5.square(rootX,this.constructor.ROOT_Y,this.constructor.ROOT_SIZE);\r\n        if (this.root) {\r\n            p5.stroke(Colors.BLUE);\r\n            p5.fill(Colors.BLUE);\r\n            p5.circle(rootX + this.constructor.ROOT_SIZE / 2, this.constructor.ROOT_Y + this.constructor.ROOT_SIZE / 2, 5);\r\n            p5.line(rootX + this.constructor.ROOT_SIZE / 2, this.constructor.ROOT_Y + this.constructor.ROOT_SIZE / 2, this.root.currentX + this.constructor.ELEMENT_SIZE / 2, this.root.currentY);\r\n            // p5.rect(this.root.currentX + this.constructor.ELEMENT_SIZE / 2 - 3, this.root.currentY - 3, 6,6);\r\n        } else {\r\n            p5.line(rootX,this.constructor.ROOT_Y,rootX + this.constructor.ROOT_SIZE,this.constructor.ROOT_Y + this.constructor.ROOT_SIZE);\r\n        }\r\n\r\n\r\n        this.getInOrder().forEach((node) => {\r\n            node.draw(p5);\r\n        });\r\n        if (this.tempNode) {\r\n            this.tempNode.draw(p5);\r\n        }\r\n        this.highlighter.draw(p5);\r\n        if (this.dataMover) {\r\n            this.dataMover.draw(p5);\r\n        }\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    mousePressed(p5) {\r\n        // this.drawingBeforeMouseDown = this.drawing;\r\n        let pressedNode = this.getNodeAtPos(p5.mouseX, p5.mouseY);\r\n        if (pressedNode) {\r\n            this.animator.loop();\r\n            this.pin(pressedNode, p5.mouseX,p5.mouseY);\r\n            //console.log(pressedNode,`\\nleft:`,pressedNode. && pressedNode..data,`\\nright:`,pressedNode. && pressedNode..data);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    mouseReleased(p5) {\r\n        if (this.pinnedNode) {\r\n            this.pinnedNode.addOnStop(() => {\r\n                this.ensureDrawn();\r\n            });\r\n            this.unpin();\r\n        } else {\r\n            // this.ensureDrawn();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, this.getMaxY(),() => {\r\n            this.rootPointerPos.currentX = this.getRootPointerX() + this.constructor.ROOT_SIZE / 2 - this.constructor.ROOT_HIGHLIGHT_DIAMETER / 2;\r\n            let shiftTemp = this.tempNode && this.tempNode.desiredX === 20 && this.tempNode.desiredY === 20;\r\n            if (this.root) {\r\n                let order = this.getInOrder();\r\n                let centerIndex = order.indexOf(this.root);\r\n                order.forEach((node, i) => {\r\n                    node.shiftX(((this.width - this.constructor.ELEMENT_SIZE)/2) + (i - centerIndex) * node.constructor.HSPACE);\r\n                    node.setY(this.getNodeY(node.depth));\r\n                });\r\n            }\r\n            if (shiftTemp) {\r\n                this.tempNode.shift(20,20);\r\n            }\r\n        }, this.getMaxWidth());\r\n    }\r\n}\r\n\r\n\r\nclass BSTNode extends TreeNode {\r\n    static CAN_DRAG = true;\r\n    static SIZE = BST.ELEMENT_SIZE;\r\n    static VSPACE = BST.ELEMENT_SIZE + BST.VERTICAL_SPACING;\r\n    static HSPACE = BST.ELEMENT_SIZE + BST.HORIZONTAL_SPACING;\r\n\r\n    constructor({x=20,y=20, data} = {}) {\r\n        super(x,y, data);\r\n\r\n        this.toDelete = false;\r\n        this.handBroken = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        this.color[0] = 255;\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nimport { AttractedHighlightableObject } from 'animation';\r\nimport { Colors } from 'utils';\r\n\r\nexport default class Heap extends Visualization {\r\n    static USE_CANVAS = true;\r\n    static SET_BOUNDS = true;\r\n    static SUPPORTS_NO_LOOP = true;\r\n    static SUPPORTS_CUSTOM_END = true;\r\n    static MAX_ANIM_TIME = 5000;\r\n    static SUPPORTS_TEXT = true;\r\n    static SUPPORTS_ANIMATION_CONTROL = true;\r\n    static SUPPORTS_STOP_ID = true;\r\n\r\n    static INITIAL_CAPACITY = 9;\r\n\r\n    static ELEMENT_SIZE = 50;\r\n    static FRONT_LOCATION_X = 125;\r\n    static FRONT_LOCATION_Y = 35;\r\n    static SIZE_LOCATION_X = 125;\r\n    static SIZE_LOCATION_Y = 55;\r\n\r\n    constructor(animator) {\r\n        super(animator);\r\n\r\n        this.reset();\r\n        this.made = true;\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n        if (this.made) {\r\n            this.beginDrawLoop();\r\n        }\r\n\r\n        this.backingArray = new Array(Heap.INITIAL_CAPACITY);\r\n        this.size = 0;\r\n        this.copyArray = null;\r\n        this.tempElement = null;\r\n        this.frontPointerValue = 0;\r\n        this.frontPointerHighlighter = new AttractedHighlightableObject(Heap.FRONT_LOCATION_X, Heap.FRONT_LOCATION_Y, {\r\n            highlightOuterRadius: 15\r\n        });\r\n        this.sizePointerHighlighter = new AttractedHighlightableObject(Heap.SIZE_LOCATION_X, Heap.SIZE_LOCATION_Y, {\r\n            highlightOuterRadius: 15\r\n        });\r\n\r\n        if (this.made) {\r\n            // this.updateText(\"Animation Ready\");\r\n            this.endDrawLoop();\r\n        }\r\n    }\r\n\r\n    ensureDrawn(skipDraw = false) {\r\n        this.beginDrawLoop();\r\n        let furthestObject = this.tempElement || this.frontPointerHighlighter;\r\n        if (this.frontPointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.frontPointerHighlighter;\r\n        }\r\n        if (this.sizePointerHighlighter.displacement() > furthestObject.displacement()) {\r\n            furthestObject = this.sizePointerHighlighter;\r\n        }\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i] && this.backingArray[i].displacement() > furthestObject.displacement()) {\r\n                furthestObject = this.backingArray[i];\r\n            }\r\n        }\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i] && this.copyArray[i].displacement() > furthestObject.displacement()) {\r\n                    furthestObject = this.copyArray[i];\r\n                }\r\n            }\r\n        }\r\n        if (furthestObject.displacement() > 0) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            furthestObject.addOnStop(() => {\r\n                this.stopDrawing(stopID);\r\n            });\r\n            if (skipDraw) {\r\n                if (this.tempElement) {\r\n                    this.tempElement.stop();\r\n                }\r\n                this.frontPointerHighlighter.stop();\r\n                this.sizePointerHighlighter.stop();\r\n                for (let i = 0; i < this.backingArray.length; i++) {\r\n                    if (this.backingArray[i]) {\r\n                        this.backingArray[i].stop();\r\n                    }\r\n                }\r\n                if (this.copyArray) {\r\n                    for (let i = 0; i < this.copyArray.length; i++) {\r\n                        if (this.copyArray[i]) {\r\n                            this.copyArray[i].stop();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            this.stopDrawing(stopID);\r\n        }\r\n    }\r\n\r\n\r\n    add(data,front) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (data === null) {\r\n            this.updateText(\"Cannot add null to Deque.\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        if (this.size === this.backingArray.length) {\r\n            animation.push({method:this.showText,params:[`Deque full, resizing to length ${this.backingArray.length*2}`,Colors.GREEN,],});\r\n            animation.push(...this.createCopyArray());\r\n        }\r\n        animation.push({method:this.createElement,params:[data,front],explanation:`Create value: ${data}`,isAnimationStep:true,returnsRedoData:true,});\r\n        animation.push(...this.useFrontPointer());\r\n        if (front) {\r\n            animation.push(...this.useFrontDecrementPointer(true));\r\n        } else {\r\n            animation.push(...this.useFrontSizePointer(true));\r\n        }\r\n        animation.push({method:this.highlightTemp,noAnim:true});\r\n        animation.push({method:this.insertElement,customEnd:true,explanation:`Added ${data} to backingArray`,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        if (front) {\r\n            // animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n            animation.push(...this.updateFrontPointer(-1));\r\n        }\r\n        animation.push(...this.updateSizePointer(1));\r\n        animation.push({method:this.showText,params:[`Successfully added ${data} to ${front ? \"front\" : \"back\"} of deque.`,Colors.GREEN,],});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return true;\r\n    }\r\n\r\n    addFirst(data) {\r\n        return this.add(data, true);\r\n    }\r\n\r\n    addLast(data) {\r\n        return this.add(data, false);\r\n    }\r\n\r\n    remove(front) {\r\n        if (this.animationQueue.length !== 0) {\r\n            return false;\r\n        }\r\n        this.beginDrawLoop();\r\n        if (this.size === 0) {\r\n            this.updateText(\"Cannot pop empty Deque\", Colors.RED);\r\n            return false;\r\n        }\r\n        let animation = [];\r\n        let data = this.backingArray[front ? this.frontPointerValue : this.getIndex(this.frontPointerValue + this.size - 1)].value;\r\n        animation.push({method:this.showText,params:[`Dequeuing from index ${this.frontPointerValue}.`]});\r\n        animation.push(...this.useFrontPointer(front));\r\n        if (!front) {\r\n            animation.push(...this.useFrontSizePointer(false,false));\r\n            animation.push(...this.useFrontDecrementPointer(false));\r\n        }\r\n        animation.push({method:this.extractElement,params:[front],explanation:`Remove value: ${data} from deque`,customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.unmakeElement,noAnim:true,returnsUndoData:true});\r\n        if (front) {\r\n            animation.push(...this.updateFrontPointer(1));\r\n        }\r\n        animation.push(...this.updateSizePointer(-1));\r\n        animation.push({method:this.showText,params:[`Successfully removed ${data} from ${front ? \"front of \" : \"back of\"} deque.`,Colors.GREEN],noAnim:true});\r\n        this.addAnimation(animation);\r\n        this.endDrawLoop();\r\n        this.stepForward();\r\n        return data;\r\n    }\r\n\r\n    removeFirst() {\r\n        return this.remove(true);\r\n    }\r\n\r\n    removeLast() {\r\n        return this.remove(false);\r\n    }\r\n\r\n    createCopyArray() {\r\n        let animation = [];\r\n        animation.push({method:this.initCopyArray,noAnim:true,explanation:`Deque full, resizing to length ${this.backingArray.length*2}`,isForwardStep:true,});\r\n        animation.push(...this.useFrontPointer(true));\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push(...this.addItemToCopy(i));\r\n        }\r\n        animation.push(...this.useCopyArr());\r\n        animation.push(...this.updateFrontPointer(0));\r\n        return animation;\r\n    }\r\n\r\n    initCopyArray() {\r\n        this.copyArray = new Array(this.backingArray.length * 2);\r\n        for (let i = 0; i < this.size; i++) {\r\n            let arrIndex = (i + this.frontPointerValue) % this.backingArray.length;\r\n            let pos = this.getElementPosition(arrIndex);\r\n            this.copyArray[i] = new HeapElement({data: this.backingArray[arrIndex].value, index: i, x:pos[0],y:pos[1],},);\r\n        }\r\n    }\r\n    undo_initCopyArray() {\r\n        this.copyArray = null;\r\n    }\r\n\r\n    addItemToCopy(index) {\r\n        let animation = [];\r\n        // animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isBackStep:(index === 0),isForwardStep:(index === this.size - 1),customUndoEnd:(index === 0),customRedoEnd:(index === this.size - 1),});\r\n        animation.push({method:this.shiftElementToCopyArray,params:[index,...this.getElementPosition(index,true)],customEnd:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n\r\n    shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        let oldX = element.desiredX;\r\n        let oldY = element.desiredY;\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        element.addOnStop((el) => {\r\n            el.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, oldX, oldY];\r\n    }\r\n    undo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === 0) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n    redo_shiftElementToCopyArray(index, x, y) {\r\n        let element = this.copyArray[index];\r\n        element.highlightForMovement();\r\n        element.shift(x,y);\r\n        if (true || index === this.size - 1) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n                this.stopDrawing(stopID);\r\n            });\r\n        } else {\r\n            element.addOnStop((el) => {\r\n                el.unhighlight();\r\n            });\r\n        }\r\n    }\r\n\r\n    useCopyArr() {\r\n        let animation = [];\r\n        animation.push({method:this.assignCopyArray,noAnim:true,isBackStep:true,customUndoEnd:true,returnsUndoData:true});\r\n        for (let i = 0; i < this.size; i++) {\r\n            animation.push({method:this.shiftElementToBackingArray,params:[i,],noAnim:true,isForwardStep:(i === this.size - 1),customUndoEnd:true,customRedoEnd:true});\r\n        }\r\n        animation.push({method:this.noAction,noAnim:true,isBackStep:true});\r\n        return animation;\r\n    }\r\n\r\n    assignCopyArray() {\r\n        let oldBacking = this.backingArray;\r\n        this.backingArray = this.copyArray;\r\n        this.copyArray = null;\r\n        return [oldBacking];\r\n    }\r\n    undo_assignCopyArray(oldBacking) {\r\n        this.copyArray = this.backingArray;\r\n        this.backingArray = oldBacking;\r\n    }\r\n\r\n    shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n    }\r\n    undo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(index,true));\r\n        if (index === 0) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n    redo_shiftElementToBackingArray(index) {\r\n        let element = this.backingArray[index];\r\n        element.shift(...this.getElementPosition(element.index));\r\n        if (index === this.size - 1) {\r\n            let stopID = ++this.stopID;console.log(stopID);\r\n            element.addOnStop((el) => {\r\n                this.stopDrawing(stopID);\r\n            })\r\n        }\r\n    }\r\n\r\n    createElement(data, front) {\r\n        this.tempElement = new HeapElement({data: data, index: this.getIndex(front ? this.frontPointerValue - 1 : this.frontPointerValue + this.size), x:45,y:45,},);\r\n        return [this.tempElement];\r\n    }\r\n    undo_createElement() {\r\n        this.tempElement = null;\r\n    }\r\n    redo_createElement(newTemp) {\r\n        if (typeof newTemp !== \"object\") {\r\n            return this.createElement(...arguments);\r\n        }\r\n        this.tempElement = newTemp;\r\n        this.tempElement.goTo(45,45);\r\n    }\r\n\r\n    useSizePointer() {\r\n        let animation = [];\r\n        animation.push({method:this.sizePointerHighlighter.highlight,scope:this.sizePointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveSizeTracker,customEnd:true,explanation:`Size points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.sizePointerHighlighter.unhighlight,scope:this.sizePointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.sizePointerHighlighter.goTo,scope:this.sizePointerHighlighter,params:[Heap.SIZE_LOCATION_X,Heap.SIZE_LOCATION_Y,],noAnim:true,returnsUndoData:true});\r\n        return animation;\r\n    }\r\n\r\n    // moveSizeTracker() {\r\n    //     let pos = this.getElementPosition(this.size);\r\n    //     this.sizePointerHighlighter.highlight();\r\n    //     this.sizePointerHighlighter.shift(pos[0], pos[1] + Heap.ELEMENT_SIZE);\r\n    //     this.sizePointerHighlighter.addOnStop((element) => {\r\n    //         element.unhighlight();\r\n    //         this.doneAnimating(0);\r\n    //     });\r\n    //     return this.size;\r\n    // }\r\n    // undo_moveSizeTracker() {\r\n    //     this.sizePointerHighlighter.shift(Heap.SIZE_LOCATION_X,Heap.SIZE_LOCATION_Y);\r\n    //     this.sizePointerHighlighter.highlight();\r\n    //     let stopID = ++this.stopID;console.log(stopID);\r\n    //     this.sizePointerHighlighter.addOnStop((element) => {\r\n    //         element.unhighlight();\r\n    //         this.stopDrawing(stopID);\r\n    //     });\r\n    //     return this.size;\r\n    // }\r\n    // redo_moveSizeTracker() {\r\n    //     let pos = this.getElementPosition(this.size);\r\n    //     this.sizePointerHighlighter.highlight();\r\n    //     this.sizePointerHighlighter.shift(pos[0], pos[1] + Heap.ELEMENT_SIZE);\r\n    //     let stopID = ++this.stopID;console.log(stopID);\r\n    //     this.sizePointerHighlighter.addOnStop((element) => {\r\n    //         element.unhighlight();\r\n    //         this.stopDrawing(stopID);\r\n    //     });\r\n    //     return this.size;\r\n    // }\r\n\r\n    highlightTemp(color = Colors.BLUE) {\r\n        this.tempElement.highlight(color);\r\n    }\r\n    undo_highlightTemp() {\r\n        this.tempElement.unhighlight();\r\n    }\r\n\r\n    insertElement() {\r\n        let index = this.tempElement.index;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_insertElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n        let index = this.tempElement.index;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = null;\r\n    }\r\n    redo_insertElement() {\r\n        let index = this.tempElement.index;\r\n        this.backingArray[index] = this.tempElement;\r\n        this.highlightTemp();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.tempElement = null;\r\n    }\r\n\r\n    useFrontPointer(end = false) {\r\n        let animation = [];\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[0,false],customEnd:true,explanation:`Front points to index |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        if (end) {\r\n            animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[Heap.FRONT_LOCATION_X,Heap.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        }\r\n        return animation;\r\n    }\r\n    useFrontDecrementPointer(add) {\r\n        let animation = [];\r\n        // animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[...this.getElementPosition(this.frontPointerValue)],noAnim:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[-1,!add],customEnd:true,explanation:`${add ? \"Add at\" : \"Remove from\"} index (front${add ? \" \" : \" + size \"}- 1) % backingArray.length = |RETURN|`,explanationUsesReturn:true,isForwardStep:true,isBackStep:add,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[Heap.FRONT_LOCATION_X,Heap.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        return animation;\r\n    }\r\n    useFrontSizePointer(add, end = true) {\r\n        let animation = [];\r\n        // animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[...this.getElementPosition(this.frontPointerValue)],noAnim:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        animation.push({method:this.moveFrontTracker,params:[0,true],customEnd:true,explanation:`${add ? \"Add at\" : \"Remove from\"} index (front + size${add ? \"\" : \" - 1\"}) % backingArray.length = |RETURN|`,explanationUsesReturn:true,isForwardStep:end,isBackStep:true,returnsUndoData:true,customUndoEnd:true,customRedoEnd:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,});\r\n        if (end) {\r\n            animation.push({method:this.frontPointerHighlighter.goTo,scope:this.frontPointerHighlighter,params:[Heap.FRONT_LOCATION_X,Heap.FRONT_LOCATION_Y,],noAnim:true,returnsUndoData:true,});\r\n        }\r\n        return animation;\r\n    }\r\n\r\n    moveFrontTracker(offset, fromSize) {\r\n        let oldX = this.frontPointerHighlighter.desiredX;\r\n        let oldY = this.frontPointerHighlighter.desiredY;\r\n        let index = this.getIndex(this.frontPointerValue + offset + (fromSize ? this.size : 0));\r\n        let pos = this.getElementPosition(index);\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(pos[0], pos[1] + Heap.ELEMENT_SIZE);\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n        return [index, [oldX,oldY]];\r\n    }\r\n    undo_moveFrontTracker(oldX,oldY) {\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(oldX, oldY);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n    redo_moveFrontTracker(offset, fromSize) {\r\n        let index = this.getIndex(this.frontPointerValue + offset + (fromSize ? this.size : 0));\r\n        let pos = this.getElementPosition(index);\r\n        this.frontPointerHighlighter.highlight();\r\n        this.frontPointerHighlighter.shift(pos[0], pos[1] + Heap.ELEMENT_SIZE);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.frontPointerHighlighter.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement = this.backingArray[index];\r\n        this.backingArray[index] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.doneAnimating(0);\r\n        });\r\n    }\r\n    undo_extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(...this.getElementPosition(index));\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n        this.backingArray[index] = this.tempElement;\r\n        this.tempElement = null;\r\n    }\r\n    redo_extractElement(front) {\r\n        let index = this.getIndex(this.frontPointerValue + (front ? 0 : this.size - 1));\r\n        this.tempElement = this.backingArray[index];\r\n        this.backingArray[index] = null;\r\n        this.tempElement.highlightForMovement();\r\n        this.tempElement.shift(45,45);\r\n        let stopID = ++this.stopID;console.log(stopID);\r\n        this.tempElement.addOnStop((element) => {\r\n            element.unhighlight();\r\n            this.stopDrawing(stopID);\r\n        });\r\n    }\r\n\r\n    unmakeElement() {\r\n        let oldTemp = this.tempElement;\r\n        this.tempElement = null;\r\n        return [oldTemp];\r\n    }\r\n    undo_unmakeElement(oldTemp) {\r\n        this.tempElement = oldTemp;\r\n    }\r\n\r\n    sizeIncr() {\r\n        this.size++;\r\n    }\r\n    undo_sizeIncr() {\r\n        this.size--;\r\n    }\r\n\r\n    sizeDecr() {\r\n        this.size--;\r\n    }\r\n    undo_sizeDecr() {\r\n        this.size++;\r\n    }\r\n\r\n    updateFrontPointer(offset) {\r\n        let animation = [];\r\n        animation.push({method:this.frontPointerHighlighter.highlight,scope:this.frontPointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:false,});\r\n        animation.push({method:this.changeFrontPointerValue,params:[offset],explanation:`Update front pointer to |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.frontPointerHighlighter.unhighlight,scope:this.frontPointerHighlighter,noAnim:true,isBackStep:false,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeFrontPointerValue(offset) {\r\n        let oldFront = this.frontPointerValue;\r\n        if (offset === 0) {\r\n            this.frontPointerValue = 0;\r\n        } else {\r\n            this.frontPointerValue = this.getIndex(this.frontPointerValue + offset);\r\n        }\r\n        return [this.frontPointerValue,[oldFront]];\r\n    }\r\n    undo_changeFrontPointerValue(oldFront) {\r\n        this.frontPointerValue = oldFront;\r\n        return this.frontPointerValue;\r\n    }\r\n\r\n    updateSizePointer(offset) {\r\n        let animation = [];\r\n        animation.push({method:this.sizePointerHighlighter.highlight,scope:this.sizePointerHighlighter,params:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],isForwardStep:false,});\r\n        animation.push({method:this.changeSizePointerValue,params:[offset],explanation:`Update size to |RETURN|`,explanationUsesReturn:true,isAnimationStep:true,returnsUndoData:true,});\r\n        animation.push({method:this.sizePointerHighlighter.unhighlight,scope:this.sizePointerHighlighter,noAnim:true,isBackStep:false,undoData:[Colors.RED, AttractedHighlightableObject.HIGHLIGHT_SQUARE],});\r\n        return animation;\r\n    }\r\n\r\n    changeSizePointerValue(offset) {\r\n        let oldSize = this.size;\r\n        this.size += offset;\r\n        return [this.size,[oldSize]];\r\n    }\r\n    undo_changeSizePointerValue(oldSize) {\r\n        this.size = oldSize;\r\n        return this.size;\r\n    }\r\n\r\n\r\n    getIndex(index, copy = false) {\r\n        let array = copy ? this.copyArray : this.backingArray;\r\n        index %= array.length;\r\n        if (index < 0) {\r\n            index += array.length;\r\n        }\r\n        return index;\r\n    }\r\n\r\n    getElementPosition(index, copy = false) {\r\n        let maxPerRow = Math.floor(this.width / Heap.ELEMENT_SIZE);\r\n        let x = Heap.ELEMENT_SIZE * index;\r\n        let y = 50 + Math.floor(index / maxPerRow) * 2 * Heap.ELEMENT_SIZE;\r\n        x = (index % maxPerRow) * Heap.ELEMENT_SIZE;\r\n        return [x + Heap.ELEMENT_SIZE/2 + this.x,y + Heap.ELEMENT_SIZE/2 + this.y + (copy ? (Math.ceil(this.backingArray.length / maxPerRow)*Heap.ELEMENT_SIZE*2) : 0)];\r\n    }\r\n\r\n    updateElement(element, animationSpeed, p5) {\r\n        if (element) {\r\n            element.update(animationSpeed, p5);\r\n        }\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                this.updateElement(this.backingArray[i], animationSpeed, p5);\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    this.updateElement(this.copyArray[i], animationSpeed, p5);\r\n                }\r\n            }\r\n            if (this.tempElement) {\r\n                this.updateElement(this.tempElement, animationSpeed, p5);\r\n            }\r\n            this.frontPointerHighlighter.update(animationSpeed, p5);\r\n            this.sizePointerHighlighter.update(animationSpeed, p5);\r\n        });\r\n    }\r\n\r\n    draw(p5) {\r\n        super.draw(p5);\r\n        p5.push();\r\n\r\n        p5.textAlign(p5.CENTER,p5.CENTER);\r\n        p5.textSize(this.ELEMENT_SIZE/3 - 2);\r\n\r\n        p5.fill(0);\r\n        p5.text(\"Front: \", Heap.FRONT_LOCATION_X - 50, Heap.FRONT_LOCATION_Y, Heap.ELEMENT_SIZE);\r\n        p5.text(this.frontPointerValue.toString(), Heap.FRONT_LOCATION_X-25, Heap.FRONT_LOCATION_Y, Heap.ELEMENT_SIZE);\r\n        p5.text(\"Size: \", Heap.SIZE_LOCATION_X - 50, Heap.SIZE_LOCATION_Y, Heap.ELEMENT_SIZE);\r\n        p5.text(this.size.toString(), Heap.SIZE_LOCATION_X-25, Heap.SIZE_LOCATION_Y, Heap.ELEMENT_SIZE);\r\n\r\n        for (let i = 0; i < this.backingArray.length; i++) {\r\n            if (this.backingArray[i]) {\r\n                this.backingArray[i].draw(p5);\r\n            }\r\n            let pos = this.getElementPosition(i);\r\n            p5.noFill();\r\n            p5.stroke(0);\r\n            p5.square(pos[0] - Heap.ELEMENT_SIZE/2,pos[1] - Heap.ELEMENT_SIZE/2, Heap.ELEMENT_SIZE);\r\n            p5.fill(...Colors.BLUE);\r\n            p5.stroke(...Colors.BLUE);\r\n            p5.text(i.toString(), pos[0] - Heap.ELEMENT_SIZE/2,pos[1] + Heap.ELEMENT_SIZE/2, Heap.ELEMENT_SIZE, Heap.ELEMENT_SIZE);\r\n        }\r\n\r\n        if (this.copyArray) {\r\n            for (let i = 0; i < this.copyArray.length; i++) {\r\n                if (this.copyArray[i]) {\r\n                    this.copyArray[i].draw(p5);\r\n                }\r\n                let pos = this.getElementPosition(i, true);\r\n                p5.noFill();\r\n                p5.stroke(0);\r\n                p5.square(pos[0] - Heap.ELEMENT_SIZE/2,pos[1] - Heap.ELEMENT_SIZE/2, Heap.ELEMENT_SIZE);\r\n                p5.fill(...Colors.BLUE);\r\n                p5.stroke(...Colors.BLUE);\r\n                p5.text(i.toString(), pos[0] - Heap.ELEMENT_SIZE/2,pos[1] + Heap.ELEMENT_SIZE/2, Heap.ELEMENT_SIZE, Heap.ELEMENT_SIZE);\r\n            }\r\n        }\r\n        if (this.tempElement) {\r\n            this.tempElement.draw(p5);\r\n        }\r\n        this.frontPointerHighlighter.draw(p5);\r\n        this.sizePointerHighlighter.draw(p5);\r\n\r\n        p5.pop();\r\n    }\r\n\r\n    windowResized(p5, height, numScrollbars) {\r\n        super.windowResized(p5, height, numScrollbars, (this.copyArray ? this.getElementPosition(this.copyArray.length-1, true)[1] : this.getElementPosition(this.backingArray.length-1)[1]) + Heap.ELEMENT_SIZE, () => {\r\n            for (let i = 0; i < this.backingArray.length; i++) {\r\n                if (this.backingArray[i]) {\r\n                    this.backingArray[i].shift(...this.getElementPosition(i));\r\n                }\r\n            }\r\n            if (this.copyArray) {\r\n                for (let i = 0; i < this.copyArray.length; i++) {\r\n                    if (this.copyArray[i]) {\r\n                        this.copyArray[i].shift(...this.getElementPosition(i,true));\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass HeapElement extends AttractedHighlightableObject {\r\n\r\n    constructor({data, index, x,y} = {}) {\r\n        super(x,y);\r\n\r\n        // this.highlightInnerRadius = Heap.ELEMENT_SIZE/2 - 5;\r\n        this.highlightOuterRadius = Heap.ELEMENT_SIZE/2;\r\n\r\n        this.value = data;\r\n        this.index = index;\r\n\r\n        this.toDelete = false;\r\n        this.color = [0,0,0];\r\n    }\r\n\r\n    shift(x,y,direction = 0) {\r\n        super.shift(x,y);\r\n        this.index += Math.sign(direction);\r\n    }\r\n\r\n    highlightForMovement() {\r\n        super.highlight(Colors.BLUE);\r\n    }\r\n\r\n    highlightForDeletion() {\r\n        super.highlight(Colors.RED);\r\n    }\r\n\r\n    markForDeletion() {\r\n        this.toDelete = true;\r\n        this.highlightForDeletion();\r\n    }\r\n\r\n    update(animationSpeed, p5) {\r\n        super.update(animationSpeed, p5);\r\n    }\r\n\r\n    drawValue(p5) {\r\n        p5.push();\r\n        p5.textAlign(p5.CENTER, p5.CENTER);\r\n        p5.fill(...this.color);\r\n        p5.stroke(...this.color);\r\n        p5.text(this.value.toString(), this.currentX - Heap.ELEMENT_SIZE/2,this.currentY - Heap.ELEMENT_SIZE/2, Heap.ELEMENT_SIZE, Heap.ELEMENT_SIZE);\r\n        p5.pop();\r\n    }\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class AVL extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class SplayTree extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class BTree extends Visualization {\r\n    \r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class SkipList extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class HashMapProbing extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class HashMapChaining extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class BubbleSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class CocktailShakerSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class InsertionSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class SelectionSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class QuickSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class QuickSelect extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class MergeSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class LSDRadixSort extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class BruteForce extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class BoyerMoore extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class KMP extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class RabinKarp extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class BFS extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class DFS extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class Dijkstras extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class Prims extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class Kruskals extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class LCS extends Visualization {\r\n\r\n}\r\n","import { Visualization } from 'animation';\r\nexport default class FloydWarshall extends Visualization {\r\n\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport Sketch from 'react-p5';\r\nimport './visualizer.scss';\r\n\r\nimport ControlBar from './controlBar';\r\nimport BigOWindow from './bigOWindow';\r\nimport ExamplesWindow from './examplesWindow';\r\n\r\nimport { ControlBuilder, Utils } from 'utils';\r\nimport { Animator } from 'animation';\r\n\r\nexport default class Visualizer extends PureComponent {\r\n    static VISUALIZATION_METHODS = [\"skipBack\",\"stepBack\",\"playPause\",\"stepForward\",\"skipForward\"];\r\n\r\n    static CONTROLS_ONLY_ACTIVE_UNPAUSED = [\"radio\",\"checkbox\"];\r\n\r\n    static MAX_SPEED = 20;\r\n    static SPEED_SLIDER_DEGREE = 1.5;\r\n\r\n    static maxAnimationSpeed() {\r\n        return Math.pow(this.constructor.MAX_SPEED, this.constructor.SPEED_SLIDER_DEGREE);\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this[this.constructor.ADT_NAME] = null;\r\n\r\n        //INHERIT METHODS FROM VISUALIZATION\r\n        let currConstructor = this.constructor;\r\n        while (currConstructor) {\r\n            (currConstructor.VISUALIZATION_METHODS || []).forEach((methodName) => {\r\n                this[methodName] = (...args) => {\r\n                    if (this[this.constructor.ADT_NAME][methodName]) {\r\n                        return this[this.constructor.ADT_NAME][methodName](...args);\r\n                    } else {\r\n                        if (Utils.isDev()) {\r\n                            console.log(this[this.constructor.ADT_NAME], methodName, ...args);\r\n                        }\r\n                    }\r\n                    // return this[this.constructor.ADT_NAME][methodName](...args);\r\n                };\r\n            });\r\n            currConstructor = currConstructor.__proto__;\r\n        }\r\n\r\n\r\n        //FUNCTION BINDING\r\n        this.preload = this.preload.bind(this);\r\n        this.setup = this.setup.bind(this);\r\n        this.draw = this.draw.bind(this);\r\n        this.mousePressed = this.mousePressed.bind(this);\r\n        this.touchMoved = this.touchMoved.bind(this);\r\n        this.mouseReleased = this.mouseReleased.bind(this);\r\n        this.windowResized = this.windowResized.bind(this);\r\n\r\n        this.controlBarRef = React.createRef();\r\n\r\n        this.controlGroups = [];\r\n        this.defaultControlGroups = [];\r\n        this.controls = [];\r\n\r\n        // this.animationSpeed = this.constructor.VISUALIZATION_CLASS.INITIAL_SPEED;\r\n\r\n        this.onAnimStart = this.onAnimStart.bind(this);\r\n        this.onAnimEnd = this.onAnimEnd.bind(this);\r\n        this.animating = false;\r\n\r\n        this.focusedElement = null;\r\n\r\n        this.animator = new Proxy(new Animator(), {\r\n            get: function (target, propertyName, receiver) {\r\n                if (target[propertyName]) {\r\n                    return target[propertyName];\r\n                } else {\r\n                    return (param) => target.emit(propertyName + (param ? (\"-\" + param) : \"\"));\r\n                }\r\n            }\r\n        });\r\n        this.animator.on(\"anim-start\", this.onAnimStart);\r\n        this.animator.on(\"anim-end\", this.onAnimEnd);\r\n\r\n        this.addControlLabel(this.constructor.NAME);\r\n        this.addControls();\r\n        this.addDefaultControls();\r\n\r\n        this.state = {\r\n            showBigO: false,\r\n            showExamples: false\r\n        };\r\n        this.disabledControls = [];\r\n        this.bigOWindow = React.createRef();\r\n        this.examplesWindow = React.createRef();\r\n    }\r\n\r\n    addDefaultControls() {\r\n        this.speedSlider = ControlBuilder.createSlider(1, this.constructor.MAX_SPEED, Math.pow(this.constructor.INITIAL_SPEED,1/this.constructor.SPEED_SLIDER_DEGREE), 0);\r\n        let sliderLabel = ControlBuilder.createLabel(\"Animation Speed\", this.speedSlider);\r\n        let speedSliderGroup = ControlBuilder.createControlGroup(\"speedSliderGroup\", this.speedSlider, sliderLabel);\r\n        let extraGroups = []\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_ANIMATION_CONTROL) {\r\n            ControlBuilder.applyNewCallbackButton(this, {name: \"skipBack\", longName: \"Skip Back\",\r\n                    options: {\r\n                        attributes: {\r\n                            \"data-tooltip\": \"Shift+\",\r\n                            \"tt-bottom-110\":true,\r\n                            \"tt-left-0\":true,\r\n                            disabled: true\r\n                        },\r\n                        addAnimatorEnableDisable: true\r\n                }});\r\n            ControlBuilder.applyNewCallbackButton(this, {name: \"stepBack\", longName: \"Step Back\",\r\n                    options: {\r\n                        attributes: {\r\n                            \"data-tooltip\": \"\",\r\n                            \"tt-bottom-110\":true,\r\n                            \"tt-left-0\":true,\r\n                            disabled: true\r\n                        },\r\n                        addAnimatorEnableDisable: true\r\n                }});\r\n            ControlBuilder.applyNewCallbackButton(this, {name: \"playPause\", longName: \"Pause\",\r\n                    options: {\r\n                        attributes: {\r\n                            \"data-tooltip\": \"SpaceBar\",\r\n                            \"tt-bottom-110\":true,\r\n                            \"tt-h-mid\":true\r\n                        },\r\n                }});\r\n            this.animator.on(\"enable-playPause\", () => {\r\n                this.playPauseButton.innerHTML = this.visualization.paused ? \"Play\" : \"Pause\";\r\n            });\r\n            ControlBuilder.applyNewCallbackButton(this, {name: \"stepForward\", longName: \"Step Forward\",\r\n                    options: {\r\n                        attributes: {\r\n                            \"data-tooltip\": \"\",\r\n                            \"tt-bottom-110\":true,\r\n                            \"tt-right-0\":true,\r\n                            disabled: true\r\n                        },\r\n                        addAnimatorEnableDisable: true\r\n                }});\r\n            ControlBuilder.applyNewCallbackButton(this, {name: \"skipForward\", longName: \"Skip Forward\",\r\n                    options: {\r\n                        attributes: {\r\n                            \"data-tooltip\": \"Shift+\",\r\n                            \"tt-bottom-110\":true,\r\n                            \"tt-right-0\":true,\r\n                            disabled: true\r\n                        },\r\n                        addAnimatorEnableDisable: true\r\n                }});\r\n\r\n            extraGroups.push(ControlBuilder.createControlGroup(\"stepButtonGroup\",this.skipBackButton,this.stepBackButton,this.playPauseButton,this.stepForwardButton,this.skipForwardButton));\r\n            let animationControls = ControlBuilder.createControlGroup(\"animationControls\",...extraGroups);\r\n            // ControlBuilder.applyStyle(animationControls,\"width\",\"441px\");\r\n            this.defaultControlGroups.push(animationControls);\r\n\r\n\r\n        }\r\n        this.defaultControlGroups.push(speedSliderGroup);\r\n        this.defaultsLabel = \"Animation controls\";\r\n    }\r\n\r\n    addControlLabel(label) {\r\n        this.mainLabel = label;\r\n    }\r\n\r\n    addControlGroups(...controlGroups) {\r\n        this.controlGroups.push(...controlGroups);\r\n        controlGroups.forEach((controlGroup) => {\r\n            if (!controlGroup.classList.contains(\"control-group\")) {\r\n                this.controls.push(controlGroup);\r\n            } else {\r\n                this.registerControlGroup(controlGroup);\r\n            }\r\n        });\r\n    }\r\n\r\n    registerControlGroup(controlGroup) {\r\n        controlGroup.childNodes.forEach((child) => {\r\n            if (!child.classList.contains(\"control-group\")) {\r\n                this.controls.push(child);\r\n            } else {\r\n                this.registerControlGroup(child);\r\n            }\r\n        });\r\n    }\r\n\r\n    onAnimStart() {\r\n        this.disableUI();\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_NO_LOOP) {\r\n            // this.animator.loop();\r\n        }\r\n        this.animating = true;\r\n    }\r\n\r\n    onAnimEnd() {\r\n        this.enableUI();\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_NO_LOOP) {\r\n            // this.animator.noLoop();\r\n        }\r\n        this.animating = false;\r\n    }\r\n\r\n    disableUI() {\r\n        // console.log(\"disable\");\r\n        this.controls.forEach((control) => {\r\n            if (control === document.activeElement) {\r\n                this.focusedElement = control;\r\n            }\r\n            control.disabled = true;\r\n        });\r\n    }\r\n\r\n    enableUI() {\r\n        // console.log(\"enable\");\r\n        this.controls.forEach((control) => {\r\n            control.disabled = this.visualization.paused && this.constructor.CONTROLS_ONLY_ACTIVE_UNPAUSED.includes(control.type);\r\n            if (control === this.focusedElement) {\r\n                control.focus();\r\n            }\r\n        });\r\n    }\r\n\r\n    testVisualizationDimensions(p5) {\r\n        let height = document.querySelector(\".canvas-container\").getBoundingClientRect().height;\r\n        let width = document.querySelector(\".canvas-container\").getBoundingClientRect().width;\r\n        // console.log(height);\r\n        // p5.resizeCanvas(p5.windowWidth, p5.height);\r\n\r\n        //objects\r\n        let numScrollbars = this.controlBar.windowResized();\r\n        this.visualization.windowResized(p5, height, numScrollbars, this.constructor.VISUALIZATION_CLASS.HAS_MIN_WIDTH ? width : undefined);\r\n    }\r\n\r\n    componentDidMount() {\r\n        let height = document.querySelector(\".canvas-container\").getBoundingClientRect().height;\r\n        let width = document.querySelector(\".canvas-container\").getBoundingClientRect().width;\r\n        this[this.constructor.ADT_NAME] = new this.constructor.VISUALIZATION_CLASS(this.animator, width, height);\r\n        this.visualization = this[this.constructor.ADT_NAME];\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_ANIMATION_CONTROL) {\r\n            this.controlPressed = false;\r\n            this.shiftPressed = false;\r\n            this.pressedDict = {};\r\n            document.addEventListener(\"keydown\", (event) => {\r\n                if (!this.pressedDict[event.key]) {\r\n                    this.pressedDict[event.key] = true;\r\n                    this.controlPressed = event.key === \"Control\" || this.controlPressed;\r\n                    this.shiftPressed = event.key === \"Shift\" || this.shiftPressed;\r\n                    let visEventHappened = false;\r\n                    if (event.key === \"z\" && this.controlPressed) {\r\n                        visEventHappened = this.visualization.undo();\r\n                    } else if (event.key === \"ArrowLeft\") {\r\n                        if (this.shiftPressed) {\r\n                            visEventHappened = this.visualization.skipBack();\r\n                        } else {\r\n                            visEventHappened = this.visualization.stepBack();\r\n                        }\r\n                    } else if (event.key === \"ArrowRight\") {\r\n                        if (this.shiftPressed) {\r\n                            visEventHappened = this.visualization.skipForward();\r\n                        } else {\r\n                            visEventHappened = this.visualization.stepForward();\r\n                        }\r\n                    } else if (event.key === \" \") {\r\n                        visEventHappened = this.visualization.playPause();\r\n                    }\r\n                    if (visEventHappened) {\r\n                        event.preventDefault();\r\n                    }\r\n                }\r\n            });\r\n            document.addEventListener(\"keyup\", (event) => {\r\n                if (this.pressedDict[event.key]) {\r\n                    this.pressedDict[event.key] = false;\r\n                    this.controlPressed = this.controlPressed && !(event.key === \"Control\");\r\n                    this.shiftPressed = this.shiftPressed && !(event.key === \"Shift\");\r\n                }\r\n            });\r\n        }\r\n        if (Utils.isDev()) {\r\n            window.vis = this.visualization;\r\n        } else {\r\n\r\n        }\r\n        this.controlBar = this.controlBarRef.current;\r\n        this.controlBar.setMainLabel(this.mainLabel);\r\n        this.controlBar.setDefaultsLabel(this.defaultsLabel);\r\n        this.defaultControlGroups.forEach((defaultGroup) => {\r\n            this.controlBar.addDefaultGroup(defaultGroup);\r\n        });\r\n        this.controlGroups.forEach((controlGroup) => {\r\n            this.controlBar.addControlGroup(controlGroup);\r\n        });\r\n        this.mounted = true;\r\n        this.forceUpdate();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        // console.log(\"update\");\r\n        Utils.addMobileClasses();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    preload(p5) {\r\n        if (Utils.isDev()) {\r\n            p5.disableFriendlyErrors = true;\r\n        }\r\n    }\r\n\r\n    setup(p5, canvasParentRef) {\r\n        // let width = this.controlBar.controlBar.current.getBoundingClientRect().width;\r\n        let height = document.querySelector(\".app-content\").getBoundingClientRect().height\r\n                - document.querySelector(\"#main-control\").getBoundingClientRect().height\r\n                - document.querySelector(\"#default-control\").getBoundingClientRect().height;\r\n\r\n        // this.mobile = window.ontouchstart !== undefined;\r\n        // if (this.mobile) {\r\n        //     height = 1000;\r\n        //     // document.querySelector(\".canvas-container\").style.height = height + \"px\";\r\n        //     document.querySelector(\".canvas-container\").classList.add(\"mobile\");\r\n        // }\r\n\r\n        //config\r\n        let canvas = p5.createCanvas(p5.windowWidth\r\n            ,height);\r\n        canvas.parent(canvasParentRef);\r\n        //\r\n        // canvas.touchStarted((event) => {\r\n        //     console.log(\"touchdown\");\r\n        //     if (!this.mousePressed(p5)) {\r\n        //         event.preventDefault();\r\n        //     }\r\n        //     // event.preventDefault();\r\n        // });\r\n        //\r\n        // canvas.touchMoved((event) => {\r\n        //     console.log(\"touchmove\");\r\n        //     if (!this.touchMoved(p5)) {\r\n        //         // event.preventDefault();\r\n        //     }\r\n        //     return true;\r\n        //     // event.preventDefault();\r\n        // });\r\n        //\r\n        // canvas.touchEnded(() => {\r\n        //     console.log(\"touchup\");\r\n        //     this.mouseReleased(p5);\r\n        //     // event.preventDefault();\r\n        // });\r\n        // canvas.mousePressed(() => {\r\n        //     console.log(\"mousedown\");\r\n        //     if (!this.mousePressed(p5)) {\r\n        //         // event.preventDefault();\r\n        //     }\r\n        // });\r\n        // canvas.mouseReleased(() => {\r\n        //     console.log(\"mouseup\");\r\n        //     this.mouseReleased(p5);\r\n        //     // event.preventDefault();\r\n        // });\r\n        // p5.background(200);\r\n        // p5.frameRate(8);\r\n\r\n        // document.addEventListener(\"resize\", (event) => {\r\n        //     console.log(\"resize\");\r\n        // });\r\n        this.animator.on(\"noLoop\", () => {\r\n            // console.log(\"noLoop\");\r\n            p5.noLoop();\r\n        });\r\n        this.animator.on(\"loop\", () => {\r\n            // console.log(\"loop\");\r\n            p5.loop();\r\n        });\r\n        // this.animator.on(\"paused\", () => {\r\n        //\r\n        // });\r\n        this.animator.on(\"testWindowSize\", () => {\r\n            // this.visualization.resizing = true;\r\n            this.testVisualizationDimensions(p5);\r\n        });\r\n        this.windowResized(p5);\r\n\r\n        if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_NO_LOOP) {\r\n            this.animator.noLoop();\r\n        }\r\n    }\r\n    draw(p5) {\r\n        //inputs\r\n        let animationSpeed = Math.pow(this.speedSlider.value,this.constructor.SPEED_SLIDER_DEGREE);\r\n\r\n        p5.background(255);\r\n\r\n        //objects\r\n        this.visualization.update(animationSpeed, p5);\r\n        this.visualization.draw(p5);\r\n\r\n        // if (!this.animating) {\r\n        //     if (this.constructor.VISUALIZATION_CLASS.SUPPORTS_NO_LOOP) {\r\n        //         this.animator.noLoop();\r\n        //     }\r\n        // }\r\n    }\r\n    mousePressed(p5) {\r\n        if (this.visualization.mousePressed) {\r\n            // console.log(\"down\");\r\n            //let pressed =\r\n            this.visualization.mousePressed(p5);\r\n            // console.log(pressed);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    touchMoved(p5) {\r\n        if (this.visualization.touchMoved) {\r\n            // console.log(\"move\");\r\n            return this.visualization.touchMoved();\r\n        }\r\n        return true;\r\n    }\r\n    mouseReleased(p5) {\r\n        if (this.visualization.mouseReleased) {\r\n            // console.log(\"up\");\r\n            //let released =\r\n            this.visualization.mouseReleased(p5);\r\n            // console.log(released);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    windowResized(p5) {\r\n        // console.log(\"resize\");\r\n\r\n        //cosmetics for visualizer label\r\n        let controlWidth = Array.from(document.querySelector(\"#main-control-label + .controls\").childNodes).map(node => node.getBoundingClientRect().width).reduce((sum,curr) => sum + curr);\r\n        controlWidth = Math.min(controlWidth, p5.windowWidth);\r\n        let label = document.querySelector(\"#main-control-label\");\r\n        let labelWidth = label.getBoundingClientRect().width;\r\n        label.style.left = Math.max(0, (controlWidth - labelWidth) / 2) + \"px\";\r\n\r\n        //config\r\n        let height = document.querySelector(\".app-content\").getBoundingClientRect().height\r\n                - document.querySelector(\"#main-control\").getBoundingClientRect().height\r\n                - document.querySelector(\"#default-control\").getBoundingClientRect().height;\r\n        if (this.mobile) {\r\n            // height = 1000;\r\n        }\r\n        // height = document.querySelector(\".react-p5\").getBoundingClientRect().height;\r\n        document.querySelector(\".canvas-container\").style.height = height+\"px\";\r\n        this.testVisualizationDimensions(p5);\r\n    }\r\n\r\n    showBigODisplay() {\r\n        if (!this.state.showBigO) {\r\n            this.setState({showBigO: true});\r\n            this.disabledControls = [];\r\n            document.querySelectorAll(\".control-bar input, .control-bar button\").forEach((input) => {\r\n                if (!input.disabled) {\r\n                    this.disabledControls.push(input);\r\n                    input.disabled = true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    closeBigODisplay() {\r\n        this.setState({showBigO: false});\r\n        while (this.disabledControls.length) {\r\n            this.disabledControls.pop().disabled = false;\r\n        }\r\n    }\r\n\r\n    showExamplesDisplay() {\r\n        if (!this.state.showExamples) {\r\n            this.setState({showExamples: true});\r\n            this.disabledControls = [];\r\n            document.querySelectorAll(\".control-bar input, .control-bar button\").forEach((input) => {\r\n                if (!input.disabled) {\r\n                    this.disabledControls.push(input);\r\n                    input.disabled = true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    closeExamplesDisplay(...exampleParams) {\r\n        this.setState({showExamples: false});\r\n        while (this.disabledControls.length) {\r\n            this.disabledControls.pop().disabled = false;\r\n        }\r\n        if (exampleParams && exampleParams.length) {\r\n            this.visualization.doExample(...exampleParams);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className={`visualizer ${this.constructor.DIV_CLASS}`}>\r\n                    <ControlBar ref={this.controlBarRef} showBigODisplay={this.showBigODisplay.bind(this)} showExamplesDisplay={this.showExamplesDisplay.bind(this)} hasExamples={this.props.visualizerClass.examples && this.props.visualizerClass.examples.length > 0}/>\r\n                    {this.state.showBigO &&\r\n                        <BigOWindow ref={this.bigOWindow} title={this.mainLabel} closeBigODisplay={this.closeBigODisplay.bind(this)}/>\r\n                    }\r\n                    {this.state.showExamples &&\r\n                        <ExamplesWindow ref={this.examplesWindow} title={this.mainLabel} closeExamplesDisplay={this.closeExamplesDisplay.bind(this)}/>\r\n                    }\r\n                    {\r\n                        !Utils.isReactComponent(this.constructor.VISUALIZATION_CLASS) ?\r\n                                <div className=\"canvas-container\">\r\n                                    {\r\n                                        this.mounted ?\r\n                                                <Sketch preload={this.preload} setup={this.setup} draw={this.draw} windowResized={this.windowResized} mousePressed={this.mousePressed} mouseReleased={this.mouseReleased} touchStarted={this.mousePressed} touchEnded={this.mouseReleased} touchMoved={this.touchMoved}/>\r\n                                            :\r\n                                                <p>Loading Sketch</p>\r\n                                    }\r\n                                </div>\r\n                            :\r\n                                <this.constructor.VISUALIZATION_CLASS />\r\n                    }\r\n                </div>\r\n            );\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class ListVisualizer extends Visualizer {\r\n    static ADT_NAME = \"list\";\r\n    static VISUALIZATION_METHODS = [\"addAtIndex\", \"addToFront\", \"addToBack\", \"removeFromIndex\", \"removeFromBack\", \"removeFromFront\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: false}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"index\", callback: false, args: {size: 10}}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorPositiveIntOnly());\r\n        ControlBuilder.addFieldSubmit(this.valueField, this.addToBack,\r\n                {\r\n                    secondary: {\r\n                        field: this.indexField,\r\n                        callback: this.addAtIndex,\r\n                        isFirstParam: true\r\n                    }\r\n                }\r\n            );\r\n        ControlBuilder.addFieldSubmit(this.indexField, this.addAtIndex,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.valueField\r\n                    }\r\n                }\r\n            );\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"addAtIndex\", this.indexField, {field: this.valueField, focus: true});\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"addToFront\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"addToBack\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"removeFromIndex\", this.indexField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"removeFromFront\");\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"removeFromBack\");\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.valueField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.valueField, this.indexField);\r\n        ControlBuilder.setTabControl(this.indexField, this.addToFrontButton);\r\n        ControlBuilder.setTabControl(this.removeFromBackButton, this.addAtIndexButton);\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        let addFrontBackGroup = ControlBuilder.createControlGroup(\"addFrontBack\", this.addToFrontButton, this.addToBackButton);\r\n        let removeFrontBackGroup = ControlBuilder.createControlGroup(\"removeFrontBack\", this.removeFromFrontButton, this.removeFromBackButton);\r\n        let valueFrontBackGroup = ControlBuilder.createControlGroup(\"valueFrontBack\", this.valueField, addFrontBackGroup, removeFrontBackGroup);\r\n\r\n        let indexGroup = ControlBuilder.createControlGroup(\"indexAddRemove\", this.indexField, this.addAtIndexButton, this.removeFromIndexButton);\r\n\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset\", this.resetButton);\r\n\r\n        super.addControlGroups(valueFrontBackGroup, indexGroup, resetGroup);\r\n    }\r\n}\r\n","import { ListVisualizer } from '../';\r\nimport { ArrayList } from 'animation';\r\nimport './arraylist.scss';\r\n\r\n\r\nexport default class ArrayListVisualizer extends ListVisualizer {\r\n    static VISUALIZATION_CLASS = ArrayList;\r\n    static DIV_CLASS = \"arraylist\";\r\n    static NAME = \"ArrayList\";\r\n}\r\n","import { ListVisualizer } from '../';\r\nimport { SinglyLinkedList } from 'animation';\r\nimport './singly-linked-list.scss';\r\n\r\n\r\nexport default class SinglyLinkedListVisualizer extends ListVisualizer {\r\n    static VISUALIZATION_CLASS = SinglyLinkedList;\r\n    static DIV_CLASS = \"singlylinkedlist\";\r\n    static NAME = \"SinglyLinkedList\";\r\n}\r\n","import { ListVisualizer } from '../';\r\nimport { DoublyLinkedList } from 'animation';\r\nimport './doubly-linked-list.scss';\r\n\r\n\r\nexport default class DoublyLinkedListVisualizer extends ListVisualizer {\r\n    static VISUALIZATION_CLASS = DoublyLinkedList;\r\n    static DIV_CLASS = \"doublylinkedlist\";\r\n    static NAME = \"DoublyLinkedList\";\r\n}\r\n","import { ListVisualizer } from '../';\r\nimport { CircularSinglyLinkedList } from 'animation';\r\nimport './circular-singly-linked-list.scss';\r\n\r\nexport default class CircularSinglyLinkedListVisualizer extends ListVisualizer {\r\n    static VISUALIZATION_CLASS = CircularSinglyLinkedList;\r\n    static DIV_CLASS = \"circularsinglylinkedlist\";\r\n    static NAME = \"CircularSinglyLinkedList\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class StackVisualizer extends Visualizer {\r\n    static ADT_NAME = \"stack\";\r\n    static VISUALIZATION_METHODS = [\"push\", \"pop\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: \"push\"}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"push\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"pop\");\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.valueField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        let interactionButtonGroup = ControlBuilder.createControlGroup(\"interactionButtons\", this.pushButton, this.popButton);\r\n        let mainControlGroup = ControlBuilder.createControlGroup(\"mainControl\", this.valueField, interactionButtonGroup);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"resetGroup\", this.resetButton);\r\n\r\n        super.addControlGroups(mainControlGroup, resetGroup);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class QueueVisualizer extends Visualizer {\r\n    static ADT_NAME = \"queue\";\r\n    static VISUALIZATION_METHODS = [\"enqueue\", \"dequeue\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: \"enqueue\"}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"enqueue\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"dequeue\");\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.valueField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        let interactionButtonGroup = ControlBuilder.createControlGroup(\"interactionButtons\", this.enqueueButton, this.dequeueButton);\r\n        let mainControlGroup = ControlBuilder.createControlGroup(\"mainControl\", this.valueField, interactionButtonGroup);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"resetGroup\", this.resetButton);\r\n\r\n        super.addControlGroups(mainControlGroup, resetGroup);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class DequeVisualizer extends Visualizer {\r\n    static ADT_NAME = \"deque\";\r\n    static VISUALIZATION_METHODS = [\"addFirst\", \"addLast\", \"removeFirst\", \"removeLast\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: \"addLast\"}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, {name: \"addFirst\", longName: \"addFirst (push)\"}, this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, {name: \"addLast\", longName: \"addLast (enqueue)\"}, this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, {name: \"removeFirst\", longName: \"removeFirst (dequeue/pop)\"});\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"removeLast\");\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.valueField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        let addButtonGroup = ControlBuilder.createControlGroup(\"addButtons\", this.addFirstButton, this.addLastButton);\r\n        let removeButtonGroup = ControlBuilder.createControlGroup(\"removeButtons\", this.removeFirstButton, this.removeLastButton);\r\n        let interactionGroup = ControlBuilder.createControlGroup(\"interactions\", this.valueField, addButtonGroup, removeButtonGroup);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"resetGroup\", this.resetButton);\r\n\r\n        super.addControlGroups(interactionGroup, resetGroup);\r\n    }\r\n}\r\n","import { StackVisualizer } from '../';\r\nimport { StackArray } from 'animation';\r\nimport './stack-array.scss';\r\n\r\n\r\nexport default class StackArrayVisualizer extends StackVisualizer {\r\n    static VISUALIZATION_CLASS = StackArray;\r\n    static DIV_CLASS = \"stack-array\";\r\n    static NAME = \"Stack (Array)\";\r\n}\r\n","import { StackVisualizer } from '../';\r\nimport { StackLinkedList } from 'animation';\r\nimport './stack-linked-list.scss';\r\n\r\n\r\nexport default class StackLinkedListVisualizer extends StackVisualizer {\r\n    static VISUALIZATION_CLASS = StackLinkedList;\r\n    static DIV_CLASS = \"stack-linkedlist\";\r\n    static NAME = \"Stack (LinkedList)\";\r\n}\r\n","import { QueueVisualizer } from '../';\r\nimport { QueueArray } from 'animation';\r\nimport './queue-array.scss';\r\n\r\nexport default class QueueArrayVisualizer extends QueueVisualizer {\r\n    static VISUALIZATION_CLASS = QueueArray;\r\n    static DIV_CLASS = \"queue-array\";\r\n    static NAME = \"Queue (Array)\";\r\n}\r\n","import { QueueVisualizer } from '../';\r\nimport { QueueLinkedList } from 'animation';\r\nimport './queue-linked-list.scss';\r\n\r\n\r\nexport default class QueueLinkedListVisualizer extends QueueVisualizer {\r\n    static VISUALIZATION_CLASS = QueueLinkedList;\r\n    static DIV_CLASS = \"queue-linkedlist\";\r\n    static NAME = \"Queue (LinkedList)\";\r\n}\r\n","import { DequeVisualizer } from '../';\r\nimport { DequeArray } from 'animation';\r\nimport './deque-array.scss';\r\n\r\n\r\nexport default class DequeArrayVisualizer extends DequeVisualizer {\r\n    static VISUALIZATION_CLASS = DequeArray;\r\n    static DIV_CLASS = \"deque-array\";\r\n    static NAME = \"Deque (Array)\";\r\n}\r\n","import { DequeVisualizer } from '../';\r\nimport { DequeLinkedList } from 'animation';\r\nimport './deque-linked-list.scss';\r\n\r\n\r\nexport default class DequeLinkedListVisualizer extends DequeVisualizer {\r\n    static VISUALIZATION_CLASS = DequeLinkedList;\r\n    static DIV_CLASS = \"deque-linkedlist\";\r\n    static NAME = \"Deque (Linked List)\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\nimport './tree-ADT.scss';\r\n\r\nexport default class TreeVisualizer extends Visualizer {\r\n    static ADT_NAME = \"tree\";\r\n    static VISUALIZATION_METHODS = [\"insert\", \"delete\", \"find\", \"print\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"insert\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"insert\", this.insertField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"delete\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"delete\", this.deleteField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"find\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"find\", this.findField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"print\");\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.insertField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.insertField);\r\n\r\n        // build groups\r\n        let insertGroup = ControlBuilder.createControlGroup(\"insert-group\", this.insertField, this.insertButton);\r\n        let deleteGroup = ControlBuilder.createControlGroup(\"delete-group\", this.deleteField, this.deleteButton);\r\n        let findGroup = ControlBuilder.createControlGroup(\"find-group\", this.findField, this.findButton);\r\n        let printGroup = ControlBuilder.createControlGroup(\"print-group\", this.printButton);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n\r\n        super.addControlGroups(insertGroup, deleteGroup, findGroup, printGroup, resetGroup);\r\n    }\r\n}\r\n","import { TreeVisualizer } from './';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class BinarySearchingTreeVisualizer extends TreeVisualizer {\r\n    static VISUALIZATION_METHODS = [\"togglePredecessorSuccessor\"];\r\n\r\n    addControls() {\r\n        super.addControls();\r\n\r\n        this.togglePredecessorSuccessorRadio = ControlBuilder.createRadio(\"togglePredecessorSuccessor\", \"Predecessor\", \"Successor\");\r\n        ControlBuilder.addRadioSubmit(this.togglePredecessorSuccessorRadio, this.togglePredecessorSuccessor);\r\n\r\n        // build groups\r\n        let togglePredecessorSuccessorGroup = ControlBuilder.createControlGroup(\"togglePredecessorSuccessor\", this.togglePredecessorSuccessorRadio);\r\n\r\n        super.addControlGroups(togglePredecessorSuccessorGroup);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class HeapVisualizer extends Visualizer {\r\n    static ADT_NAME = \"heap\";\r\n    static VISUALIZATION_METHODS = [\"enqueue\", \"dequeue\", \"reset\", \"buildHeap\", \"toggleMinMax\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: \"enqueue\"}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"enqueue\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"dequeue\");\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"buildHeap\", prompt: \"1,-4,23,3-8,... [max 50 elements]\"}, ControlBuilder.validatorIntList(4,50));\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"buildHeap\", this.buildHeapField);\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.valueField);\r\n\r\n        this.toggleMinMaxRadio = ControlBuilder.createRadio(\"toggleMinMax\", \"MinHeap\", \"MaxHeap\");\r\n        ControlBuilder.addRadioSubmit(this.toggleMinMaxRadio, this.toggleMinMax);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.insertField);\r\n\r\n        // build groups\r\n        let interactionButtonGroup = ControlBuilder.createControlGroup(\"interactionButtons\", this.enqueueButton, this.dequeueButton);\r\n        let mainControlGroup = ControlBuilder.createControlGroup(\"mainControl\", this.valueField, interactionButtonGroup);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"resetGroup\", this.resetButton);\r\n        let buildHeapGroup = ControlBuilder.createControlGroup({id: \"build-heap-group\", classes:[\"expanding-group\"]}, this.buildHeapField, this.buildHeapButton);\r\n        let toggleMinMaxGroup = ControlBuilder.createControlGroup(\"toggleMinMax\", this.toggleMinMaxRadio);\r\n\r\n        super.addControlGroups(mainControlGroup, resetGroup, buildHeapGroup, toggleMinMaxGroup);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class SkipListADTVisualizer extends Visualizer {\r\n    static ADT_NAME = \"skiplist\";\r\n    static VISUALIZATION_METHODS = [\"addRandomly\", \"addWithHeads\", \"remove\", \"get\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"value\", callback: false, args: {size: 10}}, ControlBuilder.validatorMaxLength(6), ControlBuilder.validatorIntOnly());\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"heads\", prompt: \"num heads\", callback: false, args: {size: 10}}, ControlBuilder.validatorMaxLength(2), ControlBuilder.validatorPositiveIntOnly());\r\n        ControlBuilder.addFieldSubmit(this.valueField, this.addRandomly,\r\n                {\r\n                    secondary: {\r\n                        field: this.headsField,\r\n                        callback: this.addWithHeads,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n        ControlBuilder.addFieldSubmit(this.headsField, this.addWithHeads,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.valueField,\r\n                        isFirstParam: true,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"addRandomly\", this.valueField);\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"addWithHeads\", {field: this.valueField, focus: true}, this.headsField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"remove\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"remove\", this.removeField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"get\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"get\", this.getField);\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.insertField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.valueField);\r\n\r\n        // build groups\r\n        // let addFieldGroup = ControlBuilder.createControlGroup(\"add-field-group\", this.valueField, this.headsField);\r\n        // let addButtonGroup = ControlBuilder.createControlGroup(\"add-button-group\", this.addRandomlyButton, this.addWithHeadsButton);\r\n        let addRandomlyGroup = ControlBuilder.createControlGroup(\"add-field-group\", this.valueField, this.addRandomlyButton);\r\n        let addWithHeadsGroup = ControlBuilder.createControlGroup(\"add-button-group\", this.headsField, this.addWithHeadsButton);\r\n        // let addGroup = ControlBuilder.createControlGroup(\"add-group\", this.valueField, this.addRandomlyButton, addWithHeadsGroup);\r\n        let removeGroup = ControlBuilder.createControlGroup(\"remove-group\", this.removeField, this.removeButton);\r\n        let getGroup = ControlBuilder.createControlGroup(\"get-group\", this.getField, this.getButton);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n\r\n        super.addControlGroups(addRandomlyGroup, addWithHeadsGroup, removeGroup, getGroup, resetGroup);\r\n    }\r\n}\r\n","import { BinarySearchingTreeVisualizer } from '../';\r\nimport { BST } from 'animation';\r\nimport './bst.scss';\r\n\r\n\r\nexport default class BSTVisualizer extends BinarySearchingTreeVisualizer {\r\n    static VISUALIZATION_CLASS = BST;\r\n    static DIV_CLASS = \"bst\";\r\n    static NAME = \"Binary Search Tree\";\r\n}\r\n","import { HeapVisualizer } from '../';\r\nimport { Heap } from 'animation';\r\nimport './heap.scss';\r\n\r\n\r\nexport default class HeapPQVisualizer extends HeapVisualizer {\r\n    static VISUALIZATION_CLASS = Heap;\r\n    static DIV_CLASS = \"heap-pq\";\r\n    static NAME = \"Heap / Priority Queue\";\r\n}\r\n","import { BinarySearchingTreeVisualizer } from '../';\r\nimport { AVL } from 'animation';\r\nimport './avl.scss';\r\n\r\n\r\nexport default class AVLVisualizer extends BinarySearchingTreeVisualizer {\r\n    static VISUALIZATION_CLASS = AVL;\r\n    static DIV_CLASS = \"avl\";\r\n    static NAME = \"AVL\";\r\n}\r\n","import { TreeVisualizer } from '../';\r\nimport { SplayTree } from 'animation';\r\nimport './splaytree.scss';\r\n\r\n\r\nexport default class SplayTreeVisualizer extends TreeVisualizer {\r\n    static VISUALIZATION_CLASS = SplayTree;\r\n    static DIV_CLASS = \"splaytree\";\r\n    static NAME = \"SplayTree\";\r\n}\r\n","import { TreeVisualizer } from '../';\r\nimport { BTree } from 'animation';\r\nimport './btree.scss';\r\n\r\n\r\nexport default class BTreeVisualizer extends TreeVisualizer {\r\n    static VISUALIZATION_CLASS = BTree;\r\n    static DIV_CLASS = \"btree\";\r\n    static NAME = \"2-4 Tree\";\r\n}\r\n","import { SkipListADTVisualizer } from '../';\r\nimport { SkipList } from 'animation';\r\nimport './skiplist.scss';\r\n\r\n\r\nexport default class SkipListVisualizer extends SkipListADTVisualizer {\r\n    static VISUALIZATION_CLASS = SkipList;\r\n    static DIV_CLASS = \"skiplist\";\r\n    static NAME = \"SkipList\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class HashMapVisualizer extends Visualizer {\r\n    static ADT_NAME = \"hashmap\";\r\n    static VISUALIZATION_METHODS = [\"insert\", \"delete\", \"find\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"insert\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"insert\", this.insertField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"delete\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"delete\", this.deleteField);\r\n\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"find\", longName: \"value\", args: {size: 10}}, ControlBuilder.validatorMaxLength(5), ControlBuilder.validatorIntOnly());\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"find\", this.findField);\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.insertField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.insertField);\r\n\r\n        // build groups\r\n        let insertGroup = ControlBuilder.createControlGroup(\"insert-group\", this.insertField, this.insertButton);\r\n        let deleteGroup = ControlBuilder.createControlGroup(\"delete-group\", this.deleteField, this.deleteButton);\r\n        let findGroup = ControlBuilder.createControlGroup(\"find-group\", this.findField, this.findButton);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n\r\n        super.addControlGroups(insertGroup, deleteGroup, findGroup, resetGroup);\r\n    }\r\n}\r\n","import { HashMapVisualizer } from './';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class ProbingVisualizer extends HashMapVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleProbingMode\"];\r\n\r\n    addControls() {\r\n        super.addControls();\r\n\r\n        this.toggleProbingModeRadio = ControlBuilder.createRadio(\"toggleProbingMode\",\r\n                {value: \"linear\", longText: \"Linear Probing: ind = hash(x) + i*1\"},\r\n                {value: \"linear\", longText: \"Quadratic Probing: ind = hash(x) + i*i\"},\r\n                {value: \"linear\", longText: \"Double Hashing: ind = hash(x) + i*hash2(x)\"});\r\n        ControlBuilder.addRadioSubmit(this.toggleProbingModeRadio, this.toggleProbingMode);\r\n\r\n        // build groups\r\n        let toggleProbingModeGroup = ControlBuilder.createControlGroup(\"toggleProbingMode\", this.toggleProbingModeRadio);\r\n\r\n        super.addControlGroups(toggleProbingModeGroup);\r\n    }\r\n}\r\n","import { ProbingVisualizer } from '../';\r\nimport { HashMapProbing } from 'animation';\r\nimport './hashmap-probing.scss';\r\n\r\n\r\nexport default class HashMapProbingVisualizer extends ProbingVisualizer {\r\n    static VISUALIZATION_CLASS = HashMapProbing;\r\n    static DIV_CLASS = \"hashmap-probing\";\r\n    static NAME = \"HashMap (Probing)\";\r\n}\r\n","import { HashMapVisualizer } from '../';\r\nimport { HashMapChaining } from 'animation';\r\nimport './hashmap-chaining.scss';\r\n\r\n\r\nexport default class HashMapChainingVisualizer extends HashMapVisualizer {\r\n    static VISUALIZATION_CLASS = HashMapChaining;\r\n    static DIV_CLASS = \"hashmap-chaining\";\r\n    static NAME = \"HashMap (Chaining)\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class SortVisualizer extends Visualizer {\r\n    static ADT_NAME = \"sort\";\r\n    static VISUALIZATION_METHODS = [\"sort\", \"reset\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"sort\", prompt: \"1,-4,23,3-8,... [max 50 elements]\"}, ControlBuilder.validatorIntList(4,50));\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"sort\", this.sortField);\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.sortField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.sortField);\r\n\r\n        // build groups\r\n        let sortFieldGroup = ControlBuilder.createControlGroup({id: \"sort-field-group\", classes:[\"expanding-group\",\"w50\"]}, this.sortField);\r\n        let sortButtonGroup = ControlBuilder.createControlGroup(\"sort-button-group\", this.sortButton);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n\r\n        super.addControlGroups(sortFieldGroup, sortButtonGroup, resetGroup);\r\n    }\r\n}\r\n","import { SortVisualizer } from './';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class BubblingVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleLastSwapOptimization\"];\r\n\r\n    addControls() {\r\n        super.addControls();\r\n\r\n        this.toggleLastSwapOptimizationCheckBox = ControlBuilder.createCheckBox(\"toggleLastSwapOptimization\",\r\n                {value: \"enableLastSwap\", longText: \"Enable last swap optimization\"});\r\n        ControlBuilder.addCheckBoxSubmit(this.toggleLastSwapOptimizationCheckBox, this.toggleLastSwapOptimization);\r\n\r\n        // build groups\r\n        let toggleLastSwapOptimizationGroup = ControlBuilder.createControlGroup(\"toggleLastSwapOptimization-group\", this.toggleLastSwapOptimizationCheckBox);\r\n\r\n        super.addControlGroups(toggleLastSwapOptimizationGroup);\r\n    }\r\n}\r\n","import { SortVisualizer } from './';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class QuickVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleSelectPivotElement\"];\r\n\r\n    addControls() {\r\n        super.addControls();\r\n\r\n        this.toggleSelectPivotElementCheckBox = ControlBuilder.createCheckBox(\"toggleSelectPivotElement\",\r\n                {value: \"selectMin\", longText: \"Pick min element as pivot\"},\r\n                {value: \"selectMax\", longText: \"Pick max element as pivot\"});\r\n        ControlBuilder.addCheckBoxSubmit(this.toggleSelectPivotElementCheckBox, {callback: this.toggleSelectPivotElement, max1Checked: true});\r\n\r\n        // build groups\r\n        let toggleSelectPivotElementGroup = ControlBuilder.createControlGroup(\"toggleSelectPivotElement-group\", this.toggleSelectPivotElementCheckBox);\r\n\r\n        super.addControlGroups(toggleSelectPivotElementGroup);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class SelectVisualizer extends Visualizer {\r\n    static ADT_NAME = \"quickselect\";\r\n    static VISUALIZATION_METHODS = [\"select\", \"reset\", \"toggleSelectPivotElement\"];\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"list\", prompt: \"1,-4,23,3-8,... [max 50 elements]\", callback: false}, ControlBuilder.validatorIntList(4,50));\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"kth\", prompt: \"k (1-indexed)\", callback: false, args: {size: 8}}, ControlBuilder.validatorPositiveIntOnly());\r\n        ControlBuilder.addFieldSubmit(this.listField, this.select,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.kthField,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n        ControlBuilder.addFieldSubmit(this.kthField, this.select,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.listField,\r\n                        isFirstParam: true,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"select\", {field: this.listField, focus: true}, this.kthField);\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.listField);\r\n\r\n        this.toggleSelectPivotElementCheckBox = ControlBuilder.createCheckBox(\"toggleSelectPivotElement\",\r\n                {value: \"selectMin\", longText: \"Pick min element as pivot\"},\r\n                {value: \"selectMax\", longText: \"Pick max element as pivot\"});\r\n        ControlBuilder.addCheckBoxSubmit(this.toggleSelectPivotElementCheckBox, {callback: this.toggleSelectPivotElement, max1Checked: true});\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.listField);\r\n\r\n        // build groups\r\n        let listFieldGroup = ControlBuilder.createControlGroup({id: \"list-field-group\", classes:[\"expanding-group\",\"w50\"]}, this.listField);\r\n        let kthFieldGroup = ControlBuilder.createControlGroup(\"kth-field-group\", this.kthField);\r\n        let selectButtonGroup = ControlBuilder.createControlGroup(\"select-button-group\", this.selectButton);\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n        let toggleSelectPivotElementGroup = ControlBuilder.createControlGroup(\"toggleSelectPivotElement-group\", this.toggleSelectPivotElementCheckBox);\r\n\r\n        super.addControlGroups(listFieldGroup, kthFieldGroup, selectButtonGroup, resetGroup, toggleSelectPivotElementGroup);\r\n    }\r\n}\r\n","import { BubblingVisualizer } from '../';\r\nimport { BubbleSort } from 'animation';\r\nimport './bubble-sort.scss';\r\n\r\n\r\nexport default class BubbleSortVisualizer extends BubblingVisualizer {\r\n    static VISUALIZATION_CLASS = BubbleSort;\r\n    static DIV_CLASS = \"bubble-sort\";\r\n    static NAME = \"Bubble Sort\";\r\n}\r\n","import { BubblingVisualizer } from '../';\r\nimport { CocktailShakerSort } from 'animation';\r\nimport './cocktail-shaker-sort.scss';\r\n\r\n\r\nexport default class CocktailShakerSortVisualizer extends BubblingVisualizer {\r\n    static VISUALIZATION_CLASS = CocktailShakerSort;\r\n    static DIV_CLASS = \"cocktail-shaker-sort\";\r\n    static NAME = \"Cocktail Shaker Sort\";\r\n}\r\n","import { SortVisualizer } from '../';\r\nimport { InsertionSort } from 'animation';\r\nimport './insertion-sort.scss';\r\n\r\n\r\nexport default class InsertionSortVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_CLASS = InsertionSort;\r\n    static DIV_CLASS = \"insertion-sort\";\r\n    static NAME = \"Insertion Sort\";\r\n}\r\n","import { SortVisualizer } from '../';\r\nimport { SelectionSort } from 'animation';\r\nimport './selection-sort.scss';\r\n\r\n\r\nexport default class SelectionSortVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_CLASS = SelectionSort;\r\n    static DIV_CLASS = \"selection-sort\";\r\n    static NAME = \"Selection Sort\";\r\n}\r\n","import { QuickVisualizer } from '../';\r\nimport { QuickSort } from 'animation';\r\nimport './quick-sort.scss';\r\n\r\n\r\nexport default class QuickSortVisualizer extends QuickVisualizer {\r\n    static VISUALIZATION_CLASS = QuickSort;\r\n    static DIV_CLASS = \"quick-sort\";\r\n    static NAME = \"Quick Sort\";\r\n}\r\n","import { SelectVisualizer } from '../';\r\nimport { QuickSelect } from 'animation';\r\nimport './quick-select.scss';\r\n\r\n\r\nexport default class QuickSelectVisualizer extends SelectVisualizer {\r\n    static VISUALIZATION_CLASS = QuickSelect;\r\n    static DIV_CLASS = \"quick-select\";\r\n    static NAME = \"k Select / Quick Select\";\r\n}\r\n","import { SortVisualizer } from '../';\r\nimport { MergeSort } from 'animation';\r\nimport './merge-sort.scss';\r\n\r\n\r\nexport default class MergeSortVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_CLASS = MergeSort;\r\n    static DIV_CLASS = \"merge-sort\";\r\n    static NAME = \"Merge Sort\";\r\n}\r\n","import { SortVisualizer } from '../';\r\nimport { LSDRadixSort } from 'animation';\r\nimport './lsd-radix-sort.scss';\r\n\r\n\r\nexport default class LSDRadixSortVisualizer extends SortVisualizer {\r\n    static VISUALIZATION_CLASS = LSDRadixSort;\r\n    static DIV_CLASS = \"lsd-radix-sort\";\r\n    static NAME = \"LSD Radix Sort\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\n\r\nexport default class SearchVisualizer extends Visualizer {\r\n    static ADT_NAME = \"search\";\r\n    static VISUALIZATION_METHODS = [\"search\", \"reset\"];\r\n\r\n    addControls(offerTable = false) {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"searchText\", prompt: \"text\", callback: false}, ControlBuilder.validatorMaxLength(100));\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"pattern\", callback: false, args: {size: 15}}, ControlBuilder.validatorMaxLength(100));\r\n        ControlBuilder.addFieldSubmit(this.searchTextField, this.search,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.patternField,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n        ControlBuilder.addFieldSubmit(this.patternField, offerTable ? this.buildTable : this.search,\r\n                {\r\n                    secondaryRequired: !offerTable,\r\n                    secondary: {\r\n                        field: this.searchTextField,\r\n                        callback: this.search,\r\n                        isFirstParam: true,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, \"search\", {field: this.searchTextField, focus: true}, this.patternField);\r\n\r\n        if (offerTable) {\r\n            ControlBuilder.applyNewCallbackButton(this, {name: \"buildTable\", longName: `build ${offerTable} table`}, this.patternField);\r\n        }\r\n\r\n        ControlBuilder.applyResetButton(this, \"reset\", this.searchTextField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.resetButton, this.searchTextField);\r\n\r\n        // build groups\r\n        let searchTextFieldGroup = ControlBuilder.createControlGroup({id: \"searchtext-field-group\", classes:[\"expanding-group\",\"w50\"]}, this.searchTextField);\r\n        let patternFieldGroup = ControlBuilder.createControlGroup(\"pattern-field-group\", this.patternField);\r\n        let searchButtonGroup = ControlBuilder.createControlGroup(\"search-button-group\", this.searchButton);\r\n        let buildTableGroup = offerTable ? ControlBuilder.createControlGroup(\"buildtable-button-group\", this.buildTableButton) : undefined;\r\n        let resetGroup = ControlBuilder.createControlGroup(\"reset-group\", this.resetButton);\r\n\r\n        super.addControlGroups(searchTextFieldGroup, patternFieldGroup, searchButtonGroup);\r\n        if (offerTable) {\r\n            super.addControlGroups(buildTableGroup);\r\n        }\r\n        super.addControlGroups(resetGroup);\r\n    }\r\n}\r\n","import { SearchVisualizer } from './';\r\n\r\n\r\nexport default class SearchWithTableVisualizer extends SearchVisualizer {\r\n    static VISUALIZATION_METHODS = [\"buildTable\"];\r\n\r\n    addControls() {\r\n        super.addControls(this.constructor.TABLE_NAME);\r\n    }\r\n}\r\n","import { SearchVisualizer } from '../';\r\nimport { BruteForce } from 'animation';\r\nimport './brute-force.scss';\r\n\r\n\r\nexport default class BruteForceVisualizer extends SearchVisualizer {\r\n    static VISUALIZATION_CLASS = BruteForce;\r\n    static DIV_CLASS = \"brute-force\";\r\n    static NAME = \"Brute Force Search\";\r\n}\r\n","import { SearchWithTableVisualizer } from '../';\r\nimport { BoyerMoore } from 'animation';\r\nimport './boyer-moore.scss';\r\n\r\n\r\nexport default class BoyerMooreVisualizer extends SearchWithTableVisualizer {\r\n    static VISUALIZATION_CLASS = BoyerMoore;\r\n    static DIV_CLASS = \"boyer-moore\";\r\n    static NAME = \"Boyer-Moore Algorithm\";\r\n\r\n    static TABLE_NAME = \"last occurence\";\r\n}\r\n","import { SearchWithTableVisualizer } from '../';\r\nimport { KMP } from 'animation';\r\nimport './kmp.scss';\r\n\r\n\r\nexport default class KMPVisualizer extends SearchWithTableVisualizer {\r\n    static VISUALIZATION_CLASS = KMP;\r\n    static DIV_CLASS = \"kmp\";\r\n    static NAME = \"KnuthMorrisPratt Algorithm\";\r\n\r\n    static TABLE_NAME = \"failure\";\r\n}\r\n","import { SearchVisualizer } from '../';\r\nimport { RabinKarp } from 'animation';\r\nimport './rabin-karp.scss';\r\n\r\n\r\nexport default class RabinKarpVisualizer extends SearchVisualizer {\r\n    static VISUALIZATION_CLASS = RabinKarp;\r\n    static DIV_CLASS = \"rabin-karp\";\r\n    static NAME = \"Rabin Karp Algorithm\";\r\n}\r\n","import Visualizer from 'components/visualizer';\r\n\r\nimport './graph.scss';\r\n\r\nexport default class GraphVisualizer extends Visualizer {\r\n    static ADT_NAME = \"graph\";\r\n    static VISUALIZATION_METHODS = [\"run\", \"newSmallGraph\", \"newLargeGraph\", \"toggleRepresentation\"];\r\n}\r\n","import { ControlBuilder } from 'utils';\r\n\r\nexport function addStartVertexField_and_runButton(visualizer) {\r\n    ControlBuilder.applyFieldWithOptions(visualizer, {name: \"startVertex\", prompt: \"start vertex\", callback: \"run\", args: {size: 10}}, ControlBuilder.validatorMaxLength(2));\r\n    ControlBuilder.applyNewCallbackButton(visualizer, \"run\", visualizer.startVertexField);\r\n    let runGroup = ControlBuilder.createControlGroup(\"run-group\", visualizer.startVertexField, visualizer.runButton);\r\n    visualizer.addControlGroups(runGroup);\r\n}\r\n\r\nexport function addRunButton(visualizer) {\r\n    ControlBuilder.applyNewCallbackButton(visualizer, \"run\");\r\n    let runButtonGroup = ControlBuilder.createControlGroup(\"run-button-group\", visualizer.runButton);\r\n    visualizer.addControlGroups(runButtonGroup);\r\n}\r\n\r\nexport function addDFStypeRadio(visualizer) {\r\n    visualizer.toggleDFStypeRadio = ControlBuilder.createRadio(\"toggleDFStype\", \"Stack\", \"Recursion\");\r\n    ControlBuilder.addRadioSubmit(visualizer.toggleDFStypeRadio, visualizer.toggleDFStype);\r\n    let dfsTypeRadioGroup = ControlBuilder.createControlGroup(\"toggleDFStype\", visualizer.toggleDFStypeRadio);\r\n    visualizer.addControlGroups(dfsTypeRadioGroup);\r\n}\r\n\r\nexport function addNewGraphButtons(visualizer) {\r\n    ControlBuilder.applyNewCallbackButton(visualizer, \"newSmallGraph\");\r\n    ControlBuilder.applyNewCallbackButton(visualizer, \"newLargeGraph\");\r\n    let newGraphButtonsGroup = ControlBuilder.createControlGroup(\"new-graph-group\", visualizer.newSmallGraphButton, visualizer.newLargeGraphButton);\r\n    visualizer.addControlGroups(newGraphButtonsGroup);\r\n}\r\n\r\nexport function addDirectedUndirectedRadio(visualizer) {\r\n    visualizer.toggleUndirectedDirectedRadio = ControlBuilder.createRadio(\"toggleUndirectedDirected\", \"Undirected\", \"Directed\");\r\n    ControlBuilder.addRadioSubmit(visualizer.toggleUndirectedDirectedRadio, visualizer.toggleUndirectedDirected);\r\n    let directedUndirectedRadioGroup = ControlBuilder.createControlGroup(\"toggleUndirectedDirected\", visualizer.toggleUndirectedDirectedRadio);\r\n    visualizer.addControlGroups(directedUndirectedRadioGroup);\r\n}\r\n\r\nexport function addRepresentationRadio(visualizer) {\r\n    visualizer.toggleRepresentationRadio = ControlBuilder.createRadio(\"toggleRepresentation\",\r\n            {value: \"nodeEdge\", longText: \"Node/Edge Prepresentation\"},\r\n            {value: \"adjacencyList\", longText: \"Adjacency List Prepresentation\"},\r\n            {value: \"adjacencyMatrix\", longText: \"Adjacency Matrix Prepresentation\"},\r\n        );\r\n    ControlBuilder.addRadioSubmit(visualizer.toggleRepresentationRadio, visualizer.toggleRepresentation);\r\n    let representationRadioGroup = ControlBuilder.createControlGroup(\"toggleRepresentation\", visualizer.toggleRepresentationRadio);\r\n    visualizer.addControlGroups(representationRadioGroup);\r\n}\r\n","import * as GraphVisualizerControls from './graph-visualizer-controls';\r\n\r\nexport default GraphVisualizerControls;\r\n","import { GraphVisualizer } from '../';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { BFS } from 'animation';\r\nimport './bfs.scss';\r\n\r\n\r\nexport default class BFSVisualizer extends GraphVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleUndirectedDirected\"];\r\n\r\n    static VISUALIZATION_CLASS = BFS;\r\n    static DIV_CLASS = \"bfs\";\r\n    static NAME = \"Breadth-First Search\";\r\n\r\n    addControls() {\r\n        GraphControls.addStartVertexField_and_runButton(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addDirectedUndirectedRadio(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import { GraphVisualizer } from '../';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { DFS } from 'animation';\r\nimport './dfs.scss';\r\n\r\n\r\nexport default class DFSVisualizer extends GraphVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleDFStype\", \"toggleUndirectedDirected\"];\r\n\r\n    static VISUALIZATION_CLASS = DFS;\r\n    static DIV_CLASS = \"dfs\";\r\n    static NAME = \"Depth-First Search\";\r\n\r\n    addControls() {\r\n        GraphControls.addStartVertexField_and_runButton(this);\r\n        GraphControls.addDFStypeRadio(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addDirectedUndirectedRadio(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import { GraphVisualizer } from '../';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { Dijkstras } from 'animation';\r\nimport './dijkstras.scss';\r\n\r\n\r\nexport default class DijkstrasVisualizer extends GraphVisualizer {\r\n    static VISUALIZATION_METHODS = [\"toggleUndirectedDirected\"];\r\n\r\n    static VISUALIZATION_CLASS = Dijkstras;\r\n    static DIV_CLASS = \"dijkstras\";\r\n    static NAME = \"Dijkstra's (Shortest Path) Algorithm\";\r\n\r\n    addControls() {\r\n        GraphControls.addStartVertexField_and_runButton(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addDirectedUndirectedRadio(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import { GraphVisualizer } from '../';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { Prims } from 'animation';\r\nimport './prims.scss';\r\n\r\n\r\nexport default class PrimsVisualizer extends GraphVisualizer {\r\n    static VISUALIZATION_CLASS = Prims;\r\n    static DIV_CLASS = \"prims\";\r\n    static NAME = \"Prim's (Minimum Spanning Tree) Algorithm\";\r\n\r\n    addControls() {\r\n        GraphControls.addStartVertexField_and_runButton(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import { GraphVisualizer } from '../';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { Kruskals } from 'animation';\r\nimport './kruskals.scss';\r\n\r\n\r\nexport default class KruskalsVisualizer extends GraphVisualizer {\r\n    static VISUALIZATION_CLASS = Kruskals;\r\n    static DIV_CLASS = \"kruskals\";\r\n    static NAME = \"Kruskal's (Minimum Spanning Tree) Algorithm\";\r\n\r\n    addControls() {\r\n        GraphControls.addRunButton(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import Visualizer from 'components/visualizer';\r\nimport { ControlBuilder } from 'utils';\r\n\r\nimport { LCS } from 'animation';\r\nimport './lcs.scss';\r\n\r\n\r\nexport default class LCSVisualizer extends Visualizer {\r\n    static ADT_NAME = \"lcs\";\r\n    static VISUALIZATION_METHODS = [\"findLCS\"];\r\n\r\n    static VISUALIZATION_CLASS = LCS;\r\n    static DIV_CLASS = \"lcs\";\r\n    static NAME = \"Longest Common Subsequence\";\r\n\r\n    addControls() {\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"firstString\", prompt: \"first string\", callback: false}, ControlBuilder.validatorMaxLength(100));\r\n        ControlBuilder.applyFieldWithOptions(this, {name: \"secondString\", prompt: \"second string\", callback: false}, ControlBuilder.validatorMaxLength(100));\r\n        ControlBuilder.addFieldSubmit(this.firstStringField, this.findLCS,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.secondStringField,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n        ControlBuilder.addFieldSubmit(this.secondStringField, this.findLCS,\r\n                {\r\n                    secondaryRequired: true,\r\n                    secondary: {\r\n                        field: this.firstStringField,\r\n                        isFirstParam: true,\r\n                        clear: true\r\n                    }\r\n                }\r\n            );\r\n\r\n        ControlBuilder.applyNewCallbackButton(this, {name: \"findLCS\", longName: `Find LCS`}, {field: this.firstStringField, focus: true}, this.secondStringField);\r\n\r\n        //set tab order for controls\r\n        ControlBuilder.setTabControl(this.findLCSButton, this.firstStringField);\r\n\r\n        // build groups\r\n        let stringFieldGroup = ControlBuilder.createControlGroup({id: \"findLCStext-field-group\", classes:[\"expanding-group\",\"w50\"]}, this.firstStringField, this.secondStringField);\r\n        let lcsButtonGroup = ControlBuilder.createControlGroup(\"lcs-button-group\", this.findLCSButton);\r\n\r\n        super.addControlGroups(stringFieldGroup, lcsButtonGroup);\r\n    }\r\n}\r\n","import { GraphVisualizer } from 'components/graph-algorithms';\r\nimport GraphControls from 'components/graph-visualizer-controls';\r\n\r\nimport { FloydWarshall } from 'animation';\r\nimport './floyd-warshall.scss';\r\n\r\n\r\nexport default class FloydWarshallVisualizer extends GraphVisualizer {\r\n    static ADT_NAME = \"graph\";\r\n    static VISUALIZATION_METHODS = [\"toggleUndirectedDirected\"];\r\n\r\n    static VISUALIZATION_CLASS = FloydWarshall;\r\n    static DIV_CLASS = \"floyd-warshall\";\r\n    static NAME = \"Floyd Warshall (Shortest Path) Algorithm\";\r\n\r\n    addControls() {\r\n        GraphControls.addRunButton(this);\r\n        GraphControls.addNewGraphButtons(this);\r\n        GraphControls.addDirectedUndirectedRadio(this);\r\n        GraphControls.addRepresentationRadio(this);\r\n    }\r\n}\r\n","import { default as ArrayListVisualizer } from 'components/lists/arraylist';\r\nimport { default as SinglyLinkedListVisualizer } from 'components/lists/singly-linked-list';\r\nimport { default as DoublyLinkedListVisualizer } from 'components/lists/doubly-linked-list';\r\nimport { default as CircularSinglyLinkedListVisualizer } from 'components/lists/circular-singly-linked-list';\r\n\r\nimport { default as StackArrayVisualizer } from 'components/stacks-queues-deques/stack-array';\r\nimport { default as StackLinkedListVisualizer } from 'components/stacks-queues-deques/stack-linked-list';\r\nimport { default as QueueArrayVisualizer } from 'components/stacks-queues-deques/queue-array';\r\nimport { default as QueueLinkedListVisualizer } from 'components/stacks-queues-deques/queue-linked-list';\r\nimport { default as DequeArrayVisualizer } from 'components/stacks-queues-deques/deque-array';\r\nimport { default as DequeLinkedListVisualizer } from 'components/stacks-queues-deques/deque-linked-list';\r\n\r\nimport { default as BSTVisualizer } from 'components/trees-skiplist/bst';\r\nimport { default as HeapVisualizer } from 'components/trees-skiplist/heap';\r\nimport { default as AVLVisualizer } from 'components/trees-skiplist/avl';\r\nimport { default as SplayTreeVisualizer } from 'components/trees-skiplist/splaytree';\r\nimport { default as BTreeVisualizer } from 'components/trees-skiplist/btree';\r\nimport { default as SkipListVisualizer } from 'components/trees-skiplist/skiplist';\r\n\r\nimport { default as HashMapProbingVisualizer } from 'components/hashmaps/hashmap-probing';\r\nimport { default as HashMapChainingVisualizer } from 'components/hashmaps/hashmap-chaining';\r\n\r\nimport { default as BubbleSortVisualizer } from 'components/sorting-quickselect/bubble-sort';\r\nimport { default as CocktailShakerSortVisualizer } from 'components/sorting-quickselect/cocktail-shaker-sort';\r\nimport { default as InsertionSortVisualizer } from 'components/sorting-quickselect/insertion-sort';\r\nimport { default as SelectionSortVisualizer } from 'components/sorting-quickselect/selection-sort';\r\nimport { default as QuickSortVisualizer } from 'components/sorting-quickselect/quick-sort';\r\nimport { default as QuickSelectVisualizer } from 'components/sorting-quickselect/quick-select';\r\nimport { default as MergeSortVisualizer } from 'components/sorting-quickselect/merge-sort';\r\nimport { default as LSDRadixSortVisualizer } from 'components/sorting-quickselect/lsd-radix-sort';\r\n\r\nimport { default as BruteForceVisualizer } from 'components/string-searching/brute-force';\r\nimport { default as BoyerMooreVisualizer } from 'components/string-searching/boyer-moore';\r\nimport { default as KMPVisualizer } from 'components/string-searching/kmp';\r\nimport { default as RabinKarpVisualizer } from 'components/string-searching/rabin-karp';\r\n\r\nimport { default as BFSVisualizer } from 'components/graph-algorithms/bfs';\r\nimport { default as DFSVisualizer } from 'components/graph-algorithms/dfs';\r\nimport { default as DijkstrasVisualizer } from 'components/graph-algorithms/dijkstras';\r\nimport { default as PrimsVisualizer } from 'components/graph-algorithms/prims';\r\nimport { default as KruskalsVisualizer } from 'components/graph-algorithms/kruskals';\r\n\r\nimport { default as LCSVisualizer } from 'components/dynamic-programming/lcs';\r\nimport { default as FloydWarshallVisualizer } from 'components/dynamic-programming/floyd-warshall';\r\n\r\nexport const SiteMap =\r\n[\r\n    {\r\n        link: \"datastructures\",\r\n        icon: \"sitemap\",\r\n        title_text: \"Data Structures\",\r\n        types: [\r\n            {\r\n                link: \"lists\",\r\n                title_text: \"Lists\",\r\n                classes: [\r\n                    {\r\n                        link: \"arraylist\",\r\n                        title_text: \"ArrayList\",\r\n                        component: ArrayListVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"add\", \"remove\", \"get\"],\r\n                                cols: [\"Front\", \"AtIndex(i)\", \"Back\"],\r\n                                col1Name: \"Operation\",\r\n                                add_Front: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                add_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                add_Back: {\r\n                                    amortized: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                remove_Front: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                remove_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                remove_Back: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                get: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"sll\",\r\n                        title_text: \"Singly LinkedList\",\r\n                        component: SinglyLinkedListVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"add\", \"remove\", \"get\"],\r\n                                cols: [\"Front\", \"AtIndex(i)\", \"Back\"],\r\n                                col1Name: \"Operation\",\r\n                                add_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                add_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                add_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                remove_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                remove_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                remove_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                get_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                get_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                get_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                            },\r\n                            withTailConfig: {\r\n                                name: \"With Tail Pointer\",\r\n                                add_Back: {\r\n                                    newBigO: \"O(1)\",\r\n                                },\r\n                                get_Back: {\r\n                                    newBigO: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"dll\",\r\n                        title_text: \"Doubly LinkedList\",\r\n                        component: DoublyLinkedListVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"add\", \"remove\", \"get\"],\r\n                                cols: [\"Front\", \"AtIndex(i)\", \"Back\"],\r\n                                col1Name: \"Operation\",\r\n                                add_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                add_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                add_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                remove_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                remove_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                remove_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                get_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                get_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                get_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                            },\r\n                            withTailConfig: {\r\n                                name: \"With Tail Pointer\",\r\n                                Back: {\r\n                                    newBigO: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"c-sll\",\r\n                        title_text: \"Circular Singly LinkedList\",\r\n                        component: CircularSinglyLinkedListVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"add\", \"remove\", \"get\"],\r\n                                cols: [\"Front\", \"AtIndex(i)\", \"Back\"],\r\n                                col1Name: \"Operation\",\r\n                                add_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                add_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                add_Back: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                remove_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                remove_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                remove_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                get_Front: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                get_AtIndex: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                get_Back: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                            },\r\n                            withTailConfig: {\r\n                                name: \"With Tail Pointer\",\r\n                                get_Back: {\r\n                                    newBigO: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"stacks-queues-deques\",\r\n                title_text: \"Stacks/Queues/Deques\",\r\n                bigOOverride: \"ADT_INFOS\",\r\n                bigOData: [\r\n                    {\r\n                        title_text: \"Stack\",\r\n                        class: \"stack-array\"\r\n                    },\r\n                    {\r\n                        title_text: \"Queue\",\r\n                        class: \"queue-array\"\r\n                    },\r\n                    {\r\n                        title_text: \"Deque\",\r\n                        class: \"deque-array\"\r\n                    },\r\n                ],\r\n                classes: [\r\n                    {\r\n                        link: \"stack-array\",\r\n                        title_text: \"Stack (Array)\",\r\n                        component: StackArrayVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Array\", \"LinkedList\"],\r\n                                cols: [\"push\", \"pop\", \"peek\"],\r\n                                col1Name: \"Backing Structure\",\r\n                                Array_push: {\r\n                                    amortized: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                Array_pop: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                Array_peek: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                LinkedList: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"stack-linkedlist\",\r\n                        title_text: \"Stack (LinkedList)\",\r\n                        component: StackLinkedListVisualizer,\r\n                        bigOData: [\"datastructures\", \"stacks-queues-deques\", \"stack-array\"],\r\n                    },\r\n                    {\r\n                        link: \"queue-array\",\r\n                        title_text: \"Queue (Array)\",\r\n                        component: QueueArrayVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Circular Array\", \"SinglyLinkedList\", \"DoublyLinkedList\"],\r\n                                cols: [\"enqueue\", \"dequeue\", \"peek\"],\r\n                                col1Name: \"Backing Structure\",\r\n                                Circular_enqueue: {\r\n                                    amortized: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                Circular_dequeue: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                Circular_peek: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                SinglyLinkedList_enqueue: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                SinglyLinkedList_dequeue: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                SinglyLinkedList_peek: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                DoublyLinkedList_enqueue: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                DoublyLinkedList_dequeue: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                DoublyLinkedList_peek: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                            withTailConfig: {\r\n                                name: \"With Tail Pointer\",\r\n                                SinglyLinkedList_enqueue: {\r\n                                    newBigO: \"O(1)\",\r\n                                },\r\n                                DoublyLinkedList_enqueue: {\r\n                                    newBigO: \"O(1)\",\r\n                                },\r\n                            }\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"queue-linkedlist\",\r\n                        title_text: \"Queue (LinkedList)\",\r\n                        component: QueueLinkedListVisualizer,\r\n                        bigOData: [\"datastructures\", \"stacks-queues-deques\", \"queue-array\"],\r\n                    },\r\n                    {\r\n                        link: \"deque-array\",\r\n                        title_text: \"Deque (Array)\",\r\n                        component: DequeArrayVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Circular Array\", \"DLL w/ Tail Pointer\"],\r\n                                cols: [\"addFirst\", \"addLast\", \"removeFirst\", \"removeLast\"],\r\n                                col1Name: \"Backing Structure\",\r\n                                Circular_addFirst: {\r\n                                    amortized: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                Circular_addLast: {\r\n                                    amortized: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                Circular_removeFirst: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                Circular_removeLast: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                DLL: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"deque-linkedlist\",\r\n                        title_text: \"Deque (LinkedList)\",\r\n                        component: DequeLinkedListVisualizer,\r\n                        bigOData: [\"datastructures\", \"stacks-queues-deques\", \"deque-array\"],\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"trees-skiplist\",\r\n                title_text: \"Trees and SkipList\",\r\n                classes: [\r\n                    {\r\n                        link: \"bst\",\r\n                        title_text: \"Binary Search Tree\",\r\n                        component: BSTVisualizer,\r\n                        examples: [\r\n                            {\r\n                                exampleText: \"To get a degenerate BST, add ascending/descending data, such as 1,2,3,...\",\r\n                                tryItText: \"Add 100,200,300\",\r\n                                operationList: [\r\n                                    { methodName: \"insert\", params: [1], },\r\n                                    { methodName: \"insert\", params: [2], },\r\n                                    { methodName: \"insert\", params: [3], },\r\n                                ],\r\n                                needsReset: true,\r\n                            },\r\n                            {\r\n                                exampleText: \"To get a full BST, you can add 2,1,4,3,5, in that order\",\r\n                                tryItText: \"Add 200,100,400,300,500\",\r\n                                operationList: [\r\n                                    { methodName: \"insert\", params: [200], },\r\n                                    { methodName: \"insert\", params: [100], },\r\n                                    { methodName: \"insert\", params: [400], },\r\n                                    { methodName: \"insert\", params: [300], },\r\n                                    { methodName: \"insert\", params: [500], },\r\n                                ],\r\n                                needsReset: true,\r\n                            },\r\n                            {\r\n                                exampleText: \"To get a complete BST, you can add 3,2,4,1, in that order\",\r\n                                tryItText: \"Add 300,200,400,100\",\r\n                                operationList: [\r\n                                    { methodName: \"insert\", params: [300], },\r\n                                    { methodName: \"insert\", params: [200], },\r\n                                    { methodName: \"insert\", params: [400], },\r\n                                    { methodName: \"insert\", params: [100], },\r\n                                ],\r\n                                needsReset: true,\r\n                            },\r\n                            {\r\n                                exampleText: \"To get a full and complete BST, you can add 4,2,5,1,3, in that order\",\r\n                                tryItText: \"Add 400,200,500,100,300\",\r\n                                operationList: [\r\n                                    { methodName: \"insert\", params: [400], },\r\n                                    { methodName: \"insert\", params: [200], },\r\n                                    { methodName: \"insert\", params: [500], },\r\n                                    { methodName: \"insert\", params: [100], },\r\n                                    { methodName: \"insert\", params: [300], },\r\n                                ],\r\n                                needsReset: true,\r\n                            },\r\n                        ],\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Efficiency\"],\r\n                                cols: [\"add\", \"remove\", \"search\", \"height\", \"traversal\"],\r\n                                col1Name: \"\",\r\n                                add: {\r\n                                    average: \"O(log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                remove: {\r\n                                    average: \"O(log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                search: {\r\n                                    best: \"O(1)\",\r\n                                    average: \"O(log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                height: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                traversal: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"heap-pq\",\r\n                        title_text: \"Heap / Priority Queue\",\r\n                        component: HeapVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Efficiency\"],\r\n                                cols: [\"add\", \"remove\", \"search\", \"upHeap\", \"downHeap\", \"buildHeap\"],\r\n                                col1Name: \"\",\r\n                                add: {\r\n                                    best: \"O(1)\",\r\n                                    amortized: \"O(log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                remove: {\r\n                                    best: \"O(1)\",\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                search: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                upHeap: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                downHeap: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                buildHeap: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"avl\",\r\n                        title_text: \"AVL\",\r\n                        component: AVLVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Efficiency\"],\r\n                                cols: [\"add\", \"remove\", \"search\", \"single rotation\", \"double rotation\"],\r\n                                col1Name: \"\",\r\n                                add: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                remove: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                search: {\r\n                                    best: \"O(1)\",\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                single: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                                double: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"24-tree\",\r\n                        title_text: \"2-4 Tree\",\r\n                        component: BTreeVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Efficiency\"],\r\n                                cols: [\"add\", \"remove\", \"search\"],\r\n                                col1Name: \"\",\r\n                                add: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                remove: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                search: {\r\n                                    best: \"O(1)\",\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"splaytree\",\r\n                        title_text: \"SplayTree\",\r\n                        component: SplayTreeVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Efficiency\"],\r\n                                cols: [\"add\", \"remove\", \"search\"],\r\n                                col1Name: \"\",\r\n                                add: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                remove: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                                search: {\r\n                                    average: \"O(log(n))\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"skiplist\",\r\n                        title_text: \"SkipList\",\r\n                        component: SkipListVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Efficiency\"],\r\n                                cols: [\"add\", \"remove\", \"search\", \"Space\"],\r\n                                col1Name: \"\",\r\n                                add: {\r\n                                    average: \"O(log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                remove: {\r\n                                    average: \"O(log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                search: {\r\n                                    best: \"O(1)\",\r\n                                    average: \"O(log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                Space: {\r\n                                    average: \"O(n)\",\r\n                                    worst: \"O(n log(n))\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"hashmaps\",\r\n                title_text: \"HashMaps\",\r\n                classes: [\r\n                    {\r\n                        link: \"hashmap-probing\",\r\n                        title_text: \"HashMap (Probing)\",\r\n                        component: HashMapProbingVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"linear/quadratic\", \"double hash\"],\r\n                                cols: [\"put\", \"remove\", \"search\"],\r\n                                col1Name: \"Probing Method\",\r\n                                explanation: \"requires good hash function and tolerant load factor\",\r\n                                put: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                    unamortized: \"O(n)\",\r\n                                },\r\n                                remove: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                search: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"hashmap-chaining\",\r\n                        title_text: \"HashMap (Chaining)\",\r\n                        component: HashMapChainingVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"LinkedList Chaining\", \"AVL Chaining\"],\r\n                                cols: [\"put\", \"remove\", \"search\"],\r\n                                col1Name: \"External Chain Type\",\r\n                                explanation: \"requires good hash function and tolerant load factor\",\r\n                                LinkedList_put: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                LinkedList_remove: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                LinkedList_search: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(n)\",\r\n                                },\r\n                                AVL_put: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(log(n))\",\r\n                                },\r\n                                AVL_remove: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(log(n))\",\r\n                                },\r\n                                AVL_search: {\r\n                                    average: \"O(1)\",\r\n                                    worst: \"O(log(n))\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n        ],\r\n    },\r\n    {\r\n        link: \"algorithms\",\r\n        icon: [\"fas\",\"code-branch\"],\r\n        title_text: \"Algorithms\",\r\n        types: [\r\n            {\r\n                link: \"sorting-quickselect\",\r\n                title_text: \"Sorting and QuickSelect\",\r\n                bigOOverride: \"MERGE_ROWS\",\r\n                classes: [\r\n                    {\r\n                        link: \"bubble-sort\",\r\n                        title_text: \"Bubble Sort\",\r\n                        component: BubbleSortVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Adaptive\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    best: \"O(n)\",\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                Stable: [\"fas\", \"check-circle\"],\r\n                                Adaptive: [\"fas\", \"check-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"cocktail-shaker-sort\",\r\n                        title_text: \"Cocktail Shaker Sort\",\r\n                        component: CocktailShakerSortVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Adaptive\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    best: \"O(n)\",\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                Stable: [\"fas\", \"check-circle\"],\r\n                                Adaptive: [\"fas\", \"check-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"insertion-sort\",\r\n                        title_text: \"Insertion Sort\",\r\n                        component: InsertionSortVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Adaptive\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    best: \"O(n)\",\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                Stable: [\"fas\", \"check-circle\"],\r\n                                Adaptive: [\"fas\", \"check-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"selection-sort\",\r\n                        title_text: \"Selection Sort\",\r\n                        component: SelectionSortVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Adaptive\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                                Stable: [\"fas\", \"times-circle\"],\r\n                                Adaptive: [\"fas\", \"times-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"quick-sort\",\r\n                        title_text: \"Quick Sort\",\r\n                        component: QuickSortVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Adaptive\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    average: \"O(n log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                    explanation: \"worst O(n): pivot always @ min/max\",\r\n                                },\r\n                                Stable: [\"fas\", \"times-circle\"],\r\n                                Adaptive: [\"fas\", \"times-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"kth-select\",\r\n                        title_text: \"k Select / Quick Select\",\r\n                        component: QuickSelectVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    average: \"O(n log(n))\",\r\n                                    worst: \"O(n)\",\r\n                                    explanation: \"worst O(n): pivot always @ min/max\",\r\n                                },\r\n                                Stable: [\"fas\", \"times-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(1)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"merge-sort\",\r\n                        title_text: \"Merge Sort\",\r\n                        component: MergeSortVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Adaptive\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    average: \"O(n log(n))\",\r\n                                },\r\n                                Stable: [\"fas\", \"check-circle\"],\r\n                                Adaptive: [\"fas\", \"times-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(n)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"lsd-radix-sort\",\r\n                        title_text: \"LSD Radix Sort\",\r\n                        component: LSDRadixSortVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Stable\", \"Adaptive\", \"Extra Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    average: \"O(nk)\",\r\n                                },\r\n                                Stable: [\"fas\", \"check-circle\"],\r\n                                Adaptive: [\"fas\", \"times-circle\"],\r\n                                Extra: {\r\n                                    average: \"O(n+k)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"string-searching\",\r\n                title_text: \"String Searching\",\r\n                bigOOverride: \"MERGE_ROWS\",\r\n                classes: [\r\n                    {\r\n                        link: \"brute-force\",\r\n                        title_text: \"Brute Force\",\r\n                        component: BruteForceVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"No Matches\", \"Single Occurrence\", \"All Occurrences\", \"General\"],\r\n                                col1Name: \"\",\r\n                                No: {\r\n                                    best: \"O(n)\",\r\n                                    explanation: \"mismatches always at first character of pattern\",\r\n                                },\r\n                                Single: {\r\n                                    best: \"O(m)\",\r\n                                    explanation: \"match at beginning of text\",\r\n                                },\r\n                                All: {\r\n                                    best: \"O(mn)\",\r\n                                },\r\n                                General: {\r\n                                    average: \"O(mn)\",\r\n                                    worst: \"O(mn)\",\r\n                                    explanation: \"mismatches always at last character of pattern\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"boyer-moore\",\r\n                        title_text: \"Boyer Moore\",\r\n                        component: BoyerMooreVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Single Occurrence\", \"All Occurrences\", \"General\"],\r\n                                col1Name: \"\",\r\n                                Single: {\r\n                                    best: \"O(m)\",\r\n                                    explanation: \"match at beginning of text\",\r\n                                },\r\n                                All: {\r\n                                    best: \"O(m+n/m)\",\r\n                                    explanation: \"O(m): building last occurrence table\\nO(n/m): best case tracing\",\r\n                                    tier: 3,\r\n                                },\r\n                                General: {\r\n                                    worst: \"O(mn)\",\r\n                                    explanation: \"average: implementation dependent\\nworst O(mn): mismatches always at first character of pattern\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"kmp\",\r\n                        title_text: \"KMP\",\r\n                        component: KMPVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Single Occurrence\", \"All Occurrences\", \"General\"],\r\n                                col1Name: \"\",\r\n                                Single: {\r\n                                    best: \"O(m)\",\r\n                                    explanation: \"match at beginning of text\",\r\n                                },\r\n                                All: {\r\n                                    best: \"O(m+n)\",\r\n                                },\r\n                                General: {\r\n                                    average: \"O(m+n)\",\r\n                                    worst: \"O(m+n)\",\r\n                                    explanation: \"O(m) creating failure table\\nO(n) tracing\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"rabin-karp\",\r\n                        title_text: \"Rabin Karp\",\r\n                        component: RabinKarpVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Single Occurrence\", \"All Occurrences\", \"General\"],\r\n                                col1Name: \"\",\r\n                                Single: {\r\n                                    best: \"O(m)\",\r\n                                    explanation: \"match at beginning of text\",\r\n                                },\r\n                                All: {\r\n                                    best: \"O(m+n)\",\r\n                                },\r\n                                General: {\r\n                                    average: \"O(m+n)\",\r\n                                    worst: \"O(mn)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"graphs\",\r\n                title_text: \"Graph Algorithms\",//do custom big o data ----- each gets time and space\r\n                bigOOverride: \"MERGE_COLS|EXTRA_TABLES\",\r\n                bigOData: [\r\n                    {\r\n                        title_text: \"Graph Structure Performance\",\r\n                        data: {\r\n                            rows: [\"Space\", \"incidentEdges(u)\", \"areAdjacent(u,w)\", \"insertVertex(data)\", \"insertEdge(u,w,f)\", \"removeVertex(u)\", \"removeEdge(f)\"],\r\n                            cols: [\"AdjacencyList\", \"AdjacencyMatrix\", \"EdgeList\"],\r\n                            col1Name: \"Operation\",\r\n                            insertEdge: {\r\n                                average: \"O(1)\",\r\n                            },\r\n                            removeEdge: {\r\n                                average: \"O(1)\",\r\n                            },\r\n                            AdjacencyMatrix: {\r\n                                average: \"O(v)\",\r\n                                tier: 5,\r\n                            },\r\n                            EdgeList: {\r\n                                average: \"O(e)\",\r\n                                tier: 3,\r\n                            },\r\n                            Space_AdjacencyList: {\r\n                                average: \"O(v+e)\",\r\n                                tier: 4,\r\n                            },\r\n                            Space_EdgeList: {\r\n                                average: \"O(v+e)\",\r\n                                tier: 4,\r\n                            },\r\n                            incidentEdges_AdjacencyList: {\r\n                                average: \"O(deg(u))\",\r\n                                tier: 2,\r\n                            },\r\n                            incidentEdges_AdjacencyMatrix: {\r\n                                average: \"O(v)\",\r\n                                tier: 3,\r\n                            },\r\n                            areAdjacent_AdjacencyList: {\r\n                                average: \"O(min(deg(u),deg(w)))\",\r\n                                tier: 2,\r\n                            },\r\n                            areAdjacent_AdjacencyMatrix: {\r\n                                average: \"O(1)\",\r\n                            },\r\n                            insertVertex_AdjacencyList: {\r\n                                average: \"O(1)\",\r\n                            },\r\n                            insertVertex_EdgeList: {\r\n                                average: \"O(1)\",\r\n                            },\r\n                            removeVertex_AdjacencyList: {\r\n                                average: \"O(deg(v))\",\r\n                                tier: 2,\r\n                            },\r\n                        }\r\n                    }\r\n                ],\r\n                classes: [\r\n                    {\r\n                        link: \"bfs\",\r\n                        title_text: \"Breadth-First Search\",\r\n                        component: BFSVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    worst: \"O(v+e)\",\r\n                                    tier: 3,\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"dfs\",\r\n                        title_text: \"Depth-First Search\",\r\n                        component: DFSVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    worst: \"O(v+e)\",\r\n                                    tier: 3,\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"dijkstras\",\r\n                        title_text: \"Dijkstra's\",\r\n                        component: DijkstrasVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    worst: \"O((v+e)log(v))\",\r\n                                    tier: 4,\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"prims\",\r\n                        title_text: \"Prim's\",\r\n                        component: PrimsVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    worst: \"O((v+e)log(v))\",\r\n                                    tier: 4,\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"kruskals\",\r\n                        title_text: \"Kruskal's\",\r\n                        component: KruskalsVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    worst: \"O(e log(v))\",\r\n                                    tier: 4,\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                link: \"dynamic\",\r\n                title_text: \"Dynamic Programming\",\r\n                classes: [\r\n                    {\r\n                        link: \"lcs\",\r\n                        title_text: \"LCS\",\r\n                        component: LCSVisualizer,\r\n                        bigOData: {//do time and space\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    average: \"O(mn)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                    {\r\n                        link: \"floyd-warshall\",\r\n                        title_text: \"Floyd-Warshall\",\r\n                        component: FloydWarshallVisualizer,\r\n                        bigOData: {\r\n                            defaultConfig: {\r\n                                rows: [\"Specs\"],\r\n                                cols: [\"Time\", \"Space\"],\r\n                                col1Name: \"\",\r\n                                Time: {\r\n                                    average: \"O(v)\",\r\n                                },\r\n                                Space: {\r\n                                    average: \"O(v)\",\r\n                                },\r\n                            },\r\n                        },\r\n                    },\r\n                ],\r\n            },\r\n        ],\r\n    },\r\n    {\r\n        link: \"about\",\r\n        icon: \"user\",\r\n        title_text: \"About\",\r\n    },\r\n];\r\n","import React, { Component } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport './nav-bar.scss';\r\n\r\nimport logo from 'res/images/logo.svg';\r\n\r\nimport { Utils } from 'utils';\r\n\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { fas } from '@fortawesome/free-solid-svg-icons';\r\nimport { far } from '@fortawesome/free-regular-svg-icons';\r\nimport { fab } from '@fortawesome/free-brands-svg-icons';\r\n\r\nlibrary.add(fas, far, fab);\r\n\r\nexport default class NavBar extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            responsive: false,\r\n        };\r\n\r\n        this.selfRef = React.createRef();\r\n        this.handleDocumentClick = this.handleDocumentClick.bind(this);\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    scrollToTop() {\r\n        document.body.scrollTop = 0; // For Safari\r\n        document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera\r\n        // console.log(\"scrolltotop\");\r\n    }\r\n\r\n    toggleResponsiveNav() {\r\n        this.setState((state) => {\r\n                return {\r\n                    responsive: !state.responsive,\r\n                };\r\n            });\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        document.addEventListener(\"mousedown\", this.handleDocumentClick);\r\n        // console.log(this.state.parentNavItem);\r\n    }\r\n    componentWillUnmount() {\r\n        document.removeEventListener(\"mousedown\", this.handleDocumentClick);\r\n    }\r\n    handleDocumentClick(event) {\r\n        // console.log(\"doc clicked nav title\");\r\n        // console.log(this.state.containingNavItemRef);\r\n        // console.log(this.state.containingNavItemRef.current);\r\n        if (this.selfRef.current && !this.selfRef.current.contains(event.target)) {\r\n            // console.log(\"outside nav title\");\r\n            this.clear();\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.setState({responsive: false});\r\n        this.scrollToTop();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div id=\"top-nav\" className={`nav-bar ${this.state.responsive ? \"responsive\" : \"\"} nav-container`} ref={this.selfRef}>\r\n                    <Link className=\"not-a-button\" id=\"nav-logo\" to={window.location.href.substring(window.location.href.indexOf(\"/#/\")).length > 0 ? \"/\" : \"\" }><img src={logo} className=\"app-logo\" alt=\"logo\" /></Link>\r\n                    {this.props.nav_items.map( (nav_item) => {\r\n                        return (\r\n                                <NavBarItem key={`nav-${nav_item.link}`} content={nav_item} container={this}/>\r\n                            );\r\n                    })}\r\n                    <button className=\"not-a-button nav-bar-item nav-item nav-item-title\" id=\"top-nav-menu\" onClick={() => this.toggleResponsiveNav()}><FontAwesomeIcon icon={\"bars\"} fixedWidth size={\"sm\"} /></button>\r\n                </div>\r\n            );\r\n    }\r\n}\r\n\r\nclass NavBarItem extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            link: this.props.content.link,\r\n            icon: this.props.content.icon,\r\n            title_text: this.props.content.title_text,\r\n            drop_down_items: this.props.content.types,\r\n        };\r\n\r\n        this.selfRef = React.createRef();\r\n\r\n        if (this.state.drop_down_items) {\r\n            this.state.showDropDown = false;\r\n        }\r\n\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    setShowDropDown(show) {\r\n        if (this.state.drop_down_items) {\r\n            this.setState( (state) => {\r\n                return {\r\n                    showDropDown: show,\r\n                }\r\n            }, () => {\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    toggleShowDropDown(show) {\r\n        if (this.state.drop_down_items) {\r\n            this.setState( (state) => {\r\n                return {\r\n                    showDropDown: !state.showDropDown,\r\n                }\r\n            }, () => {\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.setShowDropDown(false);\r\n        this.props.container.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className={`nav-bar-item nav-item ${this.state.drop_down_items && this.state.showDropDown ? \"active\" : \"\"}`} ref={this.selfRef}>\r\n                    <NavBarItemTitle link={this.state.link} icon={this.state.icon} title_text={this.state.title_text} parentRef={this.selfRef} parent={this} />\r\n                    {this.state.drop_down_items && this.state.showDropDown ?\r\n                        <NavBarDropDown items={this.state.drop_down_items} parentRoute={`/${this.state.link}`} parent={this} />\r\n                    :\r\n                        null\r\n                    }\r\n                </div>\r\n            );\r\n    }\r\n\r\n}\r\n\r\nclass NavBarItemTitle extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            link: this.props.link,\r\n            icon: this.props.icon,\r\n            title_text: this.props.title_text,\r\n            parentNavItem: this.props.parent,\r\n        };\r\n\r\n        this.handleDocumentClick = this.handleDocumentClick.bind(this);\r\n        this.onMouseDown = this.onMouseDown.bind(this);\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({containingNavItemRef: this.props.parentRef}, () => {\r\n            // console.log(this.state.containingNavItemRef);\r\n        });\r\n        document.addEventListener(\"mousedown\", this.handleDocumentClick);\r\n        // console.log(this.state.parentNavItem);\r\n    }\r\n    componentWillUnmount() {\r\n        document.removeEventListener(\"mousedown\", this.handleDocumentClick);\r\n    }\r\n    handleDocumentClick(event) {\r\n        // console.log(\"doc clicked nav title\");\r\n        // console.log(this.state.containingNavItemRef);\r\n        // console.log(this.state.containingNavItemRef.current);\r\n        if (this.state.containingNavItemRef.current && !this.state.containingNavItemRef.current.contains(event.target)) {\r\n            // console.log(\"outside nav title\");\r\n            this.state.parentNavItem.setShowDropDown(false);\r\n        }\r\n    }\r\n\r\n    onMouseDown(e) {\r\n        if (e.nativeEvent.which === 1) {\r\n            if (this.state.parentNavItem.state.showDropDown || !this.state.parentNavItem.state.drop_down_items) {\r\n                window.location.hash = `#/${this.state.parentNavItem.state.link}`;\r\n                this.clear();\r\n            } else {\r\n                this.state.parentNavItem.setShowDropDown(true);\r\n            }\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.state.parentNavItem.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                this.state.parentNavItem.state.drop_down_items ?\r\n                    <div onMouseDown={this.onMouseDown} className=\"nav-bar-item-title nav-item-title\" id={`nav-${this.state.link}`}><FontAwesomeIcon icon={this.state.icon} fixedWidth size={this.state.icon.includes(\"stack-overflow\") ? \"1x\" : \"sm\"} /> {this.state.title_text}</div>\r\n                :\r\n                    <Link onMouseDown={this.onMouseDown} className=\"nav-bar-item-title nav-item-title\" id={`nav-${this.state.link}`} to={`/${this.state.link}`}><FontAwesomeIcon icon={this.state.icon} fixedWidth size={this.state.icon.includes(\"stack-overflow\") ? \"1x\" : \"sm\"} /> {this.state.title_text}</Link>\r\n            );\r\n    }\r\n}\r\n\r\nclass NavBarDropDown extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            drop_down_items: this.props.items,\r\n            parentNavItem: this.props.parent,\r\n        };\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    clear() {\r\n        this.state.parentNavItem.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"nav-bar-drop-down nav-container\"> {\r\n                    this.state.drop_down_items.map( (drop_down_item) => {\r\n                    return (\r\n                            <NavBarDropDownItem key={`nav-${drop_down_item.link}`} content={drop_down_item} parent={this} parentRoute={this.props.parentRoute} />\r\n                        );\r\n                })} </div>\r\n            );\r\n    }\r\n}\r\n\r\nclass NavBarDropDownItem extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            link: this.props.content.link,\r\n            title_text: this.props.content.title_text,\r\n            side_pane_items: this.props.content.classes,\r\n            parentRoute: this.props.parentRoute,\r\n            parent: this.props.parent,\r\n        };\r\n\r\n        this.selfRef = React.createRef();\r\n\r\n        if (this.state.side_pane_items) {\r\n            this.state.showSidePane = false;\r\n        }\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    setShowSidePane(show) {\r\n        if (this.state.side_pane_items) {\r\n            this.setState( (state) => {\r\n                return {\r\n                    showSidePane: show,\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    toggleShowSidePane(show) {\r\n        if (this.state.side_pane_items) {\r\n            this.setState( (state) => {\r\n                return {\r\n                    showSidePane: !state.showSidePane,\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    onMouseDown() {\r\n        this.toggleShowSidePane();\r\n    }\r\n\r\n    clear() {\r\n        this.setShowSidePane(false);\r\n        this.state.parent.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className={`nav-bar-drop-down-item nav-item ${this.state.side_pane_items && this.state.showSidePane ? \"active\": \"\"}`} ref={this.selfRef}>\r\n                    <NavBarDropDownItemTitle link={this.state.link} parentRoute={this.state.parentRoute} title_text={this.state.title_text} parentRef={this.selfRef} parent={this} />\r\n                    {this.state.side_pane_items && this.state.showSidePane ?\r\n                        <NavBarSidePane items={this.state.side_pane_items} parentRoute={`${this.props.parentRoute}/${this.state.link}`} parent={this}></NavBarSidePane>\r\n                    :\r\n                        null\r\n                    }\r\n                </div>\r\n            );\r\n    }\r\n\r\n}\r\n\r\nclass NavBarDropDownItemTitle extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            link: this.props.link,\r\n            parentRoute: this.props.parentRoute,\r\n            title_text: this.props.title_text,\r\n            // containingDropDownItemRef: this.props.parentRef,\r\n            parentDropDownItem: this.props.parent,\r\n        };\r\n\r\n        this.handleDocumentClick = this.handleDocumentClick.bind(this);\r\n        this.onMouseDown = this.onMouseDown.bind(this);\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({containingDropDownItemRef: this.props.parentRef}, () => {\r\n            // console.log(this.state.containingDropDownItemRef);\r\n        });\r\n        document.addEventListener(\"mousedown\", this.handleDocumentClick);\r\n        // console.log(this.state.parentDropDownItem);\r\n    }\r\n    componentWillUnmount() {\r\n        document.removeEventListener(\"mousedown\", this.handleDocumentClick);\r\n    }\r\n    handleDocumentClick(event) {\r\n        // console.log(\"doc clicked nav title\");\r\n        // console.log(this.state.containingDropDownItemRef);\r\n        // console.log(this.state.containingDropDownItemRef.current);\r\n        if (this.state.containingDropDownItemRef.current && !this.state.containingDropDownItemRef.current.contains(event.target)) {\r\n            // console.log(\"outside nav title\");\r\n            this.state.parentDropDownItem.setShowSidePane(false);\r\n        }\r\n    }\r\n\r\n    onMouseDown(e) {\r\n        if (e.nativeEvent.which === 1) {\r\n            if (this.state.parentDropDownItem.state.showSidePane) {\r\n                window.location.hash = `#${this.state.parentRoute}/${this.state.link}`;\r\n                this.clear();\r\n            } else {\r\n                this.state.parentDropDownItem.toggleShowSidePane();\r\n            }\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.state.parentDropDownItem.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                this.state.parentDropDownItem.state.side_pane_items ?\r\n                    <div onMouseDown={this.onMouseDown} className=\"nav-bar-drop-down-item-title nav-item-title\" id={`nav-${this.state.link}`}>\r\n                        {Utils.spannifyText(this.state.title_text,\"/\")}\r\n                    </div>\r\n                :\r\n                    <Link onMouseDown={this.clear} className=\"nav-bar-drop-down-item-title nav-item-title\" id={`nav-${this.state.link}`} to={`${this.state.parentRoute}/${this.state.link}`}>{this.state.title_text}</Link>\r\n            );\r\n    }\r\n}\r\n\r\nclass NavBarSidePane extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n            side_pane_items: this.props.items,\r\n            parentDropDownItem: this.props.parent,\r\n        };\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    clear() {\r\n        this.state.parentDropDownItem.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"nav-bar-side-pane nav-container\"> {\r\n                    this.state.side_pane_items.map( (side_pane_item) => {\r\n                        return (\r\n                                <NavBarSideItem key={`nav-${side_pane_item.link}`} content={side_pane_item} parentRoute={this.props.parentRoute} parent={this} />\r\n                            );\r\n                })} </div>\r\n            );\r\n    }\r\n}\r\n\r\n\r\nclass NavBarSideItem extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            link: this.props.content.link,\r\n            title_text: this.props.content.title_text,\r\n            parentRoute: this.props.parentRoute,\r\n            parent: this.props.parent,\r\n        };\r\n\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    clear() {\r\n        window.location.hash = `#${this.state.parentRoute}/${this.state.link}`;\r\n        this.state.parent.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"nav-bar-side-item nav-item\">\r\n                    <Link onMouseDown={this.clear} className=\"nav-bar-side-pane-item-title nav-item-title\" id={`nav-${this.state.link}`} to={`${this.state.parentRoute}/${this.state.link}`}>{this.state.title_text}</Link>\r\n                </div>\r\n            );\r\n    }\r\n\r\n}\r\n","import React from 'react';\r\nimport './app-header.scss';\r\nimport NavBar from '../nav-bar';\r\nimport { SiteMap } from 'utils';\r\n\r\nexport default function AppHeader() {\r\n    return (\r\n            <header className=\"app-header\">\r\n                <NavBar nav_items={SiteMap} />\r\n            </header>\r\n        );\r\n}\r\n","import React from 'react';\r\nimport './app-footer.scss';\r\n\r\n\r\nexport default function AppFooter() {\r\n    return (\r\n            <footer className=\"app-footer\">\r\n                <div className=\"footer-message\">\r\n                    <p>Created using ReactJS by Mudit Gupta for The Georgia Institute of Technology. Updated Feb. 16, 2020.</p>\r\n                </div>\r\n            </footer>\r\n        );\r\n}\r\n","import { VisualizerTitle } from './visualizer-title';\r\nexport default VisualizerTitle;\r\n","import React from 'react';\r\nimport './visualizer-title.scss';\r\n\r\nexport const VisualizerTitle = (props) => {\r\n    return (\r\n            <div className=\"visualizer-title\" onClick={() => {window.location.hash = `#/${props.group}/${props.type}/${props.link}`;}}>\r\n                <p className=\"title-text\">{props.title}</p>\r\n            </div>\r\n        );\r\n}\r\n","import { BigOType } from './big-o-type';\r\nexport default BigOType;\r\n","import React, { useEffect } from 'react';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport './big-o-type.scss';\r\n\r\nimport { SiteMap } from 'utils';\r\nimport { default as BigODisplay } from './big-o-display';\r\n\r\nexport const BigOType = (props) => {\r\n    let match = useRouteMatch({\r\n        path: `/${props.group}/${props.type}`\r\n    });\r\n    useEffect(() => {\r\n        document.querySelector(\".app-content\").style[\"overflow-y\"] = match ? \"\" : \"scroll\";\r\n    });\r\n    let type = SiteMap.filter(group => group.link === props.group)[0].types.filter(type => type.link === props.type)[0];\r\n    let classes = type.bigOOverride ? [] : type.classes;\r\n    let unalignedTables = false;\r\n    if (type.bigOOverride) {\r\n        if (type.bigOOverride.includes(\"ADT_INFOS\")) {\r\n            classes = type.bigOData.map(bigOType => {\r\n                let cls = type.classes.filter(cls => cls.link === bigOType.class)[0];\r\n                // console.log({ ...cls, title_text: bigOType.title_text });\r\n                return { ...cls, title_text: bigOType.title_text };\r\n            });\r\n        } else if (type.bigOOverride.includes(\"MERGE_ROWS\")) {\r\n            classes = [{\r\n                ...type.classes[0],\r\n                title_text: \"\",\r\n                data: type.classes.reduce((data, currClass) => {\r\n                    // console.log(data, currClass);\r\n                    data.rows.push(currClass.title_text);\r\n                    if (currClass.bigOData.defaultConfig.cols.length > data.cols.length) {\r\n                        data.cols = currClass.bigOData.defaultConfig.cols;\r\n                        data.colExplanations = currClass.bigOData.defaultConfig.colExplanations;\r\n                    }\r\n                    let title = currClass.title_text.substring(0, currClass.title_text.search(/\\W|$/));\r\n                    for (let col in currClass.bigOData.defaultConfig) {\r\n                        if (col !== \"rows\" && col !== \"cols\" && col !== \"col1Name\") {\r\n                            // console.log(col, currClass.title_text, title);\r\n                            data[`${title}_${col}`] = currClass.bigOData.defaultConfig[col];\r\n                        }\r\n                    }\r\n                    for (let config in currClass.bigOData) {\r\n                        if (config !== \"defaultConfig\") {\r\n                            console.log(config);\r\n                            for (let col in currClass.bigOData[config]) {\r\n                                if (col !== \"name\") {\r\n                                    console.log(col);\r\n                                    data[`${title}_${col}`][currClass.bigOData[config].name] = currClass.bigOData[config][col].newBigO;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    console.log(data);\r\n                    return data;\r\n                }, {\r\n                    rows: [],\r\n                    cols: [],\r\n                    col1Name: \"\",\r\n                })\r\n            }];\r\n            // console.log(classes);\r\n            unalignedTables = true;\r\n        } else if (type.bigOOverride.includes(\"MERGE_COLS\")) {\r\n            classes = [{\r\n                ...type.classes[0],\r\n                title_text: \"\",\r\n                data: type.classes.reduce((data, currClass) => {\r\n                    // console.log(data, currClass);\r\n                    data.cols.push(currClass.title_text);\r\n                    data.rows = currClass.bigOData.defaultConfig.cols;\r\n                    let title = currClass.title_text.substring(0, currClass.title_text.search(/\\W|$/));\r\n                    for (let col in currClass.bigOData.defaultConfig) {\r\n                        if (col !== \"rows\" && col !== \"cols\" && col !== \"col1Name\") {\r\n                            // console.log(col, currClass.title_text, title);\r\n                            data[`${col}_${title}`] = currClass.bigOData.defaultConfig[col];\r\n                        }\r\n                    }\r\n                    for (let config in currClass.bigOData) {\r\n                        if (config !== \"defaultConfig\") {\r\n                            console.log(config);\r\n                            for (let col in currClass.bigOData[config]) {\r\n                                if (col !== \"name\") {\r\n                                    data[`${col}_${title}`][currClass.bigOData[config].name] = currClass.bigOData[config][col].newBigO;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    return data;\r\n                }, {\r\n                    rows: [],\r\n                    cols: [],\r\n                    col1Name: \"\",\r\n                })\r\n            }];\r\n            unalignedTables = true;\r\n        }\r\n        if (type.bigOOverride.includes(\"EXTRA_TABLES\")) {\r\n            classes.push(...type.bigOData.map((extraTableData, i) => {\r\n                return { ...extraTableData, link: `fakeLink:${i}` };\r\n            }));\r\n            unalignedTables = true;\r\n        }\r\n    }\r\n    return (\r\n            <div className=\"big-o-type\">\r\n                    <h3 className=\"big-o-type-title\">{type.title_text} Big-O Summary</h3>\r\n                    <div className=\"big-o-display-list-container\">\r\n                        {classes.map( (visualizer) => {\r\n                            return (\r\n                                    <div key={visualizer.link} className={`big-o-display-container${unalignedTables ? \" one-table\" : \"\"}`}>\r\n                                        <h4 className=\"big-o-display-title\">{visualizer.title_text}</h4>\r\n                                        <BigODisplay group={props.group} type={props.type} class={visualizer.link} data={visualizer.data}/>\r\n                                    </div>\r\n                                );\r\n                        })}\r\n                    </div>\r\n            </div>\r\n        );\r\n}\r\n","import { VisualizerType } from './visualizer-type';\r\nexport default VisualizerType;\r\n","import React, { useEffect } from 'react';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport './visualizer-type.scss';\r\n\r\nimport { SiteMap } from 'utils';\r\nimport VisualizerTitle from './visualizer-title';\r\nimport BigOType from 'components/big-o-type';\r\n\r\nexport const VisualizerType = (props) => {\r\n    let typeMatch = useRouteMatch({\r\n        path: `/${props.group}/${props.type}`\r\n    });\r\n    let fullVisualizerClassMatch = useRouteMatch({\r\n        path: `/${props.group}/${props.type}/:visualizerClass`\r\n    });\r\n    useEffect(() => {\r\n        document.querySelector(\".app-content\").style[\"overflow-y\"] = fullVisualizerClassMatch ? \"\" : \"scroll\";\r\n        return () => {\r\n            document.querySelector(\".app-content\").style[\"overflow-y\"] = \"\";\r\n        };\r\n    }, [fullVisualizerClassMatch]);\r\n    let type = SiteMap.filter(group => group.link === props.group)[0].types.filter(type => type.link === props.type)[0];\r\n    let foundClass = fullVisualizerClassMatch && type.classes.map(visualizer => visualizer.link).includes(fullVisualizerClassMatch.params.visualizerClass);\r\n    let visualizerClass = foundClass ? type.classes.filter(visualizer => visualizer.link === fullVisualizerClassMatch.params.visualizerClass)[0] : null;\r\n    let VisualizerComponent = visualizerClass && visualizerClass.component;\r\n    return (\r\n            foundClass\r\n                ? <VisualizerComponent visualizerClass={visualizerClass}/>\r\n                : <div className=\"visualizer-type\">\r\n                        <h4 className={`visualizer-type-title${typeMatch ? \" large-title\" : \"\"}`} onClick={typeMatch ? null : () => {window.location.hash = `#/${props.group}/${props.type}`;}}>{type.title_text}</h4>\r\n                        <div className=\"visualizer-title-container\">\r\n                            {type.classes.map( (visualizer) => {\r\n                                return visualizer.component && (\r\n                                        <VisualizerTitle key={visualizer.link} group={props.group} type={props.type} title={visualizer.title_text} link={visualizer.link} />\r\n                                    );\r\n                            })}\r\n                        </div>\r\n                        {typeMatch && <BigOType group={props.group} type={props.type} />}\r\n                </div>\r\n        );\r\n}\r\n","import { VisualizerGroup } from './visualizer-group';\r\nexport default VisualizerGroup;\r\n","import React from 'react';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport './visualizer-group.scss';\r\n\r\nimport { SiteMap } from 'utils';\r\nimport { default as VisualizerType } from './visualizer-type';\r\n\r\nexport const VisualizerGroup = (props) => {\r\n    let match = useRouteMatch({\r\n        path: `/${props.group}/:visualizerType`\r\n    });\r\n    // console.log(\"group\",match,SiteMap.filter(group => group.link === props.group)[0].types.map(type => type.link));\r\n    return (\r\n            match && SiteMap.filter(group => group.link === props.group)[0].types.map(type => type.link).includes(match.params.visualizerType)\r\n                ? <VisualizerType group={props.group} type={match.params.visualizerType} />\r\n                : <div className=\"visualizer-group\">\r\n                    {SiteMap.filter(group => group.link === props.group)[0].types.map( (type) => {\r\n                        return (\r\n                                <VisualizerType key={type.link} group={props.group} type={type.link} />\r\n                            );\r\n                    })}\r\n                </div>\r\n        );\r\n}\r\n","import { Main } from './main';\r\nexport default Main;\r\n","import React from 'react';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport './main.scss';\r\n\r\nimport { SiteMap } from 'utils';\r\nimport { default as VisualizerGroup } from 'components/visualizer-group';\r\n\r\nexport const Main = () => {\r\n    let match = useRouteMatch({\r\n        path: `/:visualizerGroup`\r\n    });\r\n    // console.log(\"main\",match,SiteMap.slice(0,-1).map(group => group.link));\r\n    return (\r\n            match && SiteMap.slice(0,-1).map(group => group.link).includes(match.params.visualizerGroup)\r\n                ? <VisualizerGroup group={match.params.visualizerGroup} />\r\n                : <div className=\"main\">\r\n                    {SiteMap.slice(0,-1).map( (group) => {\r\n                        return (\r\n                                <VisualizerGroup key={group.link} group={group.link} />\r\n                            );\r\n                    })}\r\n                </div>\r\n        );\r\n}\r\n","import React from 'react';\r\nimport './about.scss';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default function About() {\r\n    return (\r\n            <div className=\"about\">\r\n                <h1>About CS Vis</h1>\r\n                <p>I created this tool to visualize some of the algorithms I've been learning in my classes.\r\n                Most of these visualizations are inspired by those found at <a href='https://csvistool.com'>csvistool.com</a>.\r\n                I tried to make the UX here as convenient as possible, but I'd love to hear your design input;\r\n                I'm not a front-end person, so I'm doing my best :).</p>\r\n                <p>Check out the <a href='https://github.com/muditg317/cs-vis'>Source Code here</a>!</p>\r\n                <h2>Tool Use</h2>\r\n                <p>All visualization pages have the same layout. The navigation bar can be used to access any of the visualizations.\r\n                Click the clock icon <FontAwesomeIcon icon={[\"far\",\"clock\"]} /> next to the visualization title to see the related Big-O data.\r\n                Use the <code>SpaceBar</code> in combination with <code>Shift</code> and the <code>ArrowKeys</code> to pause and step through the various animations.\r\n                Press <code>Ctrl-Z</code> to undo the most recent input.</p>\r\n                <h2>Me!</h2>\r\n                <p>This is something I wanted to make to learn more about these datastructures and algorithms while also learning how to use the ReactJS framework.\r\n                Check out some of my other projects at <a href='https://muditgupta.appspot.com'>muditgupta.appspot.com</a></p>\r\n            </div>\r\n        );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { HashRouter, Switch, Route } from \"react-router-dom\";\r\nimport './app.scss';\r\nimport './universal.scss';\r\n\r\nimport AppHeader from './app-header';\r\nimport AppFooter from './app-footer';\r\nimport Main from 'components/main';\r\nimport About from 'components/about';\r\n\r\nimport { Utils } from 'utils';\r\n\r\nexport default function App(props) {\r\n    useEffect(() => {\r\n        Utils.addMobileClasses();\r\n    }, []);\r\n    return (\r\n            <HashRouter basename='/'>\r\n                <React.StrictMode>\r\n                    <div className=\"app\">\r\n                        <AppHeader />\r\n                        <div className=\"app-content\">\r\n                            <Switch>\r\n                                <Route path=\"/about\">\r\n                                    <About />\r\n                                </Route>\r\n                                <Route path=\"/\">\r\n                                    <Main />\r\n                                </Route>\r\n                            </Switch>\r\n                        </div>\r\n                        <AppFooter />\r\n                    </div>\r\n                </React.StrictMode>\r\n            </HashRouter>\r\n        );\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport MainComponent from './components';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<MainComponent />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}